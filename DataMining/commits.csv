Project name,Repo url,Commit url,Commit hash,Commit message,Commit date,Filename,Buggy file url,Fixed file url,Diff,Buggy line number,Buggy line,Fixed line
Youpp,https://github.com/ambrosechua/Youpp,https://github.com/ambrosechua/Youpp/commit/f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b,f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b,Fixed some inconsistencies from first commit,2014-03-07 21:56:30+08:00,apikey-sample.js,https://github.com/ambrosechua/Youpp/raw/dfa0b9dcc4f31fc2412b135b2ae43d2e08380412/Youpp.app/Contents/Resources/app.nw/apikey-sample.js,https://github.com/ambrosechua/Youpp/raw/f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b/Youpp.app/Contents/Resources/app.nw/apikey-sample.js,"@@ -1,3 +1,3 @@
 module.exports = {
-	key: ""your-youtube-api-key-here""
+	youtubekey: ""your-youtube-api-key-here""
 };
\ No newline at end of file
",2,"key: ""your-youtube-api-key-here""","youtubekey: ""your-youtube-api-key-here"""
Youpp,https://github.com/ambrosechua/Youpp,https://github.com/ambrosechua/Youpp/commit/f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b,f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b,Fixed some inconsistencies from first commit,2014-03-07 21:56:30+08:00,apikey.js,https://github.com/ambrosechua/Youpp/raw/dfa0b9dcc4f31fc2412b135b2ae43d2e08380412/Youpp.app/Contents/Resources/app.nw/apikey.js,https://github.com/ambrosechua/Youpp/raw/f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b/Youpp.app/Contents/Resources/app.nw/apikey.js,"@@ -1,3 +1,3 @@
 module.exports = {
-	key: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ""
+	youtubekey: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ""
 };
\ No newline at end of file
",2,"key: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ""","youtubekey: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ"""
Youpp,https://github.com/ambrosechua/Youpp,https://github.com/ambrosechua/Youpp/commit/97496c570dfae27e599f3a3b80ef512d9a3bcecc,97496c570dfae27e599f3a3b80ef512d9a3bcecc,"Fixed some inconsistencies from first commit


Former-commit-id: f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b",2014-03-07 21:56:30+08:00,apikey-sample.js,https://github.com/ambrosechua/Youpp/raw/2feb5c9179c3046cf02d8d37535e6fbca60bc088/Youpp.app/Contents/Resources/app.nw/apikey-sample.js,https://github.com/ambrosechua/Youpp/raw/97496c570dfae27e599f3a3b80ef512d9a3bcecc/Youpp.app/Contents/Resources/app.nw/apikey-sample.js,"@@ -1,3 +1,3 @@
 module.exports = {
-	key: ""your-youtube-api-key-here""
+	youtubekey: ""your-youtube-api-key-here""
 };
\ No newline at end of file
",2,"key: ""your-youtube-api-key-here""","youtubekey: ""your-youtube-api-key-here"""
Youpp,https://github.com/ambrosechua/Youpp,https://github.com/ambrosechua/Youpp/commit/97496c570dfae27e599f3a3b80ef512d9a3bcecc,97496c570dfae27e599f3a3b80ef512d9a3bcecc,"Fixed some inconsistencies from first commit


Former-commit-id: f21a0dfaaf0f06f37f6b56c37098dc2a5ad9ea1b",2014-03-07 21:56:30+08:00,apikey.js,https://github.com/ambrosechua/Youpp/raw/2feb5c9179c3046cf02d8d37535e6fbca60bc088/Youpp.app/Contents/Resources/app.nw/apikey.js,https://github.com/ambrosechua/Youpp/raw/97496c570dfae27e599f3a3b80ef512d9a3bcecc/Youpp.app/Contents/Resources/app.nw/apikey.js,"@@ -1,3 +1,3 @@
 module.exports = {
-	key: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ""
+	youtubekey: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ""
 };
\ No newline at end of file
",2,"key: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ""","youtubekey: ""AIzaSyD88ejeWUIVWmU7j5lhZNLyP9q3S6TFtFQ"""
Youpp,https://github.com/ambrosechua/Youpp,https://github.com/ambrosechua/Youpp/commit/ee0adab2f2b8f41d1d16653f96fd63c943c88e78,ee0adab2f2b8f41d1d16653f96fd63c943c88e78,"Screw Windows Firewall

But I’m not sure if this will work to resolve it…",2014-07-18 21:52:50+08:00,server.js,https://github.com/ambrosechua/Youpp/raw/1a3344794911f8b533191f4f5180b52eb3db9860/Youpp.app/Contents/Resources/app.nw/server.js,https://github.com/ambrosechua/Youpp/raw/ee0adab2f2b8f41d1d16653f96fd63c943c88e78/Youpp.app/Contents/Resources/app.nw/server.js,"@@ -6,7 +6,7 @@ var fs = require(""fs"");
 var app = http.createServer(handler);
 // var __dirname = path.dirname((window.location + """").replace(""file:///"", ""/""));
 
-app.listen(39322);
+app.listen(39322, ""127.0.0.1"");
 
 var mimeTypes = {
 		""html"": ""text/html"",
",9,app.listen(39322);,"app.listen(39322, ""127.0.0.1"");"
Youpp,https://github.com/ambrosechua/Youpp,https://github.com/ambrosechua/Youpp/commit/1778a8cbbcc7c3f06557ce898dc7487c3a2bb4a6,1778a8cbbcc7c3f06557ce898dc7487c3a2bb4a6,"Screw Windows Firewall

But I’m not sure if this will work to resolve it…


Former-commit-id: ee0adab2f2b8f41d1d16653f96fd63c943c88e78",2014-07-18 21:52:50+08:00,server.js,https://github.com/ambrosechua/Youpp/raw/8fe16bbdbb2ad7f7a483901605a48953dea68183/Youpp.app/Contents/Resources/app.nw/server.js,https://github.com/ambrosechua/Youpp/raw/1778a8cbbcc7c3f06557ce898dc7487c3a2bb4a6/Youpp.app/Contents/Resources/app.nw/server.js,"@@ -6,7 +6,7 @@ var fs = require(""fs"");
 var app = http.createServer(handler);
 // var __dirname = path.dirname((window.location + """").replace(""file:///"", ""/""));
 
-app.listen(39322);
+app.listen(39322, ""127.0.0.1"");
 
 var mimeTypes = {
 		""html"": ""text/html"",
",9,app.listen(39322);,"app.listen(39322, ""127.0.0.1"");"
markdownald,https://github.com/malko/markdownald,https://github.com/malko/markdownald/commit/a08a037fbdd6b615bc0955fa6a226ada22a3027d,a08a037fbdd6b615bc0955fa6a226ada22a3027d,"correct state for modified indicator *
fixes #3",2013-10-16 23:17:42+02:00,editor.js,https://github.com/malko/markdownald/raw/cbfebad2794bbb02e72dbe1ab7e7b690b3878fbf/libs/editor.js,https://github.com/malko/markdownald/raw/a08a037fbdd6b615bc0955fa6a226ada22a3027d/libs/editor.js,"@@ -110,7 +110,7 @@ function fileWatchStart(self){
 	});
 }
 
-Editor.prototype.isDirty = function(){ return !! this.editor.isClean(); }
+Editor.prototype.isDirty = function(){ return !this.editor.isClean(); }
 Editor.prototype.markClean = function(){ ! this.editor.markClean(); return this;}
 
 //-- activeEditor tracking
",113,Editor.prototype.isDirty = function(){ return !! this.editor.isClean(); },Editor.prototype.isDirty = function(){ return !this.editor.isClean(); }
neodym-ide,https://github.com/aaronprojects/neodym-ide,https://github.com/aaronprojects/neodym-ide/commit/e4f1a3e0f857016a082ebaf1584a4899f9cef774,e4f1a3e0f857016a082ebaf1584a4899f9cef774,[FIX] views now get automatically refreshed by calling $scope.init(),2015-04-17 14:11:21+02:00,ComponentsOverviewController.js,https://github.com/aaronprojects/neodym-ide/raw/5d43855ab33e327fb99d795e9fdd66279f305de8/js/controllers/components/ComponentsOverviewController.js,https://github.com/aaronprojects/neodym-ide/raw/e4f1a3e0f857016a082ebaf1584a4899f9cef774/js/controllers/components/ComponentsOverviewController.js,"@@ -278,7 +278,7 @@ angular.module('neodym.controllers')
 										var filePath = localStorage.currentProjectPath + ""/www/tests/unit/"" + componentType + ""/"" + componentName + "".spec.js"";
 										FileService.createFile(testFilePath).then(function (result) {
 											displayAlertBox(""success"", result.msg);
-											$scope.showCustomToast();
+											$scope.init();
 										}, function (failure) {
 											displayAlertBox(""error"", failure.msg);
 										});
",281,$scope.showCustomToast();,$scope.init();
neodym-ide,https://github.com/aaronprojects/neodym-ide,https://github.com/aaronprojects/neodym-ide/commit/01d5b647b157d9c60e1ded6ff4046336f02be156,01d5b647b157d9c60e1ded6ff4046336f02be156,"[REFACTOR] cleaned up app.css
[FIX] fixed JSHint issues",2015-04-21 11:45:48+02:00,HeaderController.js,https://github.com/aaronprojects/neodym-ide/raw/df81ad144bbf41f3fab250b980f14572c0319329/js/controllers/HeaderController.js,https://github.com/aaronprojects/neodym-ide/raw/01d5b647b157d9c60e1ded6ff4046336f02be156/js/controllers/HeaderController.js,"@@ -97,7 +97,7 @@ angular.module('neodym.controllers')
 			} else {
 				$scope.items[i].active = """";
 			}
-		};
+		}
 	};
 
 	/**
",100,};,}
github-reader,https://github.com/azu/github-reader,https://github.com/azu/github-reader/commit/7a371e2db6228ad0a6c1764d481dd4717cd6033a,7a371e2db6228ad0a6c1764d481dd4717cd6033a,fix(list): scroll workaround,2014-04-27 20:42:40+09:00,mainController.js,https://github.com/azu/github-reader/raw/a59b0199ef7c35b554d7b209a08abc26545ab0a6/app/js/main/mainController.js,https://github.com/azu/github-reader/raw/7a371e2db6228ad0a6c1764d481dd4717cd6033a/app/js/main/mainController.js,"@@ -20,7 +20,7 @@ module.exports = function () {
         var cellElement = listController.elementAtIndex(currentIndex);
 
         setImmediate(function () {
-            document.getElementById(""content-list"").scrollTop = cellElement.offsetTop;
+            document.getElementById(""content-list"").scrollTop = cellElement.offsetTop - 50;
         });
     });
     window.Mousetrap.bind('j', function () {
",23,"document.getElementById(""content-list"").scrollTop = cellElement.offsetTop;","document.getElementById(""content-list"").scrollTop = cellElement.offsetTop - 50;"
github-reader,https://github.com/azu/github-reader,https://github.com/azu/github-reader/commit/6d08357dba187aa5da8056a30ba8a24faa2c4f99,6d08357dba187aa5da8056a30ba8a24faa2c4f99,"fix(github): fix request for notification api.

fix wrong parameter handling",2014-04-27 23:34:34+09:00,github-client.js,https://github.com/azu/github-reader/raw/9f48abfd0cf1f8f40a034e1e0de922a447ebbb24/app/js/github/github-client.js,https://github.com/azu/github-reader/raw/6d08357dba187aa5da8056a30ba8a24faa2c4f99/app/js/github/github-client.js,"@@ -33,7 +33,7 @@ GithubClientPromise.prototype.notificationsAsPromise = function () {
     var client = this.client;
     return new Promise(function (resolve, reject) {
         var options = {
-            ""all"": true
+            all : true
         };
         var lastUpdated = require(""../config/reloadTimer"").getLastUpdated();
         if (lastUpdated) {
",36,"""all"": true",all : true
github-reader,https://github.com/azu/github-reader,https://github.com/azu/github-reader/commit/5e5d03c2a5b5984205f076b404fb15664190f9e7,5e5d03c2a5b5984205f076b404fb15664190f9e7,fix(list): fix sort items,2014-04-29 00:36:37+09:00,extend-node-github.js,https://github.com/azu/github-reader/raw/dc39c8fcbb3a9fa366097ed913ffe0b0555dc3a8/app/js/github/extend-node-github.js,https://github.com/azu/github-reader/raw/5e5d03c2a5b5984205f076b404fb15664190f9e7/app/js/github/extend-node-github.js,"@@ -15,7 +15,7 @@ function applyNotificationExtend(Client) {
         };
         client.httpSend(options, block, function (err, res) {
             if (err) {
-                return self.sendError(err, null, msg, callback);
+                return client.sendError(err, null, msg, callback);
             }
 
             var ret;
",18,"return self.sendError(err, null, msg, callback);","return client.sendError(err, null, msg, callback);"
github-reader,https://github.com/azu/github-reader,https://github.com/azu/github-reader/commit/1fe84b1a436da1edbc93ae7497972c08a2ff06bb,1fe84b1a436da1edbc93ae7497972c08a2ff06bb,fix(filter): no filter then return all messages,2016-01-11 20:35:54+09:00,listViewController.js,https://github.com/azu/github-reader/raw/21c78743dec393aad4e19f727a7b4c168222d174/app/js/main/listViewController.js,https://github.com/azu/github-reader/raw/1fe84b1a436da1edbc93ae7497972c08a2ff06bb/app/js/main/listViewController.js,"@@ -87,7 +87,7 @@ function sortDate(aItem, bItem) {
 function userFilter(item) {
     var filterScriptPath = userConfig.getFilterScriptPath();
     if (filterScriptPath == null) {
-        return false;
+        return true;
     }
     var canFilter = require(filterScriptPath);
     return canFilter(item);
",90,return false;,return true;
BosonEditorExperimental,https://github.com/isdampe/BosonEditorExperimental,https://github.com/isdampe/BosonEditorExperimental/commit/b73fddbef472405087b15d5a18217f95e9932ee2,b73fddbef472405087b15d5a18217f95e9932ee2,"Added menubar, menubar module, menubar integration basics,

More bug fixes",2015-03-07 22:21:43+11:00,keybindings.js,https://github.com/isdampe/BosonEditorExperimental/raw/0f9cf801d01212e078621967193958ccd628ed06/core/modules/keybindings.js,https://github.com/isdampe/BosonEditorExperimental/raw/b73fddbef472405087b15d5a18217f95e9932ee2/core/modules/keybindings.js,"@@ -21,7 +21,7 @@ exports.init = function(gui,win,bs) {
 			break;
 			case 17:
 				//Ctrl + Q, Quit.
-				bs.debug();
+				bs.closeBoson();
 			break;
 			case 15:
 				//Ctrl + O, open files.
",24,bs.debug();,bs.closeBoson();
BosonEditorExperimental,https://github.com/isdampe/BosonEditorExperimental,https://github.com/isdampe/BosonEditorExperimental/commit/4da7500dbdef645228588d545c4210fc315d035c,4da7500dbdef645228588d545c4210fc315d035c,"Fixes resizer overflow bug on sidebar,
https://github.com/isdampe/BosonEditorExperimental/issues/1",2015-06-05 16:20:16+10:00,resize.js,https://github.com/isdampe/BosonEditorExperimental/raw/eb485d4f710c039a41a96919ab30246a6f93c7f5/core/modules/resize.js,https://github.com/isdampe/BosonEditorExperimental/raw/4da7500dbdef645228588d545c4210fc315d035c/core/modules/resize.js,"@@ -42,7 +42,7 @@ exports.render = function() {
   var sidebar_width, element_width, sidebar_offset, x;
   sidebar_width = window.getComputedStyle(elements.sidebar).width;
   element_width = window.getComputedStyle(resizeElement).width;
-  x = parseInt(sidebar_width,10) - ( parseInt(element_width) );
+  x = parseInt(sidebar_width,10);
 
   resizeElement.style.left = x + ""px"";
 
",45,"x = parseInt(sidebar_width,10) - ( parseInt(element_width) );","x = parseInt(sidebar_width,10);"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/4ecc36741e9abdb3e8890650a2e532378ac28552,4ecc36741e9abdb3e8890650a2e532378ac28552,Fixes logging of uncaught exceptions,2015-07-04 22:33:09+03:00,main.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d8d2c0d1ee694154a90505313331dd6ca0c7ed4b/src/scripts/browser/main.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/4ecc36741e9abdb3e8890650a2e532378ac28552/src/scripts/browser/main.js,"@@ -7,7 +7,7 @@ import Application from './application';
 import manifest from '../../package.json';
 
 // Log uncaught exceptions
-process.on('uncaughtException', ::console.error);
+process.on('uncaughtException', (error) => console.error(error.stack));
 
 // Define the CLI and parse arguments
 const argv = yargs
",10,"process.on('uncaughtException', ::console.error);","process.on('uncaughtException', (error) => console.error(error.stack));"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/d337a0890523bd01bb344d0fbdbc49f108fc9834,d337a0890523bd01bb344d0fbdbc49f108fc9834,Fixes menu creation from template,2015-07-04 22:33:41+03:00,app-menu.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/4ecc36741e9abdb3e8890650a2e532378ac28552/src/scripts/browser/app-menu.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d337a0890523bd01bb344d0fbdbc49f108fc9834/src/scripts/browser/app-menu.js,"@@ -16,7 +16,7 @@ class AppMenu extends EventEmitter {
 
     // Set handlers and create the menu
     this.wireUpCommands(template);
-    this.menu = Menu.buildFromTemplate(this.template);
+    this.menu = Menu.buildFromTemplate(template);
   }
 
   /**
",19,this.menu = Menu.buildFromTemplate(this.template);,this.menu = Menu.buildFromTemplate(template);
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/f538720d5c7aef88d25393b4a78e26899977af81,f538720d5c7aef88d25393b4a78e26899977af81,Fixes menu event handling,2015-10-17 11:24:30+03:00,base.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/f0fc6df83dfff0db71df34add92acf63da7f6b3f/src/scripts/browser/menus/base.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/f538720d5c7aef88d25393b4a78e26899977af81/src/scripts/browser/menus/base.js,"@@ -4,7 +4,7 @@ import EventEmitter from 'events';
 class BaseMenu extends EventEmitter {
 
   /**
-   * Build a menu based on a platform-specific template.
+   * Build the menu based on a platform-specific template.
    */
   constructor(template) {
     super();
",7,* Build a menu based on a platform-specific template.,* Build the menu based on a platform-specific template.
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/e6ac4c6a18a38a28de1da2a5a895b324993278c7,e6ac4c6a18a38a28de1da2a5a895b324993278c7,Fixes app build and babel error,2015-12-13 19:58:05+02:00,theme.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9514f5e280b8999ac064758611d34cadc6351256/src/scripts/renderer/theme.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/e6ac4c6a18a38a28de1da2a5a895b324993278c7/src/scripts/renderer/theme.js,"@@ -11,7 +11,7 @@ import fs from 'fs';
    * Apply a CSS theme file to the app webview.
    */
   ipcr.on('apply-theme', function(event, name) {
-    if (!name || name == 'default') {
+    if (!name) {
       return;
     }
 
",14,if (!name || name == 'default') {,if (!name) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/d072bcdf81e5dc92dcb838d04f94cecb7c4c2310,d072bcdf81e5dc92dcb838d04f94cecb7c4c2310,Fixes binding call in the menu template,2015-12-17 15:43:09+02:00,template.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/55d8f687707d8bdfe95a44d559100ae0033115b6/src/scripts/browser/menus/template.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d072bcdf81e5dc92dcb838d04f94cecb7c4c2310/src/scripts/browser/menus/template.js,"@@ -17,7 +17,7 @@ template = (function parseTemplate(menu, parent) {
 
     // Run parse-time expression
     if (item.parse) {
-      item.parse(item).bind(parent);
+      item.parse.call(parent, item);
     }
 
     // Clean up
",20,item.parse(item).bind(parent);,"item.parse.call(parent, item);"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/9dd830f0495be3c32422a401e800e5ad9fe2b4c6,9dd830f0495be3c32422a401e800e5ad9fe2b4c6,Fixes menu template filtering by platform,2015-12-17 15:44:42+02:00,menu-edit.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d072bcdf81e5dc92dcb838d04f94cecb7c4c2310/src/scripts/browser/menus/menu-edit.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9dd830f0495be3c32422a401e800e5ad9fe2b4c6/src/scripts/browser/menus/menu-edit.js,"@@ -2,7 +2,7 @@ import $ from './expr';
 
 export default {
   label: 'Edit',
-  platform: 'darwin',
+  platform: $.isDarwin,
   submenu: [{
     label: 'Undo',
     accelerator: 'Cmd+Z',
",5,"platform: 'darwin',","platform: $.isDarwin,"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/9dd830f0495be3c32422a401e800e5ad9fe2b4c6,9dd830f0495be3c32422a401e800e5ad9fe2b4c6,Fixes menu template filtering by platform,2015-12-17 15:44:42+02:00,menu-settings.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d072bcdf81e5dc92dcb838d04f94cecb7c4c2310/src/scripts/browser/menus/menu-settings.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9dd830f0495be3c32422a401e800e5ad9fe2b4c6/src/scripts/browser/menus/menu-settings.js,"@@ -2,7 +2,7 @@ import $ from './expr';
 
 export default {
   label: '&Settings',
-  platform: 'nonDarwin',
+  platform: $.isNonDarwin,
   submenu: [{
     type: 'checkbox',
     label: '&Spell Checker',
",5,"platform: 'nonDarwin',","platform: $.isNonDarwin,"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/8203884b0473df0b7733f353e75434dfde7ea303,8203884b0473df0b7733f353e75434dfde7ea303,Fixes window.show() on activation from dock,2015-12-17 20:50:25+02:00,application.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/abc5d361c9279912274bed62d926299bf1c68383/src/scripts/browser/application.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/8203884b0473df0b7733f353e75434dfde7ea303/src/scripts/browser/application.js,"@@ -72,7 +72,7 @@ class Application extends EventEmitter {
     log('activate app, hasVisibleWindows =', hasVisibleWindows)
     if (!hasVisibleWindows) {
       if (this.mainWindow) {
-        this.mainWindow.show();
+        this.mainWindow.window.show();
       } else {
         this.createAppWindow();
       }
",75,this.mainWindow.show();,this.mainWindow.window.show();
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/cd191dc354d2eda1edfba271c6918369b9bc6667,cd191dc354d2eda1edfba271c6918369b9bc6667,Fix wrong app.exit call,2015-12-18 09:03:27+02:00,expr-click.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/305994f5b14e2dad9e92ae20635e04e1657ea607/src/scripts/browser/menus/expr-click.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/cd191dc354d2eda1edfba271c6918369b9bc6667/src/scripts/browser/menus/expr-click.js,"@@ -12,7 +12,7 @@ export function checkForUpdate() {
 
 export function appQuit() {
   return function(menuItem, browserWindow) {
-    app.exit();
+    app.exit(0);
   };
 }
 
",15,app.exit();,app.exit(0);
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/403d8eafb1b2e8b7976975e03f2932fcd5c972cb,403d8eafb1b2e8b7976975e03f2932fcd5c972cb,"Fixes eslint rules, makes lint pass",2015-12-18 22:06:53+02:00,expr-time-async.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/52ccae90cfca3a38a8dcc4e1abe094cf50b45213/src/scripts/browser/menus/expressions/expr-time-async.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/403d8eafb1b2e8b7976975e03f2932fcd5c972cb/src/scripts/browser/menus/expressions/expr-time-async.js,"@@ -7,7 +7,7 @@ import prefs from '../../utils/prefs';
 export function watchPref(prefKey, getExprs) {
   return function(findMenuItem) {
     prefs.watch(prefKey, newValue => {
-      findMenuItem((menuItem, browserWindow) => {
+      findMenuItem(() => {
         const exprs = getExprs(newValue);
         for (let expr of exprs) {
           expr.apply(this, arguments);
",10,"findMenuItem((menuItem, browserWindow) => {",findMenuItem(() => {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/403d8eafb1b2e8b7976975e03f2932fcd5c972cb,403d8eafb1b2e8b7976975e03f2932fcd5c972cb,"Fixes eslint rules, makes lint pass",2015-12-18 22:06:53+02:00,preload-webview.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/52ccae90cfca3a38a8dcc4e1abe094cf50b45213/src/scripts/renderer/preload-webview.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/403d8eafb1b2e8b7976975e03f2932fcd5c972cb/src/scripts/renderer/preload-webview.js,"@@ -26,7 +26,7 @@ ipcr.on('spell-checker', function(event, enabled, autoCorrect) {
     });
   } else {
     webFrame.setSpellCheckProvider('en-US', autoCorrect, {
-      spellCheck: function(text) {
+      spellCheck: function() {
         return true;
       }
     });
",29,spellCheck: function(text) {,spellCheck: function() {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/403d8eafb1b2e8b7976975e03f2932fcd5c972cb,403d8eafb1b2e8b7976975e03f2932fcd5c972cb,"Fixes eslint rules, makes lint pass",2015-12-18 22:06:53+02:00,webview-listeners.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/52ccae90cfca3a38a8dcc4e1abe094cf50b45213/src/scripts/renderer/webview-listeners.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/403d8eafb1b2e8b7976975e03f2932fcd5c972cb/src/scripts/renderer/webview-listeners.js,"@@ -14,7 +14,7 @@ webView.addEventListener('console-message', function(event) {
 });
 
 // Listen for title changes to update the badge
-webView.addEventListener('page-title-updated', function(event) {
+webView.addEventListener('page-title-updated', function() {
   const matches = /\((\d)\)/.exec(webView.getTitle());
   const parsed = parseInt(matches && matches[1], 10);
   const count = isNaN(parsed) || !parsed ? null : '' + parsed;
",17,"webView.addEventListener('page-title-updated', function(event) {","webView.addEventListener('page-title-updated', function() {"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/ffcc857ea67658d4891da0d6ee76f7277222a724,ffcc857ea67658d4891da0d6ee76f7277222a724,Fixes quit behaviour,2015-12-19 09:43:06+02:00,expr-time-run.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d6e03f7b0e23f33c9a7918527cf0a6a883112be0/src/scripts/browser/menus/expressions/expr-time-run.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/ffcc857ea67658d4891da0d6ee76f7277222a724/src/scripts/browser/menus/expressions/expr-time-run.js,"@@ -13,7 +13,7 @@ export function checkForUpdate() {
 
 export function appQuit() {
   return function() {
-    app.exit(0);
+    app.quit();
   };
 }
 
",16,app.exit(0);,app.quit();
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/b7d62f545ef1592c60db0bae84aec875f326966a,b7d62f545ef1592c60db0bae84aec875f326966a,Fix auto-correction sending to wv,2015-12-19 16:48:24+02:00,context.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/a6526eabc41a322fa4bf3e71b8788b9e13e136ca/src/scripts/browser/menus/context.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b7d62f545ef1592c60db0bae84aec875f326966a/src/scripts/browser/menus/context.js,"@@ -16,7 +16,7 @@ function create(opt, browserWindow) {
 
     menu.append(new MenuItem({
       label: 'Add to Dictionary', // TODO: Hunspell doesn't remember these
-      click: () => webContents.send('add-selection-to-dictionary')
+      click: () => webContents.send('fwd-webview', 'add-selection-to-dictionary')
     }));
 
     menu.append(new MenuItem({
",19,click: () => webContents.send('add-selection-to-dictionary'),"click: () => webContents.send('fwd-webview', 'add-selection-to-dictionary')"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/67b7b24343f1bd994728658f5e34b4bedb472e55,67b7b24343f1bd994728658f5e34b4bedb472e55,Fixes usages of old application.mainWindow,2015-12-25 14:16:01+02:00,main.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d8c3135510e20362dd617c4f682e6e1bc1a74b39/src/scripts/browser/main.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/67b7b24343f1bd994728658f5e34b4bedb472e55/src/scripts/browser/main.js,"@@ -40,7 +40,7 @@ process.on('uncaughtException', error => console.error(error.stack || error));
   // Enforce single instance
   const isDuplicateInstance = app.makeSingleInstance(() => {
     if (global.application) {
-      const mainWindow = global.application.mainWindow;
+      const mainWindow = global.application.mainWindowManager.window;
       if (mainWindow) {
         if (mainWindow.isMinimized()) {
           mainWindow.restore();
",43,const mainWindow = global.application.mainWindow;,const mainWindow = global.application.mainWindowManager.window;
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/b533618c10b1b2d086937188689bf8b62c130805,b533618c10b1b2d086937188689bf8b62c130805,Fixes init of auto update manager,2016-01-30 18:14:59+02:00,application.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/4ff02fcc5a79aa4b3aa82ec3a3eb89a69f6364ea/src/scripts/browser/application.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b533618c10b1b2d086937188689bf8b62c130805/src/scripts/browser/application.js,"@@ -27,7 +27,7 @@ class Application extends EventEmitter {
     this.mainWindowManager.initWindow();
 
     // Enable the auto updater
-    this.autoUpdateManager = new AutoUpdateManager();
+    this.autoUpdateManager = new AutoUpdateManager(this.manifest);
     if (this.autoUpdateManager.enabled) {
       this.autoUpdateManager.init();
       this.autoUpdateManager.scheduleUpdateChecks();
",30,this.autoUpdateManager = new AutoUpdateManager();,this.autoUpdateManager = new AutoUpdateManager(this.manifest);
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/afb22b2ac6c2220ffa8fcf225c5030616651427a,afb22b2ac6c2220ffa8fcf225c5030616651427a,Fixes `allow` for the check-for-update menu item,2016-01-30 18:15:23+02:00,main-app.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b533618c10b1b2d086937188689bf8b62c130805/src/scripts/browser/menus/templates/main-app.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/afb22b2ac6c2220ffa8fcf225c5030616651427a/src/scripts/browser/menus/templates/main-app.js,"@@ -11,7 +11,7 @@ export default {
   }, {
     id: 'check-for-update',
     label: 'Check for Update',
-    allow: global.application.autoUpdateManager.enabled,
+    allow: !process.mas,
     click: $.checkForUpdate()
   }, {
     type: 'separator'
",14,"allow: global.application.autoUpdateManager.enabled,","allow: !process.mas,"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/0797213d7a564c5d847b53555b762fcd9ba2abab,0797213d7a564c5d847b53555b762fcd9ba2abab,Fixes call to analytics (browser process),2016-01-30 18:20:52+02:00,analytics.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/afb22b2ac6c2220ffa8fcf225c5030616651427a/src/scripts/browser/utils/analytics.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/0797213d7a564c5d847b53555b762fcd9ba2abab/src/scripts/browser/utils/analytics.js,"@@ -4,7 +4,7 @@ import uuid from 'node-uuid';
 import prefs from './prefs';
 
 const trackAnalytics = prefs.get('analytics-track');
-let analytics = null;
+let analytics = {};
 
 export function getUserId() {
   let uid = prefs.get('analytics-uid');
",7,let analytics = null;,let analytics = {};
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/08fc85ed45f481f2cc976f09815b0583b213d80a,08fc85ed45f481f2cc976f09815b0583b213d80a,Fixes findMenu expr util getting wrong tray menu,2016-01-31 18:14:25+02:00,utils.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/c0e234d35040d90423fa447d21e8390c3b56556c/src/scripts/browser/menus/expressions/utils.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/08fc85ed45f481f2cc976f09815b0583b213d80a/src/scripts/browser/menus/expressions/utils.js,"@@ -20,6 +20,6 @@ export function findMenu(menuType) {
     case 'main':
       return Menu.getApplicationMenu();
     case 'tray':
-      return global.application.trayManager.tray;
+      return global.application.trayManager.menu;
   }
 }
",23,return global.application.trayManager.tray;,return global.application.trayManager.menu;
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/36a7e38b6a7ec399ed4fa84152e1d3a30211b498,36a7e38b6a7ec399ed4fa84152e1d3a30211b498,Fix allow condition for check-for-update on non-darwin,2016-01-31 18:20:27+02:00,main-help.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/abdc7818d3bb6a176335cd4e62ada667ab20d86a/src/scripts/browser/menus/templates/main-help.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/36a7e38b6a7ec399ed4fa84152e1d3a30211b498/src/scripts/browser/menus/templates/main-help.js,"@@ -13,7 +13,7 @@ export default {
   }, {
     id: 'check-for-update',
     label: 'Check for &Update',
-    allow: platform.isNonDarwin && global.application.autoUpdateManager.enabled,
+    allow: platform.isNonDarwin,
     click: $.checkForUpdate()
   }, {
     type: 'separator',
",16,"allow: platform.isNonDarwin && global.application.autoUpdateManager.enabled,","allow: platform.isNonDarwin,"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/8cfb696fb031ddc7d781c75fa15fd1120ad8c126,8cfb696fb031ddc7d781c75fa15fd1120ad8c126,Fixes launch hidden on startup (darwin),2016-02-03 14:15:48+02:00,base.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b402e20e1c35ae172c696fe2f50cf3c175800061/src/scripts/browser/components/auto-launcher/base.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/8cfb696fb031ddc7d781c75fa15fd1120ad8c126/src/scripts/browser/components/auto-launcher/base.js,"@@ -2,7 +2,7 @@ import EventEmitter from 'events';
 
 class BaseAutoLauncher extends EventEmitter {
 
-  enable(hidden = false, callback) {
+  enable(callback) {
     callback(new Error('Not implemented'));
   }
 
",5,"enable(hidden = false, callback) {",enable(callback) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/8cfb696fb031ddc7d781c75fa15fd1120ad8c126,8cfb696fb031ddc7d781c75fa15fd1120ad8c126,Fixes launch hidden on startup (darwin),2016-02-03 14:15:48+02:00,impl-linux.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b402e20e1c35ae172c696fe2f50cf3c175800061/src/scripts/browser/components/auto-launcher/impl-linux.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/8cfb696fb031ddc7d781c75fa15fd1120ad8c126/src/scripts/browser/components/auto-launcher/impl-linux.js,"@@ -25,7 +25,7 @@ class LinuxAutoLauncher extends BaseAutoLauncher {
     ], callback);
   }
 
-  enable(hidden = false, callback) {
+  enable(callback) {
     this.setKey('true', callback);
   }
 
",28,"enable(hidden = false, callback) {",enable(callback) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/8cfb696fb031ddc7d781c75fa15fd1120ad8c126,8cfb696fb031ddc7d781c75fa15fd1120ad8c126,Fixes launch hidden on startup (darwin),2016-02-03 14:15:48+02:00,impl-win32.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b402e20e1c35ae172c696fe2f50cf3c175800061/src/scripts/browser/components/auto-launcher/impl-win32.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/8cfb696fb031ddc7d781c75fa15fd1120ad8c126/src/scripts/browser/components/auto-launcher/impl-win32.js,"@@ -11,7 +11,7 @@ class Win32AutoLauncher extends BaseAutoLauncher {
     key: '\\Software\\Microsoft\\Windows\\CurrentVersion\\Run'
   });
 
-  enable(hidden = false, callback) {
+  enable(callback) {
     const cmd = '""' + app.getPath('exe') + '"" --os-startup';
     log('setting registry key for', manifest.productName, 'value', cmd);
     Win32AutoLauncher.REG_KEY.set(manifest.productName, Winreg.REG_SZ, cmd, callback);
",14,"enable(hidden = false, callback) {",enable(callback) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/f6b92f4c7449d16d062e29307a02102d7f1393f3,f6b92f4c7449d16d062e29307a02102d7f1393f3,Fixes auto-updater win32 impl switch,2016-02-07 16:58:04+02:00,index.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/8a8dab7550bd04e3d37e08bfe6c3da81454d4d90/src/scripts/browser/components/auto-updater/index.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/f6b92f4c7449d16d062e29307a02102d7f1393f3/src/scripts/browser/components/auto-updater/index.js,"@@ -4,7 +4,7 @@ let impl = null;
 
 if (platform.isLinux) {
   impl = require('./impl-linux').default;
-} else if (platform.isWin && global.application.options.portable) {
+} else if (platform.isWin && global.options.portable) {
   impl = require('./impl-win32-portable').default;
 } else {
   impl = require('auto-updater');
",7,} else if (platform.isWin && global.application.options.portable) {,} else if (platform.isWin && global.options.portable) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/db621d2208f1a69c8b9f13eda03e9de9b60c6d32,db621d2208f1a69c8b9f13eda03e9de9b60c6d32,Fixes quit on Windows,2016-02-07 20:07:04+02:00,main-window-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/7888ccfa65994495bd1f92f896f64b69d8ad3764/src/scripts/browser/managers/main-window-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/db621d2208f1a69c8b9f13eda03e9de9b60c6d32/src/scripts/browser/managers/main-window-manager.js,"@@ -132,7 +132,7 @@ class MainWindowManager extends EventEmitter {
       this.window.hide();
     }
 
-    if (platform.isWin && prefs.get('show-tray')) {
+    if (platform.isWin && !this.forceClose && prefs.get('show-tray')) {
       event.preventDefault();
       this.window.hide();
 
",135,if (platform.isWin && prefs.get('show-tray')) {,if (platform.isWin && !this.forceClose && prefs.get('show-tray')) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/03543999b95b9644a6448a34ee6e02699a0582a8,03543999b95b9644a6448a34ee6e02699a0582a8,Fixes browser and renderer analytics modules,2016-02-09 11:01:07+02:00,analytics.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/51f5cf9e5b43c73ec1f2f1b12b99642802919ca5/src/scripts/browser/utils/analytics.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/03543999b95b9644a6448a34ee6e02699a0582a8/src/scripts/browser/utils/analytics.js,"@@ -4,7 +4,7 @@ import uuid from 'node-uuid';
 import prefs from './prefs';
 
 const trackAnalytics = prefs.get('analytics-track');
-let analytics = {};
+let analytics = null;
 
 export function getUserId() {
   let uid = prefs.get('analytics-uid');
",7,let analytics = {};,let analytics = null;
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/c86c7161e4bcf98c3afdf8940bd908e4b5ac584d,c86c7161e4bcf98c3afdf8940bd908e4b5ac584d,Fixes autoLauncher.disable call in squirrel-events,2016-02-09 12:01:55+02:00,squirrel-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/56f23e526907fbe273cf9db675cb4d06db2f0e3e/src/scripts/browser/components/squirrel-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/c86c7161e4bcf98c3afdf8940bd908e4b5ac584d/src/scripts/browser/components/squirrel-events.js,"@@ -19,7 +19,7 @@ class SquirrelEvents {
     }
 
     if (options.squirrelUninstall) {
-      AutoLauncher.disable(function(err) {
+      new AutoLauncher().disable(function(err) {
         if (err) {
           logError(err);
         }
",22,AutoLauncher.disable(function(err) {,new AutoLauncher().disable(function(err) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/3be85c6d871e8e347fcb12c7517a8bf68895f7ba,3be85c6d871e8e347fcb12c7517a8bf68895f7ba,Fixes yargs parsing of cli args,2016-02-09 12:03:48+02:00,impl-darwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/c86c7161e4bcf98c3afdf8940bd908e4b5ac584d/src/scripts/browser/components/auto-launcher/impl-darwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/3be85c6d871e8e347fcb12c7517a8bf68895f7ba/src/scripts/browser/components/auto-launcher/impl-darwin.js,"@@ -40,7 +40,7 @@ class DarwinAutoLauncher extends BaseAutoLauncher {
     const plist = new Plist();
     plist.setLabel(manifest.darwin.bundleId);
     plist.setProgram(app.getPath('exe'));
-    plist.setProgramArgs(['--os-startup', '--', '--os-startup']);
+    plist.setProgramArgs(['--os-startup']);
     plist.setRunAtLoad(true);
     return plist.build();
   }
",43,"plist.setProgramArgs(['--os-startup', '--', '--os-startup']);",plist.setProgramArgs(['--os-startup']);
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/dfe40a1cfce9eb597c12b840ff539423175e9efb,dfe40a1cfce9eb597c12b840ff539423175e9efb,Fixes js scope error in squirrel-events,2016-02-09 19:47:22+02:00,squirrel-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/22ff209a753b6bf3987d91cccd73658b13e3e494/src/scripts/browser/components/squirrel-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/dfe40a1cfce9eb597c12b840ff539423175e9efb/src/scripts/browser/components/squirrel-events.js,"@@ -21,7 +21,7 @@ class SquirrelEvents {
 
     if (options.squirrelUninstall) {
       // Remove auto-launch registry key
-      new AutoLauncher().disable(function(err) {
+      new AutoLauncher().disable((err) => {
         if (err) {
           logError(err);
         }
",24,new AutoLauncher().disable(function(err) {,new AutoLauncher().disable((err) => {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/ad6a6afbeaa2334ec70de347159a85281d68f03b,ad6a6afbeaa2334ec70de347159a85281d68f03b,Fixes linux auto updater: url requested w/o qs,2016-03-04 16:02:07+02:00,impl-linux.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/fb5efd1a0eaab17bd056fc54ec91165abb1c89c1/src/scripts/browser/components/auto-updater/impl-linux.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/ad6a6afbeaa2334ec70de347159a85281d68f03b/src/scripts/browser/components/auto-updater/impl-linux.js,"@@ -29,7 +29,7 @@ class AutoUpdater extends EventEmitter {
 
     const options = {
       url: this.latestReleaseUrl,
-      query: {
+      qs: {
         pkg: packageType,
         arch: arch
       },
",32,query: {,qs: {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/9c5820627a104dfc08e2880a31ce6969f2d49d0f,9c5820627a104dfc08e2880a31ce6969f2d49d0f,"Fix check-for-update item, improves the updater",2016-03-04 18:18:34+02:00,application.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/04272bf4dd8f1b344f56d77968d126b3b02f7621/src/scripts/browser/application.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9c5820627a104dfc08e2880a31ce6969f2d49d0f/src/scripts/browser/application.js,"@@ -27,7 +27,7 @@ class Application extends EventEmitter {
     this.mainWindowManager.initWindow();
 
     // Enable the auto updater
-    this.autoUpdateManager = new AutoUpdateManager(this.manifest, this.options);
+    this.autoUpdateManager = new AutoUpdateManager(this.manifest, this.options, this.mainWindowManager);
     if (this.autoUpdateManager.enabled) {
       this.autoUpdateManager.init();
       this.autoUpdateManager.scheduleUpdateChecks();
",30,"this.autoUpdateManager = new AutoUpdateManager(this.manifest, this.options);","this.autoUpdateManager = new AutoUpdateManager(this.manifest, this.options, this.mainWindowManager);"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/b6d605a1137666443c00d82c9e60d575e400a162,b6d605a1137666443c00d82c9e60d575e400a162,Fixes update-available menu item,2016-03-05 09:29:32+02:00,main-menu-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9c5820627a104dfc08e2880a31ce6969f2d49d0f/src/scripts/browser/managers/main-menu-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b6d605a1137666443c00d82c9e60d575e400a162/src/scripts/browser/managers/main-menu-manager.js,"@@ -14,7 +14,7 @@ class MainMenuManager extends EventEmitter {
 
   create() {
     if (!this.menu) {
-      this.menu = Menu.buildFromTemplate(template);
+      this.menu = Menu.buildFromTemplate(template());
       log('app menu created');
     } else {
       log('app menu already created');
",17,this.menu = Menu.buildFromTemplate(template);,this.menu = Menu.buildFromTemplate(template());
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/b5d1831e57d9ba4b9ab062e02dc5b1eb5a4a7251,b5d1831e57d9ba4b9ab062e02dc5b1eb5a4a7251,"Refactoring, small fixes and improvements",2016-03-10 18:07:49+02:00,squirrel-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/aeb47ec81ad75f57e557e8dfbc76ced652adab28/src/scripts/browser/components/squirrel-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b5d1831e57d9ba4b9ab062e02dc5b1eb5a4a7251/src/scripts/browser/components/squirrel-events.js,"@@ -63,7 +63,7 @@ class SquirrelEvents {
   }
 
   teardownLeftoverUserData(cb) {
-    log('removing leftover user data');
+    log('removing user data folder', app.getPath('userData'));
     del(app.getPath('userData'), { force: true })
       .catch((err) => {
         logError(err);
",66,log('removing leftover user data');,"log('removing user data folder', app.getPath('userData'));"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/b5d1831e57d9ba4b9ab062e02dc5b1eb5a4a7251,b5d1831e57d9ba4b9ab062e02dc5b1eb5a4a7251,"Refactoring, small fixes and improvements",2016-03-10 18:07:49+02:00,main-menu-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/aeb47ec81ad75f57e557e8dfbc76ced652adab28/src/scripts/browser/managers/main-menu-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b5d1831e57d9ba4b9ab062e02dc5b1eb5a4a7251/src/scripts/browser/managers/main-menu-manager.js,"@@ -45,7 +45,7 @@ class MainMenuManager extends EventEmitter {
 
     for (let [eventName, itemId] of Object.entries(eventToIdMap)) {
       AutoUpdater.on(eventName, () => {
-        log('auto updater on:', eventName);
+        log('auto updater on:', eventName, 'params:', ...arguments);
         this.cfuVisibleItem.visible = false;
         this.cfuVisibleItem = findItemById(this.menu.items, itemId);
         this.cfuVisibleItem.visible = true;
",48,"log('auto updater on:', eventName);","log('auto updater on:', eventName, 'params:', ...arguments);"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/d9a50abef5986ec1f89ac9c459ed1bf49d153543,d9a50abef5986ec1f89ac9c459ed1bf49d153543,Fixes error in win32 auto launcher,2016-03-23 06:30:33+02:00,impl-win32.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/4cf13655c874b53c1501febeb3e1d510cbda3956/src/scripts/browser/components/auto-launcher/impl-win32.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d9a50abef5986ec1f89ac9c459ed1bf49d153543/src/scripts/browser/components/auto-launcher/impl-win32.js,"@@ -23,7 +23,7 @@ class Win32AutoLauncher extends BaseAutoLauncher {
     log('removing registry key for', manifest.productName);
     Win32AutoLauncher.REG_KEY.remove(manifest.productName, (err) => {
       const notFoundMsg = 'The system was unable to find the specified registry key or value.';
-      const notFound = err.message.indexOf(notFoundMsg) > -1;
+      const notFound = err && err.message && err.message.indexOf(notFoundMsg) > -1;
       if (notFound) {
         callback();
       } else {
",26,const notFound = err.message.indexOf(notFoundMsg) > -1;,const notFound = err && err.message && err.message.indexOf(notFoundMsg) > -1;
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/159d66aec427729cd7f339d02ef3ecd7a625d997,159d66aec427729cd7f339d02ef3ecd7a625d997,"Fixes WAFD cleaner checks, improves cleaner dialog",2016-03-27 09:10:21+03:00,wafd-cleaner.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/540e5ab4713f0847be6f1f6a36fb87d7ba0d6415/src/scripts/browser/components/wafd-cleaner.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/159d66aec427729cd7f339d02ef3ecd7a625d997/src/scripts/browser/components/wafd-cleaner.js,"@@ -26,7 +26,7 @@ const paths = [
 function check(callback) {
   async.series(paths.map(p => function(cb) {
     fs.access(p, fs.R_OK | fs.W_OK, (err) => {
-      cb(err ? err : new Error('FOUND'));
+      cb(err ? null : new Error('FOUND'));
     });
   }), function(err) {
     callback(!!(err && err.message === 'FOUND'));
",29,cb(err ? err : new Error('FOUND'));,cb(err ? null : new Error('FOUND'));
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/4a9811f38c7f316beddc53a1436f8c4375314304,4a9811f38c7f316beddc53a1436f8c4375314304,Fixes language names on Windows,2016-03-30 15:22:13+03:00,main-app-nondarwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/13bfc4762152b9f9e6f5966068bc075293d5c32c/src/scripts/browser/menus/templates/main-app-nondarwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/4a9811f38c7f316beddc53a1436f8c4375314304/src/scripts/browser/menus/templates/main-app-nondarwin.js,"@@ -11,7 +11,7 @@ const availableLanguages = SpellChecker.getAvailableDictionaries()
   .map((langCode) => {
     return {
       code: langCode,
-      name: languageCodes[langCode] || langCode
+      name: languageCodes[langCode.replace('-', '_')] || langCode
     };
   })
   .sort((a, b) => {
",14,name: languageCodes[langCode] || langCode,"name: languageCodes[langCode.replace('-', '_')] || langCode"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/a49c4ee4c35d4b4c6f52412450b83c7fac53565c,a49c4ee4c35d4b4c6f52412450b83c7fac53565c,Fix track-analytics receiver in renderer,2016-04-02 09:42:48+03:00,webview-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/038da703191014b242cfef733595f18cdbdd3637/src/scripts/renderer/webview-events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/a49c4ee4c35d4b4c6f52412450b83c7fac53565c/src/scripts/renderer/webview-events.js,"@@ -31,7 +31,7 @@ ipcr.on('call-webview-method', function(event, method, ...args) {
 ipcr.on('track-analytics', function(event, name, args) {
   const tracker = analytics.getTracker();
   if (tracker) {
-    const trackerFn = analytics[name];
+    const trackerFn = tracker[name];
     trackerFn(...args);
   }
 });
",34,const trackerFn = analytics[name];,const trackerFn = tracker[name];
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/9539730849208042dea63d21c2d2edaa9f6de993,9539730849208042dea63d21c2d2edaa9f6de993,Fix clicking the tray icon not showing the app (Linux),2016-04-21 21:58:08+03:00,tray-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/a50bd9ff49c96e681b24ac99c26dfe4fe236407d/src/scripts/browser/managers/tray-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9539730849208042dea63d21c2d2edaa9f6de993/src/scripts/browser/managers/tray-manager.js,"@@ -58,7 +58,7 @@ class TrayManager extends EventEmitter {
    * Listen for tray events.
    */
   setEventListeners() {
-    if (this.tray && !platform.isLinux) {
+    if (this.tray) {
       this.tray.on('click', ::this.onClick);
       this.tray.on('right-click', ::this.onRightClick);
     }
",61,if (this.tray && !platform.isLinux) {,if (this.tray) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/79a93fb549ff8e864d3e6646a4848642563c7282,79a93fb549ff8e864d3e6646a4848642563c7282,Sync renderer debug with browser DEBUG,2016-04-26 20:43:24+03:00,listeners.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d033e54bf835ea6029fe46530802c8dbb68f8a96/src/scripts/renderer/webview/listeners.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/79a93fb549ff8e864d3e6646a4848642563c7282/src/scripts/renderer/webview/listeners.js,"@@ -65,7 +65,7 @@ webView.addEventListener('dom-ready', function() {
   log('dom-ready');
 
   // Open dev tools when debugging
-  if (window.localStorage.debugDevTools) {
+  if (window.localStorage.autoLaunchDevTools) {
     webView.openDevTools();
   }
 
",68,if (window.localStorage.debugDevTools) {,if (window.localStorage.autoLaunchDevTools) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/cb5332e91494dd0153cd6328602a04eb54987c12,cb5332e91494dd0153cd6328602a04eb54987c12,Fix call in renderer webview-event,2016-04-29 15:29:41+03:00,events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/74007734716d56f4aad0ff1b757be59cd9f7253f/src/scripts/renderer/webview/events.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/cb5332e91494dd0153cd6328602a04eb54987c12/src/scripts/renderer/webview/events.js,"@@ -7,7 +7,7 @@ import webView from 'renderer/webview';
  * Forward a message to the webview.
  */
 ipcr.on('fwd-webview', function(event, channel, ...args) {
-  if (!webView.isLoading()) {
+  if (webView.isLoading && (typeof webView.isLoading == 'function') && !webView.isLoading()) {
     webView.send(channel, ...args);
   } else {
     const onLoaded = function() {
",10,if (!webView.isLoading()) {,if (webView.isLoading && (typeof webView.isLoading == 'function') && !webView.isLoading()) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/744b7436d999832c795b1f8e625619180decc0a6,744b7436d999832c795b1f8e625619180decc0a6,Fix usage of electron.app in auto-launcher,2016-06-09 06:10:25+03:00,impl-darwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/6a6553d53606a207f64471c13e2f2d1fc10434ef/src/scripts/browser/components/auto-launcher/impl-darwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/744b7436d999832c795b1f8e625619180decc0a6/src/scripts/browser/components/auto-launcher/impl-darwin.js,"@@ -31,7 +31,7 @@ class DarwinAutoLauncher extends BaseAutoLauncher {
   buildPlist() {
     const plist = new Plist();
     plist.setLabel(global.manifest.darwin.bundleId);
-    plist.setProgram(electronpp.getPath('exe'));
+    plist.setProgram(app.getPath('exe'));
     plist.setProgramArgs(['--os-startup']);
     plist.setRunAtLoad(true);
     return plist.build();
",34,plist.setProgram(electronpp.getPath('exe'));,plist.setProgram(app.getPath('exe'));
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/e25ec29ce0d2c24031eeca6b7f43eeaca150d990,e25ec29ce0d2c24031eeca6b7f43eeaca150d990,Fix display of spell checker language names,2016-06-09 07:37:23+03:00,main-edit.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/86dee8ecd6e865a7f4eb89bac4a3a82a32590795/src/scripts/browser/menus/templates/main-edit.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/e25ec29ce0d2c24031eeca6b7f43eeaca150d990/src/scripts/browser/menus/templates/main-edit.js,"@@ -9,7 +9,7 @@ const availableLanguages = getAvailableDictionaries()
   .map((langCode) => {
     return {
       code: langCode,
-      name: languageCodes[langCode] || langCode
+      name: languageCodes[langCode] || languageCodes[langCode.replace('-', '_').split('_')[0]]
     };
   })
   .sort((a, b) => {
",12,name: languageCodes[langCode] || langCode,"name: languageCodes[langCode] || languageCodes[langCode.replace('-', '_').split('_')[0]]"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/7cdcaa7fcf20cb277be15b700d5fa714e20911bd,7cdcaa7fcf20cb277be15b700d5fa714e20911bd,Fix isWindows7 detection again,2016-06-17 12:45:09+03:00,platform.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/f5c9e0c0abca3fa6e7a2e6ad3ae6b14691561ed0/src/scripts/common/utils/platform.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/7cdcaa7fcf20cb277be15b700d5fa714e20911bd/src/scripts/common/utils/platform.js,"@@ -3,6 +3,6 @@ export default {
   isNonDarwin: process.platform !== 'darwin',
   isWindows: process.platform === 'win32',
   isLinux: process.platform === 'linux',
-  isWindows7: process.platform === 'win32' && window.navigator &&
+  isWindows7: process.platform === 'win32' && process.type === 'renderer' &&
     !!window.navigator.userAgent.match(/(Windows 7|Windows NT 6\.1)/)
 };
",6,isWindows7: process.platform === 'win32' && window.navigator &&,isWindows7: process.platform === 'win32' && process.type === 'renderer' &&
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/d03de18deb63dcca2c5681cfe922cdd3095e351d,d03de18deb63dcca2c5681cfe922cdd3095e351d,Fix hiding dock badge when menu pref is disabled,2016-07-08 18:50:14+03:00,main-window-nondarwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/9af552d6dd7722930aeeedb91a4b1a7d1a767bd1/src/scripts/browser/menus/templates/main-window-nondarwin.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/d03de18deb63dcca2c5681cfe922cdd3095e351d/src/scripts/browser/menus/templates/main-window-nondarwin.js,"@@ -53,7 +53,7 @@ export default {
     needsWindow: true,
     click: $.all(
       $.setPref('show-notifications-badge', $.key('checked')),
-      $.hideTaskbarBadge($.key('checked'))
+      platform.isLinux ? $.hideDockBadge($.key('checked')) : $.hideTaskbarBadge($.key('checked'))
     ),
     parse: $.all(
       $.setLocal('checked', $.pref('show-notifications-badge'))
",56,$.hideTaskbarBadge($.key('checked')),platform.isLinux ? $.hideDockBadge($.key('checked')) : $.hideTaskbarBadge($.key('checked'))
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/aefa4b9027da217966e270e83de503f14836d95d,aefa4b9027da217966e270e83de503f14836d95d,Fix context menu,2016-07-10 10:35:42+03:00,listeners.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/6252f1b5b8d062998011454f5116fa10e6584b67/src/scripts/renderer/preload/listeners.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/aefa4b9027da217966e270e83de503f14836d95d/src/scripts/renderer/preload/listeners.js,"@@ -4,7 +4,7 @@ import platform from 'common/utils/platform';
 
 // Forward context menu opens
 remote.getCurrentWebContents().on('context-menu', function (event, params) {
-  params.isWindows7 = platform.isWindows7();
+  params.isWindows7 = platform.isWindows7;
   params = JSON.stringify(params);
   log('sending context menu', params);
   ipcRenderer.send('context-menu', params);
",7,params.isWindows7 = platform.isWindows7();,params.isWindows7 = platform.isWindows7;
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/42cf52672a06b140a6ce5de6471ee14181486794,42cf52672a06b140a6ce5de6471ee14181486794,Fix squirrel events component,2016-07-18 01:03:33+03:00,logger.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/be950e6280cbadcc826b41b3cb0bab594bf70562/src/scripts/common/utils/logger.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/42cf52672a06b140a6ce5de6471ee14181486794/src/scripts/common/utils/logger.js,"@@ -82,7 +82,7 @@ export function debugLogger (filename) {
 
 export function errorLogger (filename, isFatal) {
   let namespace = null;
-  return function (err, skipReporting) {
+  return function (err, skipReporting = false) {
     if (!namespace) {
       namespace = namespaceOfFile(filename);
     }
",85,"return function (err, skipReporting) {","return function (err, skipReporting = false) {"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/e4e8173510eef69f2b04e03c05dde66499688014,e4e8173510eef69f2b04e03c05dde66499688014,"Fix ""Shown in Tray"" being hidden on Windows",2016-07-20 19:49:02+03:00,distro-detector.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/1d19a8ae9d5d8936cb8e1da5544775cc858780cf/src/scripts/browser/components/distro-detector.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/e4e8173510eef69f2b04e03c05dde66499688014/src/scripts/browser/components/distro-detector.js,"@@ -11,7 +11,7 @@ async function elementaryOS () {
   cmd = '/bin/bash -c ""' + cmd + '""';
 
   return await new Promise((resolve, reject) => {
-    cp.exec(cmd, (err, stdout, stderr) => resolve(!!err));
+    cp.exec(cmd, (err, stdout, stderr) => resolve(!err));
   });
 }
 
",14,"cp.exec(cmd, (err, stdout, stderr) => resolve(!!err));","cp.exec(cmd, (err, stdout, stderr) => resolve(!err));"
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/94716b9fb0746bfd95853274a6e2062d0caf9862,94716b9fb0746bfd95853274a6e2062d0caf9862,Fix the conditional that picked notification impl,2016-07-23 12:19:56+03:00,notification.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/b170971718abfa97da343de743acce3bec69dd4b/src/scripts/renderer/preload/notification.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/94716b9fb0746bfd95853274a6e2062d0caf9862/src/scripts/renderer/preload/notification.js,"@@ -11,7 +11,7 @@ window.Notification = (function (Html5Notification) {
   log('extending HTML5 Notification');
 
   const Notification = function (title, options) {
-    if (!nativeNotifier.isImplemented || !platform.isWindows7) {
+    if (!nativeNotifier.isImplemented || !platform.isDarwin && !platform.isWindows7) {
       log('showing html5 notification', title, options);
       const notification = new Html5Notification(title, options);
 
",14,if (!nativeNotifier.isImplemented || !platform.isWindows7) {,if (!nativeNotifier.isImplemented || !platform.isDarwin && !platform.isWindows7) {
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/f5ff8fb0a3dd9bcd7cc44d5c50680c53c1b6cfc9,f5ff8fb0a3dd9bcd7cc44d5c50680c53c1b6cfc9,Fix debug logging on renderer,2016-07-23 14:56:43+03:00,init.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/174fd1f17fc956e46886b2a1a537f685f7cacba0/src/scripts/renderer/init.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/f5ff8fb0a3dd9bcd7cc44d5c50680c53c1b6cfc9/src/scripts/renderer/init.js,"@@ -3,7 +3,7 @@ import path from 'path';
 
 export function inject () {
   global.manifest = remote.getGlobal('manifest');
-  window.localStorage.setItem('debug', process.env.DEBUG);
+  global.options = remote.getGlobal('options');
 
   const appPath = remote.app.getAppPath();
   const {addPath} = require(path.join(appPath, 'node_modules', 'app-module-path'));
",6,"window.localStorage.setItem('debug', process.env.DEBUG);",global.options = remote.getGlobal('options');
Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop,https://github.com/Aluxian/Facebook-Messenger-Desktop/commit/f16242bbd85b069e140e92bfe306a4669c8313cd,f16242bbd85b069e140e92bfe306a4669c8313cd,Show notif count as prefix to the title,2017-02-23 14:13:22+00:00,ipc-listeners-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/c2ecdcdc81eb4a1098ace5ce8f83499883061162/src/scripts/browser/managers/ipc-listeners-manager.js,https://github.com/Aluxian/Facebook-Messenger-Desktop/raw/f16242bbd85b069e140e92bfe306a4669c8313cd/src/scripts/browser/managers/ipc-listeners-manager.js,"@@ -47,7 +47,7 @@ class IpcListenersManager extends EventEmitter {
     this.trayManager.unreadCountUpdated(count);
 
     // Update window title
-    this.mainWindowManager.suffixWindowTitle(count ? ' (' + count + ')' : '');
+    this.mainWindowManager.prefixWindowTitle(count ? '(' + count + ') ' : '');
   }
 
   /**
",50,this.mainWindowManager.suffixWindowTitle(count ? ' (' + count + ')' : '');,this.mainWindowManager.prefixWindowTitle(count ? '(' + count + ') ' : '');
browsenpm.org,https://github.com/nodejitsu/browsenpm.org,https://github.com/nodejitsu/browsenpm.org/commit/b48f209bf83a8467f66ae0e5790d172553664920,b48f209bf83a8467f66ae0e5790d172553664920,[fix] allow multiple tokens,2014-05-05 18:01:00+02:00,dependencies.js,https://github.com/nodejitsu/browsenpm.org/raw/81beba74e9fb2317072ad494d19a88a3d92a4bca/pages/dependencies.js,https://github.com/nodejitsu/browsenpm.org/raw/b48f209bf83a8467f66ae0e5790d172553664920/pages/dependencies.js,"@@ -27,7 +27,7 @@ var cradle = new (require('cradle')).Connection(couchdb)
 //
 var githulk = new GitHulk({
   cache: new Dynamis('cradle', cradle, couchdb),
-  token: config.get('tokens')
+  tokens: config.get('tokens')
 });
 
 //
",30,token: config.get('tokens'),tokens: config.get('tokens')
browsenpm.org,https://github.com/nodejitsu/browsenpm.org,https://github.com/nodejitsu/browsenpm.org/commit/b48f209bf83a8467f66ae0e5790d172553664920,b48f209bf83a8467f66ae0e5790d172553664920,[fix] allow multiple tokens,2014-05-05 18:01:00+02:00,package.js,https://github.com/nodejitsu/browsenpm.org/raw/81beba74e9fb2317072ad494d19a88a3d92a4bca/pages/package.js,https://github.com/nodejitsu/browsenpm.org/raw/b48f209bf83a8467f66ae0e5790d172553664920/pages/package.js,"@@ -27,7 +27,7 @@ var cradle = new (require('cradle')).Connection(couchdb)
 //
 var githulk = new GitHulk({
   cache: new Dynamis('cradle', cradle, couchdb),
-  token: config.get('tokens')
+  tokens: config.get('tokens')
 });
 
 //
",30,token: config.get('tokens'),tokens: config.get('tokens')
browsenpm.org,https://github.com/nodejitsu/browsenpm.org,https://github.com/nodejitsu/browsenpm.org/commit/627c0a9d7dc4740ae8eb19d2f70d1bbc16d02196,627c0a9d7dc4740ae8eb19d2f70d1bbc16d02196,[fix] slice from the end,2014-05-06 19:48:58+02:00,index.js,https://github.com/nodejitsu/browsenpm.org/raw/7ed4fffe45ddf320c10bf2b026cfc012bcab0971/pagelets/status/index.js,https://github.com/nodejitsu/browsenpm.org/raw/627c0a9d7dc4740ae8eb19d2f70d1bbc16d02196/pagelets/status/index.js,"@@ -20,7 +20,7 @@ module.exports = pagelet.extend({
 
       for (var registry in data[type]) {
         results[type][registry] = data[type][registry].slice(
-          pagelet.options[type].n
+          data[type][registry].length - pagelet.options[type].n - 1
         );
       }
     }
",23,pagelet.options[type].n,data[type][registry].length - pagelet.options[type].n - 1
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/faeb923b2a6669a5105e8135e32a08611d171e57,faeb923b2a6669a5105e8135e32a08611d171e57,conflict resolved ing,2015-02-12 19:40:22+08:00,jquery.contextmenu.js,https://github.com/leanote/desktop-app/raw/269f68620cd86b2dda2ac7a52d3d84f616da2a48/public/js/contextmenu/jquery.contextmenu.js,https://github.com/leanote/desktop-app/raw/faeb923b2a6669a5105e8135e32a08611d171e57/public/js/contextmenu/jquery.contextmenu.js,"@@ -228,7 +228,7 @@ LEA.cmroot = 1;
             	hideMenuPane();
             	// life
 	            $(target).removeClass(""contextmenu-hover"");
-            })
+            });
         }
         
         // 初始化
",231,}),});
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/ec4841a59d82327e9e0da72cef6da09070da3066,ec4841a59d82327e9e0da72cef6da09070da3066,conflict fixed,2015-02-13 11:43:49+08:00,notebook.js,https://github.com/leanote/desktop-app/raw/faeb923b2a6669a5105e8135e32a08611d171e57/public/js/app/notebook.js,https://github.com/leanote/desktop-app/raw/ec4841a59d82327e9e0da72cef6da09070da3066/public/js/app/notebook.js,"@@ -15,7 +15,7 @@ Notebook.setCache = function(notebook) {
 		Notebook.cache[notebookId] = {};
 	}
 	$.extend(Notebook.cache[notebookId], notebook);
-}
+};
 
 Notebook.getCurNotebookId = function() {
 	return Notebook.curNotebookId;
",18,},};
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/f7c778b776fea7a7d1c94e0bd73d2d1615e88148,f7c778b776fea7a7d1c94e0bd73d2d1615e88148,#13 bug fixed,2015-05-10 01:57:14+08:00,page.js,https://github.com/leanote/desktop-app/raw/d6b35df9aa580b553cd031b7bc55c1030a0aa56f/src/public/js/app/page.js,https://github.com/leanote/desktop-app/raw/f7c778b776fea7a7d1c94e0bd73d2d1615e88148/src/public/js/app/page.js,"@@ -778,7 +778,7 @@ LeaAce = {
 			aceEditor.setOption(""wrap"", ""free"");
 			aceEditor.setShowInvisibles(false);
 			aceEditor.setAutoScrollEditorIntoView(true);
-			aceEditor.setReadOnly(true);
+			aceEditor.setReadOnly(Note.readOnly);
 			aceEditor.setOption(""maxLines"", 10000);
 			aceEditor.commands.addCommand({
 			    name: ""undo"",
",781,aceEditor.setReadOnly(true);,aceEditor.setReadOnly(Note.readOnly);
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/3cd3dad1a5b1acc6c56449e0422cafb2ca124b9b,3cd3dad1a5b1acc6c56449e0422cafb2ca124b9b,clear debug,2015-11-10 13:10:09+08:00,page.js,https://github.com/leanote/desktop-app/raw/81a9b43e3dfbc9971cad2ccc619d8a2255e2dad6/public/js/app/page.js,https://github.com/leanote/desktop-app/raw/3cd3dad1a5b1acc6c56449e0422cafb2ca124b9b/public/js/app/page.js,"@@ -1931,7 +1931,7 @@ function userMenu(allUsers) {
 
 	Pren.init();
 
-	if(isMac()) {
+	if(isMac() || debug) {
 		setMacTopMenu();
 	}
 
",1934,if(isMac()) {,if(isMac() || debug) {
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/8db84036712de8dd25ad66b44a3c069d2828b17b,8db84036712de8dd25ad66b44a3c069d2828b17b,fix windows export html image path bug,2016-04-14 19:10:10+08:00,plugin.js,https://github.com/leanote/desktop-app/raw/4903aaf9016e0302c7d4143fce003a519ee32edf/public/plugins/export_html/plugin.js,https://github.com/leanote/desktop-app/raw/8db84036712de8dd25ad66b44a3c069d2828b17b/public/plugins/export_html/plugin.js,"@@ -141,7 +141,7 @@ define(function() {
 		// 得到存放images, js, css的路径
 		getAssetsPath: function(basePath, nameNotExt, n, cb) {
 			var me = this;
-			var absPath = basePath + '/' + nameNotExt + '_files';
+			var absPath = basePath + Api.commonService.getPathSep() + nameNotExt + '_files';
 			if (n > 1) {
 				absPath += '-' + n;
 			}
",144,var absPath = basePath + '/' + nameNotExt + '_files';,var absPath = basePath + Api.commonService.getPathSep() + nameNotExt + '_files';
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/5164eb620aac219985a0a659103c49cc146633ea,5164eb620aac219985a0a659103c49cc146633ea,"Update notebook.js

bugfix",2017-02-24 14:25:32+08:00,notebook.js,https://github.com/leanote/desktop-app/raw/52a440ea82ce4656c7a3705b78de821825e29414/public/js/app/notebook.js,https://github.com/leanote/desktop-app/raw/5164eb620aac219985a0a659103c49cc146633ea/public/js/app/notebook.js,"@@ -710,7 +710,7 @@ Notebook.changeNotebook = function(notebookId, callback, needRendNoteId) {
 
     var url = ""/note/listNotes/"";
     var param = { notebookId: notebookId };
-
+    var cacheNotes = null;
     // 废纸篓
     if (Notebook.isTrashNotebookId(notebookId)) {
         url = ""/note/listTrashNotes"";
",713,,var cacheNotes = null;
desktop-app,https://github.com/leanote/desktop-app,https://github.com/leanote/desktop-app/commit/215549e5ea562ca1a41af8a044c446fdc81482ed,215549e5ea562ca1a41af8a044c446fdc81482ed,sync fixed,2018-12-03 13:27:00+08:00,api.js,https://github.com/leanote/desktop-app/raw/d683c69707056441e79f76914629c1dee9ea1b6f/node_modules/api.js,https://github.com/leanote/desktop-app/raw/215549e5ea562ca1a41af8a044c446fdc81482ed/node_modules/api.js,"@@ -234,7 +234,7 @@ var Api = {
 			if(Common.isOk(ret)) { // {Content: 'xx', NoteId: 'xxx'}
 				callback && callback(ret);
 			} else {
-				callback && callback(false);
+				callback && callback(false, ret);
 			}
 		});	
 	},
",237,callback && callback(false);,"callback && callback(false, ret);"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/f9391e010f9da04e280cb10ac088a3b260ec2057,f9391e010f9da04e280cb10ac088a3b260ec2057,Quick Fix,2015-04-26 14:43:07+03:00,engine.js,https://github.com/jaruba/PowderPlayer/raw/2515b7eeb9cbf220aadedd323eff6758195f4f3d/engine.js,https://github.com/jaruba/PowderPlayer/raw/f9391e010f9da04e280cb10ac088a3b260ec2057/engine.js,"@@ -1560,7 +1560,7 @@ setTimeout(function() {
 					setTimeout(function() { wjs().playItem(lastItem); },1000);
 				}
 			}
-		}
+		} else lastState = this.state();
 	});
 	if (gui.App.argv.length > 0) {
 		resetPowGlobals();
",1563,},} else lastState = this.state();
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/6efdf5466c4241bf4e26dbb1ae00c3e7a381c4fb,6efdf5466c4241bf4e26dbb1ae00c3e7a381c4fb,Fixed a Bug with Some Torrent Files,2015-05-03 04:39:45+03:00,engine.js,https://github.com/jaruba/PowderPlayer/raw/606e69f14b60c28da3008b3d17bf3a5bf854e815/engine.js,https://github.com/jaruba/PowderPlayer/raw/6efdf5466c4241bf4e26dbb1ae00c3e7a381c4fb/engine.js,"@@ -1486,7 +1486,7 @@ function playlistAddVideo(torLink) {
 
 function runURL(torLink) {
 			
-	if (torLink.replace("".torrent"","""") != torLink) {
+	if (torLink.toLowerCase().replace("".torrent"","""") != torLink.toLowerCase()) {
 		var readTorrent = require('read-torrent');
 		readTorrent(torLink, function(err, torrent) { wjs().addTorrent(torrent); });
 	} else if (torLink.toLowerCase().match(/magnet:\?xt=urn:btih:[a-z0-9]{20,50}/i) != null || torLink.toLowerCase().match(/magnet:\?xt=urn:sha1:[a-z0-9]{20,50}/i) != null) {									
",1489,"if (torLink.replace("".torrent"","""") != torLink) {","if (torLink.toLowerCase().replace("".torrent"","""") != torLink.toLowerCase()) {"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/e578302a9aadce12d2370bd81abcaa27626dbc53,e578302a9aadce12d2370bd81abcaa27626dbc53,Fixed Subtitles,2015-05-05 10:58:47+03:00,engine.js,https://github.com/jaruba/PowderPlayer/raw/59b6b7665c6b02807dadb550556f3d706225e393/engine.js,https://github.com/jaruba/PowderPlayer/raw/e578302a9aadce12d2370bd81abcaa27626dbc53/engine.js,"@@ -1226,7 +1226,7 @@ function delayFinished(kj) {
 }
 
 function findHash() {
-	if (wjs().state() == 3 || wjs().state() == 4) {
+	if (wjs().state() == ""playing"" || wjs().state() == ""paused"") {
 		if (typeof powGlobals.fileHash === 'undefined') {
 			if (typeof powGlobals.engine === 'undefined') {
 				os.computeHash(powGlobals.path, function(err, hash){
",1229,if (wjs().state() == 3 || wjs().state() == 4) {,"if (wjs().state() == ""playing"" || wjs().state() == ""paused"") {"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/c03ebee38e2918bad5c8212afc1e399fea559770,c03ebee38e2918bad5c8212afc1e399fea559770,Quick Fix,2015-05-24 12:58:33+03:00,window.js,https://github.com/jaruba/PowderPlayer/raw/34cfaf343bfa2c351c3307fc2b6cd051687a62f9/lib/window.js,https://github.com/jaruba/PowderPlayer/raw/c03ebee38e2918bad5c8212afc1e399fea559770/lib/window.js,"@@ -126,5 +126,5 @@ function resizeInBounds(newWidth,newHeight) {
 		}
 	});
 	// end find the screen where the window is
-	wjs().emitJsMessage(""[refresh-aspect]"");
+	if (playerLoaded) wjs().emitJsMessage(""[refresh-aspect]"");
 }
",129,"wjs().emitJsMessage(""[refresh-aspect]"");","if (playerLoaded) wjs().emitJsMessage(""[refresh-aspect]"");"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/bfb684cedf907ebdf7384b9be97e7ee26dca65ed,bfb684cedf907ebdf7384b9be97e7ee26dca65ed,Quick Fix,2015-06-11 03:46:36+03:00,engine.js,https://github.com/jaruba/PowderPlayer/raw/4b0b6406c9f90ece98c9b7592ad6fe60192ad9fc/lib/engine.js,https://github.com/jaruba/PowderPlayer/raw/bfb684cedf907ebdf7384b9be97e7ee26dca65ed/lib/engine.js,"@@ -231,7 +231,7 @@ function engage(targetHistory) {
 //	}
 
 	// Force Peer Discovery and Reconnection
-	setTimeout(function() { powGlobals.engine.discover(); powGlobals.engine.swarm.reconnectAll(); },1000);
+	setTimeout(function() { if (powGlobals.engine) { powGlobals.engine.discover(); powGlobals.engine.swarm.reconnectAll(); } },1000);
 	
 	if (powGlobals.hasVideo == 0) {
 		if (playerLoaded) {
",234,"setTimeout(function() { powGlobals.engine.discover(); powGlobals.engine.swarm.reconnectAll(); },1000);","setTimeout(function() { if (powGlobals.engine) { powGlobals.engine.discover(); powGlobals.engine.swarm.reconnectAll(); } },1000);"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/cca93cf1f50e2e4b4a9dd54c49966432401dadd5,cca93cf1f50e2e4b4a9dd54c49966432401dadd5,Fixed Sync Between Files and Videos,2015-06-11 05:20:25+03:00,subtitles.js,https://github.com/jaruba/PowderPlayer/raw/bfb684cedf907ebdf7384b9be97e7ee26dca65ed/lib/subtitles.js,https://github.com/jaruba/PowderPlayer/raw/cca93cf1f50e2e4b4a9dd54c49966432401dadd5/lib/subtitles.js,"@@ -150,7 +150,7 @@ function findHash() {
 				os.computeHash(powGlobals.path, function(err, hash){
 					if (err) return;
 					powGlobals.files.some(function(el,ij) {
-						if (el.index == powGlobals.videos[keepCurrent].index) {
+						if (ij == powGlobals.videos[keepCurrent].index) {
 							if (ij == powGlobals.files.length) {
 								powGlobals.fileHash = hash;
 								if (powGlobals.byteLength) subtitlesByExactHash(hash,powGlobals.byteLength,powGlobals.filename);
",153,if (el.index == powGlobals.videos[keepCurrent].index) {,if (ij == powGlobals.videos[keepCurrent].index) {
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/cca93cf1f50e2e4b4a9dd54c49966432401dadd5,cca93cf1f50e2e4b4a9dd54c49966432401dadd5,Fixed Sync Between Files and Videos,2015-06-11 05:20:25+03:00,ui.js,https://github.com/jaruba/PowderPlayer/raw/bfb684cedf907ebdf7384b9be97e7ee26dca65ed/lib/ui.js,https://github.com/jaruba/PowderPlayer/raw/cca93cf1f50e2e4b4a9dd54c49966432401dadd5/lib/ui.js,"@@ -90,7 +90,7 @@ function settingsEl(kj) {
 	if (supportedVideo.indexOf($(""#file""+kj).find("".filenames"").text().split(""."").pop().toLowerCase()) > -1) {
 		// if the item is a video
 		powGlobals.videos.some(function(el,ij) {
-			if (el.index == powGlobals.files[kj].index) {
+			if (el.index == kj) {
 				$(""#playAction"").attr(""onClick"",""wjs().playItem(""+ij+""); $('#closeAction').trigger('click'); $('html, body').animate({ scrollTop: 0 }, 'slow'); playEl(""+kj+""); $('body').css('overflow-y','hidden')"");
 				$(""#copyStream"").attr(""onClick"",""gui.Clipboard.get().set('http://localhost:'+powGlobals['engine'].server.address().port+'/""+powGlobals.files[kj].index+""','text'); $('#closeAction').trigger('click')"");
 				$(""#playAction"").show(0);
",93,if (el.index == powGlobals.files[kj].index) {,if (el.index == kj) {
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/7144423b2f140b29a43e7dc0f1066c24e39afce4,7144423b2f140b29a43e7dc0f1066c24e39afce4,Fixed .dlnaStop(),2015-08-01 01:39:06+03:00,dlna.js,https://github.com/jaruba/PowderPlayer/raw/4d45165d567c7a18e160fa6a8657aee743d4a980/src/lib/dlna.js,https://github.com/jaruba/PowderPlayer/raw/7144423b2f140b29a43e7dc0f1066c24e39afce4/src/lib/dlna.js,"@@ -99,7 +99,7 @@ function stopDlna(noSubs) {
 	wjs().wrapper.find("".wcp-vol-control"")[0].style.borderRight = ""1px solid #262626"";
 
 	wjs().setOpeningText(""Stopped Streaming"");
-	dlna.controls.stop();
+	if (dlna.controls) dlna.controls.stop();
 	letSleep();
 	dlna.initiated = false;
 	player.wrapper.find("".wcp-vol-button"").show(0);
",102,dlna.controls.stop();,if (dlna.controls) dlna.controls.stop();
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/ccc5f1381d4103c625af807ebe1be5e603bad484,ccc5f1381d4103c625af807ebe1be5e603bad484,Fixed Context Menu,2015-10-10 09:44:04+03:00,context_menu.js,https://github.com/jaruba/PowderPlayer/raw/f9dda3e3e84db657952eabd90dcb2fe0f461243d/src/lib/context_menu.js,https://github.com/jaruba/PowderPlayer/raw/ccc5f1381d4103c625af807ebe1be5e603bad484/src/lib/context_menu.js,"@@ -220,7 +220,7 @@ var ctxMenu = {
 			if (el.type == ""checkbox"" && el.checked) el.checked = false;
 		});
 		if (this.playerMenu.items[6].submenu.items[i].type == ""checkbox"") this.playerMenu.items[6].submenu.items[i].checked = true;
-		player.crop(playerMenu.items[6].submenu.items[i].label);
+		player.crop(this.playerMenu.items[6].submenu.items[i].label);
 	},
 	
 	selectZoom: function(i,newZoom) {
",223,player.crop(playerMenu.items[6].submenu.items[i].label);,player.crop(this.playerMenu.items[6].submenu.items[i].label);
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/b0b807b4b04d14117a936ffd580b8311e67cb523,b0b807b4b04d14117a936ffd580b8311e67cb523,fix state object in player renderer,2015-11-17 23:53:35-08:00,Renderer.react.js,https://github.com/jaruba/PowderPlayer/raw/8db1d05046f02777abf6461ef00384a7e6aa087a/src/components/Player/Renderer.react.js,https://github.com/jaruba/PowderPlayer/raw/b0b807b4b04d14117a936ffd580b8311e67cb523/src/components/Player/Renderer.react.js,"@@ -29,7 +29,7 @@ default React.createClass({
         return {
             mounted: false,
             paused: false,
-            playing false,
+            playing: false,
             buffering: true,
             scrobbling: false
         }
",32,"playing false,","playing: false,"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/7963089db89a7a92d7b102a8de5a3b497de341a4,7963089db89a7a92d7b102a8de5a3b497de341a4,Fix state being changed when not mounted,2015-11-19 18:17:03-08:00,torrentUtil.js,https://github.com/jaruba/PowderPlayer/raw/7ea1f891ccd09d79c5546088f62d77ba87250b87/src/utils/stream/torrentUtil.js,https://github.com/jaruba/PowderPlayer/raw/7963089db89a7a92d7b102a8de5a3b497de341a4/src/utils/stream/torrentUtil.js,"@@ -75,6 +75,6 @@ module.exports = {
             });
             files_organized['folder_status'] = (directorys.length > 1);
             resolve(files_organized);
-        });
+        })
     }
 };
\ No newline at end of file
",78,});,})
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/7882a0f53dfa1691055d466221d7d95b422b3e56,7882a0f53dfa1691055d466221d7d95b422b3e56,Fix stuff,2015-11-21 02:54:13-08:00,Thinking.js,https://github.com/jaruba/PowderPlayer/raw/a64f579cb1811385e426de7e01c3da44ef89dd48/src/components/Modal/components/Thinking.js,https://github.com/jaruba/PowderPlayer/raw/7882a0f53dfa1691055d466221d7d95b422b3e56/src/components/Modal/components/Thinking.js,"@@ -29,7 +29,7 @@ default React.createClass({
     },
 
     componentWillUnmount() {
-        ModalStore.listen(this.update);
+        ModalStore.unlisten(this.update);
     },
 
     handelCancel() {
",32,ModalStore.listen(this.update);,ModalStore.unlisten(this.update);
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/36823e9a47e8e3bf196d18407ba7c44db7df2de3,36823e9a47e8e3bf196d18407ba7c44db7df2de3,Fix,2015-11-21 15:01:56-08:00,store.js,https://github.com/jaruba/PowderPlayer/raw/606ce3b73f10b6385a84432008394ce5b33d8d90/src/components/Header/store.js,https://github.com/jaruba/PowderPlayer/raw/36823e9a47e8e3bf196d18407ba7c44db7df2de3/src/components/Header/store.js,"@@ -6,7 +6,7 @@ class HeaderStore {
     constructor() {
         this.bindActions(MessageActions);
 
-        this.maximized: false;
+        this.maximized = false;
         this.minimized = false;
     }
 
",9,this.maximized: false;,this.maximized = false;
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/8efb121f0f41d9c826c9ee33f313437806fc682f,8efb121f0f41d9c826c9ee33f313437806fc682f,Quick Fix,2015-11-25 07:19:29+02:00,store.js,https://github.com/jaruba/PowderPlayer/raw/84ec530770bbaec0c6312d898bfffaa9382f53dd/src/components/Player/store.js,https://github.com/jaruba/PowderPlayer/raw/8efb121f0f41d9c826c9ee33f313437806fc682f/src/components/Player/store.js,"@@ -181,7 +181,7 @@ class playerStore {
 
     onError() {
         console.log('Player encountered an error.');
-        this.player.stop();
+        this.wcjs.stop();
     }
 
     onEnded() {
",184,this.player.stop();,this.wcjs.stop();
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/81bcfcc5d4dc360c21b84cadccc478f4824fb5b1,81bcfcc5d4dc360c21b84cadccc478f4824fb5b1,Fix Up Playlist,2015-11-29 00:21:31+02:00,Controls.react.js,https://github.com/jaruba/PowderPlayer/raw/0618f403cf44be1617f5d45a97954d9323d59efb/src/components/Player/components/Controls.react.js,https://github.com/jaruba/PowderPlayer/raw/81bcfcc5d4dc360c21b84cadccc478f4824fb5b1/src/components/Player/components/Controls.react.js,"@@ -96,7 +96,7 @@ default React.createClass({
                 var realPos = Math.floor(window.innerWidth * percent_done) + this.state.tooltipHalf;
             }
 
-            var seekTime = handleTime(percent_done * this.state.length);
+            var seekTime = handleTime(percent_done * this.state.length, this.state.length);
 
             if (seekTime.length > 5)
                 newState.tooltipHalf = 33;
",99,var seekTime = handleTime(percent_done * this.state.length);,"var seekTime = handleTime(percent_done * this.state.length, this.state.length);"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/32f5c22a900a54a1156a8816534392961da1e339,32f5c22a900a54a1156a8816534392961da1e339,Fixed some more minor player issues,2015-12-15 15:37:40+02:00,Header.react.js,https://github.com/jaruba/PowderPlayer/raw/b94f3396089f9f1ba057f4dfa7636d3e3530888e/src/components/Player/components/Header.react.js,https://github.com/jaruba/PowderPlayer/raw/32f5c22a900a54a1156a8816534392961da1e339/src/components/Player/components/Header.react.js,"@@ -75,7 +75,7 @@ default React.createClass({
         return (
             <div className={this.state.playlistOpen ? 'header playlist-head' : this.state.uiShown ? 'header show' : 'header'}>
                 <IconButton onClick={this.handleClose} iconClassName=""material-icons"" iconStyle={{color: 'white', fontSize: '40px'}} tooltipPosition=""bottom-right"" tooltip=""Main Menu"" className=""player-close"" >arrow_back</IconButton>
-                <p className=""title"">{this.state.title}</p> 
+                <p className=""title"" style={{width: 'calc(100% - '+(this.state.foundTrakt ? '202' : '155')+'px)'}}>{this.state.title}</p> 
                 <IconButton onClick={PlayerActions.togglePlaylist} iconClassName=""material-icons"" className=""player-playlist"" iconStyle={{color: 'white', fontSize: '30px', right: '-2px', top: '-1px'}} tooltipPosition=""bottom-center"" tooltip=""Playlist"">playlist_add_check</IconButton>
                 <IconButton onClick={this.handleOpenSettings} iconClassName=""material-icons"" iconStyle={{color: 'white', fontSize: '23px'}} tooltipPosition=""bottom-center"" tooltip=""Player Settings"" className=""player-settings"">tune</IconButton>
                 <IconButton onClick={this.handleOpenTrakt} iconClassName=""material-icons"" iconStyle={{color: 'white', fontSize: '23px'}} tooltipPosition=""bottom-center"" tooltip=""Trakt Info"" className=""trakt-info"" style={{ display: this.state.foundTrakt ? 'block' : 'none' }}></IconButton>
",78,"<p className=""title"">{this.state.title}</p>","<p className=""title"" style={{width: 'calc(100% - '+(this.state.foundTrakt ? '202' : '155')+'px)'}}>{this.state.title}</p>"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/b62223b20917b5157e459d424bcb0ab618c3a153,b62223b20917b5157e459d424bcb0ab618c3a153,Fix shouldScrobble logic,2016-01-04 19:25:11+02:00,actions.js,https://github.com/jaruba/PowderPlayer/raw/81b1165df146c1e4e06722e729a1a62afaaf4f31/src/components/Player/actions.js,https://github.com/jaruba/PowderPlayer/raw/b62223b20917b5157e459d424bcb0ab618c3a153/src/components/Player/actions.js,"@@ -225,7 +225,7 @@ class PlayerActions {
                                                 foundTrakt: true
                                             });
 
-                                            var shouldScrobble = traktUtil.loggedIn && ls.isSet('traktScrobble');
+                                            var shouldScrobble = traktUtil.loggedIn && (ls.isSet('traktScrobble') ? ls('traktScrobble') : true);
                                             if (shouldScrobble) {
                                                 if (!ls.isSet('playerNotifs') || ls('playerNotifs'))
                                                     player.notifier.info('Scrobbling', '', 6000);
",228,var shouldScrobble = traktUtil.loggedIn && ls.isSet('traktScrobble');,var shouldScrobble = traktUtil.loggedIn && (ls.isSet('traktScrobble') ? ls('traktScrobble') : true);
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/6b6e8ea9ba5e53d8d048f305bbb079367faeb6dc,6b6e8ea9ba5e53d8d048f305bbb079367faeb6dc,Various Fixes,2016-01-15 07:40:15+02:00,actions.js,https://github.com/jaruba/PowderPlayer/raw/97451f8cbc3a7b049a8757f295824888e0da759b/src/components/Player/components/Controls/actions.js,https://github.com/jaruba/PowderPlayer/raw/6b6e8ea9ba5e53d8d048f305bbb079367faeb6dc/src/components/Player/components/Controls/actions.js,"@@ -191,7 +191,7 @@ class ControlActions {
 
     handleMute(event) {
         var controlState = this.alt.stores.ControlStore.state;
-        this.actions.mute(!controlState.mute);
+        this.actions.mute(!controlState.muted);
     }
 
     mute(mute) {
",194,this.actions.mute(!controlState.mute);,this.actions.mute(!controlState.muted);
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/0a001c3376c368e284818197012a72731f5dacfc,0a001c3376c368e284818197012a72731f5dacfc,Fix CSS,2016-02-16 06:30:09+02:00,Settings.react.js,https://github.com/jaruba/PowderPlayer/raw/33a924dfa441b12789a2569acc37e9e61c055531/src/components/Player/components/Settings.react.js,https://github.com/jaruba/PowderPlayer/raw/0a001c3376c368e284818197012a72731f5dacfc/src/components/Player/components/Settings.react.js,"@@ -1084,7 +1084,7 @@ default React.createClass({
             })
             
             renderSettings.push(
-                <Tab key={klm + 1000} label={ij} style={{height: '100%'}}>
+                <Tab key={klm + 1000} label={ij} style={{height: '100%', textTransform: 'none', padding: '14px 12px'}}>
                     <div className=""playlist-inner"" style={{maxWidth: '700px', maxHeight: 'calc(100% - 130px)'}}>
                         {indents[ij]}
                     </div>
",1087,<Tab key={klm + 1000} label={ij} style={{height: '100%'}}>,"<Tab key={klm + 1000} label={ij} style={{height: '100%', textTransform: 'none', padding: '14px 12px'}}>"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/b4d8e6c65c01a68f967b6be1f673ff629145ab1a,b4d8e6c65c01a68f967b6be1f673ff629145ab1a,Quick Fix,2016-05-13 20:51:20+03:00,index.js,https://github.com/jaruba/PowderPlayer/raw/e3a13dccd1fdebb1ed17a9dcd23313cd10ae9a4a/src/components/Player/index.js,https://github.com/jaruba/PowderPlayer/raw/b4d8e6c65c01a68f967b6be1f673ff629145ab1a/src/components/Player/index.js,"@@ -48,7 +48,7 @@ const Player = React.createClass({
         VisibilityStore.unlisten(this.update);
         hotkeys.detach(this.props);
         cacheUtil.stop();
-        window.removeListener('contextmenu', contextMenu.listen);
+        window.removeEventListener('contextmenu', contextMenu.listen);
     },
     componentDidMount() {
         var announcer = document.getElementsByClassName('wcjs-announce')[0];
",51,"window.removeListener('contextmenu', contextMenu.listen);","window.removeEventListener('contextmenu', contextMenu.listen);"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/3e46403721902723d92414f554bfab76126fe3f0,3e46403721902723d92414f554bfab76126fe3f0,"Fix Input Auto Select for ""Use a URL""",2016-05-31 03:22:02+03:00,URLadd.js,https://github.com/jaruba/PowderPlayer/raw/d605b725bd0bc4af329cc2ebcf6d9e0e6cce9993/src/components/Modal/components/URLadd.js,https://github.com/jaruba/PowderPlayer/raw/3e46403721902723d92414f554bfab76126fe3f0/src/components/Modal/components/URLadd.js,"@@ -155,7 +155,7 @@ default React.createClass({
         this.refs['dialog'].open();
         _.delay(() => {
             this.refs['urlInput'].$.input.focus()
-        });
+        }, 100);
     },
     render() {
         return (
",158,});,"}, 100);"
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/87dde3f8fb963f38aab9668d3a1233290b229493,87dde3f8fb963f38aab9668d3a1233290b229493,Possible Fix For #127,2018-02-11 17:08:14+02:00,updates.js,https://github.com/jaruba/PowderPlayer/raw/6e6cf8e038b557feeb976d63292650d8080f3091/src/components/Player/utils/updates.js,https://github.com/jaruba/PowderPlayer/raw/87dde3f8fb963f38aab9668d3a1233290b229493/src/components/Player/utils/updates.js,"@@ -15,7 +15,7 @@ module.exports = {
         // announce update every 3 days
         if (ls('updateCheck') < Math.floor(Date.now() / 1000) - 259200) {
             needle.get('http://powder.media/version', (err, res) => {
-                if (!err && res.body && res.body.includes('|')) {
+                if (!err && res.body && res.body.length < 100 && res.body.includes && res.body.includes('|')) {
                     var vers = new TextDecoder(""utf-8"").decode(res.body).split('|');
                     if (vers[0] == ls('version')) {
                         ls('updateCheck', Math.floor(Date.now() / 1000));
",18,if (!err && res.body && res.body.includes('|')) {,if (!err && res.body && res.body.length < 100 && res.body.includes && res.body.includes('|')) {
PowderPlayer,https://github.com/jaruba/PowderPlayer,https://github.com/jaruba/PowderPlayer/commit/596a02ee2d1070d8d12690575758238a28c3c878,596a02ee2d1070d8d12690575758238a28c3c878,Fix For Loop,2020-05-24 04:16:22+03:00,clArgs.js,https://github.com/jaruba/PowderPlayer/raw/1e584ce2629986faaab735131b40104b641da013/src/utils/clArgs.js,https://github.com/jaruba/PowderPlayer/raw/596a02ee2d1070d8d12690575758238a28c3c878/src/utils/clArgs.js,"@@ -89,7 +89,7 @@ function startWebApi(el) {
             if (((((player || {}).wcjs || {}).playlist || {}).items || [])[0]) {
                 var items = []
 
-                for (i = 0; i < player.wcjs.playlist.items.count; i++)
+                for (var i = 0; i < player.wcjs.playlist.items.count; i++)
                     items.push(player.itemDesc(i))
 
                 success(res, items)
",92,for (i = 0; i < player.wcjs.playlist.items.count; i++),for (var i = 0; i < player.wcjs.playlist.items.count; i++)
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/63f9e479afe5cad271b845797bd37f8f22b9347e,63f9e479afe5cad271b845797bd37f8f22b9347e,projects bulk creation fix,2013-08-14 05:01:00+04:00,support.js,https://github.com/codio/iloveopensource/raw/3b4a426e26debe790e1be0e8ff18442445588242/app/models/support.js,https://github.com/codio/iloveopensource/raw/63f9e479afe5cad271b845797bd37f8f22b9347e/app/models/support.js,"@@ -35,7 +35,7 @@ SupportSchema.statics.updateSupportByUser = function (userId, repos, cb) {
 			project: repo._id,
 			contributing: repo.support.contributing === 'true',
 			donating: repo.support.donating === 'true',
-			supporting: repo.support.donating === 'true'
+			supporting: repo.support.supporting === 'true'
 		}
 	})
 
",38,supporting: repo.support.donating === 'true',supporting: repo.support.supporting === 'true'
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/257ca901d9d6358dea2fb29c7ff5a41a665e80ce,257ca901d9d6358dea2fb29c7ff5a41a665e80ce,fixes #17 Certain actions result in 0 Selected Repos when you return,2013-09-23 11:04:47+04:00,router.js,https://github.com/codio/iloveopensource/raw/85e44c5af253f358af04c879dcc4a1a6d39b1eaf/public/js/modules/repo-selector/router.js,https://github.com/codio/iloveopensource/raw/257ca901d9d6358dea2fb29c7ff5a41a665e80ce/public/js/modules/repo-selector/router.js,"@@ -15,7 +15,7 @@ define(function (require) {
 			'*actions': 'switchType'
 		},
 		switchType: function (type, id, tab) {
-			if (type != store().currentType.type || id != store().currentType.id) {
+			if (!store().currentType.type || type != store().currentType.type || id != store().currentType.id) {
 				store().currentType = {
 					type: type || 'user',
 					id: id || currentUserId
",18,if (type != store().currentType.type || id != store().currentType.id) {,if (!store().currentType.type || type != store().currentType.type || id != store().currentType.id) {
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/429a0d2a0124b4ffe8530cdbe737ebd6498811a5,429a0d2a0124b4ffe8530cdbe737ebd6498811a5,fixed support deletion,2013-09-23 16:20:30+04:00,supporters.js,https://github.com/codio/iloveopensource/raw/91e43c4a6e90efbbd67e072f0e5e4c7f2599d1f7/app/routes/supporters.js,https://github.com/codio/iloveopensource/raw/429a0d2a0124b4ffe8530cdbe737ebd6498811a5/app/routes/supporters.js,"@@ -74,7 +74,7 @@ module.exports = function (app) {
 	app.delete('/supporter/support/:type/:by/[0-9]+', ensureAuthenticated, function (req, res) {
 		if (!req.body || !req.body.id) return res.send('empty request')
 
-		Support.removeEntry(req.user._id, req.param('type'), req.param('by'), req.body.id, function (error, supports) {
+		Support.removeEntry(req.user, req.param('type'), req.param('by'), req.body.id, function (error, supports) {
 			if (error) return res.send(400, 'Failed to remove your support');
 			res.send('removed')
 		})
",77,"Support.removeEntry(req.user._id, req.param('type'), req.param('by'), req.body.id, function (error, supports) {","Support.removeEntry(req.user, req.param('type'), req.param('by'), req.body.id, function (error, supports) {"
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/1102be4db54c6293e3210f315be153e4442f234c,1102be4db54c6293e3210f315be153e4442f234c,"fixes #28 Codio image link to be updated
fixes #26 Put a marker in the repos list next to any supported project",2013-09-23 18:34:16+04:00,maintainers.js,https://github.com/codio/iloveopensource/raw/633c3a1b58e6893a61d9ffdc71a917da4ec32e2d/app/routes/maintainers.js,https://github.com/codio/iloveopensource/raw/1102be4db54c6293e3210f315be153e4442f234c/app/routes/maintainers.js,"@@ -26,7 +26,7 @@ module.exports = function (app) {
 			{
 				'admins': req.user._id
 			}
-		]}).exec(function (error, repos) {
+		]}, function (error, repos) {
 				if (error) return res.send(500, error)
 				res.send(repos)
 			})
",29,"]}).exec(function (error, repos) {","]}, function (error, repos) {"
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/3d8daaa4e79993e37cc9cde964e1019195ef2a7d,3d8daaa4e79993e37cc9cde964e1019195ef2a7d,fixes #37 Highlight Supporters or Maintainers in the top menu,2013-09-25 11:30:41+04:00,maintainers.js,https://github.com/codio/iloveopensource/raw/793cf99f576488899d26e79e5dedfcba0d59cc1d/app/routes/maintainers.js,https://github.com/codio/iloveopensource/raw/3d8daaa4e79993e37cc9cde964e1019195ef2a7d/app/routes/maintainers.js,"@@ -15,7 +15,7 @@ var _ = require('lodash'),
 
 module.exports = function (app) {
 	app.get('/maintainer', ensureAuthenticated, function (req, res) {
-		res.render('maintainer-editor', { user: req.user });
+		res.render('maintainer-editor', { user: req.user, activeTab: 'maintainers' });
 	});
 
 	app.get('/maintainer/projects', ensureAuthenticated, function (req, res) {
",18,"res.render('maintainer-editor', { user: req.user });","res.render('maintainer-editor', { user: req.user, activeTab: 'maintainers' });"
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/3d8daaa4e79993e37cc9cde964e1019195ef2a7d,3d8daaa4e79993e37cc9cde964e1019195ef2a7d,fixes #37 Highlight Supporters or Maintainers in the top menu,2013-09-25 11:30:41+04:00,supporters.js,https://github.com/codio/iloveopensource/raw/793cf99f576488899d26e79e5dedfcba0d59cc1d/app/routes/supporters.js,https://github.com/codio/iloveopensource/raw/3d8daaa4e79993e37cc9cde964e1019195ef2a7d/app/routes/supporters.js,"@@ -18,7 +18,7 @@ var _ = require('lodash'),
 
 module.exports = function (app) {
 	app.get('/supporter', ensureAuthenticated, function (req, res) {
-		res.render('repo-editor', { user: req.user });
+		res.render('repo-editor', { user: req.user, activeTab: 'supporters' });
 	});
 
 	app.get('/supporter/github/*', ensureAuthenticated, function (req, res) {
",21,"res.render('repo-editor', { user: req.user });","res.render('repo-editor', { user: req.user, activeTab: 'supporters' });"
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/7da2e6b7549f2481e436ecc13b041193e476ee38,7da2e6b7549f2481e436ecc13b041193e476ee38,fixes #34 404 preview button error,2013-09-25 11:36:34+04:00,layout.js,https://github.com/codio/iloveopensource/raw/3d8daaa4e79993e37cc9cde964e1019195ef2a7d/public/js/modules/repo-selector/views/layout.js,https://github.com/codio/iloveopensource/raw/7da2e6b7549f2481e436ecc13b041193e476ee38/public/js/modules/repo-selector/views/layout.js,"@@ -94,7 +94,7 @@ define(function (require) {
 				link.push(currentUserName)
 			}
 
-			return link.join('/')
+			return '/' + link.join('/')
 		}
 	});
 })
\ No newline at end of file
",97,return link.join('/'),return '/' + link.join('/')
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/e6c91ea30ffeab40438959211a6cbce6cbfb60c3,e6c91ea30ffeab40438959211a6cbce6cbfb60c3,fixes #32 new email input on maintainers page,2013-09-25 13:49:55+04:00,project.js,https://github.com/codio/iloveopensource/raw/ab4598b44f7329cfad69791e4ad7a096ba3e8bfd/app/models/project.js,https://github.com/codio/iloveopensource/raw/e6c91ea30ffeab40438959211a6cbce6cbfb60c3/app/models/project.js,"@@ -34,7 +34,7 @@ var ProjectSchema = new Schema({
 		paypal: {type: String, trim: true},
 		flattr: {type: String, trim: true},
 		other: {type: String, trim: true},
-		emailMe: Boolean,
+		emailMe: { type: String, match: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i, trim: true },
 		code: Boolean
 	}
 })
",37,"emailMe: Boolean,","emailMe: { type: String, match: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i, trim: true },"
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/5762111aaf33dad85004993959c3e96604c74bd8,5762111aaf33dad85004993959c3e96604c74bd8,"fixed #50 Cannot search for short names as says ""query is too short""",2013-09-27 12:00:59+04:00,search.js,https://github.com/codio/iloveopensource/raw/b058c0bd8ce395b9192702b17be13d6d1a68cea6/public/js/modules/repo-selector/views/search.js,https://github.com/codio/iloveopensource/raw/5762111aaf33dad85004993959c3e96604c74bd8/public/js/modules/repo-selector/views/search.js,"@@ -9,7 +9,7 @@ define(function (require) {
 	var urlRegExp = /^((https+:\/\/github.com\/)([^\/]+)\/([^\/#]+)\/*)(.*)$/
 
 	return RepoList.extend({
-		minLength: 5,
+		minLength: 1,
 		tpl: require('tpl!../templates/repo-search.html'),
 		events: {
 			'keyup .search-string': 'triggerSearch',
",12,"minLength: 5,","minLength: 1,"
iloveopensource,https://github.com/codio/iloveopensource,https://github.com/codio/iloveopensource/commit/0f420177b82278b4c1771bb838fd9508148a9404,0f420177b82278b4c1771bb838fd9508148a9404,fixed timing,2013-10-08 15:21:38+04:00,requests.js,https://github.com/codio/iloveopensource/raw/d632254cf55a3e7979c21a874de36fad628b327e/app/models/requests.js,https://github.com/codio/iloveopensource/raw/0f420177b82278b4c1771bb838fd9508148a9404/app/models/requests.js,"@@ -39,7 +39,7 @@ var RequestSchema = new Schema({
 
 
 RequestSchema.pre('save', function (next) {
-    if (!this.created_at) this.created_at = new Date;
+    if (!this.createdAt) this.createdAt = new Date;
     if (this.maintainer) {
         if (this.maintainer.notified && !this.maintainer.notifiedAt) {
             this.maintainer.notifiedAt = new Date
",42,if (!this.created_at) this.created_at = new Date;,if (!this.createdAt) this.createdAt = new Date;
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/def0dba8f84924a04ef3063250c331bc8e0e252a,def0dba8f84924a04ef3063250c331bc8e0e252a,fix ruby detect when use system libs,2013-06-28 14:27:40+08:00,sass.js,https://github.com/oklai/koala/raw/bcf293c41d2bc999e5cd1022ad948f7e2c35005e/src/app/compiler/sass.js,https://github.com/oklai/koala/raw/def0dba8f84924a04ef3063250c331bc8e0e252a/src/app/compiler/sass.js,"@@ -46,7 +46,7 @@ function getSassCmd() {
  */
 function sassCompile(file, success, fail) {
 	//has no sass environment
-	if (!appConfig.rubyAvailable) {
+	if (!appConfig.rubyAvailable && !appConfig.useSystemCommand.sass ) {
 		if (fail) fail();
 		var message = il8n.__('not found ruby runtime environment');
 		notifier.throwError(message);
",49,if (!appConfig.rubyAvailable) {,if (!appConfig.rubyAvailable && !appConfig.useSystemCommand.sass ) {
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/556ec5b8bff5c3a5beeb3403db0253a9654e1aa1,556ec5b8bff5c3a5beeb3403db0253a9654e1aa1,fix compass compile,2013-07-12 11:52:23+08:00,CompassCompiler.js,https://github.com/oklai/koala/raw/57b5fbff13290b7286e8ad340efe4014850d1a80/src/app/compilers/compass/CompassCompiler.js,https://github.com/oklai/koala/raw/556ec5b8bff5c3a5beeb3403db0253a9654e1aa1/src/app/compilers/compass/CompassCompiler.js,"@@ -47,7 +47,7 @@ CompassCompiler.prototype.getCompassCmd = function (flag) {
  * @param  {Function} fail    compile fail callback
  */
 CompassCompiler.prototype.compile = function (file, success, fail) {
-	var self = this;
+	var self = this,
 		projectConfig = projectDb[file.pid].config || {},
 		projectDir = projectDb[file.pid].src,
 		filePath = file.src,
",50,var self = this;,"var self = this,"
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/556ec5b8bff5c3a5beeb3403db0253a9654e1aa1,556ec5b8bff5c3a5beeb3403db0253a9654e1aa1,fix compass compile,2013-07-12 11:52:23+08:00,SassCompiler.js,https://github.com/oklai/koala/raw/57b5fbff13290b7286e8ad340efe4014850d1a80/src/app/compilers/sass/SassCompiler.js,https://github.com/oklai/koala/raw/556ec5b8bff5c3a5beeb3403db0253a9654e1aa1/src/app/compilers/sass/SassCompiler.js,"@@ -46,7 +46,7 @@ SassCompiler.prototype.getSassCmd = function () {
  * @param  {Function} success compile success calback
  * @param  {Function} fail    compile fail callback
  */
-SassCompiler.prototype.sassCompile = function (file, success, fail) {
+SassCompiler.prototype.compile = function (file, success, fail) {
 	var self = this,
 		filePath = file.src,
 		output = file.output;
",49,"SassCompiler.prototype.sassCompile = function (file, success, fail) {","SassCompiler.prototype.compile = function (file, success, fail) {"
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/e09c8ce5fb6dfae01d5116909aefaa1847920487,e09c8ce5fb6dfae01d5116909aefaa1847920487,Fix a small bug,2013-07-14 11:44:02+03:00,renderpage.js,https://github.com/oklai/koala/raw/ebe28863018ffe830bd6a34f26d9603a5e4bc87c/src/app/scripts/renderpage.js,https://github.com/oklai/koala/raw/e09c8ce5fb6dfae01d5116909aefaa1847920487/src/app/scripts/renderpage.js,"@@ -100,7 +100,7 @@ var renderViews = function (viewsJson, useExpandPack) {
 			sessionName = 'jade' + sessionName;
 
 			// Save  jade file path
-			sessionStorage.setItem('fileNameOf-' + sessionName, content);
+			sessionStorage.setItem('fileNameOf-' + sessionName, item);
 		} else {
 			sessionName = 'views' + sessionName;
 		}
",103,"sessionStorage.setItem('fileNameOf-' + sessionName, content);","sessionStorage.setItem('fileNameOf-' + sessionName, item);"
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/befb6c084b75f7a349eb45b66b50d5f5327362ad,befb6c084b75f7a349eb45b66b50d5f5327362ad,fix some bugs,2013-07-22 20:18:46+08:00,DustCompiler.js,https://github.com/oklai/koala/raw/59a35664e53ff0aa11c07d7849e7cd06115bb47e/src/app/extensions/DustCompiler.js,https://github.com/oklai/koala/raw/befb6c084b75f7a349eb45b66b50d5f5327362ad/src/app/extensions/DustCompiler.js,"@@ -22,7 +22,7 @@ module.exports = new DustCompiler();
  */
 DustCompiler.prototype.compile = function (file, success, fail) {
     //compile file by use system command
-    if (appConfig.useSystemCommand.dust) {
+    if (appConfig.useSystemCommand.dustc) {
         this.compileBySystemCommand(file, success, fail);
         return false;
     }
",25,if (appConfig.useSystemCommand.dust) {,if (appConfig.useSystemCommand.dustc) {
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/18d20387bb327795e59cc57071efd16bbd172b05,18d20387bb327795e59cc57071efd16bbd172b05,fix re-render pages in debug mode,2013-08-14 18:56:36+08:00,renderpage.js,https://github.com/oklai/koala/raw/c3fdbdfc4f15488d315068df89dde8d8f00f1817/src/app/scripts/renderpage.js,https://github.com/oklai/koala/raw/18d20387bb327795e59cc57071efd16bbd172b05/src/app/scripts/renderpage.js,"@@ -49,7 +49,7 @@ var getTemplates = function (dir) {
  */
 var compareDifferent = function (localesPackage) {
     // for debug
-    if (appPackage.window.debug) return false;
+    if (appPackage.window.debug) return true;
 
     var current = util.readJsonSync(localesPackage) || {},
         last = util.parseJSON(localStorage.getItem('lastLocalesPackage')) || {},
",52,if (appPackage.window.debug) return false;,if (appPackage.window.debug) return true;
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/8964dfdb78300147172a7ea67ab7f1fec851dd5c,8964dfdb78300147172a7ea67ab7f1fec851dd5c,bug fixes,2014-01-16 19:58:05+08:00,storage.js,https://github.com/oklai/koala/raw/f85cbce6362fee3e17ae26ed0c72ca739c3b816b/src/app/scripts/storage.js,https://github.com/oklai/koala/raw/8964dfdb78300147172a7ea67ab7f1fec851dd5c/src/app/scripts/storage.js,"@@ -55,7 +55,7 @@ function projectDbinitialize() {
     if (!fs.existsSync(FileManager.projectsFile)) {
         fs.appendFile(FileManager.projectsFile, '{}');
     } else {
-        projectsDb = util.readJsonSync(FileManager.projectsFile);
+        projectsDb = util.readJsonSync(FileManager.projectsFile) || {};
     }
 }
 
",58,projectsDb = util.readJsonSync(FileManager.projectsFile);,projectsDb = util.readJsonSync(FileManager.projectsFile) || {};
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/9b430d1787e03d98066a77c905fa2f3dbb697942,9b430d1787e03d98066a77c905fa2f3dbb697942,fix bug on linux #250,2014-12-06 20:17:35+08:00,initialization.js,https://github.com/oklai/koala/raw/12fe78d255d29c86a18eb27ab241115f81e0f3eb/src/app/scripts/initialization.js,https://github.com/oklai/koala/raw/9b430d1787e03d98066a77c905fa2f3dbb697942/src/app/scripts/initialization.js,"@@ -108,7 +108,7 @@ function resumeWindow () {
 function showMainWindow () {
     if (!global.startup) {
 
-        if (configManager.getAppConfig().minimizeOnStartup) {
+        if (configManager.getAppConfig().minimizeOnStartup && process.platform !== 'linux') {
             mainWindow.minimize()
         } else {
             mainWindow.show();
",111,if (configManager.getAppConfig().minimizeOnStartup) {,if (configManager.getAppConfig().minimizeOnStartup && process.platform !== 'linux') {
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/c7107d395b1af02245e312e2ac601a1ac522ac83,c7107d395b1af02245e312e2ac601a1ac522ac83,Prevent hiding the app icon in the dock on mac after a notification shown. (fixes #608),2017-05-02 21:15:35+02:00,notifier.js,https://github.com/oklai/koala/raw/60b001903048a00dd46bf12dbdf6bee937046ddc/src/app/scripts/notifier.js,https://github.com/oklai/koala/raw/c7107d395b1af02245e312e2ac601a1ac522ac83/src/app/scripts/notifier.js,"@@ -105,7 +105,7 @@ function createNotifierWindow(options, type, callback) {
         resizable: false,
         icon: 'file://' + path.join(FileManager.appAssetsDir, 'img/koala.png'),
         show: false,
-        show_in_taskbar: false,
+        show_in_taskbar: process.platform !== 'darwin',
         always_on_top: true,
     };
 
",108,"show_in_taskbar: false,","show_in_taskbar: process.platform !== 'darwin',"
koala,https://github.com/oklai/koala,https://github.com/oklai/koala/commit/22a3e0ad1d9d200bbf5662152de52a4d73da5415,22a3e0ad1d9d200bbf5662152de52a4d73da5415,Fix typo in commit (c7107d3),2017-05-06 17:52:42+02:00,notifier.js,https://github.com/oklai/koala/raw/20b0f8b9105bee1ce7d2d4e3e1b1e69eb428f58b/src/app/scripts/notifier.js,https://github.com/oklai/koala/raw/22a3e0ad1d9d200bbf5662152de52a4d73da5415/src/app/scripts/notifier.js,"@@ -105,7 +105,7 @@ function createNotifierWindow(options, type, callback) {
         resizable: false,
         icon: 'file://' + path.join(FileManager.appAssetsDir, 'img/koala.png'),
         show: false,
-        show_in_taskbar: process.platform !== 'darwin',
+        show_in_taskbar: process.platform === 'darwin',
         always_on_top: true,
     };
 
",108,"show_in_taskbar: process.platform !== 'darwin',","show_in_taskbar: process.platform === 'darwin',"
devkit-core,https://github.com/printhom/devkit-core,https://github.com/printhom/devkit-core/commit/fde198e541fbfa859e08f82e8c805d3a4e6bb5c9,fde198e541fbfa859e08f82e8c805d3a4e6bb5c9,"fix grunt compass removed, widget controller to get path",2015-05-05 20:06:58+02:00,Gruntfile.js,https://github.com/printhom/devkit-core/raw/d0f53828187be54b7d71f110142fe7aa7ef2a059/Gruntfile.js,https://github.com/printhom/devkit-core/raw/fde198e541fbfa859e08f82e8c805d3a4e6bb5c9/Gruntfile.js,"@@ -145,6 +145,6 @@ module.exports = function(grunt) {
 	grunt.registerTask('js:dist', ['build:config', 'concat:', 'uglify']);
 	grunt.registerTask('js:dev', ['build:config', 'concat']);
 
-  	grunt.registerTask('default', ['clean:assets', 'compass', 'js:' + ((window.ENV.type == 'development') ? 'dev' : 'dist'), 'compass']);
+  	grunt.registerTask('default', ['clean:assets', 'js:' + ((window.ENV.type == 'development') ? 'dev' : 'dist')]);
 
 };
",148,"grunt.registerTask('default', ['clean:assets', 'compass', 'js:' + ((window.ENV.type == 'development') ? 'dev' : 'dist'), 'compass']);","grunt.registerTask('default', ['clean:assets', 'js:' + ((window.ENV.type == 'development') ? 'dev' : 'dist')]);"
devkit-core,https://github.com/printhom/devkit-core,https://github.com/printhom/devkit-core/commit/fde198e541fbfa859e08f82e8c805d3a4e6bb5c9,fde198e541fbfa859e08f82e8c805d3a4e6bb5c9,"fix grunt compass removed, widget controller to get path",2015-05-05 20:06:58+02:00,component.js,https://github.com/printhom/devkit-core/raw/d0f53828187be54b7d71f110142fe7aa7ef2a059/core/components/widgets/devkit-widget-markdown/component.js,https://github.com/printhom/devkit-core/raw/fde198e541fbfa859e08f82e8c805d3a4e6bb5c9/core/components/widgets/devkit-widget-markdown/component.js,"@@ -1,4 +1,4 @@
-angular.module('module.modules').controller(""markdownWidgetCtrl"", function( $scope, $rootScope, $timeout ){
+app.controller(""markdownWidgetCtrl"", function( $scope, $rootScope, $timeout ){
 
 	$timeout(function(){
 		$scope.update();
",1,"angular.module('module.modules').controller(""markdownWidgetCtrl"", function( $scope, $rootScope, $timeout ){","app.controller(""markdownWidgetCtrl"", function( $scope, $rootScope, $timeout ){"
devkit-core,https://github.com/printhom/devkit-core,https://github.com/printhom/devkit-core/commit/67d488fc7d0a50998d28ddb3f49ed202f194ac28,67d488fc7d0a50998d28ddb3f49ed202f194ac28,Fixed Dependency loading issue,2015-05-06 10:29:29+02:00,vendor.js,https://github.com/printhom/devkit-core/raw/110be1f801416347e5473593cd85ea31777ba07a/core/modules/vendor.js,https://github.com/printhom/devkit-core/raw/67d488fc7d0a50998d28ddb3f49ed202f194ac28/core/modules/vendor.js,"@@ -1,3 +1,3 @@
 var module = module || {};
 
-module.vendor = angular.module('module.vendor', ['ngTagsInput', 'oc.lazyLoad']);
+module.vendor = angular.module('module.vendor', ['ngTagsInput']);
",3,"module.vendor = angular.module('module.vendor', ['ngTagsInput', 'oc.lazyLoad']);","module.vendor = angular.module('module.vendor', ['ngTagsInput']);"
devkit-core,https://github.com/printhom/devkit-core,https://github.com/printhom/devkit-core/commit/586614fe03ee934f7b314bd5ce9b615b9e6c4b69,586614fe03ee934f7b314bd5ce9b615b9e6c4b69,fix js bug that took down all js,2015-05-12 00:20:18+02:00,application.js,https://github.com/printhom/devkit-core/raw/75074e8514e8288d4df94644d1d685ec5501f783/public/assets/javascripts/application.js,https://github.com/printhom/devkit-core/raw/586614fe03ee934f7b314bd5ce9b615b9e6c4b69/public/assets/javascripts/application.js,"@@ -34953,7 +34953,7 @@ var AuthController = function($scope, $rootScope, $http)
 AuthController.$inject = ['$scope', '$rootScope', '$http'];
 
 app.controller(""AuthController"", AuthController);;
-component.js;
+;
 var fs 				= require('fs');
 var	path			= require('path');
 var archiver 		= require('archiver');
",34956,component.js;,;
devkit-core,https://github.com/printhom/devkit-core,https://github.com/printhom/devkit-core/commit/4b5c748e1b9fb9f95593c1a660967fdc25394b14,4b5c748e1b9fb9f95593c1a660967fdc25394b14,fix issue where app was used in filters before app was defined (looking at you emile :P),2015-05-28 11:03:26+02:00,Filters.js,https://github.com/printhom/devkit-core/raw/68e0fd2a98ce8d3270c1936b2df670b78279c0cc/filters/Filters.js,https://github.com/printhom/devkit-core/raw/4b5c748e1b9fb9f95593c1a660967fdc25394b14/filters/Filters.js,"@@ -1,4 +1,4 @@
-app.filter('trusted', ['$sce', function ($sce) {
+angular.module('filter.trusted', []).filter('trusted', ['$sce', function ($sce) {
     return function(url) {
         return $sce.trustAsResourceUrl(url);
     };
",1,"app.filter('trusted', ['$sce', function ($sce) {","angular.module('filter.trusted', []).filter('trusted', ['$sce', function ($sce) {"
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/6123fc3c970df341adb46bea60572a157dd3e253,6123fc3c970df341adb46bea60572a157dd3e253,fix Gruntfile path for SASS. Also code refactor on playSong directive. Some style changes.,2014-05-15 17:44:48-05:00,searchCtrl.js,https://github.com/Soundnode/soundnode-app/raw/920ab832ef05d50f4d7265a4fafe7b38703a4c19/app/public/js/search/searchCtrl.js,https://github.com/Soundnode/soundnode-app/raw/6123fc3c970df341adb46bea60572a157dd3e253/app/public/js/search/searchCtrl.js,"@@ -1,7 +1,7 @@
 'use strict';
 
 app.controller('searchCtrl', function ($scope, $http, $stateParams) {
-    $scope.title = 'Search results';
+    $scope.title = 'Results for: ' + $stateParams.q;
 
     $scope.data = '';
 
",4,$scope.title = 'Search results';,$scope.title = 'Results for: ' + $stateParams.q;
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/0e282c57906a6671ad7347a85e7e702a140f9f22,0e282c57906a6671ad7347a85e7e702a140f9f22,fix issues when open external link on default browser,2014-05-19 13:44:19-05:00,openExternalLinkDirective.js,https://github.com/Soundnode/soundnode-app/raw/98cf10476e6104d9ad84aff382e2db8b638be8f9/app/public/js/common/openExternalLinkDirective.js,https://github.com/Soundnode/soundnode-app/raw/0e282c57906a6671ad7347a85e7e702a140f9f22/app/public/js/common/openExternalLinkDirective.js,"@@ -5,7 +5,7 @@ app.directive('openExternal', function () {
             var el;
 
             elem.bind('click', function (e) {
-                event.preventDefault();
+                e.preventDefault();
 
                 el = attrs.href + '?client_id=' + window.scClientId;
                 gui.Shell.openExternal( el );
",8,event.preventDefault();,e.preventDefault();
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/67a36eb7f2f206bfbd54a67c9ab9b35679e57395,67a36eb7f2f206bfbd54a67c9ab9b35679e57395,fixes #129 #119 and add code refactoring,2014-11-26 08:59:39-06:00,appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/9fbc891189f1f36ecd32b2d5f8a70e85560010d2/app/public/js/common/appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/67a36eb7f2f206bfbd54a67c9ab9b35679e57395/app/public/js/common/appCtrl.js,"@@ -4,7 +4,7 @@ app.controller('AppCtrl', function ($scope, $window, $log, $rootScope) {
 
     $scope.showBigArtwork = function (img) {
         var newArtwork;
-        if ( img !== null ) {
+        if ( ! angular.isUndefined(img) ) {
             newArtwork = img.replace('large', 't300x300');
             return newArtwork;
         } else {
",7,if ( img !== null ) {,if ( ! angular.isUndefined(img) ) {
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/3335a8028cdfecb2a6ef73fa1f55be356eeed49a,3335a8028cdfecb2a6ef73fa1f55be356eeed49a,closes #177 code refactoring and bugs fixes,2015-01-16 16:12:39-06:00,app.js,https://github.com/Soundnode/soundnode-app/raw/266ef7c25d64ca8bbbd968701d9faa1462e197f7/app/public/js/app.js,https://github.com/Soundnode/soundnode-app/raw/3335a8028cdfecb2a6ef73fa1f55be356eeed49a/app/public/js/app.js,"@@ -1,4 +1,4 @@
-﻿'use strict'
+﻿'use strict';
 
 var app = angular.module('App', ['ui.router', 'ngSanitize', 'cfp.hotkeys', 'infinite-scroll', 'ngDialog']);
 
",1,﻿'use strict',﻿'use strict';
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/3335a8028cdfecb2a6ef73fa1f55be356eeed49a,3335a8028cdfecb2a6ef73fa1f55be356eeed49a,closes #177 code refactoring and bugs fixes,2015-01-16 16:12:39-06:00,appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/266ef7c25d64ca8bbbd968701d9faa1462e197f7/app/public/js/common/appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/3335a8028cdfecb2a6ef73fa1f55be356eeed49a/app/public/js/common/appCtrl.js,"@@ -1,4 +1,4 @@
-'use strict'
+'use strict';
 
 app.controller('AppCtrl', function ($rootScope, $scope, $window, $log, ngDialog, hotkeys) {
 
",1,'use strict','use strict';
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/3335a8028cdfecb2a6ef73fa1f55be356eeed49a,3335a8028cdfecb2a6ef73fa1f55be356eeed49a,closes #177 code refactoring and bugs fixes,2015-01-16 16:12:39-06:00,streamCtrl.js,https://github.com/Soundnode/soundnode-app/raw/266ef7c25d64ca8bbbd968701d9faa1462e197f7/app/public/js/stream/streamCtrl.js,https://github.com/Soundnode/soundnode-app/raw/3335a8028cdfecb2a6ef73fa1f55be356eeed49a/app/public/js/stream/streamCtrl.js,"@@ -1,4 +1,4 @@
-'use strict'
+'use strict';
 
 app.controller('StreamCtrl', function ($scope, SCapiService, $rootScope) {
     var endpoint = 'me/activities'
",1,'use strict','use strict';
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/bfcfb14ce75354dcc7d41a81699fc0e4684e2d76,bfcfb14ce75354dcc7d41a81699fc0e4684e2d76,Fix copy/paste on login screen,2015-05-05 14:46:45+10:00,core.js,https://github.com/Soundnode/soundnode-app/raw/06fc43c6b808998a03980eceb163f13597794457/app/public/js/system/core.js,https://github.com/Soundnode/soundnode-app/raw/bfcfb14ce75354dcc7d41a81699fc0e4684e2d76/app/public/js/system/core.js,"@@ -130,7 +130,7 @@ appSystem.navBarUserUnAuthenticated = function() {
     nativeMenuBar = new gui.Menu({ type: ""menubar"" });
 
     nativeMenuBar.createMacBuiltin(""Soundnode"", {
-        hideEdit: true,
+        hideEdit: false,
         hideWindow: false
     });
 
",133,"hideEdit: true,","hideEdit: false,"
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/74adeb9291ea7f35b1339206bf52d5bab75fa422,74adeb9291ea7f35b1339206bf52d5bab75fa422,fix display action buttons linux and mac,2015-08-20 11:12:09-05:00,appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/88f83de48eecc587040ebe2211501fedfb78506e/app/public/js/common/appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/74adeb9291ea7f35b1339206bf52d5bab75fa422/app/public/js/common/appCtrl.js,"@@ -6,7 +6,7 @@ app.controller('AppCtrl', function ($rootScope, $scope, $window, $log, ngDialog)
     $scope.isSettingsVisible = false;
 
     // Os detection
-    $scope.isRunningLinux = process.platform == 'linux32' || 'linux64';
+    $scope.isRunningLinux = process.platform == 'linux32' || process.platform == 'linux32';
     $scope.isRunningWindows = process.platform == 'win32';
     $scope.isRunningMac = process.platform == 'darwin';
 
",9,$scope.isRunningLinux = process.platform == 'linux32' || 'linux64';,$scope.isRunningLinux = process.platform == 'linux32' || process.platform == 'linux32';
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/b026f7225df9f87b348e30bf732d1b6a8ea7db8b,b026f7225df9f87b348e30bf732d1b6a8ea7db8b,remove code for debugging,2015-08-29 18:59:40-05:00,playerService.js,https://github.com/Soundnode/soundnode-app/raw/2857af3d862b9fb5ddd8ed1055cb1700df45dae6/app/public/js/common/playerService.js,https://github.com/Soundnode/soundnode-app/raw/b026f7225df9f87b348e30bf732d1b6a8ea7db8b/app/public/js/common/playerService.js,"@@ -1,5 +1,5 @@
 /**
- * USER FLOW TRACKS QUEUE REWORK
+ * USER SCENARIOS QUEUE
  *
  * scenario_1:
  * User click on track when no track is playing or paused
",2,* USER FLOW TRACKS QUEUE REWORK,* USER SCENARIOS QUEUE
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/b99edb31f5c3d455b2ea7cea87ccef09bbd77c35,b99edb31f5c3d455b2ea7cea87ccef09bbd77c35,quick fix for profile,2015-09-04 14:58:46-05:00,profileCtrl.js,https://github.com/Soundnode/soundnode-app/raw/1ea7bc8a04951377a9a3b8ac95bc216a532e6808/app/public/js/profile/profileCtrl.js,https://github.com/Soundnode/soundnode-app/raw/b99edb31f5c3d455b2ea7cea87ccef09bbd77c35/app/public/js/profile/profileCtrl.js,"@@ -22,7 +22,7 @@ app.controller('ProfileCtrl', function ($scope, SCapiService, $rootScope, $state
     SCapiService.getProfile(userId)
         .then(function(data) {
             $scope.profile_data = data;
-            $scope.profile_data.description = data.description.replace(/\n/g, '<br>');
+            $scope.profile_data.description = data.description.replace(/\n/g, '<br>') || '';
             $scope.followers_count = numberWithCommas(data.followers_count);
         }, function(error) {
             console.log('error', error);
",25,"$scope.profile_data.description = data.description.replace(/\n/g, '<br>');","$scope.profile_data.description = data.description.replace(/\n/g, '<br>') || '';"
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/9484e64d00a21899c388ac59ec32a2b8b73b4bb9,9484e64d00a21899c388ac59ec32a2b8b73b4bb9,quick typo fix,2015-09-08 18:15:01-05:00,playerService.js,https://github.com/Soundnode/soundnode-app/raw/068a64d65e293884d3d1bc13581f94365704ecf2/app/public/js/common/playerService.js,https://github.com/Soundnode/soundnode-app/raw/9484e64d00a21899c388ac59ec32a2b8b73b4bb9/app/public/js/common/playerService.js,"@@ -30,7 +30,7 @@ app.factory('playerService', function($rootScope, $log, $timeout, $window, $stat
     $rootScope.shuffle= false;
 
     /**
-     * Get a number betweem the min index and max index
+     * Get a number between min index and max index
      * in the Queue array
      * @returns {number} [index in array]
      */
",33,* Get a number betweem the min index and max index,* Get a number between min index and max index
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/7e5b4ccd3d6a0129800b25c928d24207be656f44,7e5b4ccd3d6a0129800b25c928d24207be656f44,"fix #366, fix 367 issues",2015-09-15 12:05:39-05:00,appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/ebf617204e34f83b192495d4396592ef75e31dbf/app/public/js/common/appCtrl.js,https://github.com/Soundnode/soundnode-app/raw/7e5b4ccd3d6a0129800b25c928d24207be656f44/app/public/js/common/appCtrl.js,"@@ -6,7 +6,7 @@ app.controller('AppCtrl', function ($rootScope, $scope, $window, $log, ngDialog)
     $scope.isSettingsVisible = false;
 
     // Os detection
-    $scope.isRunningLinux = process.platform == 'linux32' || process.platform == 'linux64';
+    $scope.isRunningLinux = process.platform == 'linux32' || process.platform == 'linux64' || process.platform == 'linux';
     $scope.isRunningWindows = process.platform == 'win32';
     $scope.isRunningMac = process.platform == 'darwin';
 
",9,$scope.isRunningLinux = process.platform == 'linux32' || process.platform == 'linux64';,$scope.isRunningLinux = process.platform == 'linux32' || process.platform == 'linux64' || process.platform == 'linux';
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/6b9e02b3f6e36e39fc178a0da041afe125a4376b,6b9e02b3f6e36e39fc178a0da041afe125a4376b,fix #348,2015-09-22 17:24:52-05:00,favoritesCtrl.js,https://github.com/Soundnode/soundnode-app/raw/9206cdca0e373952be5f73f639d0d753123c0dc5/app/public/js/favorites/favoritesCtrl.js,https://github.com/Soundnode/soundnode-app/raw/6b9e02b3f6e36e39fc178a0da041afe125a4376b/app/public/js/favorites/favoritesCtrl.js,"@@ -1,4 +1,4 @@
-'use strict'
+'use strict';
 
 app.controller('FavoritesCtrl', function ($scope, SCapiService, $rootScope) {
     var endpoint = 'me/favorites'
",1,'use strict','use strict';
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/6b9e02b3f6e36e39fc178a0da041afe125a4376b,6b9e02b3f6e36e39fc178a0da041afe125a4376b,fix #348,2015-09-22 17:24:52-05:00,streamCtrl.js,https://github.com/Soundnode/soundnode-app/raw/9206cdca0e373952be5f73f639d0d753123c0dc5/app/public/js/stream/streamCtrl.js,https://github.com/Soundnode/soundnode-app/raw/6b9e02b3f6e36e39fc178a0da041afe125a4376b/app/public/js/stream/streamCtrl.js,"@@ -53,7 +53,7 @@ app.controller('StreamCtrl', function ($scope, SCapiService, $rootScope) {
             var track = tracksData[i].origin;
 
             if (track.hasOwnProperty('user_favorite'))
-                track.user_favorite = ($scope.likes.indexOf(track.id) != -1);
+                track.user_favorite = ($scope.likes.collection.indexOf(track.id) != -1);
         }
     }
 
",56,track.user_favorite = ($scope.likes.indexOf(track.id) != -1);,track.user_favorite = ($scope.likes.collection.indexOf(track.id) != -1);
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/94ccbf96e4c84aae47b6a464784b4e4c4b29b8e0,94ccbf96e4c84aae47b6a464784b4e4c4b29b8e0,fixed likes on stream view,2015-10-12 20:14:16+02:00,SCapiService.js,https://github.com/Soundnode/soundnode-app/raw/09520f06fef43cb03ad731f5d25adb0593e60134/app/public/js/common/SCapiService.js,https://github.com/Soundnode/soundnode-app/raw/94ccbf96e4c84aae47b6a464784b4e4c4b29b8e0/app/public/js/common/SCapiService.js,"@@ -208,7 +208,7 @@ app.service('SCapiService', function ($http, $window, $q, $log, $state, $statePa
                                 return response.data.collection.concat(next_href_response.collection);
                         })
                     } else {
-                        return response.data;
+                        return response.data.collection;
                     }
                 } else {
                     // invalid response
",211,return response.data;,return response.data.collection;
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/94ccbf96e4c84aae47b6a464784b4e4c4b29b8e0,94ccbf96e4c84aae47b6a464784b4e4c4b29b8e0,fixed likes on stream view,2015-10-12 20:14:16+02:00,streamCtrl.js,https://github.com/Soundnode/soundnode-app/raw/09520f06fef43cb03ad731f5d25adb0593e60134/app/public/js/stream/streamCtrl.js,https://github.com/Soundnode/soundnode-app/raw/94ccbf96e4c84aae47b6a464784b4e4c4b29b8e0/app/public/js/stream/streamCtrl.js,"@@ -53,7 +53,7 @@ app.controller('StreamCtrl', function ($scope, SCapiService, $rootScope) {
             var track = tracksData[i].origin;
 
             if (track.hasOwnProperty('user_favorite'))
-                track.user_favorite = ($scope.likes.collection.indexOf(track.id) != -1);
+                track.user_favorite = ($scope.likes.indexOf(track.id) != -1);
         }
     }
 
",56,track.user_favorite = ($scope.likes.collection.indexOf(track.id) != -1);,track.user_favorite = ($scope.likes.indexOf(track.id) != -1);
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/dd1176fea0eab896903b1be1737b1e3c9fc68458,dd1176fea0eab896903b1be1737b1e3c9fc68458,fix 416. add of utils/helpers and code refactoring,2015-10-26 11:14:40-05:00,favoriteSongDirective.js,https://github.com/Soundnode/soundnode-app/raw/6fe7839fe15832be747680b1104ae1cc6a22c091/app/public/js/common/favoriteSongDirective.js,https://github.com/Soundnode/soundnode-app/raw/dd1176fea0eab896903b1be1737b1e3c9fc68458/app/public/js/common/favoriteSongDirective.js,"@@ -14,7 +14,7 @@ app.directive('favoriteSong', function($rootScope, $log, SCapiService, $timeout,
                 userId = $rootScope.userId;
                 songId = attrs.songId;
 
-                if ( $scope.favorite === true ) {
+                if ( $scope.favorite ) {
 
                     SCapiService.deleteFavorite(userId, songId)
                         .then(function(status) {
",17,if ( $scope.favorite === true ) {,if ( $scope.favorite ) {
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/5215fe10ac63e0abe5ac1644bca876d0af374759,5215fe10ac63e0abe5ac1644bca876d0af374759,quick fix for when disliking liked track from the queue,2015-10-26 12:11:00-05:00,favoriteSongDirective.js,https://github.com/Soundnode/soundnode-app/raw/d4e906080f2dda532add9811168caab990c6acb9/app/public/js/common/favoriteSongDirective.js,https://github.com/Soundnode/soundnode-app/raw/5215fe10ac63e0abe5ac1644bca876d0af374759/app/public/js/common/favoriteSongDirective.js,"@@ -14,7 +14,7 @@ app.directive('favoriteSong', function($rootScope, $log, SCapiService, $timeout,
                 userId = $rootScope.userId;
                 songId = attrs.songId;
 
-                if ( $scope.favorite ) {
+                if ( this.classList.contains('liked') ) {
 
                     SCapiService.deleteFavorite(userId, songId)
                         .then(function(status) {
",17,if ( $scope.favorite ) {,if ( this.classList.contains('liked') ) {
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/06c2cdf89f935f03d1b22b6a474ffc186e75b86e,06c2cdf89f935f03d1b22b6a474ffc186e75b86e,fix and improve PR #453,2015-12-07 11:38:34-06:00,core.js,https://github.com/Soundnode/soundnode-app/raw/11f0ef6ccb2453b09fdc89d78d4c4674a5490eda/app/public/js/system/core.js,https://github.com/Soundnode/soundnode-app/raw/06c2cdf89f935f03d1b22b6a474ffc186e75b86e/app/public/js/system/core.js,"@@ -3,5 +3,5 @@
 // Initialize modules
 authentication.init();
 userConfig.windowState();
-userConfig.scaleState();
+userConfig.scaleInit();
 guiConfig.init();
",6,userConfig.scaleState();,userConfig.scaleInit();
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/c6288336e53a95893c1d249a25bb77f1729099ab,c6288336e53a95893c1d249a25bb77f1729099ab,Fixed logout bug,2016-01-05 18:07:47+01:00,userCtrl.js,https://github.com/Soundnode/soundnode-app/raw/370544664f3b04f05b8083b6b6b5e979f438b7f1/app/public/js/user/userCtrl.js,https://github.com/Soundnode/soundnode-app/raw/c6288336e53a95893c1d249a25bb77f1729099ab/app/public/js/user/userCtrl.js,"@@ -16,7 +16,7 @@ app.controller('UserCtrl', function ($rootScope, $scope, $window, SCapiService)
 
     $scope.logOut = function() {
         $window.localStorage.clear();
-        appGUI.close();
+        guiConfig.close();
     }
 
 });
",19,appGUI.close();,guiConfig.close();
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/487e4ef1483b032c7da76e25ca7417bcf7593f16,487e4ef1483b032c7da76e25ca7417bcf7593f16,add fix to user-profile-link PR. #733,2016-07-01 15:12:36-05:00,profileCtrl.js,https://github.com/Soundnode/soundnode-app/raw/6e447d5acfc762ce6fd04c0aff85bf4b7b209090/app/public/js/profile/profileCtrl.js,https://github.com/Soundnode/soundnode-app/raw/487e4ef1483b032c7da76e25ca7417bcf7593f16/app/public/js/profile/profileCtrl.js,"@@ -29,7 +29,7 @@ app.controller('ProfileCtrl', function (
     SCapiService.getProfile(userId)
         .then(function(data) {
             $scope.profile_data = data;
-            $scope.profile_data.description = data.description && data.description.replace(/\n/g, '<br>') || '';
+            $scope.profile_data.description = ( data.description ) ? data.description.replace(/\n/g, '<br>') : '';
             $scope.followers_count = numberWithCommas(data.followers_count);
         }, function(error) {
             console.log('error', error);
",32,"$scope.profile_data.description = data.description && data.description.replace(/\n/g, '<br>') || '';","$scope.profile_data.description = ( data.description ) ? data.description.replace(/\n/g, '<br>') : '';"
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/73c0e8ef43ef0936dcf52d047315cc6f22a03291,73c0e8ef43ef0936dcf52d047315cc6f22a03291,Fix crash when trying to open application back after destroy has been called,2016-12-12 10:46:15-06:00,main.js,https://github.com/Soundnode/soundnode-app/raw/bc7371297b8b377f8f0576f84e9a0dd6a04b0e6b/main.js,https://github.com/Soundnode/soundnode-app/raw/73c0e8ef43ef0936dcf52d047315cc6f22a03291/main.js,"@@ -170,7 +170,7 @@ ipcMain.on('closeApp', () => {
 
 //
 ipcMain.on('destroyApp', () => {
-    mainWindow.destroy();
+    mainWindow.close();
 });
 
 function showAndFocus() {
",173,mainWindow.destroy();,mainWindow.close();
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/10f9d07639bb16c244444bd9b8680fd79ccbfb58,10f9d07639bb16c244444bd9b8680fd79ccbfb58,fix(#976): fix for ctrl + click opening a new instance on windows.,2017-04-01 10:16:34-05:00,app.js,https://github.com/Soundnode/soundnode-app/raw/c634435c1589fba12f362c27eca05ada3b158d4b/app/public/js/app.js,https://github.com/Soundnode/soundnode-app/raw/10f9d07639bb16c244444bd9b8680fd79ccbfb58/app/public/js/app.js,"@@ -125,7 +125,7 @@ app.run(function (
 
   // disable cmd (ctrl) + click and middle mouse click to open a new tab/page
   document.addEventListener('click', function (e) {
-    if (e.metaKey || e.which === 2) {
+    if (e.metaKey || e.ctrlKey || e.which === 2) {
       e.preventDefault();
     }
   }, false);
",128,if (e.metaKey || e.which === 2) {,if (e.metaKey || e.ctrlKey || e.which === 2) {
soundnode-app,https://github.com/Soundnode/soundnode-app,https://github.com/Soundnode/soundnode-app/commit/cf0ae2ed1964010b2ecb1a8141fdf797e2b1ace0,cf0ae2ed1964010b2ecb1a8141fdf797e2b1ace0,Typo fix.,2018-01-03 15:31:46+08:00,configLocation.js,https://github.com/Soundnode/soundnode-app/raw/626d4419b10e13708514d53a5d8860eca4042385/app/public/js/common/configLocation.js,https://github.com/Soundnode/soundnode-app/raw/cf0ae2ed1964010b2ecb1a8141fdf797e2b1ace0/app/public/js/common/configLocation.js,"@@ -54,7 +54,7 @@ const configuration = {
       throw `could not set config path for this OS ${process.platform}`
     }
 
-    createIfNotExist(userConfigPath)
+    this.createIfNotExist(userConfigPath)
 
     return userConfigPath;
   },
",57,createIfNotExist(userConfigPath),this.createIfNotExist(userConfigPath)
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/b8dc44b3537c0da15a6207d4729d616bc73a3a96,b8dc44b3537c0da15a6207d4729d616bc73a3a96,Fix last line missing from new unstaged files,2014-01-17 10:36:49-03:00,ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/bdc39b0d0fd36d00fdac7ce4ec6312cbfdb68968/resources/node_modules/git-watcher/ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/b8dc44b3537c0da15a6207d4729d616bc73a3a96/resources/node_modules/git-watcher/ModuleWatcher.js,"@@ -222,7 +222,7 @@ ModuleWatcher.prototype._getFileDiff = function(filePath, isStaged, type, callba
 		return callback(null, newFileContents ? [
 			me._getRangeLines(null, {
 				start: 0,
-				end: newLines.length - 1,
+				end: newLines.length,
 				contents: newLines
 			}) 
 		]: null);
",225,"end: newLines.length - 1,","end: newLines.length,"
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/681ddedb822a8ab37de02f0806f0fe8b07451ed5,681ddedb822a8ab37de02f0806f0fe8b07451ed5,Fix possible newline,2014-01-21 11:08:27-03:00,ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/6a99cf785304e2520b49000acf1510841ab3bcde/resources/node_modules/git-watcher/ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/681ddedb822a8ab37de02f0806f0fe8b07451ed5/resources/node_modules/git-watcher/ModuleWatcher.js,"@@ -140,7 +140,7 @@ ModuleWatcher.prototype._watchGitRepo = function() {
 		} else {
 			// submodule added with `git submodule add <url>`: fetch real repository path
 			fs.readFile(gitFile, {encoding: 'utf8'}, me.errEmitter.intercept(function(contents) {
-				var match = contents.match(/^gitdir:\s*(.+)$/);
+				var match = contents.trim().match(/^gitdir:\s*(.+)$/);
 				watch(require('path').resolve(match[1], require('path').join(me.path, match[1])));
 			}));
 		}
",143,var match = contents.match(/^gitdir:\s*(.+)$/);,var match = contents.trim().match(/^gitdir:\s*(.+)$/);
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/0a6b3c69b17523b0cacc98d077f46bca3e91ca2a,0a6b3c69b17523b0cacc98d077f46bca3e91ca2a,Fix regex,2014-01-25 21:31:46-03:00,ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/56fbe99753b146989342f624df8fe3452f8bfc53/resources/node_modules/git-watcher/ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/0a6b3c69b17523b0cacc98d077f46bca3e91ca2a/resources/node_modules/git-watcher/ModuleWatcher.js,"@@ -76,7 +76,7 @@ ModuleWatcher.prototype.getName = function() {
 ModuleWatcher.prototype.getBranch = function(callback) {
 	chp.exec('git status -sb', {cwd: this.path}, function(err, stdout) {
 		if (err) return callback(err);
-		var match = stdout.match(/^## ([^.]+)/mi);
+		var match = stdout.match(/^## ([^.\n]+).*?$/mi);
 		callback(null, match ? match[1].trim() : '');
 	});
 };
",79,var match = stdout.match(/^## ([^.]+)/mi);,var match = stdout.match(/^## ([^.\n]+).*?$/mi);
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/5d3791ffb570bccadb3753f967e494fac1fd3c46,5d3791ffb570bccadb3753f967e494fac1fd3c46,Fix cannot stage already indexed submodule,2014-02-05 15:29:11-03:00,Git.js,https://github.com/demian85/git-watcher/raw/ab34495df87dd84a3c493f6cef3108663dde06fa/lib/Git.js,https://github.com/demian85/git-watcher/raw/5d3791ffb570bccadb3753f967e494fac1fd3c46/lib/Git.js,"@@ -6,7 +6,7 @@ var Git = {
 			this._exec(modulePath, 'git rm', [file.name], callback);
 		} else {
 			var fileRelativePth = '.' + require('path').sep +  file.name;
-			if (file.type === 'submodule' && !file.staged) {
+			if (file.type === 'submodule' && !file.staged && file.status === 'new') {
 				this._exec(modulePath, 'git submodule add', [fileRelativePth], callback);
 			} else {
 				this._exec(modulePath, 'git add', [fileRelativePth], callback);
",9,if (file.type === 'submodule' && !file.staged) {,if (file.type === 'submodule' && !file.staged && file.status === 'new') {
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/08665596a068951bfa32b3749787ac8b6de48e30,08665596a068951bfa32b3749787ac8b6de48e30,Only log in debug mode,2014-02-08 00:24:50-03:00,ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/8431fd25408226c945913235d27ff7f99f691977/lib/ModuleWatcher.js,https://github.com/demian85/git-watcher/raw/08665596a068951bfa32b3749787ac8b6de48e30/lib/ModuleWatcher.js,"@@ -8,7 +8,7 @@ var config = global.config,
 	GitParser = require('./GitParser');
 
 function log() {
-	if (console) {
+	if (console && config.debugMode) {
 		console.log.apply(console, arguments);
 	}
 }
",11,if (console) {,if (console && config.debugMode) {
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/9c704cd4f88f7e116609003340fea53be31c2fa1,9c704cd4f88f7e116609003340fea53be31c2fa1,Fix cannot revert staged file,2014-02-08 16:18:22-03:00,menus.js,https://github.com/demian85/git-watcher/raw/66dc21d812995dbb1ec88a76f97d55fb6e265462/menus.js,https://github.com/demian85/git-watcher/raw/9c704cd4f88f7e116609003340fea53be31c2fa1/menus.js,"@@ -172,7 +172,7 @@ var AppMenus = {
 		var isDeleted = file.status === 'deleted';
 		var isSubmodule = file.type === 'submodule';
 		
-		this.items['revert'].enabled = !isUnstagedNew && !isSubmodule;
+		this.items['revert'].enabled = file.status !== 'new' && !isSubmodule;
 		this.items['revert'].click = function() {
 			Git.revertFile(currentModulePath, file, _handleGitResponse);
 		};
",175,this.items['revert'].enabled = !isUnstagedNew && !isSubmodule;,this.items['revert'].enabled = file.status !== 'new' && !isSubmodule;
git-watcher,https://github.com/demian85/git-watcher,https://github.com/demian85/git-watcher/commit/740caee2a38b65cb0c1e252ca7f95c21bd6b58cd,740caee2a38b65cb0c1e252ca7f95c21bd6b58cd,Fix accessing null var,2014-10-12 17:45:19-03:00,AppMenus.js,https://github.com/demian85/git-watcher/raw/2957bacd5e1e0102947c6099366704a93e3c5095/ui/AppMenus.js,https://github.com/demian85/git-watcher/raw/740caee2a38b65cb0c1e252ca7f95c21bd6b58cd/ui/AppMenus.js,"@@ -128,7 +128,7 @@ var AppMenus = {
 			label: 'Blame', 
 			icon: 'icons/view-history.png',
 			click: function() {
-				External.openGitBlame(currentModulePath, file, line.number);
+				External.openGitBlame(currentModulePath, file, line ? line.number : null);
 			}
 		});
 		items['stats'] = new gui.MenuItem({
",131,"External.openGitBlame(currentModulePath, file, line.number);","External.openGitBlame(currentModulePath, file, line ? line.number : null);"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/47103c7ad9989bcec08215a26a0b649fde0e20d1,47103c7ad9989bcec08215a26a0b649fde0e20d1,Fix incorrectly referenced variable,2013-02-01 13:27:57+00:00,manifest.js,https://github.com/alanshaw/david-www/raw/baf7c39703f3e692a84abb250ce79b6263416e23/manifest.js,https://github.com/alanshaw/david-www/raw/47103c7ad9989bcec08215a26a0b649fde0e20d1/manifest.js,"@@ -43,7 +43,7 @@ function getDependencyDiffs(deps1, deps2) {
 			// Dep has been deleted
 			diffs.push(new PackageDiff(key, null, deps1[key]));
 			
-		} else if(dep1[key] !== dep2[key]) {
+		} else if(deps1[key] !== deps2[key]) {
 			
 			// Dep has been changed
 			diffs.push(new PackageDiff(key, deps2[key], deps1[key]));
",46,} else if(dep1[key] !== dep2[key]) {,} else if(deps1[key] !== deps2[key]) {
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/1d1254f054aa91550df19e27f5bea181981d7ab1,1d1254f054aa91550df19e27f5bea181981d7ab1,Fix stats,2013-02-07 15:10:25+00:00,stats.js,https://github.com/alanshaw/david-www/raw/7860f1353931b67c10bc9b3db572a682dc658a0c/stats.js,https://github.com/alanshaw/david-www/raw/1d1254f054aa91550df19e27f5bea181981d7ab1/stats.js,"@@ -31,7 +31,7 @@ david.on('latestVersionChange', function(name, fromVersion, toVersion) {
 	
 	if(fromVersion) {
 		
-		recentlyUpdatedPackages.unshift(new UpdatedPackage(name, fromVersion, toVersion));
+		recentlyUpdatedPackages.unshift(new UpdatedPackage(name, toVersion, fromVersion));
 		
 		if(recentlyUpdatedPackages.length > 10) {
 			recentlyUpdatedPackages.pop();
",34,"recentlyUpdatedPackages.unshift(new UpdatedPackage(name, fromVersion, toVersion));","recentlyUpdatedPackages.unshift(new UpdatedPackage(name, toVersion, fromVersion));"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/02233e797a24dfa24c291daf0cf9f571531ea5c6,02233e797a24dfa24c291daf0cf9f571531ea5c6,Use latest grunt-include-replace plugin. Fix feed test in timezones != UTC/GMT,2013-07-01 15:05:02-07:00,feed.js,https://github.com/alanshaw/david-www/raw/65eb439cb3dcaf01636f1dad1fc16b79830d8517/feed.js,https://github.com/alanshaw/david-www/raw/02233e797a24dfa24c291daf0cf9f571531ea5c6/feed.js,"@@ -143,7 +143,7 @@ function getPackage(pkgName, callback) {
 				
 				time = {};
 				
-				time[Object.keys(data)[0]] = moment([1970]).toDate();
+				time[Object.keys(data)[0]] = moment.utc([1970]).toDate();
 				
 				pkg = packages[pkgName] = new Package(pkgName, time, repository);
 				
",146,time[Object.keys(data)[0]] = moment([1970]).toDate();,time[Object.keys(data)[0]] = moment.utc([1970]).toDate();
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/b31760cd7518521db2515211cb9f0594fa3f7641,b31760cd7518521db2515211cb9f0594fa3f7641,Fix the build,2013-09-15 13:52:59+01:00,stats.js,https://github.com/alanshaw/david-www/raw/a535dc43dbe00b0a67b516bf9948beff73e2c9f5/stats.js,https://github.com/alanshaw/david-www/raw/b31760cd7518521db2515211cb9f0594fa3f7641/stats.js,"@@ -24,7 +24,7 @@ registry.on('change', function (change) {
 	var pkg = new UpdatedPackage(change.doc.name, versions[versions.length - 1], versions[versions.length - 2]);
 	
 	for (var i = 0; i < recentlyUpdatedPackages.length; i++) {
-		if (recentlyUpdatedPackages[i].name == pkg.name) {
+		if (recentlyUpdatedPackages[i].name === pkg.name) {
 			recentlyUpdatedPackages.splice(i, 1);
 			break;
 		}
",27,if (recentlyUpdatedPackages[i].name == pkg.name) {,if (recentlyUpdatedPackages[i].name === pkg.name) {
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/39ee7d3e3787a1161445298fb30f5e95f62c945a,39ee7d3e3787a1161445298fb30f5e95f62c945a,refs #67 - Reinstated jquery as cdn dependency. Fixed jquery.ba-* libs to work with browserify. Removed JSON2 dependency in favor of cycle.,2013-10-14 20:19:51+01:00,jquery.ba-bbq.js,https://github.com/alanshaw/david-www/raw/1bceaf632a580b9e557c782c8fd23fed19023271/src/js/vendor/jquery.ba-bbq.js,https://github.com/alanshaw/david-www/raw/39ee7d3e3787a1161445298fb30f5e95f62c945a/src/js/vendor/jquery.ba-bbq.js,"@@ -1374,4 +1374,4 @@
     return self;
   })();
   
-})(jQuery,this);
+})(jQuery,window);
",1377,"})(jQuery,this);","})(jQuery,window);"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/39ee7d3e3787a1161445298fb30f5e95f62c945a,39ee7d3e3787a1161445298fb30f5e95f62c945a,refs #67 - Reinstated jquery as cdn dependency. Fixed jquery.ba-* libs to work with browserify. Removed JSON2 dependency in favor of cycle.,2013-10-14 20:19:51+01:00,jquery.ba-hashchange.js,https://github.com/alanshaw/david-www/raw/1bceaf632a580b9e557c782c8fd23fed19023271/src/js/vendor/jquery.ba-hashchange.js,https://github.com/alanshaw/david-www/raw/39ee7d3e3787a1161445298fb30f5e95f62c945a/src/js/vendor/jquery.ba-hashchange.js,"@@ -387,4 +387,4 @@
     return self;
   })();
   
-})(jQuery,this);
+})(jQuery,window);
",390,"})(jQuery,this);","})(jQuery,window);"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/92aa42cacdd3d8d2a9303258133d877f0f95fd43,92aa42cacdd3d8d2a9303258133d877f0f95fd43,Fixes #142 - Use warn 404 option to stop david from throwing an error when encountering non npm dependencies,2014-07-29 16:22:10+01:00,brains.js,https://github.com/alanshaw/david-www/raw/db2a66acef057c20ab099caa833ad523a46e2bbb/brains.js,https://github.com/alanshaw/david-www/raw/92aa42cacdd3d8d2a9303258133d877f0f95fd43/brains.js,"@@ -165,7 +165,7 @@ module.exports.getInfo = function (manifest, opts, cb) {
     opts.npm = config.npm.options
   }
 
-  var davidOptions = {dev: opts.dev, peer: opts.peer, optional: opts.optional, loose: true, npm: opts.npm}
+  var davidOptions = {dev: opts.dev, peer: opts.peer, optional: opts.optional, loose: true, npm: opts.npm, warn: {E404: true}}
 
   getDependencies(manifest, davidOptions, function (er, deps) {
     if (er) return cb(er)
",168,"var davidOptions = {dev: opts.dev, peer: opts.peer, optional: opts.optional, loose: true, npm: opts.npm}","var davidOptions = {dev: opts.dev, peer: opts.peer, optional: opts.optional, loose: true, npm: opts.npm, warn: {E404: true}}"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/df4bc87167255bbfe8dc2a822794315746875404,df4bc87167255bbfe8dc2a822794315746875404,Fixes #149 - Adds flat rounded badges,2014-09-04 17:03:41+01:00,index.js,https://github.com/alanshaw/david-www/raw/c1588954abf19e371e2e371db707adab6849ecb7/index.js,https://github.com/alanshaw/david-www/raw/df4bc87167255bbfe8dc2a822794315746875404/index.js,"@@ -222,7 +222,7 @@ function badgePath (depsType, status, retina, style, extension) {
   depsType = depsType ? depsType + ""-"" : """"
   retina = retina ? ""@2x"" : """"
   extension = extension == ""png"" ? ""png"" : ""svg""
-  style = extension == ""svg"" && style == ""flat"" ? ""-flat"" : """"
+  style = extension == ""svg"" && (style == ""flat"" || style == ""flat-square"") ? ""-"" + style : """"
   return ""dist/img/status/"" + depsType + status + retina + style + ""."" + extension
 }
 
",225,"style = extension == ""svg"" && style == ""flat"" ? ""-flat"" : """"","style = extension == ""svg"" && (style == ""flat"" || style == ""flat-square"") ? ""-"" + style : """""
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/cbeb533e13d5ba252b2b75211b8e2b2a8cf8228c,cbeb533e13d5ba252b2b75211b8e2b2a8cf8228c,Fix log line,2014-09-21 13:31:04+01:00,nsp.js,https://github.com/alanshaw/david-www/raw/e1cc94a8c6104a7d34f1fb124ff58f1938c93f2c/nsp.js,https://github.com/alanshaw/david-www/raw/cbeb533e13d5ba252b2b75211b8e2b2a8cf8228c/nsp.js,"@@ -39,7 +39,7 @@ function updateAdvisories () {
         advs[m.module_name].push(m)
         return advs
       }, {})
-      console.log(""Updated NSP advisories"" metas.length)
+      console.log(""Updated NSP advisories"", metas.length)
     })
   })
 }
",42,"console.log(""Updated NSP advisories"" metas.length)","console.log(""Updated NSP advisories"", metas.length)"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/90de23267b236d04b7e7c09efe4ba729a9d1fcb1,90de23267b236d04b7e7c09efe4ba729a9d1fcb1,Fix flat-square style badges,2015-04-29 12:05:01-03:00,index.js,https://github.com/alanshaw/david-www/raw/2d91173884695df91c376557314c90acbf78f933/index.js,https://github.com/alanshaw/david-www/raw/90de23267b236d04b7e7c09efe4ba729a9d1fcb1/index.js,"@@ -241,7 +241,7 @@ function getBadgePath (status, opts) {
   var type = opts.type ? opts.type + ""-"" : """"
   var retina = opts.retina ? ""@2x"" : """"
   var extension = opts.extension == ""png"" ? ""png"" : ""svg""
-  var style = extension == ""svg"" && (style == ""flat-square"") ? ""-"" + style : """"
+  var style = extension == ""svg"" && opts.style == ""flat-square"" ? ""-"" + opts.style : """"
 
   return __dirname + ""/dist/img/status/"" + type + status + retina + style + ""."" + extension
 }
",244,"var style = extension == ""svg"" && (style == ""flat-square"") ? ""-"" + style : """"","var style = extension == ""svg"" && opts.style == ""flat-square"" ? ""-"" + opts.style : """""
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/3c32b44dbd2c91df68fef7b2352bb48cc706430c,3c32b44dbd2c91df68fef7b2352bb48cc706430c,Fix #175 - list repos in organization profile page,2015-05-14 19:22:54+09:00,profile.js,https://github.com/alanshaw/david-www/raw/9c2136035872c03ef5b4709be0e5d16a95001531/lib/profile.js,https://github.com/alanshaw/david-www/raw/3c32b44dbd2c91df68fef7b2352bb48cc706430c/lib/profile.js,"@@ -27,7 +27,7 @@ function getRepos (user, authToken, options, cb) {
     var gh = github.getInstance(authToken)
       , repoMethod = authToken ? ""getAll"" : ""getFromUser""
 
-    gh.repos[repoMethod]({type: ""all"", user: user, page: options.page, per_page: options.pageSize}, function (er, data) {
+    gh.repos[repoMethod]({user: user, page: options.page, per_page: options.pageSize}, function (er, data) {
       if (er) return cb(er)
 
       if (data.length) {
",30,"gh.repos[repoMethod]({type: ""all"", user: user, page: options.page, per_page: options.pageSize}, function (er, data) {","gh.repos[repoMethod]({user: user, page: options.page, per_page: options.pageSize}, function (er, data) {"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/f4cb57599038a5768969bc8e04f70307bd7bf506,f4cb57599038a5768969bc8e04f70307bd7bf506,Clean up and fix,2016-07-26 08:47:02+01:00,changelog.js,https://github.com/alanshaw/david-www/raw/e84e978f43c1e06d2589b4b5d7fbd9c080dca972/src/lib/changelog.js,https://github.com/alanshaw/david-www/raw/f4cb57599038a5768969bc8e04f70307bd7bf506/src/lib/changelog.js,"@@ -113,7 +113,7 @@ export default ({github, githubConfig, npmConfig}) => {
       npm.load(npmConfig.options, (err) => {
         if (err) return cb(err)
 
-        getUserRepo(modName, githubConfig.host, (err, user, repo) => {
+        getUserRepo(modName, { githubHost: githubConfig.host }, (err, user, repo) => {
           if (err) return cb(err)
 
           getPublishDates(modName, [fromVer, toVer], (err, dates) => {
",116,"getUserRepo(modName, githubConfig.host, (err, user, repo) => {","getUserRepo(modName, { githubHost: githubConfig.host }, (err, user, repo) => {"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/63a0056c179d55970cce80972a023423eff3c0d4,63a0056c179d55970cce80972a023423eff3c0d4,"Typo fix.

oneMonth was worth 30 weeks.",2016-10-25 23:01:46+02:00,statics.js,https://github.com/alanshaw/david-www/raw/774768069fda420b59fe3a3fa39e150efbf4f9a2/src/statics.js,https://github.com/alanshaw/david-www/raw/63a0056c179d55970cce80972a023423eff3c0d4/src/statics.js,"@@ -5,7 +5,7 @@ import favicon from 'serve-favicon'
 export default ({ app, version }) => {
   const oneDay = 86400000 // milliseconds: 60 * 60 * 24 * 1000
   const oneWeek = oneDay * 7
-  const oneMonth = oneWeek * 30
+  const oneMonth = oneDay * 30
 
   const publicPath = (relativePath) => Path.join(__dirname, '..', 'public', relativePath)
 
",8,const oneMonth = oneWeek * 30,const oneMonth = oneDay * 30
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/bab6926379fb0cb0df0da09f03afc51298a9fab0,bab6926379fb0cb0df0da09f03afc51298a9fab0,"Update standard, linting fixes",2017-05-30 10:26:16+01:00,manifest.js,https://github.com/alanshaw/david-www/raw/8547cb85caf26bffcc23e13b9284ed21ae2cec21/src/lib/manifest.js,https://github.com/alanshaw/david-www/raw/bab6926379fb0cb0df0da09f03afc51298a9fab0/src/lib/manifest.js,"@@ -111,7 +111,7 @@ export default ({db, registry, github, githubConfig}) => {
 
         try {
           // JSON.parse will barf with a SyntaxError if the body is ill.
-          data = JSON.parse(new Buffer(resp.content, resp.encoding).toString().trim())
+          data = JSON.parse(Buffer.from(resp.content, resp.encoding).toString().trim())
         } catch (err) {
           console.error('Failed to parse package.json', resp, err)
           return batch.call(batchKey, (cb) => {
",114,"data = JSON.parse(new Buffer(resp.content, resp.encoding).toString().trim())","data = JSON.parse(Buffer.from(resp.content, resp.encoding).toString().trim())"
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/75a09c8441311a841a0135001febe916d5276d6f,75a09c8441311a841a0135001febe916d5276d6f,"Update github dependency, fix boom wrap issue",2017-05-30 14:57:18+01:00,error-handler.js,https://github.com/alanshaw/david-www/raw/1cc05996de4b6f352cd1d171b9c5c62bcb3b120e/src/middleware/error-handler.js,https://github.com/alanshaw/david-www/raw/75a09c8441311a841a0135001febe916d5276d6f/src/middleware/error-handler.js,"@@ -8,7 +8,7 @@ export default ({ app }) => {
       console.error(err.stack)
     }
 
-    err = Boom.wrap(err)
+    err = err.isBoom ? err : Boom.wrap(err)
     res.status(err.output.statusCode)
 
     // respond with html page
",11,err = Boom.wrap(err),err = err.isBoom ? err : Boom.wrap(err)
david-www,https://github.com/alanshaw/david-www,https://github.com/alanshaw/david-www/commit/08a7ea76edc3325ff3c8add7bedd7856ed774020,08a7ea76edc3325ff3c8add7bedd7856ed774020,fixes lint issue,2017-06-27 22:37:14-04:00,auth.js,https://github.com/alanshaw/david-www/raw/8abbba776271eb0f6706aa4163f7ea2638529076/src/lib/auth.js,https://github.com/alanshaw/david-www/raw/08a7ea76edc3325ff3c8add7bedd7856ed774020/src/lib/auth.js,"@@ -37,7 +37,7 @@ export default ({github, githubConfig}) => {
             return cb(new Error('Unable to find user from token'))
           }
 
-          authData.user = data.data.login;
+          authData.user = data.data.login
           cb(null, authData)
         })
       })
",40,authData.user = data.data.login;,authData.user = data.data.login
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/7b27fb0c2303c7150e2846d099cdca79a4056ace,7b27fb0c2303c7150e2846d099cdca79a4056ace,Fixed create/update gist overlap,2013-04-20 15:56:03+03:00,controllers.js,https://github.com/Gisto/Gisto/raw/939a0253e5c2d88070b03e5cb50794f399d88280/app/js/controllers.js,https://github.com/Gisto/Gisto/raw/7b27fb0c2303c7150e2846d099cdca79a4056ace/app/js/controllers.js,"@@ -133,7 +133,7 @@ function singleGistCtrl($scope, $routeParams, gistData, ghAPI) {
         console.log('drag end');
     };
 
-    $scope.save = function ($event) {
+    $scope.update = function ($event) {
         $('.loading span').text('Saving...');
         $('.edit').slideUp();
         if ($event) {
",136,$scope.save = function ($event) {,$scope.update = function ($event) {
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/6ed4d480deaef070b6ee0b7b7fcb928f751efa03,6ed4d480deaef070b6ee0b7b7fcb928f751efa03,Settings to service WIP | fix login,2013-04-23 20:40:41+03:00,app.js,https://github.com/Gisto/Gisto/raw/421ff46a74a6f770dae2413fb303df97d4855c97/app/js/app.js,https://github.com/Gisto/Gisto/raw/6ed4d480deaef070b6ee0b7b7fcb928f751efa03/app/js/app.js,"@@ -1,7 +1,7 @@
 'use strict';
 
 // Declare app level module which depends on filters, and services
-angular.module('myApp', ['ui', 'myApp.filters', 'myApp.services', 'myApp.directives', 'JobIndicator', 'gitHubAPI', 'gistData']).
+angular.module('myApp', ['ui', 'myApp.filters', 'myApp.services', 'myApp.directives', 'JobIndicator', 'gitHubAPI', 'gistData','appSettings']).
     config(['$routeProvider', function ($routeProvider) {
         $routeProvider.when('/', {templateUrl: 'partials/empty.html'});
         $routeProvider.when('/login', {templateUrl: 'login.html', controller: loginCtrl});
",4,"angular.module('myApp', ['ui', 'myApp.filters', 'myApp.services', 'myApp.directives', 'JobIndicator', 'gitHubAPI', 'gistData']).","angular.module('myApp', ['ui', 'myApp.filters', 'myApp.services', 'myApp.directives', 'JobIndicator', 'gitHubAPI', 'gistData','appSettings'])."
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/778d9aa683e2c4d01a11a5ab085bc25319e1d5b5,778d9aa683e2c4d01a11a5ab085bc25319e1d5b5,Fixed bug where content would update incorrectly due to github cache on api calls for 60 seconds. The app will only call for github api if 60 seconds have past to avoid getting old data back to the client,2013-05-24 11:08:57+03:00,Gruntfile.js,https://github.com/Gisto/Gisto/raw/f7363d8d870f02b16856dd6c9d7ae544db7bf53d/Gruntfile.js,https://github.com/Gisto/Gisto/raw/778d9aa683e2c4d01a11a5ab085bc25319e1d5b5/Gruntfile.js,"@@ -9,7 +9,7 @@ module.exports = function (grunt) {
                 'app/js/services.js',
                 'app/js/controllers.js',
                 'app/js/filters.js',
-                'app/js/directives.js',
+                'app/js/directives.js'
             ],
             options: {
                 ""curly"": true,
",12,"'app/js/directives.js',",'app/js/directives.js'
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/8d6875c757ebac753215baa22d39580ba925c40b,8d6875c757ebac753215baa22d39580ba925c40b,Fixed overlinting - gist update_settings has stoped working properly.,2013-05-26 17:33:37+03:00,services.js,https://github.com/Gisto/Gisto/raw/7a78d15b8ee70dcbe470520925baa91c8c2ece81/app/js/services.js,https://github.com/Gisto/Gisto/raw/8d6875c757ebac753215baa22d39580ba925c40b/app/js/services.js,"@@ -433,7 +433,7 @@ angular.module('appSettings', [], function ($provide) {
                 new_data.avatar = data.avatar;
                 new_data.editor_theme = data.editor_theme;
                 new_data.last_modified = new Date().toUTCString();
-                if (localStorage.settings === JSON.stringify(new_data)) {
+                if (localStorage.settings = JSON.stringify(new_data)) {
                     if (callback) {
                         return callback({
                             status: 'ok'
",436,if (localStorage.settings === JSON.stringify(new_data)) {,if (localStorage.settings = JSON.stringify(new_data)) {
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/82f7ca09acb36f7d64e67cbad6b65bd63aa4bcb0,82f7ca09acb36f7d64e67cbad6b65bd63aa4bcb0,"* Changed tabs to <details> in settings.
* Fix create gist glitch",2013-05-28 22:48:10+03:00,controllers.js,https://github.com/Gisto/Gisto/raw/a60892a59d7c23b456f79b89f101540b370f1e3c/app/js/controllers.js,https://github.com/Gisto/Gisto/raw/82f7ca09acb36f7d64e67cbad6b65bd63aa4bcb0/app/js/controllers.js,"@@ -73,7 +73,7 @@ function singleGistCtrl($scope, $routeParams, gistData, ghAPI) {
 
     $scope.gist = gistData.getGistById($routeParams.gistId);
 
-    if ($scope.gist.single.hasOwnProperty('lastUpdated')) {
+    if ($scope.gist.hasOwnProperty('single') && $scope.gist.single.hasOwnProperty('lastUpdated')) {
         console.log($scope.gist.single.lastUpdated);
         var now = new Date();
         var seconds = Math.round((now.getTime() - $scope.gist.single.lastUpdated.getTime())/1000);
",76,if ($scope.gist.single.hasOwnProperty('lastUpdated')) {,if ($scope.gist.hasOwnProperty('single') && $scope.gist.single.hasOwnProperty('lastUpdated')) {
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/6241d3e9e68890e7d956c11ea05d9aface10da7b,6241d3e9e68890e7d956c11ea05d9aface10da7b,"Better layout of the project, soursemaps works, some typo fix.",2013-07-22 18:51:01+03:00,main.js,https://github.com/Gisto/Gisto/raw/74eb179816634b534e242cdf15f53979779e7637/app/js/main.js,https://github.com/Gisto/Gisto/raw/6241d3e9e68890e7d956c11ea05d9aface10da7b/app/js/main.js,"@@ -20,7 +20,7 @@ $(function () {
                 .removeClass('icon-arrow-up')
                 .addClass('icon-arrow-down');
             $('div.comments').animate({
-                height: (document.height / 2) + 'px'
+                height: (window.innerHeight / 2) + 'px'
             }, 500);
         }
     });
",23,height: (document.height / 2) + 'px',height: (window.innerHeight / 2) + 'px'
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/e3354c08b2a9f8c7eb556f389fe61130e89be165,e3354c08b2a9f8c7eb556f389fe61130e89be165,Fix for notifications.,2013-07-29 20:15:46+03:00,github-api.js,https://github.com/Gisto/Gisto/raw/c0255400a4ba13db9ebb7e5921088e686f225e52/app/js/services/github-api.js,https://github.com/Gisto/Gisto/raw/e3354c08b2a9f8c7eb556f389fe61130e89be165/app/js/services/github-api.js,"@@ -25,7 +25,7 @@ angular.module('gisto.service.gitHubAPI', [
                         Authorization: 'token ' + token
                     }
                 }).success(function (data) {
-                        deferred.resolve(data.login);
+                        deferred.resolve(data);
                     }).error(function (error) {
                         console.log('Could not get logged in user', error);
                         deferred.reject(error);
",28,deferred.resolve(data.login);,deferred.resolve(data);
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/4acba40bd444a46f736cbfeccee7bb019c36e59d,4acba40bd444a46f736cbfeccee7bb019c36e59d,"Add: open in plunker, Add: go to github signup if have no account, Fixed goToSite() function, small CSS fixes.",2013-07-30 01:14:36+03:00,single.js,https://github.com/Gisto/Gisto/raw/772d36cc43c3d1a4b78ed12279da3bc4bee48070/app/js/controllers/single.js,https://github.com/Gisto/Gisto/raw/4acba40bd444a46f736cbfeccee7bb019c36e59d/app/js/controllers/single.js,"@@ -46,7 +46,7 @@ function singleGistCtrl($scope, $routeParams, gistData, ghAPI, $rootScope, notif
         }, 2500);
     };
 
-    $scope.gotoSite = function (user, id, file) {
+    $scope.goToGist = function (user, id, file) {
         console.log('url', 'https://gist.github.com/' + user + '/' + id + '/#file-' + file.replace(/[.]/gi, '-'));
         gui.Shell.openExternal('https://gist.github.com/' + user + '/' + id + '/#file-' + file.replace(/[.]/gi, '-'));
     };
",49,"$scope.gotoSite = function (user, id, file) {","$scope.goToGist = function (user, id, file) {"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/0fd4ef2493dd3054bdb46ef22a75ad0d5a90bd42,0fd4ef2493dd3054bdb46ef22a75ad0d5a90bd42,Fixed client accidentally registering twice and a bug in deleting local notifications after being read.,2013-08-12 08:58:55+03:00,app.js,https://github.com/Gisto/Gisto/raw/3d8dc9cccea934a172e20263ed23b18df353ad17/server/app.js,https://github.com/Gisto/Gisto/raw/0fd4ef2493dd3054bdb46ef22a75ad0d5a90bd42/server/app.js,"@@ -64,7 +64,7 @@ io.sockets.on('connection', function (client) {
     client.on('sendNotification', function(data) {
 
         var recipient = getAllClientSockets(clients,data.recipient);
-
+        console.log('clients', recipient);
         if (recipient && recipient.length > 0) {
 
             for (var i = 0, limit = recipient.length; i < limit; i++) {
",67,,"console.log('clients', recipient);"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/21c00430e7100050e3fd6cead3d750e524be4311,21c00430e7100050e3fd6cead3d750e524be4311,Fixed a bug where if the user was cached the promise wasn't returned correctly. Added analytics tracking for notification server logins.,2013-08-16 23:25:58+03:00,githubApiService.js,https://github.com/Gisto/Gisto/raw/e3de76522d3d8e433b81cc588eaaf81434221854/app/js/services/githubApiService.js,https://github.com/Gisto/Gisto/raw/21c00430e7100050e3fd6cead3d750e524be4311/app/js/services/githubApiService.js,"@@ -23,7 +23,7 @@ angular.module('gisto.service.gitHubAPI', [
                 if (user) {
                     console.log('from saved data');
                     deferred.resolve({login: user});
-                    return deferred;
+                    return deferred.promise;
                 }
 
                 requestHandler({
",26,return deferred;,return deferred.promise;
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c9be6182ac53cd936c0146e522fc40f414a33226,c9be6182ac53cd936c0146e522fc40f414a33226,fixed incorrect index in new regex,2014-03-28 17:34:16+03:00,githubApiService.js,https://github.com/Gisto/Gisto/raw/7aa4f0ed7002cfd8f094bc93236044a9a06713ef/app/js/services/githubApiService.js,https://github.com/Gisto/Gisto/raw/c9be6182ac53cd936c0146e522fc40f414a33226/app/js/services/githubApiService.js,"@@ -530,7 +530,7 @@ angular.module('gisto.service.gitHubAPI', [
                             for (var link in links) {
                                 link = links[link];
                                 if (link.indexOf('rel=""next') > -1) {
-                                    var nextPage = link.match(/\?page=(\d)/)[0];
+                                    var nextPage = link.match(/\?page=(\d)/)[1];
 
                                     if (!pageNumber || nextPage > pageNumber) {
                                         api.starred(callback, nextPage);
",533,var nextPage = link.match(/\?page=(\d)/)[0];,var nextPage = link.match(/\?page=(\d)/)[1];
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/40467239ce92f9830a3ae48c16a45048dc81517a,40467239ce92f9830a3ae48c16a45048dc81517a,"FIX (editor): fix font size settings issue

- fix font size settings issue when size not changing to value set in settings",2014-05-28 19:40:20+03:00,editorDirective.js,https://github.com/Gisto/Gisto/raw/028ef1a8c3cdaf2ec99ae41de11659e96bb99402/app/js/directives/editorDirective.js,https://github.com/Gisto/Gisto/raw/40467239ce92f9830a3ae48c16a45048dc81517a/app/js/directives/editorDirective.js,"@@ -16,7 +16,7 @@ angular.module('gisto.directive.editor', []).directive('editor', ['$timeout', 'a
                 $timeout(function () {
 
                     var lang = $attrs.language,
-                        font = $attrs.font,
+                        font = parseInt(appSettingsResult.font_size),
                         indexed = $attrs.index,
                         editor = ace.edit('editor-' + $attrs.index),
                         theme = $attrs.theme;
",19,"font = $attrs.font,","font = parseInt(appSettingsResult.font_size),"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/5b1d13cb1dc3537b63646b223ba4fe0cccec62d3,5b1d13cb1dc3537b63646b223ba4fe0cccec62d3,"FIX (editor): fix font size settings issue

- fix font size settings issue when size not changing to value set in settings",2014-05-31 22:46:31+03:00,editorDirective.js,https://github.com/Gisto/Gisto/raw/5efa80658852392b7b244acd729d6bf1987fd1eb/app/js/directives/editorDirective.js,https://github.com/Gisto/Gisto/raw/5b1d13cb1dc3537b63646b223ba4fe0cccec62d3/app/js/directives/editorDirective.js,"@@ -18,7 +18,7 @@ angular.module('gisto.directive.editor', []).directive('editor', ['$timeout', 'a
                 $timeout(function () {
 
                     var lang = $attrs.language,
-                        font = $attrs.font,
+                        font = parseInt(appSettingsResult.font_size),
                         indexed = $attrs.index,
                         editor = ace.edit('editor-' + $attrs.index),
                         theme = $attrs.theme;
",21,"font = $attrs.font,","font = parseInt(appSettingsResult.font_size),"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/d636bd1a904342dcf23680b328170d775f07a98a,d636bd1a904342dcf23680b328170d775f07a98a,"FIX (loading files over 1mb): Fix merge error, add missing $rootScope reference to githubApiService",2014-05-31 23:36:04+03:00,githubApiService.js,https://github.com/Gisto/Gisto/raw/23b9bf8cf96836af38f8f09594b560ac0ceb476e/app/js/services/githubApiService.js,https://github.com/Gisto/Gisto/raw/d636bd1a904342dcf23680b328170d775f07a98a/app/js/services/githubApiService.js,"@@ -5,7 +5,7 @@ angular.module('gisto.service.gitHubAPI', [
     'gisto.service.appSettings',
     'gisto.service.requestHandler'
 ], function ($provide) {
-    $provide.factory('ghAPI', function ($http, gistData, appSettings, requestHandler, $q) {
+    $provide.factory('ghAPI', function ($http, gistData, appSettings, requestHandler, $q, $rootScope) {
         var api_url = 'https://api.github.com/gists',
             token = appSettings.get('token');
         var api = {
",8,"$provide.factory('ghAPI', function ($http, gistData, appSettings, requestHandler, $q) {","$provide.factory('ghAPI', function ($http, gistData, appSettings, requestHandler, $q, $rootScope) {"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/d828bdfff3d94587cbc0cc86a9711e036c7e76c7,d828bdfff3d94587cbc0cc86a9711e036c7e76c7,"FIX(tags): Allow use of tags such as C# F#

- Now the if the description inserted as `My description #tag1 #tag2 #c#`. The hashtag before C will be omitted by tags filter and tags will be as tag1 tag2 c instead of tag1 tag2 c#

Closes #121",2014-11-04 22:42:08+02:00,removeTagsFilter.js,https://github.com/Gisto/Gisto/raw/01fcebd287826ae090fd5c7fda7e1301370c5610/app/js/filters/removeTagsFilter.js,https://github.com/Gisto/Gisto/raw/d828bdfff3d94587cbc0cc86a9711e036c7e76c7/app/js/filters/removeTagsFilter.js,"@@ -2,6 +2,6 @@
 
 angular.module('gisto.filter.removeTags', []).filter('removeTags', function () {
         return function (input) {
-            return input ? input.replace(/(#[A-Za-z0-9\-\_]+)/g, '') : input;
+            return input ? input.replace(/#\S+/g, '') : input;
         };
     });
\ No newline at end of file
",5,"return input ? input.replace(/(#[A-Za-z0-9\-\_]+)/g, '') : input;","return input ? input.replace(/#\S+/g, '') : input;"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/30a3f772c21bd3d073d63eecb820b9e83772a8d3,30a3f772c21bd3d073d63eecb820b9e83772a8d3,"FIX (resource loading): Change style-loader to resource-loader

New directive now allows to manage optional javascript files instead of
just css files.

ref #120",2014-11-08 00:48:51+02:00,settingsService.js,https://github.com/Gisto/Gisto/raw/e30f1aa8fcd8aeb9c0d72aefb044e1b81965deaa/app/js/services/settingsService.js,https://github.com/Gisto/Gisto/raw/30a3f772c21bd3d073d63eecb820b9e83772a8d3/app/js/services/settingsService.js,"@@ -44,7 +44,7 @@ angular.module('gisto.service.appSettings', [], function ($provide) {
                 avatarUrl: 'https://secure.gravatar.com/avatar/',
                 theme: 'default',
                 editor_theme: 'tomorrow',
-                editor_ext: [],
+                editor_ext: { emmet: false, statusbar: false, autocompletion: false },
                 editor_vim_mode: false,
                 min_lines: 0,
                 max_lines: 50,
",47,"editor_ext: [],","editor_ext: { emmet: false, statusbar: false, autocompletion: false },"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/9dd1963ceb3fbc018d4e7d0fdf901243e12f8b41,9dd1963ceb3fbc018d4e7d0fdf901243e12f8b41,"FIX (editor): Change ace reference to editor element by using a DOM
Element instead of an ID placeholder

Fixes #147",2015-03-01 21:37:12+02:00,editorDirective.js,https://github.com/Gisto/Gisto/raw/57f805995bf9729bea8631cea1bb9704a6c23a01/app/js/directives/editorDirective.js,https://github.com/Gisto/Gisto/raw/9dd1963ceb3fbc018d4e7d0fdf901243e12f8b41/app/js/directives/editorDirective.js,"@@ -20,7 +20,7 @@ angular.module('gisto.directive.editor', []).directive('editor', ['$timeout', 'a
                     var lang = $attrs.language,
                         font = parseInt(appSettingsResult.font_size),
                         indexed = $attrs.index,
-                        editor = ace.edit('editor-' + $attrs.index),
+                        editor = ace.edit($element.find('pre')[0]),
                         session = editor.getSession(),
                         theme = $attrs.theme,
                         inUpdateProcess = false;
",23,"editor = ace.edit('editor-' + $attrs.index),","editor = ace.edit($element.find('pre')[0]),"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/ded052a1fb36f481364e0b3bfff794352b7c95a4,ded052a1fb36f481364e0b3bfff794352b7c95a4,"FIX(create gist): Create gist files exists check

- fix ""Create gist"" broken due to previous commit changes

Closes #164",2015-05-08 00:00:20+03:00,createController.js,https://github.com/Gisto/Gisto/raw/e2bdf7db658273981e39451349cbd592823845b4/app/js/controllers/createController.js,https://github.com/Gisto/Gisto/raw/ded052a1fb36f481364e0b3bfff794352b7c95a4/app/js/controllers/createController.js,"@@ -157,7 +157,7 @@
             }
 
             // check if the gist has files
-            if (!data.files.length) {
+            if (!Object.keys(data.files).length) {
                 $('.files-error').slideDown('slow');
                 $timeout(function() {
                     $('.files-error').slideUp();
",160,if (!data.files.length) {,if (!Object.keys(data.files).length) {
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/54d2d9ff832084e986289202c758ccec7ce6bd4b,54d2d9ff832084e986289202c758ccec7ce6bd4b,"FIX (single gist): Change newfile check when editing to an empty file
check",2015-09-08 23:15:50+03:00,bugsnagHttpInterceptor.js,https://github.com/Gisto/Gisto/raw/191074392221ad9fadf2e412473615741b19f951/app/js/config/bugsnagHttpInterceptor.js,https://github.com/Gisto/Gisto/raw/54d2d9ff832084e986289202c758ccec7ce6bd4b/app/js/config/bugsnagHttpInterceptor.js,"@@ -23,7 +23,7 @@
                         statusText: rejection.statusText,
                         url: rejection.config.url,
                         method: rejection.config.method,
-                        data: rejection.config.data
+                        data: JSON.stringify(rejection.config.data)
                     },
                     headers: {
                         headers: rejection.headers()
",26,data: rejection.config.data,data: JSON.stringify(rejection.config.data)
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/213d4fcb43c6d0071ab3c8fddc90064b8f09789d,213d4fcb43c6d0071ab3c8fddc90064b8f09789d,FIX (login): add login screen and login with base auth + 2fa,2018-06-16 12:52:26+03:00,SnippetHeader.js,https://github.com/Gisto/Gisto/raw/2fbd2bef3992e72c9a6df3a9b2532d043aeb2078/src/components/layout/headers/SnippetHeader.js,https://github.com/Gisto/Gisto/raw/213d4fcb43c6d0071ab3c8fddc90064b8f09789d/src/components/layout/headers/SnippetHeader.js,"@@ -154,7 +154,7 @@ export class SnippetHeader extends React.Component {
         { !edit && map((tag) => (
           <Anchor key={ tag }
                   onClick={ () => searchByTags(tag) }>
-            { tag }
+            { tag }&nbsp;
           </Anchor>
         ), get('tags', snippet)) }
       </Title>
",157,{ tag },{ tag }&nbsp;
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/ad688822c53d3d2d53b3ce1c5da70c8b97dc5000,ad688822c53d3d2d53b3ce1c5da70c8b97dc5000,CHORE (lint): fix lint errors [skip-ci],2018-06-24 09:29:30+03:00,About.js,https://github.com/Gisto/Gisto/raw/a13185c243f8171f36921bb5774ac3dce72c8744/src/components/layout/content/About.js,https://github.com/Gisto/Gisto/raw/ad688822c53d3d2d53b3ce1c5da70c8b97dc5000/src/components/layout/content/About.js,"@@ -1,6 +1,6 @@
 import React from 'react';
 
-const About = (props) => (
+const About = () => (
   <div>About</div>
 );
 
",3,const About = (props) => (,const About = () => (
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/ad688822c53d3d2d53b3ce1c5da70c8b97dc5000,ad688822c53d3d2d53b3ce1c5da70c8b97dc5000,CHORE (lint): fix lint errors [skip-ci],2018-06-24 09:29:30+03:00,Settings.js,https://github.com/Gisto/Gisto/raw/a13185c243f8171f36921bb5774ac3dce72c8744/src/components/layout/content/Settings.js,https://github.com/Gisto/Gisto/raw/ad688822c53d3d2d53b3ce1c5da70c8b97dc5000/src/components/layout/content/Settings.js,"@@ -1,6 +1,6 @@
 import React from 'react';
 
-const Settings = (props) => (
+const Settings = () => (
   <div>Settings</div>
 );
 
",3,const Settings = (props) => (,const Settings = () => (
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/ad688822c53d3d2d53b3ce1c5da70c8b97dc5000,ad688822c53d3d2d53b3ce1c5da70c8b97dc5000,CHORE (lint): fix lint errors [skip-ci],2018-06-24 09:29:30+03:00,updater.js,https://github.com/Gisto/Gisto/raw/a13185c243f8171f36921bb5774ac3dce72c8744/src/electron/updater.js,https://github.com/Gisto/Gisto/raw/ad688822c53d3d2d53b3ce1c5da70c8b97dc5000/src/electron/updater.js,"@@ -44,7 +44,7 @@ autoUpdater.on('update-downloaded', () => {
 });
 
 // export this to MenuItem click callback
-function checkForUpdates(menuItem, focusedWindow) {
+function checkForUpdates(menuItem) {
   updater = menuItem;
   updater.enabled = false;
   autoUpdater.checkForUpdates();
",47,"function checkForUpdates(menuItem, focusedWindow) {",function checkForUpdates(menuItem) {
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/f53fa9c06c66b1bbd708d4038417a671661e6fd4,f53fa9c06c66b1bbd708d4038417a671661e6fd4,FIX (dev): determin if in dev mode for main,2018-06-24 23:42:24+03:00,AppArea.js,https://github.com/Gisto/Gisto/raw/190f4560e06be477cb3b0326e5a2ade8123755ef/src/components/AppArea.js,https://github.com/Gisto/Gisto/raw/f53fa9c06c66b1bbd708d4038417a671661e6fd4/src/components/AppArea.js,"@@ -72,7 +72,7 @@ export class AppArea extends React.Component {
 
   componentDidMount() {
     this.props.getUser();
-    ipcRenderer.on('message', (event, text, info) => this.setState({ message: text }));
+    ipcRenderer.on('message', (event, text) => this.setState({ message: text }));
   }
 
   render() {
",75,"ipcRenderer.on('message', (event, text, info) => this.setState({ message: text }));","ipcRenderer.on('message', (event, text) => this.setState({ message: text }));"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/63de5f28e477cd2d5b6bd91ee07a35c8236fedeb,63de5f28e477cd2d5b6bd91ee07a35c8236fedeb,FIX (snippet): sub-header styled syntax error [ci skip],2018-07-12 00:52:13+03:00,SnippetHeader.js,https://github.com/Gisto/Gisto/raw/1e8d965dfc54f0ebc57df7d6ddec247930989aa9/src/components/layout/headers/SnippetHeader.js,https://github.com/Gisto/Gisto/raw/63de5f28e477cd2d5b6bd91ee07a35c8236fedeb/src/components/layout/headers/SnippetHeader.js,"@@ -48,7 +48,7 @@ const Description = styled.span`
 
 const Languages = styled.span`
   color: ${baseAppColor};
-  border: 1px solid ${baseAppColor}
+  border: 1px solid ${baseAppColor};
   font-size: 11px;
   padding: 1px 3px;
   border-radius: 2px;
",51,border: 1px solid ${baseAppColor},border: 1px solid ${baseAppColor};
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/5a19f012545f30d7d6a8d0394f4e3bae3f30d4b4,5a19f012545f30d7d6a8d0394f4e3bae3f30d4b4,FIX (edit snippet): edit description missing tags in text field,2018-07-19 23:44:54+03:00,SnippetHeader.js,https://github.com/Gisto/Gisto/raw/16467403828feda2a34285076ae7ca018fd8c57e/src/components/layout/headers/SnippetHeader.js,https://github.com/Gisto/Gisto/raw/5a19f012545f30d7d6a8d0394f4e3bae3f30d4b4/src/components/layout/headers/SnippetHeader.js,"@@ -130,7 +130,7 @@ export class SnippetHeader extends React.Component {
     }
 
     return (
-      <Input value={ get('description', tempSnippet) }
+      <Input value={ `${get('description', tempSnippet)} ${get('tags', snippet)}` }
              onChange={ (event) => updateTempSnippet('description', event.target.value) }/>
     );
   };
",133,"<Input value={ get('description', tempSnippet) }","<Input value={ `${get('description', tempSnippet)} ${get('tags', snippet)}` }"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/a8d2ea144df3f2706f471e5a33e7fdb32fa78537,a8d2ea144df3f2706f471e5a33e7fdb32fa78537,"FIX (colors, editor, splash): colors, editor, splash

- fix colors
- fix editor with one file, file takes all hight
- add new splash screen
- fix external links to open in default system browser",2018-08-06 23:37:24+03:00,NewSnippet.js,https://github.com/Gisto/Gisto/raw/4f0ef8b4265581be9b7d8f41717b3f68b2f5f6ae/src/components/layout/content/NewSnippet.js,https://github.com/Gisto/Gisto/raw/a8d2ea144df3f2706f471e5a33e7fdb32fa78537/src/components/layout/content/NewSnippet.js,"@@ -28,7 +28,7 @@ const Section = styled.div`
 `;
 
 const FileSection = styled(Section)`
-  border: 1px solid #3f84a8;
+  border: 1px solid ${baseAppColor};
   padding: 20px;
   border-radius: 3px;
 `;
",31,border: 1px solid #3f84a8;,border: 1px solid ${baseAppColor};
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/532cb9b296b93c8c1fd8ad5f6a22b61a9dec86d6,532cb9b296b93c8c1fd8ad5f6a22b61a9dec86d6,FIX (loading): fix loading indicator and add it to file loading,2018-08-20 08:08:36+03:00,Editor.js,https://github.com/Gisto/Gisto/raw/492606df880e960c03e538df99805a99046c1822/src/components/common/Editor.js,https://github.com/Gisto/Gisto/raw/532cb9b296b93c8c1fd8ad5f6a22b61a9dec86d6/src/components/common/Editor.js,"@@ -67,7 +67,7 @@ export class Editor extends React.Component {
     if (!file.content) {
       return (
         <LoadingIndicator>
-          <Loading color={ baseAppColor }/>
+          <Loading color={ baseAppColor } text=""""/>
         </LoadingIndicator>
       );
     }
",70,<Loading color={ baseAppColor }/>,"<Loading color={ baseAppColor } text=""""/>"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/532cb9b296b93c8c1fd8ad5f6a22b61a9dec86d6,532cb9b296b93c8c1fd8ad5f6a22b61a9dec86d6,FIX (loading): fix loading indicator and add it to file loading,2018-08-20 08:08:36+03:00,MainHeader.js,https://github.com/Gisto/Gisto/raw/492606df880e960c03e538df99805a99046c1822/src/components/layout/headers/MainHeader.js,https://github.com/Gisto/Gisto/raw/532cb9b296b93c8c1fd8ad5f6a22b61a9dec86d6/src/components/layout/headers/MainHeader.js,"@@ -63,7 +63,7 @@ export const MainHeader = ({ loading, rateLimit, edit }) => (
       <Icon color={ lightText } type=""menu""/>
       { loading && (
         <LoadingIndicator>
-          <Loading/>
+          <Loading text=""Loading...""/>
         </LoadingIndicator>
       ) }
       <div>{ /* placeholder */ }</div>
",66,<Loading/>,"<Loading text=""Loading...""/>"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/4d603176f31f5c678ce3cf4d1f99d76c9861804d,4d603176f31f5c678ce3cf4d1f99d76c9861804d,FIX (new snippet): redirect with new action upon creating new snipper,2018-08-31 20:52:43+03:00,gitHubAPI.js,https://github.com/Gisto/Gisto/raw/6149d98de4305e2c3cc6f5022f25aaf9c6e31d77/src/middlewares/gitHubAPI.js,https://github.com/Gisto/Gisto/raw/4d603176f31f5c678ce3cf4d1f99d76c9861804d/src/middlewares/gitHubAPI.js,"@@ -248,7 +248,7 @@ const gitHubAPIMiddleware = ({ dispatch }) => {
               payload: result.body
             });
 
-            action.payload.history.push(`/snippet/${result.body.id}`);
+            dispatch(push(`/snippet/${result.body.id}`));
           }
         });
     }
",251,action.payload.history.push(`/snippet/${result.body.id}`);,dispatch(push(`/snippet/${result.body.id}`));
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/9313cf3dd5ced3ea4737f59a1957e0da7f40f1ff,9313cf3dd5ced3ea4737f59a1957e0da7f40f1ff,FIX (update packages): update packages and fix proptypes,2018-09-04 09:46:10+03:00,Snippet.js,https://github.com/Gisto/Gisto/raw/6c4718f145d522b4a17548e896bf15317f33c10a/src/components/layout/content/Snippet.js,https://github.com/Gisto/Gisto/raw/9313cf3dd5ced3ea4737f59a1957e0da7f40f1ff/src/components/layout/content/Snippet.js,"@@ -92,7 +92,7 @@ Snippet.propTypes = {
   edit: PropTypes.bool,
   tempSnippet: PropTypes.object,
   updateTempSnippet: PropTypes.func,
-  showComments: PropTypes.func
+  showComments: PropTypes.any
 };
 
 export default connect(mapStateToProps, {
",95,showComments: PropTypes.func,showComments: PropTypes.any
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/5e46e44e1cbf0a917c39b9d6926fb59ab797bbf8,5e46e44e1cbf0a917c39b9d6926fb59ab797bbf8,FIX (props): fix proptypes,2018-09-04 09:54:50+03:00,SnippetHeader.js,https://github.com/Gisto/Gisto/raw/9313cf3dd5ced3ea4737f59a1957e0da7f40f1ff/src/components/layout/headers/SnippetHeader.js,https://github.com/Gisto/Gisto/raw/5e46e44e1cbf0a917c39b9d6926fb59ab797bbf8/src/components/layout/headers/SnippetHeader.js,"@@ -388,7 +388,7 @@ SnippetHeader.propTypes = {
   toggleSnippetComments: PropTypes.func,
   edit: PropTypes.bool,
   tempSnippet: PropTypes.object,
-  comments: PropTypes.object
+  comments: PropTypes.array
 };
 
 export default connect(mapStateToProps, {
",391,comments: PropTypes.object,comments: PropTypes.array
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/488c6873d052179ac72e03ba7d968fabd6df316a,488c6873d052179ac72e03ba7d968fabd6df316a,FIX (API): header null checking,2018-09-04 22:50:41+03:00,gitHubAPI.js,https://github.com/Gisto/Gisto/raw/6d28100fa2227745ac66620c27491b3efd7cdf06/src/middlewares/gitHubAPI.js,https://github.com/Gisto/Gisto/raw/488c6873d052179ac72e03ba7d968fabd6df316a/src/middlewares/gitHubAPI.js,"@@ -28,7 +28,7 @@ const gitHubAPIMiddleware = ({ dispatch }) => {
   return (next) => (action) => {
     const errorHandler = (error, result) => {
       if (error) {
-        if (error.response.headers['x-github-otp']) {
+        if (error.response && error.response.headers['x-github-otp']) {
           setNotification({
             title: 'Two factor authentication',
             body: `${error.response.body.message} (${error.status})`,
",31,if (error.response.headers['x-github-otp']) {,if (error.response && error.response.headers['x-github-otp']) {
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c0ca7b76965a5869c37f35be2912d9aa6a66b682,c0ca7b76965a5869c37f35be2912d9aa6a66b682,FIX (mrkdown): emoji regex,2018-09-05 07:25:36+03:00,Markdown.js,https://github.com/Gisto/Gisto/raw/bde2b881ec73b08c868bd23ee33546c664b48e32/src/components/common/Markdown.js,https://github.com/Gisto/Gisto/raw/c0ca7b76965a5869c37f35be2912d9aa6a66b682/src/components/common/Markdown.js,"@@ -11,7 +11,7 @@ const Markdown = ({ text, className, emoji }) => {
     const renderer = new marked.Renderer();
 
     renderer.text = (input) => {
-      return input.replace(/:(.*?):/g, (matcher, capture) => `<img src=""${get([capture], emoji)}"" style=""width: 18px;vertical-align: middle;background: transparent;""/>`);
+      return input.replace(/:(.\w+?):/g, (matcher, capture) => `<img src=""${get([capture], emoji)}"" style=""width: 18px;vertical-align: middle;background: transparent;""/>`);
     };
 
     marked.setOptions({
",14,"return input.replace(/:(.*?):/g, (matcher, capture) => `<img src=""${get([capture], emoji)}"" style=""width: 18px;vertical-align: middle;background: transparent;""/>`);","return input.replace(/:(.\w+?):/g, (matcher, capture) => `<img src=""${get([capture], emoji)}"" style=""width: 18px;vertical-align: middle;background: transparent;""/>`);"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/1c7e5951a7cdadd4bbcd7ceb8909f289866deb6d,1c7e5951a7cdadd4bbcd7ceb8909f289866deb6d,"FIX (snippet header): refactor and add ""copy url to clibboard""

closes #222",2018-09-13 22:39:01+03:00,notifications.js,https://github.com/Gisto/Gisto/raw/2e71b18bc19bebc00fcd88bc154fb09de2347ffa/src/utils/notifications.js,https://github.com/Gisto/Gisto/raw/1c7e5951a7cdadd4bbcd7ceb8909f289866deb6d/src/utils/notifications.js,"@@ -8,7 +8,7 @@ export const setNotification = ({
   body,
   type,
   position,
-  options
+  options = { autoClose: 5000 }
 }) => {
   toast[type || 'info'](<Notification title={ title } body={ body }/>, {
     position: position || toast.POSITION.TOP_CENTER,
",11,options,options = { autoClose: 5000 }
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/d0c6712eb4cff2f22d6c5f9f76f14adf9be1fbea,d0c6712eb4cff2f22d6c5f9f76f14adf9be1fbea,FIX (scrollbars): horizontal scrollbar size,2018-09-16 22:06:21+03:00,App.js,https://github.com/Gisto/Gisto/raw/4fb7b32b340cf9f734ab1882328a90f4bac44be3/src/components/layout/App.js,https://github.com/Gisto/Gisto/raw/d0c6712eb4cff2f22d6c5f9f76f14adf9be1fbea/src/components/layout/App.js,"@@ -14,7 +14,7 @@ import KeyBindings from 'components/layout/KeyBindings';
 injectGlobal`
   ::-webkit-scrollbar {
     width: 5px;
-    margin: 0 20px 0 0;
+    height: 5px;
   }
   
   ::-webkit-scrollbar-track {
",17,margin: 0 20px 0 0;,height: 5px;
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c2a92b7b67c76a3842f8ef30f204326af2990e15,c2a92b7b67c76a3842f8ef30f204326af2990e15,FIX (settings): add configuration for snippet cache before next fetch,2018-09-17 22:15:28+03:00,Editor.js,https://github.com/Gisto/Gisto/raw/3a77d9cdf03fa7f8a4b3785647384c38c8e3c02f/src/components/layout/content/settings/Editor.js,https://github.com/Gisto/Gisto/raw/c2a92b7b67c76a3842f8ef30f204326af2990e15/src/components/layout/content/settings/Editor.js,"@@ -38,7 +38,7 @@ const StyledISelect = styled(Select)`
 
 const EditorSettings = () => (
   <div>
-    <h4>editor settings:</h4>
+    <h4>Editor settings:</h4>
     <Wrapper>
       <Section>
         <Field>
",41,<h4>editor settings:</h4>,<h4>Editor settings:</h4>
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/2c942e127736c83bd789621214f68db8531eb076,2c942e127736c83bd789621214f68db8531eb076,FIX (search): add taglist to search for quicker navigation,2018-09-24 23:28:52+03:00,Sidebar.js,https://github.com/Gisto/Gisto/raw/edd09a248925ffc9a8d0660a3d285faceac7cc3b/src/components/layout/sidebar/Sidebar.js,https://github.com/Gisto/Gisto/raw/2c942e127736c83bd789621214f68db8531eb076/src/components/layout/sidebar/Sidebar.js,"@@ -59,7 +59,7 @@ export const Sidebar = ({
       return (
         <span>
           { 'tags ' } { map((tag) => (
-            <Tag>
+            <Tag key={ tag }>
               { tag }
               &nbsp;
               <Icon type=""close""
",62,<Tag>,<Tag key={ tag }>
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/1f2a21efb5dd8c3401fb0b43bc7e44ceefa098de,1f2a21efb5dd8c3401fb0b43bc7e44ceefa098de,FIX (keybinding): change supeserch to cmd/ctl+f,2018-09-24 23:42:26+03:00,KeyBindings.js,https://github.com/Gisto/Gisto/raw/2c942e127736c83bd789621214f68db8531eb076/src/components/layout/KeyBindings.js,https://github.com/Gisto/Gisto/raw/1f2a21efb5dd8c3401fb0b43bc7e44ceefa098de/src/components/layout/KeyBindings.js,"@@ -38,7 +38,7 @@ const KeyBindings = () => (
     <div>
       <h3>Available keys</h3>
       <p>
-        <kbd>Shift</kbd>+<kbd>Shift</kbd> - Super search
+        <kbd>Comand/Ctrl</kbd>+<kbd>f</kbd> - Super search
       </p>
       <p>
         <kbd>?</kbd> - This key binding doc
",41,<kbd>Shift</kbd>+<kbd>Shift</kbd> - Super search,<kbd>Comand/Ctrl</kbd>+<kbd>f</kbd> - Super search
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/670e801577842aea130e7769b2d5782795d78ab8,670e801577842aea130e7769b2d5782795d78ab8,FIX (new snippet): better screen layout,2018-09-26 00:06:27+03:00,index.js,https://github.com/Gisto/Gisto/raw/fff04347d75ebdc478e64336fd1b4255e5d81b11/src/index.js,https://github.com/Gisto/Gisto/raw/670e801577842aea130e7769b2d5782795d78ab8/src/index.js,"@@ -38,7 +38,7 @@ const Gisto = () => (
 );
 
 if (process.env.NODE_ENV === 'development') {
-  window.store = store;
+  window.gistostore = store;
   window._ = _;
   window.fp = fp;
 }
",41,window.store = store;,window.gistostore = store;
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/72a42b30dc6757993f26a0a50e5e8d9e855eae65,72a42b30dc6757993f26a0a50e5e8d9e855eae65,FIX (settings): add option to hide rate limit,2018-10-17 09:12:11+03:00,InputColor.js,https://github.com/Gisto/Gisto/raw/c77f01a169e0f243256f1dede842f2303dfb6563/src/components/common/controls/InputColor.js,https://github.com/Gisto/Gisto/raw/72a42b30dc6757993f26a0a50e5e8d9e855eae65/src/components/common/controls/InputColor.js,"@@ -9,7 +9,7 @@ const Color = styled.input`
   border-radius: 40px;
   background: none;
   vertical-align: middle;
-  margin: 0 0 2px 5px;
+  margin: 0 -3px 2px 5px;
   
   ::-webkit-color-swatch-wrapper {
     padding: 0;
",12,margin: 0 0 2px 5px;,margin: 0 -3px 2px 5px;
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Checkbox.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/common/controls/Checkbox.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/common/controls/Checkbox.spec.js,"@@ -1,6 +1,6 @@
 import Checkbox from 'components/common/controls/Checkbox';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   className: 'classified',
   checked: true,
   onChange: jest.fn(),
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Input.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/common/controls/Input.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/common/controls/Input.spec.js,"@@ -1,6 +1,6 @@
 import Input from 'components/common/controls/Input';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   type: 'search',
   placeholder: 'I am temporary',
   className: 'classified',
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,InputColor.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/common/controls/InputColor.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/common/controls/InputColor.js,"@@ -1,6 +1,6 @@
 import InputColor from 'components/common/controls/InputColor';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   color: 'red',
   onChange: jest.fn(),
   ...props
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Select.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/common/controls/Select.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/common/controls/Select.spec.js,"@@ -1,6 +1,6 @@
 import Select from 'components/common/controls/Select';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   className: 'classified',
   value: 'bla-bla',
   onChange: jest.fn(),
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,TextArea.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/common/controls/TextArea.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/common/controls/TextArea.spec.js,"@@ -1,6 +1,6 @@
 import TextArea from 'components/common/controls/TextArea';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   type: 'search',
   placeholder: 'I am temporary',
   className: 'classified',
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Content.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/Content.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/Content.spec.js,"@@ -1,6 +1,6 @@
 import { Content } from 'components/layout/Content';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Main.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/Main.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/Main.spec.js,"@@ -1,6 +1,6 @@
 import { Main } from 'components/layout/Main';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Updater.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/Updater.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/Updater.js,"@@ -1,6 +1,6 @@
 import Updater from 'components/layout/Updater';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,About.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/content/About.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/content/About.spec.js,"@@ -5,7 +5,7 @@ jest.mock('../../../../package.json', () => ({
   version: 'X.X.X'
 }));
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",8,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Snippet.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/content/Snippet.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/content/Snippet.spec.js,"@@ -1,6 +1,6 @@
 import { Snippet } from 'components/layout/content/Snippet';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,SubHeader.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/headers/SubHeader.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/headers/SubHeader.spec.js,"@@ -1,6 +1,6 @@
 import { SubHeader } from 'components/layout/headers/SubHeader';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,Sidebar.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/sidebar/Sidebar.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/sidebar/Sidebar.spec.js,"@@ -1,6 +1,6 @@
 import { Sidebar } from 'components/layout/sidebar/Sidebar';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac,FIX (refactor): settings and theme,2018-10-22 23:42:08+03:00,SnippetsList.spec.js,https://github.com/Gisto/Gisto/raw/f40de3e868624326363d000f1c15df7ac6fdb4a3/__tests__/components/layout/sidebar/SnippetsList.spec.js,https://github.com/Gisto/Gisto/raw/c1bdb4e9bb97f990132a6a8a82db8bc1b743a8ac/__tests__/components/layout/sidebar/SnippetsList.spec.js,"@@ -1,6 +1,6 @@
 import { SnippetsList } from 'components/layout/sidebar/SnippetsList';
 
-const propSetup = (props) => ({
+const propSetup = (props = {}) => ({
   ...props
 });
 
",3,const propSetup = (props) => ({,const propSetup = (props = {}) => ({
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/5bef272c10d8a943aa9d0339d76f40829c79cc29,5bef272c10d8a943aa9d0339d76f40829c79cc29,FIX (notifications): Clipboard notifications failing closing #241,2019-01-19 13:51:30+02:00,Snippet.js,https://github.com/Gisto/Gisto/raw/d6448e0a5c9f11d5e81ea1489ed8a12cd9d4775e/src/components/layout/sidebar/Snippet.js,https://github.com/Gisto/Gisto/raw/5bef272c10d8a943aa9d0339d76f40829c79cc29/src/components/layout/sidebar/Snippet.js,"@@ -99,7 +99,7 @@ export class Snippet extends Component {
 
     menu.append(new MenuItem({
       label: 'Copy description to clipboard',
-      click: () => copyToClipboard(event, get('description', snippet), { title: 'Snippet description copied to clipboard' })
+      click: () => copyToClipboard(event, get('description', snippet), 'Snippet description copied to clipboard')
     }));
 
     menu.append(new MenuItem({
",102,"click: () => copyToClipboard(event, get('description', snippet), { title: 'Snippet description copied to clipboard' })","click: () => copyToClipboard(event, get('description', snippet), 'Snippet description copied to clipboard')"
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/a0c7df6a1271fe45ed43726729d3e5661cfb13c4,a0c7df6a1271fe45ed43726729d3e5661cfb13c4,FIX (editor): regression in new snippets editor when editor is always read only fixed #245,2019-03-12 20:11:21+02:00,Editor.js,https://github.com/Gisto/Gisto/raw/de0901089173448aed749199bb55bff54f8e8cab/src/components/common/controls/Editor.js,https://github.com/Gisto/Gisto/raw/a0c7df6a1271fe45ed43726729d3e5661cfb13c4/src/components/common/controls/Editor.js,"@@ -157,7 +157,7 @@ export class Editor extends React.Component {
       theme={ getSetting('editorTheme', 'vs') }
       name={ this.props.id }
       value={ this.props.file.content }
-      options={ editorOptions({ readOnly: !this.props.edit }) }
+      options={ editorOptions({ readOnly: !this.props.edit && !this.props.isNew }) }
       // eslint-disable-next-line no-extra-boolean-cast
       editorDidMount={ (editor, monaco) => getSession('monaco-extra-langs-registred')
         ? null
",160,options={ editorOptions({ readOnly: !this.props.edit }) },options={ editorOptions({ readOnly: !this.props.edit && !this.props.isNew }) }
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/446fbb06f9366c314dd81df5a2bce62e460f1d23,446fbb06f9366c314dd81df5a2bce62e460f1d23,FIX (new snippet): performance issues fixed #252,2019-06-05 23:51:44+03:00,App.js,https://github.com/Gisto/Gisto/raw/35f6d77c29870120252f5aae50e1b3adfa481dab/src/components/layout/App.js,https://github.com/Gisto/Gisto/raw/446fbb06f9366c314dd81df5a2bce62e460f1d23/src/components/layout/App.js,"@@ -42,7 +42,7 @@ const AppWrapper = styled.div`
   background: #fff;
   flex-direction: column;
   justify-content: flex-start;
-  height: 100vh;
+  height: calc(100vh - 70px - 50px);
   color: ${(props) => props.theme.baseAppColor};
 `;
 
",45,height: 100vh;,height: calc(100vh - 70px - 50px);
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/2600a99d7b113c666c7050162a04a3bce39f4190,2600a99d7b113c666c7050162a04a3bce39f4190,FIX (new snippet): screen ui tweaks closes #254,2019-07-09 22:53:52+03:00,Editor.js,https://github.com/Gisto/Gisto/raw/3ca8ef64f7f62e478ae2550fc8ba4dd7da625489/src/components/common/controls/Editor.js,https://github.com/Gisto/Gisto/raw/2600a99d7b113c666c7050162a04a3bce39f4190/src/components/common/controls/Editor.js,"@@ -295,7 +295,7 @@ export class Editor extends React.Component {
       );
     }
 
-    const calculatedHeight = filesCount === 1 ? window.outerHeight - 220 : 400;
+    const calculatedHeight = filesCount === 1 ? window.outerHeight - 220 : 'calc(100vh - 255px)';
 
     return (
       <span style={ { display: file.collapsed ? 'none' : 'inherit' } }>
",298,const calculatedHeight = filesCount === 1 ? window.outerHeight - 220 : 400;,const calculatedHeight = filesCount === 1 ? window.outerHeight - 220 : 'calc(100vh - 255px)';
Gisto,https://github.com/Gisto/Gisto,https://github.com/Gisto/Gisto/commit/9a9c1891be224d3eae8fc39f9df5ab272c18fe58,9a9c1891be224d3eae8fc39f9df5ab272c18fe58,FIX (scope): OAuth scope for 'user' read/write may not needed anymore closes #269,2020-02-12 20:29:20+02:00,oauth2.js,https://github.com/Gisto/Gisto/raw/3b225f907839ab933d9dbc056ecc2f5ad66d28fa/src/electron/oauth2.js,https://github.com/Gisto/Gisto/raw/9a9c1891be224d3eae8fc39f9df5ab272c18fe58/src/electron/oauth2.js,"@@ -3,7 +3,7 @@ const tokenRequest = require('superagent');
 
 const options = {
   client_id: process.env.GISTO_GITHUB_CLIENT_ID,
-  scopes: ['user', 'gist']
+  scopes: ['gist']
 };
 
 async function requestGithubToken(ops, code) {
",6,"scopes: ['user', 'gist']",scopes: ['gist']
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/703f67d54afa77d2dabdf8e49a20b4a0cdce56f7,703f67d54afa77d2dabdf8e49a20b4a0cdce56f7,gemnasium: fix devDependencies badge,2014-04-29 15:58:26+08:00,server.js,https://github.com/badges/shields/raw/3da09b93b771df49ba8ff88006b96e4836202e71/server.js,https://github.com/badges/shields/raw/703f67d54afa77d2dabdf8e49a20b4a0cdce56f7/server.js,"@@ -647,7 +647,7 @@ cache(function(data, match, sendBadge) {
       sendBadge(format, badgeData);
     }
     try {
-      var nameMatch = buffer.match(/(dev)?dependencies/)[0];
+      var nameMatch = buffer.match(/(devD|d)ependencies/)[0];
       var statusMatch = buffer.match(/'12'>(.+)<\/text>\n<\/g>/)[1];
       badgeData.text[0] = nameMatch;
       badgeData.text[1] = statusMatch;
",650,var nameMatch = buffer.match(/(dev)?dependencies/)[0];,var nameMatch = buffer.match(/(devD|d)ependencies/)[0];
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/d623f5240072fde321fe414d10c2065afa298c9c,d623f5240072fde321fe414d10c2065afa298c9c,Shorter metric prefix map.,2014-05-10 18:02:39+02:00,server.js,https://github.com/badges/shields/raw/0cf7c72da8669ea1d34722992a7300d7dd9876e7/server.js,https://github.com/badges/shields/raw/d623f5240072fde321fe414d10c2065afa298c9c/server.js,"@@ -1141,7 +1141,7 @@ function streamFromString(str) {
 // Given a number, string with appropriate unit in the metric system, SI.
 // Note: numbers beyond the peta- cannot be represented as integers in JS.
 var metricPrefix = ['k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];
-var metricPower = Array.apply(null, Array(metricPrefix.length))
+var metricPower = metricPrefix
     .map(function(a, i) { return Math.pow(1000, i + 1); });
 function metric(n) {
   for (var i = metricPrefix.length - 1; i >= 0; i--) {
",1144,"var metricPower = Array.apply(null, Array(metricPrefix.length))",var metricPower = metricPrefix
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/372e568edf8dddb04411ddad555cabafa5309268,372e568edf8dddb04411ddad555cabafa5309268,fix typo in 'hackage-deps' shield,2014-09-28 21:39:03+02:00,server.js,https://github.com/badges/shields/raw/404578c1580ac93242b2dbb1ab2149e4f7024443/server.js,https://github.com/badges/shields/raw/372e568edf8dddb04411ddad555cabafa5309268/server.js,"@@ -1278,7 +1278,7 @@ cache(function(data, match, sendBadge) {
     if (err != null) {
       badgeData.text[1] = 'inaccessible';
       sendBadge(format, badgeData);
-      return;/h
+      return;
     }
 
     var outdatedStr = ""Outdated dependencies for "" + repo + "" "";
",1281,return;/h,return;
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/085758b9072edddc17ee06c28e697a117e144ce6,085758b9072edddc17ee06c28e697a117e144ce6,Fix to strip alpha non-digit characters from wordpress version.,2014-11-07 22:48:45+01:00,server.js,https://github.com/badges/shields/raw/d75023cb68327523fad9a0bf4375efb5d5bbca11/server.js,https://github.com/badges/shields/raw/085758b9072edddc17ee06c28e697a117e144ce6/server.js,"@@ -2253,7 +2253,7 @@ cache(function(data, match, sendBadge, request) {
       var data = JSON.parse(buffer);
       var pluginVersion = data.version;
       if (data.tested) {
-        var testedVersion = data.tested;
+        var testedVersion = data.tested.replace(/[^0-9.]/g,'');
         badgeData.text[1] = testedVersion;
         var coreUrl = 'https://api.wordpress.org/core/version-check/1.7/';
         request(coreUrl, function(err, res, response) {
",2256,var testedVersion = data.tested;,"var testedVersion = data.tested.replace(/[^0-9.]/g,'');"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/d9347fffe4a85a5cf64853b76e538157974c31a0,d9347fffe4a85a5cf64853b76e538157974c31a0,"Plastic style (instead of default)

The default style is now a link.

Fixes #296",2014-11-26 22:34:26+01:00,server.js,https://github.com/badges/shields/raw/8cfb2b406e48cdffa10b062633f84f2e7f019741/server.js,https://github.com/badges/shields/raw/d9347fffe4a85a5cf64853b76e538157974c31a0/server.js,"@@ -21,7 +21,7 @@ try {
 var semver = require('semver');
 var serverStartTime = new Date((new Date()).toGMTString());
 
-var validTemplates = ['default', 'flat', 'flat-square'];
+var validTemplates = ['default', 'plastic', 'flat', 'flat-square'];
 
 // Analytics
 
",24,"var validTemplates = ['default', 'flat', 'flat-square'];","var validTemplates = ['default', 'plastic', 'flat', 'flat-square'];"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/37a76c95d16b95cc40f3ff349b8121c9a2f98459,37a76c95d16b95cc40f3ff349b8121c9a2f98459,Fix #437,2015-05-13 19:09:16+02:00,server.js,https://github.com/badges/shields/raw/63922f61010ffff3cd3de0e48e78b84ea10c2e06/server.js,https://github.com/badges/shields/raw/37a76c95d16b95cc40f3ff349b8121c9a2f98459/server.js,"@@ -790,7 +790,7 @@ cache(function(data, match, sendBadge, request) {
     }
   };
 
-  if (!serverSecrets && serverSecrets.sl_insight_userUuid) {
+  if (serverSecrets && serverSecrets.sl_insight_userUuid) {
     options.auth = {
       user: serverSecrets.sl_insight_userUuid,
       pass: serverSecrets.sl_insight_apiToken
",793,if (!serverSecrets && serverSecrets.sl_insight_userUuid) {,if (serverSecrets && serverSecrets.sl_insight_userUuid) {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/dd54c25541fcb9809d0340d209893af4633632bd,dd54c25541fcb9809d0340d209893af4633632bd,Fix tests to wait for server launch test stub to finish starting,2015-06-10 11:46:53-06:00,test.js,https://github.com/badges/shields/raw/7e9eae14e4d9cff6dba1d98e6c0147a226d9ccf9/test.js,https://github.com/badges/shields/raw/dd54c25541fcb9809d0340d209893af4633632bd/test.js,"@@ -74,7 +74,7 @@ describe('the server', function() {
     server = cproc.spawn('node', ['ass-stubs/server-test.js', port]);
     var isDone = false;
     server.stdout.on('data', function(data) {
-      if (!isDone) { done(); isDone = true; }
+      if (data.toString().indexOf('ready') >= 0 && !isDone) { done(); isDone = true; }
     });
     server.stderr.on('data', function(data) { console.log(''+data); });
   });
",77,if (!isDone) { done(); isDone = true; },if (data.toString().indexOf('ready') >= 0 && !isDone) { done(); isDone = true; }
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/5ad59a18d73f31491bd6ac408b664b79a879531b,5ad59a18d73f31491bd6ac408b664b79a879531b,Fixed match with new python version regex,2015-07-19 19:56:19-07:00,server.js,https://github.com/badges/shields/raw/e088b2035c09624371cfceeeb5cab411ceec7219/server.js,https://github.com/badges/shields/raw/5ad59a18d73f31491bd6ac408b664b79a879531b/server.js,"@@ -1632,7 +1632,7 @@ cache(function(data, match, sendBadge, request) {
         sendBadge(format, badgeData);
       } else if (info === 'pyversions') {
         var versions = [];
-        var pattern = /^Programming Language \:\: Python \:\: \d+(\.\d)?$/;
+        var pattern = /^Programming Language \:\: Python \:\: (\d+\.*\d*)?$/;
         for (var i = 0; i < data.info.classifiers.length; i++) {
           var matched = pattern.exec(data.info.classifiers[i]);
           if (matched && matched[1]) {
",1635,var pattern = /^Programming Language \:\: Python \:\: \d+(\.\d)?$/;,var pattern = /^Programming Language \:\: Python \:\: (\d+\.*\d*)?$/;
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/495eee166082ed270ddb332b19bac4ad95247db0,495eee166082ed270ddb332b19bac4ad95247db0,fix(server.js): Gemnasium svg regex update,2015-12-14 11:12:25+08:00,server.js,https://github.com/badges/shields/raw/f46071f9caa007c5185393814c9d31a9b8cae6b1/server.js,https://github.com/badges/shields/raw/495eee166082ed270ddb332b19bac4ad95247db0/server.js,"@@ -2333,7 +2333,7 @@ cache(function(data, match, sendBadge, request) {
     }
     try {
       var nameMatch = buffer.match(/(devD|d)ependencies/)[0];
-      var statusMatch = buffer.match(/'14'>(.+)<\/text>\n *<\/g>/)[1];
+      var statusMatch = buffer.match(/'14'>(.+)<\/text>\s*<\/g>/)[1];
       badgeData.text[0] = nameMatch;
       badgeData.text[1] = statusMatch;
       if (statusMatch === 'up-to-date') {
",2336,var statusMatch = buffer.match(/'14'>(.+)<\/text>\n *<\/g>/)[1];,var statusMatch = buffer.match(/'14'>(.+)<\/text>\s*<\/g>/)[1];
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c9999ca46cae0833b71f487bbc9fcff096e15aad,c9999ca46cae0833b71f487bbc9fcff096e15aad,"Jenkins 'green' means the build passed

Fixes #586.",2015-12-29 22:46:50+01:00,server.js,https://github.com/badges/shields/raw/8c88223b6e27ace72d7bd5ecfbb9f7d4228d61d0/server.js,https://github.com/badges/shields/raw/c9999ca46cae0833b71f487bbc9fcff096e15aad/server.js,"@@ -3371,7 +3371,7 @@ cache(function(data, match, sendBadge, request) {
     }
 
     try {
-      if (json.color === 'blue') {
+      if (json.color === 'blue' || json.color === 'green') {
         badgeData.colorscheme = 'brightgreen';
         badgeData.text[1] = 'passing';
       } else if (json.color === 'red') {
",3374,if (json.color === 'blue') {,if (json.color === 'blue' || json.color === 'green') {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/1996a5399f84a2017c9bc5625fe975a10f3981df,1996a5399f84a2017c9bc5625fe975a10f3981df,Ensure GitHub contributors can have a metric prefix,2016-10-15 16:38:43+02:00,server.js,https://github.com/badges/shields/raw/670867098d0b3325583864f271f4e28c0b578735/server.js,https://github.com/badges/shields/raw/1996a5399f84a2017c9bc5625fe975a10f3981df/server.js,"@@ -2919,7 +2919,7 @@ cache(function(data, match, sendBadge, request) {
         contributors = JSON.parse(buffer).length;
       }
 
-      badgeData.text[1] = contributors;
+      badgeData.text[1] = metric(+contributors);
       badgeData.colorscheme = 'blue';
     } catch(e) {
       badgeData.text[1] = 'inaccessible';
",2922,badgeData.text[1] = contributors;,badgeData.text[1] = metric(+contributors);
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2133ff9d1f0ae745c6b6713cc12ef759956fcc95,2133ff9d1f0ae745c6b6713cc12ef759956fcc95,fix default value for githubUserTokens,2017-03-27 16:56:58-04:00,github-auth.js,https://github.com/badges/shields/raw/499c3ea724444c7ff98263f9fbda8dc8439c2576/lib/github-auth.js,https://github.com/badges/shields/raw/2133ff9d1f0ae745c6b6713cc12ef759956fcc95/lib/github-auth.js,"@@ -7,7 +7,7 @@ try {
   // is stored in this JSON data.
   serverSecrets = require('../private/secret.json');
 } catch(e) {}
-var githubUserTokens;
+var githubUserTokens = {data:[]};
 var githubUserTokensFile = './private/github-user-tokens.json';
 autosave(githubUserTokensFile, {data:[]}).then(function(f) {
   githubUserTokens = f;
",10,var githubUserTokens;,var githubUserTokens = {data:[]};
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/de18dce94a6a9425d01a465c017f680c98c231f9,de18dce94a6a9425d01a465c017f680c98c231f9,"Add more test helpers

While working on some tests, I was having a tricky problem in a test suite. Eventually I tracked it down to an interaction between tests. I suspected the test library, but once I tried to make an isolated test case, I realized the test library was working fine. It turns out it was the server’s request cache. The fix is to clear the cache between tests.

Not needed for this PR, though I’m adding it to this branch because it conflicts with this change.",2017-04-12 23:13:16+02:00,test.spec.js,https://github.com/badges/shields/raw/5a45003bc34900e70a4d28b0dbae1f76cff60799/test/test.spec.js,https://github.com/badges/shields/raw/de18dce94a6a9425d01a465c017f680c98c231f9/test/test.spec.js,"@@ -79,7 +79,7 @@ describe('The server', function () {
     server = require('../server');
   });
   after('Shut down the server', function(done) {
-    server.close(function () { done(); });
+    server.camp.close(function () { done(); });
   });
 
   it('should produce colorscheme badges', function(done) {
",82,server.close(function () { done(); });,server.camp.close(function () { done(); });
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/26847dca808ec4b43512771ccfaa6345ffe16086,26847dca808ec4b43512771ccfaa6345ffe16086,"Fix website badge for deep links (#720)

Works: https://img.shields.io/website/http/github.com.svg
Does not work: https://img.shields.io/website/http/github.com/badges.svg

Regexp was too greedy and included the beginning of the path in the protocol",2017-04-18 23:55:19-04:00,server.js,https://github.com/badges/shields/raw/5a8b565ebbd48ec10d0dfeafb4981efd9bdf1077/server.js,https://github.com/badges/shields/raw/26847dca808ec4b43512771ccfaa6345ffe16086/server.js,"@@ -5833,7 +5833,7 @@ cache(function(data, match, sendBadge, request) {
 }));
 
 // Test if a webpage is online
-camp.route(/^\/website(-(([^-]|--)*?)-(([^-]|--)*)(-(([^-]|--)+)-(([^-]|--)+))?)?\/(.+)\/(.+)\.(svg|png|gif|jpg|json)$/,
+camp.route(/^\/website(-(([^-]|--)*?)-(([^-]|--)*)(-(([^-]|--)+)-(([^-]|--)+))?)?\/([^/]+)\/(.+)\.(svg|png|gif|jpg|json)$/,
 cache(function(data, match, sendBadge, request) {
   var onlineMessage = escapeFormat(match[2] != null ? match[2] : ""online"");
   var offlineMessage = escapeFormat(match[4] != null ? match[4] : ""offline"");
",5836,"camp.route(/^\/website(-(([^-]|--)*?)-(([^-]|--)*)(-(([^-]|--)+)-(([^-]|--)+))?)?\/(.+)\/(.+)\.(svg|png|gif|jpg|json)$/,","camp.route(/^\/website(-(([^-]|--)*?)-(([^-]|--)*)(-(([^-]|--)+)-(([^-]|--)+))?)?\/([^/]+)\/(.+)\.(svg|png|gif|jpg|json)$/,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0c477524a5320aa01d69f5dfefed9a400f22f75d,0c477524a5320aa01d69f5dfefed9a400f22f75d,"Fix regexp used for matching services in pull requests (#978)

According to the [Mozilla documentation about regular expressions](https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions), the special character '\w' is equivalent to '[A-Za-z0-9_]', which does not include the hyphen character (i.e. '-'). This cause the matching of services containing a hyphen to fail (e.g. 'maven-central').",2017-04-30 10:01:37-04:00,cli.js,https://github.com/badges/shields/raw/8233a0ba389287b30a53fef46c21ec8def40d3e9/service-tests/runner/cli.js,https://github.com/badges/shields/raw/0c477524a5320aa01d69f5dfefed9a400f22f75d/service-tests/runner/cli.js,"@@ -40,7 +40,7 @@ function getTitle (repoSlug, pullRequest) {
 // [Travis Sonar] Support user token authentication -> ['travis', 'sonar']
 // [CRAN CPAN CTAN] Add test coverage => ['cran', 'cpan', 'ctan']
 function servicesForTitle (title) {
-  const matches = title.match(/\[([\w ]+)\]/);
+  const matches = title.match(/\[(.+)\]/);
   if (matches === null) {
     return [];
   }
",43,const matches = title.match(/\[([\w ]+)\]/);,const matches = title.match(/\[(.+)\]/);
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/5a3516c687f0c743f1730e0dd1110d10a189b2bf,5a3516c687f0c743f1730e0dd1110d10a189b2bf,"Clean up some helpers (#1117)

Address comments from #1109 and make several code-quality fixes which were caught by a local run of eslint-config-standard.",2017-10-06 13:11:29-04:00,github-auth.js,https://github.com/badges/shields/raw/e7f1f57b6b7ce135ad985083f261b66de656ad33/lib/github-auth.js,https://github.com/badges/shields/raw/5a3516c687f0c743f1730e0dd1110d10a189b2bf/lib/github-auth.js,"@@ -122,7 +122,7 @@ function sendTokenToAllServers(token) {
         strictSSL: false,
       };
       request(options, function(err, res, body) {
-        if (err != null) { return reject('Posting the GitHub user token failed: ' + err.stack); }
+        if (err != null) { return reject(err); }
         resolve();
       });
     });
",125,if (err != null) { return reject('Posting the GitHub user token failed: ' + err.stack); },if (err != null) { return reject(err); }
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/5a3516c687f0c743f1730e0dd1110d10a189b2bf,5a3516c687f0c743f1730e0dd1110d10a189b2bf,"Clean up some helpers (#1117)

Address comments from #1109 and make several code-quality fixes which were caught by a local run of eslint-config-standard.",2017-10-06 13:11:29-04:00,lru-cache.js,https://github.com/badges/shields/raw/e7f1f57b6b7ce135ad985083f261b66de656ad33/lib/lru-cache.js,https://github.com/badges/shields/raw/5a3516c687f0c743f1730e0dd1110d10a189b2bf/lib/lru-cache.js,"@@ -126,7 +126,7 @@ function getHeapSize() {
   }
 }
 function computeHeapSize() {
-  return heapSize = process.memoryUsage().heapTotal;
+  return (heapSize = process.memoryUsage().heapTotal);
 }
 
 module.exports = Cache;
",129,return heapSize = process.memoryUsage().heapTotal;,return (heapSize = process.memoryUsage().heapTotal);
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c3636e7549ddfd1b614b16b003e370c7cdbfccb5,c3636e7549ddfd1b614b16b003e370c7cdbfccb5,"Clean up service tests (#1127)

- Consolidate regexes
- Use slimmer syntax where possible
- Fix bug caught by failing amo tests",2017-10-09 14:41:18-04:00,codetally.js,https://github.com/badges/shields/raw/08524b639b41110332ab65c4462bc07dfb9ab74f/service-tests/codetally.js,https://github.com/badges/shields/raw/c3636e7549ddfd1b614b16b003e370c7cdbfccb5/service-tests/codetally.js,"@@ -16,7 +16,7 @@ module.exports = t;
 t.create('Codetally')
   .get('/triggerman722/colorstrap.json')
   .expectJSONTypes(Joi.object().keys({
-    name: Joi.equal('codetally'),
+    name: 'codetally',
     value: Joi.string().regex(/\b\d+(?:.\d+)?/)
   }));
 
",19,"name: Joi.equal('codetally'),","name: 'codetally',"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c3636e7549ddfd1b614b16b003e370c7cdbfccb5,c3636e7549ddfd1b614b16b003e370c7cdbfccb5,"Clean up service tests (#1127)

- Consolidate regexes
- Use slimmer syntax where possible
- Fix bug caught by failing amo tests",2017-10-09 14:41:18-04:00,discord.js,https://github.com/badges/shields/raw/08524b639b41110332ab65c4462bc07dfb9ab74f/service-tests/discord.js,https://github.com/badges/shields/raw/c3636e7549ddfd1b614b16b003e370c7cdbfccb5/service-tests/discord.js,"@@ -9,7 +9,7 @@ module.exports = t;
 t.create('gets status for Reactiflux')
   .get('/102860784329052160.json')
   .expectJSONTypes(Joi.object().keys({
-    name: Joi.equal('chat'),
+    name: 'chat',
     value: Joi.string().regex(/^[0-9]+ online$/),
   }));
 
",12,"name: Joi.equal('chat'),","name: 'chat',"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c579ed71e8b11628fa51cbaac5553e8f0f10f6df,c579ed71e8b11628fa51cbaac5553e8f0f10f6df,"[Github] issues: Accommodate multi-word labels (#1135)

Fix #1134",2017-10-09 15:03:05-04:00,server.js,https://github.com/badges/shields/raw/271bb4b99cf65df5730fb27ba3c827ef31e27a71/server.js,https://github.com/badges/shields/raw/c579ed71e8b11628fa51cbaac5553e8f0f10f6df/server.js,"@@ -3418,7 +3418,7 @@ cache(function(data, match, sendBadge, request) {
   query.q = 'repo:' + user + '/' + repo +
     (isPR? ' is:pr': ' is:issue') +
     (isClosed? ' is:closed': ' is:open') +
-    (hasLabel? ' label:' + ghLabel: '');
+    (hasLabel? ` label:""${ghLabel}""` : '');
 
   var classText = isClosed? 'closed': 'open';
   var leftClassText = isRaw? classText + ' ': '';
",3421,(hasLabel? ' label:' + ghLabel: '');,"(hasLabel? ` label:""${ghLabel}""` : '');"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/81b9f6ac53eeca7d790c62063f3431a255b7feb8,81b9f6ac53eeca7d790c62063f3431a255b7feb8,"[dotnetstatus github gratipay hexpm wordpress] General test improvements (#1177)

* Extended usage of the metric validators
* Fixed incorrect Worldpress test data
* Removed usages of Joi.equal for bare string literals
* Switched to proper star formatting and made tests more robust
* Removed debug",2017-10-15 16:58:54-04:00,dotnetstatus.js,https://github.com/badges/shields/raw/c026ebf23570cddcbd4b80dd943362805911eef2/service-tests/dotnetstatus.js,https://github.com/badges/shields/raw/81b9f6ac53eeca7d790c62063f3431a255b7feb8/service-tests/dotnetstatus.js,"@@ -14,7 +14,7 @@ t
   .get(""/gh/jaredcnance/dotnet-status/API.json"")
   .expectJSONTypes(
     Joi.object().keys({
-      name: Joi.equal(""dependencies""),
+      name: ""dependencies"",
       value: Joi.equal(""up to date"", ""out of date"", ""processing"")
     })
   );
",17,"name: Joi.equal(""dependencies""),","name: ""dependencies"","
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/81b9f6ac53eeca7d790c62063f3431a255b7feb8,81b9f6ac53eeca7d790c62063f3431a255b7feb8,"[dotnetstatus github gratipay hexpm wordpress] General test improvements (#1177)

* Extended usage of the metric validators
* Fixed incorrect Worldpress test data
* Removed usages of Joi.equal for bare string literals
* Switched to proper star formatting and made tests more robust
* Removed debug",2017-10-15 16:58:54-04:00,gratipay.js,https://github.com/badges/shields/raw/c026ebf23570cddcbd4b80dd943362805911eef2/service-tests/gratipay.js,https://github.com/badges/shields/raw/81b9f6ac53eeca7d790c62063f3431a255b7feb8/service-tests/gratipay.js,"@@ -9,7 +9,7 @@ module.exports = t;
 t.create('Receiving')
   .get('/Gratipay.json')
   .expectJSONTypes(Joi.object().keys({
-    name: Joi.equal('receives'),
+    name: 'receives',
     value: Joi.string().regex(/^\$[0-9]+(\.[0-9]{2})?\/week/)
   }));
 
",12,"name: Joi.equal('receives'),","name: 'receives',"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/81b9f6ac53eeca7d790c62063f3431a255b7feb8,81b9f6ac53eeca7d790c62063f3431a255b7feb8,"[dotnetstatus github gratipay hexpm wordpress] General test improvements (#1177)

* Extended usage of the metric validators
* Fixed incorrect Worldpress test data
* Removed usages of Joi.equal for bare string literals
* Switched to proper star formatting and made tests more robust
* Removed debug",2017-10-15 16:58:54-04:00,validators.js,https://github.com/badges/shields/raw/c026ebf23570cddcbd4b80dd943362805911eef2/service-tests/helpers/validators.js,https://github.com/badges/shields/raw/81b9f6ac53eeca7d790c62063f3431a255b7feb8/service-tests/helpers/validators.js,"@@ -15,7 +15,7 @@ const isStarRating = withRegex(/^[\u2605\u2606]{5}$/);
 
 const isMetric = withRegex(/^[0-9]+[kMGTPEZY]?$/);
 
-const isMetricOverTimePeriod = withRegex(/^[0-9]+[kMGTPEZY]?\/(year|month|week|day)$/);
+const isMetricOverTimePeriod = withRegex(/^[0-9]+[kMGTPEZY]?\/(year|month|4 weeks|week|day)$/);
 
 const isPercentage = withRegex(/^[0-9]+%$/);
 
",18,const isMetricOverTimePeriod = withRegex(/^[0-9]+[kMGTPEZY]?\/(year|month|week|day)$/);,const isMetricOverTimePeriod = withRegex(/^[0-9]+[kMGTPEZY]?\/(year|month|4 weeks|week|day)$/);
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ea405e04e63858ff33cc88abec4ea6e140630f45,ea405e04e63858ff33cc88abec4ea6e140630f45,"Default to not logging GitHub token debugging (#1364)

As argued for in
https://github.com/badges/shields/issues/1314#issuecomment-350564524.

It populates large quantities of text in the logs, where I wish to only
see errors.",2017-12-10 13:02:03-05:00,server-config.js,https://github.com/badges/shields/raw/b35cb71ed6a0b6c42195d2dd636c8f4c09eb63d5/lib/server-config.js,https://github.com/badges/shields/raw/ea405e04e63858ff33cc88abec4ea6e140630f45/lib/server-config.js,"@@ -51,7 +51,7 @@ const config = {
     github: {
       baseUri: process.env.GITHUB_URL || 'https://api.github.com',
       debug: {
-        enabled: envFlag(process.env.GITHUB_DEBUG_ENABLED, true),
+        enabled: envFlag(process.env.GITHUB_DEBUG_ENABLED, false),
         intervalSeconds: process.env.GITHUB_DEBUG_INTERVAL_SECONDS || 300,
       },
     },
",54,"enabled: envFlag(process.env.GITHUB_DEBUG_ENABLED, true),","enabled: envFlag(process.env.GITHUB_DEBUG_ENABLED, false),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/9aafe862472a677d1003258b0b2df2e413933a59,9aafe862472a677d1003258b0b2df2e413933a59,"Show logos by default on social badges (regression fix) (#1456)

* Show logos on social badges

* Revert ""Showcase logos in social badges on the front page""

This reverts commit 61fa22b7e4d7986e94b826e39db95f1f6910c2a7.

* Update footer badges to all be social style

as per reverted commit https://github.com/badges/shields/commit/61fa22b7e4d7986e94b826e39db95f1f6910c2a7",2018-01-21 23:57:58+01:00,badge-data.js,https://github.com/badges/shields/raw/e3ac9c3db56a30a8a022b5faf244bed6dac9a960/lib/badge-data.js,https://github.com/badges/shields/raw/9aafe862472a677d1003258b0b2df2e413933a59/lib/badge-data.js,"@@ -63,7 +63,7 @@ function makeLabel(defaultLabel, overrides) {
 }
 
 function makeLogo(defaultNamedLogo, overrides) {
-  const logo = 'logo' in overrides ? '' + overrides.logo : undefined;
+  const logo = overrides.logo === undefined ? undefined : '' + overrides.logo ;
 
   const maybeDataUri = prependPrefix(logo, 'data:');
   const maybeNamedLogo = logo === undefined ? defaultNamedLogo : logo;
",66,const logo = 'logo' in overrides ? '' + overrides.logo : undefined;,const logo = overrides.logo === undefined ? undefined : '' + overrides.logo ;
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2d651533aaa46daa6d6830f53dec9fc2930f7d65,2d651533aaa46daa6d6830f53dec9fc2930f7d65,"New API for registering services: #963 #1423 #1425 #1450 #1451 #1544 #1543

This merges the `node-8` branch. The heavy lift was by @Daniel15 with refactoring from me and a patch by @RedSparr0w.

* New API for registering services (#963)
* Disable Node 6 tests on node-8 branch (#1423)
* BaseService: Factor out methods _regex and _namedParamsForMatch (#1425)
    - Adjust test grouping
    - Rename data -> queryParams, text -> message
* BaseService tests: Use Chai (#1450)
* BaseService: make serviceData and badgeData explicit and declarative (#1451)
* fix isValidStyle test (#1544)
* Run tests in Node 9, not Node 6 (#1543)",2018-03-11 17:53:01-07:00,pull-request-services-cli.js,https://github.com/badges/shields/raw/7545dcfe423d64b57c9e6e2520fab97b48d9f549/service-tests/runner/pull-request-services-cli.js,https://github.com/badges/shields/raw/2d651533aaa46daa6d6830f53dec9fc2930f7d65/service-tests/runner/pull-request-services-cli.js,"@@ -46,7 +46,7 @@ function servicesForTitle (title) {
   }
 
   const services = matches[1].toLowerCase().split(' ');
-  const blacklist = ['wip'];
+  const blacklist = ['wip', 'rfc'];
   return difference(services, blacklist);
 }
 
",49,const blacklist = ['wip'];,"const blacklist = ['wip', 'rfc'];"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0710c3b8f4435d94f5b53fb9b8d8a68d7208e16f,0710c3b8f4435d94f5b53fb9b8d8a68d7208e16f,Spelling fixes (#1580),2018-03-18 16:30:32+00:00,pypi.js,https://github.com/badges/shields/raw/3a47bb38ace930bf55e675bfa01b35121bc2fb32/service-tests/pypi.js,https://github.com/badges/shields/raw/0710c3b8f4435d94f5b53fb9b8d8a68d7208e16f/service-tests/pypi.js,"@@ -57,7 +57,7 @@ t.create('monthly downloads (invalid)')
   - 2.7.3.2
   - 2.0rc1
   - 0.1.30b10
-  are prefectly legal.
+  are perfectly legal.
 
   We'll run this test againt a project that follows SemVer...
 */
",60,are prefectly legal.,are perfectly legal.
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/124748ecdecb632f3d8a55367d233bc3b90198cf,124748ecdecb632f3d8a55367d233bc3b90198cf,"Fix [codeclimate] tests (#1727)

* update nock

The version we were using didn't allow
regex pattern with allowUnmocked option.

Update to latest version which includes this patch:
https://github.com/node-nock/nock/pull/1068

* update codeclimate test to allow any snapshot id on second call

This test was failing because the
snapshot id changed for some reason.

This change allows that to happen
and we will still intercept the
second API call.",2018-06-10 22:20:21+01:00,codeclimate.tester.js,https://github.com/badges/shields/raw/67eb92e5835261e732a3e48520be8f9ae62d1b65/services/codeclimate/codeclimate.tester.js,https://github.com/badges/shields/raw/124748ecdecb632f3d8a55367d233bc3b90198cf/services/codeclimate/codeclimate.tester.js,"@@ -110,7 +110,7 @@ t.create('malformed response for outer user repos query')
 t.create('malformed response for inner specific repo query')
   .get('/maintainability/angular/angular.js.json')
   .intercept(nock => nock('https://api.codeclimate.com', {allowUnmocked: true})
-    .get('/v1/repos/526933117e00a40567008444/snapshots/5ab4427859c16c0001003cad')
+    .get(/\/v1\/repos\/[a-z0-9]+\/snapshots\/[a-z0-9]+/)
     .reply(200, {})) // No data.
   .networkOn() // Combined with allowUnmocked: true, this allows the outer user repos query to go through.
   .expectJSON({
",113,.get('/v1/repos/526933117e00a40567008444/snapshots/5ab4427859c16c0001003cad'),.get(/\/v1\/repos\/[a-z0-9]+\/snapshots\/[a-z0-9]+/)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/028d8d76912bb1321f7eb5e7d0b2175bbb624c57,028d8d76912bb1321f7eb5e7d0b2175bbb624c57,"Fix sinon deprecation warning (#1737)

`sandbox.create()` is deprecated. Use default sandbox at `sinon.sandbox` or create new sandboxes with `sinon.createSandbox()`",2018-06-17 12:58:59-04:00,text-measurer.spec.js,https://github.com/badges/shields/raw/4308b60c8f37a9385e29636a911e7c920b03816a/lib/text-measurer.spec.js,https://github.com/badges/shields/raw/028d8d76912bb1321f7eb5e7d0b2175bbb624c57/lib/text-measurer.spec.js,"@@ -41,7 +41,7 @@ function registerTests(fontPath, skip) {
       beforeEach(function () {
         // This often times out: https://circleci.com/gh/badges/shields/2786
         this.timeout(5000);
-        sandbox = sinon.sandbox.create();
+        sandbox = sinon.createSandbox();
         pdfKitWidthOf = sandbox.spy(PDFKitTextMeasurer.prototype, 'widthOf');
         pdfKitMeasurer = new PDFKitTextMeasurer(fontPath);
       });
",44,sandbox = sinon.sandbox.create();,sandbox = sinon.createSandbox();
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/036b191996414d932e7945f35300ff4022e689c8,036b191996414d932e7945f35300ff4022e689c8,fix ansible galaxy role name badge (#1763),2018-07-08 12:50:31+01:00,server.js,https://github.com/badges/shields/raw/dc8bc9c5b49260f155576cdac8e73f92c803519d/server.js,https://github.com/badges/shields/raw/036b191996414d932e7945f35300ff4022e689c8/server.js,"@@ -4701,7 +4701,7 @@ cache(function(data, match, sendBadge, request) {
         badgeData.text[1] = metric(json.download_count);
         badgeData.colorscheme = 'blue';
       } else {
-        badgeData.text[1] = json.namespace + '.' + json.name;
+        badgeData.text[1] = json.summary_fields.namespace.name + '.' + json.name;
         badgeData.colorscheme = 'blue';
       }
       sendBadge(format, badgeData);
",4704,badgeData.text[1] = json.namespace + '.' + json.name;,badgeData.text[1] = json.summary_fields.namespace.name + '.' + json.name;
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/b9db222c8aa3e1232d73b81cac747c09913230af,b9db222c8aa3e1232d73b81cac747c09913230af,"send longer cache headers by default (#1725)

* tell browsers and downstream caches to cache for
  `env.BADGE_MAX_AGE_SECONDS`, default 0 for dev

* set Cache-Control: no-cache, no-store, must-revalidate if maxAge=0

* add servertime badge to help with cache header debugging

* if service category is 'debug', exclude from examples

* ignore maxAge GET param if less than `env.BADGE_MAX_AGE_SECONDS`",2018-07-20 20:24:02+01:00,usage.js,https://github.com/badges/shields/raw/fd76819c62584a63308dba9586c0215b60c5f2cc/frontend/components/usage.js,https://github.com/badges/shields/raw/b9db222c8aa3e1232d73b81cac747c09913230af/frontend/components/usage.js,"@@ -202,7 +202,7 @@ export default class Usage extends React.PureComponent {
               <td>
                 <code>?maxAge=3600</code>
               </td>
-              <td>Set the HTTP cache lifetime in secs</td>
+              <td>Set the HTTP cache lifetime in secs (values below the default will be ignored)</td>
             </tr>
           </tbody>
         </table>
",205,<td>Set the HTTP cache lifetime in secs</td>,<td>Set the HTTP cache lifetime in secs (values below the default will be ignored)</td>
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/b216bcc17e667a2fb09bede7be0d1c67e731d767,b216bcc17e667a2fb09bede7be0d1c67e731d767,"Hide left hand of badge if no label (#1585)

* hide left side if no text

* fix whitespace at start of template

* for-the-badge done

* center text

* add logo support

* update snapshot test

* make first - in static badge optional

* add no label support to non static badges

* Add test for label

* update to not allow use of false/0/null

* fixup",2018-07-27 08:27:32+12:00,badge-data.js,https://github.com/badges/shields/raw/bbfd75a203de1403fb7ce96f7892d567c64c58b6/lib/badge-data.js,https://github.com/badges/shields/raw/b216bcc17e667a2fb09bede7be0d1c67e731d767/lib/badge-data.js,"@@ -66,7 +66,7 @@ function setBadgeColor(badgeData, color) {
 }
 
 function makeLabel(defaultLabel, overrides) {
-  return overrides.label || defaultLabel;
+  return '' + (overrides.label === undefined ? defaultLabel || '' : overrides.label);
 }
 
 function makeLogo(defaultNamedLogo, overrides) {
",69,return overrides.label || defaultLabel;,return '' + (overrides.label === undefined ? defaultLabel || '' : overrides.label);
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/b216bcc17e667a2fb09bede7be0d1c67e731d767,b216bcc17e667a2fb09bede7be0d1c67e731d767,"Hide left hand of badge if no label (#1585)

* hide left side if no text

* fix whitespace at start of template

* for-the-badge done

* center text

* add logo support

* update snapshot test

* make first - in static badge optional

* add no label support to non static badges

* Add test for label

* update to not allow use of false/0/null

* fixup",2018-07-27 08:27:32+12:00,server.js,https://github.com/badges/shields/raw/bbfd75a203de1403fb7ce96f7892d567c64c58b6/server.js,https://github.com/badges/shields/raw/b216bcc17e667a2fb09bede7be0d1c67e731d767/server.js,"@@ -7808,7 +7808,7 @@ cache(function(data, match, sendBadge, request) {
 }));
 
 // Any badge.
-camp.route(/^\/(:|badge\/)(([^-]|--)*?)-(([^-]|--)*)-(([^-]|--)+)\.(svg|png|gif|jpg)$/,
+camp.route(/^\/(:|badge\/)(([^-]|--)*?)-?(([^-]|--)*)-(([^-]|--)+)\.(svg|png|gif|jpg)$/,
 function(data, match, end, ask) {
   var subject = escapeFormat(match[2]);
   var status = escapeFormat(match[4]);
",7811,"camp.route(/^\/(:|badge\/)(([^-]|--)*?)-(([^-]|--)*)-(([^-]|--)+)\.(svg|png|gif|jpg)$/,","camp.route(/^\/(:|badge\/)(([^-]|--)*?)-?(([^-]|--)*)-(([^-]|--)+)\.(svg|png|gif|jpg)$/,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/9335f607aa4a90cc69c94c7bc40ca3b715ca916a,9335f607aa4a90cc69c94c7bc40ca3b715ca916a,[conda] Fixed wrong variable name (#1817),2018-07-31 22:27:06+01:00,server.js,https://github.com/badges/shields/raw/3a54b5dc84fedf23e647b4ec6eb86ef070398755/server.js,https://github.com/badges/shields/raw/9335f607aa4a90cc69c94c7bc40ca3b715ca916a/server.js,"@@ -1977,7 +1977,7 @@ cache(function(queryData, match, sendBadge, request) {
       sendBadge(format, badgeData);
     } catch(e) {
       badgeData.text[1] = 'invalid';
-      variant(data, badgeData);
+      variant(queryData, badgeData);
       sendBadge(format, badgeData);
     }
   });
",1980,"variant(data, badgeData);","variant(queryData, badgeData);"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4,0a7c833452eaf0ab1d0942af5074ea5090b5a9a4,"Fix an edge case in NpmBase (#1904)

I noticed this when I copied this code while I was working on #1895.",2018-08-12 19:13:31-04:00,npm-base.js,https://github.com/badges/shields/raw/0f534cefc05c9e49ecc985d9ca85714d932d101e/services/npm/npm-base.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/services/npm/npm-base.js,"@@ -99,7 +99,7 @@ module.exports = class NpmBase extends BaseJsonService {
       try {
         packageData = json.versions[latestVersion]
       } catch (e) {
-        throw new InvalidResponse('invalid json response')
+        throw new InvalidResponse({ prettyMessage: 'invalid json response' })
       }
     }
 
",102,throw new InvalidResponse('invalid json response'),throw new InvalidResponse({ prettyMessage: 'invalid json response' })
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,analytics.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/lib/analytics.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/lib/analytics.js,"@@ -62,7 +62,7 @@ function defaultAnalytics() {
 function load() {
   const defaultAnalyticsObject = defaultAnalytics()
   if (useRedis) {
-    redis.get(analyticsPath, function(err, value) {
+    redis.get(analyticsPath, (err, value) => {
       if (err == null && value != null) {
         // if/try/return trick:
         // if error, then the rest of the function is run.
",65,"redis.get(analyticsPath, function(err, value) {","redis.get(analyticsPath, (err, value) => {"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,licenses.spec.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/lib/licenses.spec.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/lib/licenses.spec.js,"@@ -3,7 +3,7 @@
 const { test, given } = require('sazerac')
 const { licenseToColor } = require('./licenses')
 
-describe('license helpers', () => {
+describe('license helpers', function() {
   test(licenseToColor, () => {
     given('MIT').expect('green')
     given('MPL-2.0').expect('orange')
",6,"describe('license helpers', () => {","describe('license helpers', function() {"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,load-logos.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/lib/load-logos.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/lib/load-logos.js,"@@ -9,7 +9,7 @@ function loadLogos() {
   const logos = {}
   const logoDir = path.join(__dirname, '..', 'logo')
   const logoFiles = fs.readdirSync(logoDir)
-  logoFiles.forEach(function(filename) {
+  logoFiles.forEach(filename => {
     if (filename[0] === '.') {
       return
     }
",12,logoFiles.forEach(function(filename) {,logoFiles.forEach(filename => {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,load-simple-icons.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/lib/load-simple-icons.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/lib/load-simple-icons.js,"@@ -4,7 +4,7 @@ const simpleIcons = require('simple-icons')
 const { svg2base64 } = require('./logo-helper')
 
 function loadSimpleIcons() {
-  Object.keys(simpleIcons).forEach(function(key) {
+  Object.keys(simpleIcons).forEach(key => {
     const k = key.toLowerCase().replace(/ /g, '-')
     if (k !== key) {
       simpleIcons[k] = simpleIcons[key]
",7,Object.keys(simpleIcons).forEach(function(key) {,Object.keys(simpleIcons).forEach(key => {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,log.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/lib/log.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/lib/log.js,"@@ -37,7 +37,7 @@ const throttledConsoleError = throttle(console.error, 10000, {
 module.exports.error = function error(...msg) {
   const d = date()
   listeners.forEach(f => f(d, ...msg))
-  Raven.captureException(msg, function(sendErr) {
+  Raven.captureException(msg, sendErr => {
     if (sendErr) {
       throttledConsoleError(
         'Failed to send captured exception to Sentry',
",40,"Raven.captureException(msg, function(sendErr) {","Raven.captureException(msg, sendErr => {"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,base-json.spec.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/services/base-json.spec.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/services/base-json.spec.js,"@@ -26,7 +26,7 @@ class DummyJsonService extends BaseJsonService {
   }
 }
 
-describe('BaseJsonService', () => {
+describe('BaseJsonService', function() {
   it('handles unparseable json responses', async function() {
     const sendAndCacheRequest = async () => ({
       buffer: invalidJSON,
",29,"describe('BaseJsonService', () => {","describe('BaseJsonService', function() {"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,gemnasium.tester.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/services/gemnasium/gemnasium.tester.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/services/gemnasium/gemnasium.tester.js,"@@ -10,7 +10,7 @@ module.exports = t
 
 t.create('no longer available (previously dependencies)')
   .get('/mathiasbynens/he.json')
-  .afterJSON(function(badge) {
+  .afterJSON(badge => {
     if (isDeprecated('gemnasium')) {
       expect(badge.name).to.equal('gemnasium')
       expect(badge.value).to.equal('no longer available')
",13,.afterJSON(function(badge) {,.afterJSON(badge => {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,admin.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/services/github/auth/admin.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/services/github/auth/admin.js,"@@ -19,7 +19,7 @@ function setRoutes(server) {
   server.ajax.on('github-auth/tokens', (json, end, ask) => {
     if (!secretIsValid(ask.password)) {
       // An unknown entity tries to connect. Let the connection linger for a minute.
-      return setTimeout(function() {
+      return setTimeout(() => {
         end('Invalid secret.')
       }, 10000)
     }
",22,return setTimeout(function() {,return setTimeout(() => {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,json.tester.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/services/json/json.tester.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/services/json/json.tester.js,"@@ -158,6 +158,6 @@ t.create('JSON from url | request should set Accept header')
       })
   )
   .expectJSON({ name: 'custom badge', value: 'test' })
-  .after(function() {
+  .after(() => {
     expect(headers).to.have.property('accept', 'application/json')
   })
",161,.after(function() {,.after(() => {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/66d444aa40703d401b5f13790eabd2259f136e3f,66d444aa40703d401b5f13790eabd2259f136e3f,"Clean up our callback style and enforce no exclusive tests and remove an exclusive test (#1900)

We use arrow functions in most places; this enforces it.

Passing arrow functions to Mocha is discouraged: https://mochajs.org/#arrow-functions

This was a mix of autofixes and hand adjustments.",2018-08-12 20:45:43-04:00,xml.tester.js,https://github.com/badges/shields/raw/0a7c833452eaf0ab1d0942af5074ea5090b5a9a4/services/xml/xml.tester.js,https://github.com/badges/shields/raw/66d444aa40703d401b5f13790eabd2259f136e3f/services/xml/xml.tester.js,"@@ -182,6 +182,6 @@ t.create('XML from url | request should set Accept header')
       })
   )
   .expectJSON({ name: 'custom badge', value: 'dynamic xml' })
-  .after(function() {
+  .after(() => {
     expect(headers).to.have.property('accept', 'application/xml, text/xml')
   })
",185,.after(function() {,.after(() => {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/a25223901899cc74f8aa467ca220289dc6291080,a25223901899cc74f8aa467ca220289dc6291080,"Fix and test trace logging in BaseJsonService (#1944)

This fixes a regression introduced in #1929 which was caught by service tests post-merge.",2018-08-18 17:45:46-04:00,base-json.js,https://github.com/badges/shields/raw/12be1bd747262b8a1525a7a5e97b27b45e3debf3/services/base-json.js,https://github.com/badges/shields/raw/a25223901899cc74f8aa467ca220289dc6291080/services/base-json.js,"@@ -26,7 +26,7 @@ class BaseJsonService extends BaseService {
         underlyingError: error,
       })
     } else {
-      this.logTrace(
+      trace.logTrace(
         'validate',
         emojic.bathtub,
         'JSON after validation',
",29,this.logTrace(,trace.logTrace(
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ddb3bf4256289d9a9829a04c04159b25dc969e01,ddb3bf4256289d9a9829a04c04159b25dc969e01,Fixed libraries.io error handling (#1964),2018-08-24 18:32:28+01:00,librariesio-base.js,https://github.com/badges/shields/raw/dad1b4e4f1643de7dde61f4b5cc7d353777fb320/services/librariesio/librariesio-base.js,https://github.com/badges/shields/raw/ddb3bf4256289d9a9829a04c04159b25dc969e01/services/librariesio/librariesio-base.js,"@@ -34,7 +34,7 @@ class LibrariesIoBase extends BaseJsonService {
     const json = await this._requestJson({
       schema: packageOrRepoSchema,
       url: `https://libraries.io/api/${platform}/${packageName}`,
-      notFoundMessage: 'package not found',
+      errorMessages: { 404: 'package not found' },
     })
     const isPackage = Boolean(json.platform)
     if (isPackage && !allowPackages) {
",37,"notFoundMessage: 'package not found',","errorMessages: { 404: 'package not found' },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,badge-examples.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/frontend/components/badge-examples.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/frontend/components/badge-examples.js,"@@ -83,7 +83,7 @@ const Category = ({ category, examples, baseUrl, longCache, onClick }) => {
   }
   return (
     <div>
-      <Link to={'/examples/' + category.id}>
+      <Link to={`/examples/${category.id}`}>
         <h3 id={category.id}>{category.name}</h3>
       </Link>
       <table className=""badge"">
",86,<Link to={'/examples/' + category.id}>,<Link to={`/examples/${category.id}`}>
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,search-results.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/frontend/components/search-results.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/frontend/components/search-results.js,"@@ -33,7 +33,7 @@ export default class SearchResults extends React.Component {
 
   renderCategoryHeadings() {
     return this.preparedExamples.map((category, i) => (
-      <Link to={'/examples/' + category.category.id} key={category.category.id}>
+      <Link to={`/examples/${category.category.id}`} key={category.category.id}>
         <h3 id={category.category.id}>{category.category.name}</h3>
       </Link>
     ))
",36,<Link to={'/examples/' + category.category.id} key={category.category.id}>,<Link to={`/examples/${category.category.id}`} key={category.category.id}>
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,load-logos.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/load-logos.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/load-logos.js,"@@ -14,7 +14,7 @@ function loadLogos() {
       return
     }
     // filename is eg, github.svg
-    const svg = fs.readFileSync(logoDir + '/' + filename).toString()
+    const svg = fs.readFileSync(`${logoDir}/${filename}`).toString()
     const base64 = svg2base64(svg)
 
     // eg, github
",17,const svg = fs.readFileSync(logoDir + '/' + filename).toString(),const svg = fs.readFileSync(`${logoDir}/${filename}`).toString()
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,log.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/log.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/log.js,"@@ -8,7 +8,7 @@ const listeners = []
 // eg. 4 becomes 04 but 17 stays 17.
 function pad(string) {
   string = String(string)
-  return string.length < 2 ? '0' + string : string
+  return string.length < 2 ? `0${string}` : string
 }
 
 // Compact date representation.
",11,return string.length < 2 ? '0' + string : string,return string.length < 2 ? `0${string}` : string
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,logo-helper.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/logo-helper.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/logo-helper.js,"@@ -11,7 +11,7 @@ function svg2base64(svg) {
   // Check if logo is already base64
   return isDataUri(svg)
     ? svg
-    : 'data:image/svg+xml;base64,' + Buffer.from(svg).toString('base64')
+    : `data:image/svg+xml;base64,${Buffer.from(svg).toString('base64')}`
 }
 
 module.exports = {
",14,": 'data:image/svg+xml;base64,' + Buffer.from(svg).toString('base64')",": `data:image/svg+xml;base64,${Buffer.from(svg).toString('base64')}`"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,lru-cache.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/lru-cache.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/lru-cache.js,"@@ -107,7 +107,7 @@ Cache.prototype = {
         return 0
       }
     } else {
-      console.error(""Unknown heuristic '"" + this.type + ""' for LRU cache."")
+      console.error(`Unknown heuristic '${this.type}' for LRU cache.`)
       return 1
     }
   },
",110,"console.error(""Unknown heuristic '"" + this.type + ""' for LRU cache."")",console.error(`Unknown heuristic '${this.type}' for LRU cache.`)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,request-handler.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/request-handler.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/request-handler.js,"@@ -107,7 +107,7 @@ function handleRequest(makeBadge, handlerOptions) {
       ask.res.setHeader('Cache-Control', 'no-cache, no-store, must-revalidate')
       ask.res.setHeader('Expires', reqTime.toGMTString())
     } else {
-      ask.res.setHeader('Cache-Control', 'max-age=' + maxAge)
+      ask.res.setHeader('Cache-Control', `max-age=${maxAge}`)
       ask.res.setHeader(
         'Expires',
         new Date(+reqTime + maxAge * 1000).toGMTString()
",110,"ask.res.setHeader('Cache-Control', 'max-age=' + maxAge)","ask.res.setHeader('Cache-Control', `max-age=${maxAge}`)"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,result-sender.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/result-sender.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/result-sender.js,"@@ -29,7 +29,7 @@ function sendSVG(res, askres, end) {
 }
 
 function sendOther(format, res, askres, end) {
-  askres.setHeader('Content-Type', 'image/' + format)
+  askres.setHeader('Content-Type', `image/${format}`)
   svg2img(res, format)
     .then(data => {
       end(null, { template: streamFromString(data) })
",32,"askres.setHeader('Content-Type', 'image/' + format)","askres.setHeader('Content-Type', `image/${format}`)"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,runner.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/service-test-runner/runner.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/service-test-runner/runner.js,"@@ -51,7 +51,7 @@ class Runner {
 
     // Throw at the end, to provide a better error message.
     if (missingServices.length > 0) {
-      throw Error('Unknown services: ' + missingServices.join(', '))
+      throw Error(`Unknown services: ${missingServices.join(', ')}`)
     }
   }
 
",54,"throw Error('Unknown services: ' + missingServices.join(', '))","throw Error(`Unknown services: ${missingServices.join(', ')}`)"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,suggest.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/lib/suggest.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/lib/suggest.js,"@@ -123,7 +123,7 @@ function setRoutes(allowedOrigin, githubApiProvider, server) {
     try {
       url = nodeUrl.parse(data.url)
     } catch (e) {
-      end({ err: '' + e })
+      end({ err: `${e}` })
       return
     }
 
",126,end({ err: '' + e }),end({ err: `${e}` })
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,scrutinizer.service.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/services/scrutinizer/scrutinizer.service.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/services/scrutinizer/scrutinizer.service.js,"@@ -72,7 +72,7 @@ module.exports = class Scrutinizer extends LegacyService {
                 badgeData.text[1] = 'unknown'
                 badgeData.colorscheme = 'gray'
               } else {
-                badgeData.text[1] = percentage.toFixed(0) + '%'
+                badgeData.text[1] = `${percentage.toFixed(0)}%`
                 badgeData.colorscheme = coveragePercentageColor(percentage)
               }
             } else if (type === 'build') {
",75,badgeData.text[1] = percentage.toFixed(0) + '%',badgeData.text[1] = `${percentage.toFixed(0)}%`
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,travis-php-version.service.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/services/travis/travis-php-version.service.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/services/travis/travis-php-version.service.js,"@@ -47,7 +47,7 @@ module.exports = class TravisPhpVersion extends LegacyService {
               if (err !== null) {
                 log.error(`Travis CI error: ${err.stack}`)
                 if (res) {
-                  log.error('' + res)
+                  log.error(`${res}`)
                 }
                 badgeData.text[1] = 'invalid'
                 sendBadge(format, badgeData)
",50,log.error('' + res),log.error(`${res}`)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,vscode-marketplace.service.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/services/vscode-marketplace/vscode-marketplace.service.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/services/vscode-marketplace/vscode-marketplace.service.js,"@@ -83,7 +83,7 @@ module.exports = class VscodeMarketplace extends LegacyService {
                   'averagerating'
                 ).toFixed(2)
                 const totalrate = getVscodeStatistic(buffer, 'ratingcount')
-                badgeData.text[1] = rate + '/5 (' + totalrate + ')'
+                badgeData.text[1] = `${rate}/5 (${totalrate})`
                 badgeData.colorscheme = floorCountColor(rate, 2, 3, 4)
                 break
               }
",86,badgeData.text[1] = rate + '/5 (' + totalrate + ')',badgeData.text[1] = `${rate}/5 (${totalrate})`
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7,"Enforce use of template literals (#2242)

This is consistent with what we're pretty much already doing, and saves us from making the request during code review.

These were all autofixed and most of them seem easier to read. Some in the legacy services should be rewritten in more legible forms during refactor (ie using intermediate variables, or using request’s qs option). There are some in helper functions and elsewhere that should get rewritten separately. I don't want to change them in this PR because the changes will get lost in this diff, though we could identify them here and fix them before or just after.",2018-11-02 17:11:44-04:00,waffle.service.js,https://github.com/badges/shields/raw/4a298cbcb0dc5497aeee23a75b21ac9f237320d7/services/waffle/waffle.service.js,https://github.com/badges/shields/raw/83ac6ff1b3cd182555c6561c7ba74cfcd8e6feb7/services/waffle/waffle.service.js,"@@ -63,7 +63,7 @@ module.exports = class Waffle extends LegacyService {
               }
             }
             badgeData.text[0] = getLabel(ghLabel, data)
-            badgeData.text[1] = '' + count
+            badgeData.text[1] = `${count}`
             badgeData.colorscheme = null
             badgeData.colorB = makeColorB(color, data)
             sendBadge(format, badgeData)
",66,badgeData.text[1] = '' + count,badgeData.text[1] = `${count}`
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2bc2450d1912f6cb2ba2448c6e5cc71ee1b45781,2bc2450d1912f6cb2ba2448c6e5cc71ee1b45781,"Fix hex colors in static examples (#2295)

Fix a regression from #2240 which was noticed here:

https://github.com/badges/shields/pull/2253#issuecomment-437415722",2018-11-09 15:26:03-05:00,base.js,https://github.com/badges/shields/raw/3eac8ebbfbbd03b1f86b7e270390b2c23f52db32/services/base.js,https://github.com/badges/shields/raw/2bc2450d1912f6cb2ba2448c6e5cc71ee1b45781/services/base.js,"@@ -94,7 +94,7 @@ class BaseService {
     return staticBadgeUrl({
       label: badgeData.text[0],
       message: `${badgeData.text[1]}`,
-      color: badgeData.colorscheme,
+      color: badgeData.colorscheme || badgeData.colorB,
     })
   }
 
",97,"color: badgeData.colorscheme,","color: badgeData.colorscheme || badgeData.colorB,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/43d99f96e62c021cc55bacb35a35ef6539971d58,43d99f96e62c021cc55bacb35a35ef6539971d58,"Fix failing service tests for [bintray npmlicense github crates] (#2401)

Closes #2343 #2348 #2402

Ref: #2345 #1359",2018-11-28 18:54:04-05:00,npm-license.tester.js,https://github.com/badges/shields/raw/77ff19903daafa0e9beb152a86548a415f4287f5/services/npm/npm-license.tester.js,https://github.com/badges/shields/raw/43d99f96e62c021cc55bacb35a35ef6539971d58/services/npm/npm-license.tester.js,"@@ -80,7 +80,7 @@ t.create('license for package with a license array')
   .expectJSON({
     name: 'license',
     value: 'MPL-2.0, MIT',
-    colorB: colorsB.lightgrey,
+    colorB: colorsB.green,
   })
 
 t.create('license for unknown package')
",83,"colorB: colorsB.lightgrey,","colorB: colorsB.green,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0aee712738f0df50cfa6c62d7cf65b053c1e73fa,0aee712738f0df50cfa6c62d7cf65b053c1e73fa,"Fix crash in legacy service (#2437)

Bug in #2360",2018-12-01 15:10:32-05:00,legacy-service.js,https://github.com/badges/shields/raw/54a36e94741fdcce883755d00686ac5b05fea91d/services/legacy-service.js,https://github.com/badges/shields/raw/0aee712738f0df50cfa6c62d7cf65b053c1e73fa/services/legacy-service.js,"@@ -9,7 +9,7 @@ class LegacyService extends BaseService {
   }
 
   static register({ camp, handleRequest, githubApiProvider }, serviceConfig) {
-    const { cache: cacheHeaderConfig } = serviceConfig
+    const { cacheHeaders: cacheHeaderConfig } = serviceConfig
     this.registerLegacyRouteHandler({
       camp,
       cache: (...args) => handleRequest(cacheHeaderConfig, ...args),
",12,const { cache: cacheHeaderConfig } = serviceConfig,const { cacheHeaders: cacheHeaderConfig } = serviceConfig
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2ec2c00787f7ab0b693c388db225f0624c4d3c70,2ec2c00787f7ab0b693c388db225f0624c4d3c70,"Fix [LibrariesioDependencies] for project names containing dots (#2434)

Close #2424",2018-12-01 16:05:54-05:00,librariesio-dependencies.service.js,https://github.com/badges/shields/raw/0aee712738f0df50cfa6c62d7cf65b053c1e73fa/services/librariesio/librariesio-dependencies.service.js,https://github.com/badges/shields/raw/2ec2c00787f7ab0b693c388db225f0624c4d3c70/services/librariesio/librariesio-dependencies.service.js,"@@ -30,7 +30,7 @@ module.exports = class LibrariesioDependencies extends LegacyService {
 
   static registerLegacyRouteHandler({ camp, cache }) {
     camp.route(
-      /^\/librariesio\/(github|release)\/([\w\-_]+\/[\w\-_]+)\/?([\w\-_.]+)?\.(svg|png|gif|jpg|json)$/,
+      /^\/librariesio\/(github|release)\/([\w\-_]+\/[\w\-_.]+)\/?([\w\-_.]+)?\.(svg|png|gif|jpg|json)$/,
       cache((data, match, sendBadge, request) => {
         const resource = match[1]
         const project = match[2]
",33,"/^\/librariesio\/(github|release)\/([\w\-_]+\/[\w\-_]+)\/?([\w\-_.]+)?\.(svg|png|gif|jpg|json)$/,","/^\/librariesio\/(github|release)\/([\w\-_]+\/[\w\-_.]+)\/?([\w\-_.]+)?\.(svg|png|gif|jpg|json)$/,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/20454890191f71cc4da54f0a38db0e314e12811d,20454890191f71cc4da54f0a38db0e314e12811d,"Service definition export format (#2397)

Three main goals:

1. In the front end:
      a. Show form fields and automatically assemble badge URLs (#701)
      c. Group together examples for the same service
      b. Show deprecated services
2. Make it easy to changing the schema of `examples`, thanks to 100% validation. One challenge with frameworks is that when there are typos things fail silently which is pretty unfriendly to developers. The validation should really help with that. (This caught one bug in AUR, though I fixed it in #2405 which landed first.)
3. Produce a service definition export for external tool builders. (#776)
4. Build toward harmony between the front-end data structure and the `examples` key in the service classes. I aliased `staticPreview` to `staticExample` which starts this process.

The old format:

- Lacked a consistent machine-readable representation of the fields.
- Flattened multiple examples for the same service were flattened.
- Excluded deprecated services.

The new format improves a few things, too:

- It cleans up the naming. Since this file evolved over time, the names were a bit muddled (i.e. what was an example vs a preview).
- It duplicated information (like `.svg`). (I can imagine dropping the `.svg` from our badge URLs someday, which would make the URLs easier to read and maintain.)
- For a human reading the YAML file, providing the static example as a deconstructed object is more readable.

Here are a couple snippets:

```yml
  - category: build
    name: AppVeyorCi
    isDeprecated: false
    route:
      format: '([^/]+/[^/]+)(?:/(.+))?'
      queryParams: []
    examples:
      - title: AppVeyor
        example: {path: /appveyor/ci/gruntjs/grunt, queryParams: {}}
        preview: {label: build, message: passing, color: brightgreen}
        keywords: []
      - title: AppVeyor branch
        example: {path: /appveyor/ci/gruntjs/grunt/master, queryParams: {}}
        preview: {label: build, message: passing, color: brightgreen}
        keywords: []
  - category: downloads
    name: AmoDownloads
    isDeprecated: false
    examples:
      - title: Mozilla Add-on
        example: {path: /amo/d/dustman, queryParams: {}}
        preview: {path: /amo/d/dustman, queryParams: {}}
        keywords: [amo, firefox]
```",2018-12-02 11:21:30-05:00,travis-build.service.js,https://github.com/badges/shields/raw/658086bc46028b39512af6dca266415bfdd4447e/services/travis/travis-build.service.js,https://github.com/badges/shields/raw/20454890191f71cc4da54f0a38db0e314e12811d/services/travis/travis-build.service.js,"@@ -51,7 +51,7 @@ module.exports = class TravisBuild extends LegacyService {
     ]
   }
 
-  static staticExample() {
+  static get staticExample() {
     return { message: 'passing', color: 'brightgreen' }
   }
 
",54,static staticExample() {,static get staticExample() {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/16c798a65c425d6ef82454e2fa6f5cddc49c8717,16c798a65c425d6ef82454e2fa6f5cddc49c8717,"Fix [travis] php-v tests (#2457)

See failures: https://circleci.com/gh/badges/shields/26998

It looks like the bug is in the original regex: #1372.",2018-12-04 19:37:18-05:00,test-validators.js,https://github.com/badges/shields/raw/37d27a8e6a769a5feabec55629288f8d125bcd47/services/test-validators.js,https://github.com/badges/shields/raw/16c798a65c425d6ef82454e2fa6f5cddc49c8717/services/test-validators.js,"@@ -48,7 +48,7 @@ const isComposerVersion = withRegex(
 // 5.4, 5.6, 7.2
 // 5.4 - 7.1, HHVM
 const isPhpVersionReduction = withRegex(
-  /^((>= \d+(\.\d+)?)|(\d+\.\d+(, \d+\.\d+)*)|(\d+\.\d+ \\- \d+\.\d+))(, HHVM)?$/
+  /^((>= \d+(\.\d+)?)|(\d+\.\d+(, \d+\.\d+)*)|(\d+\.\d+ - \d+\.\d+))(, HHVM)?$/
 )
 
 const isStarRating = withRegex(
",51,"/^((>= \d+(\.\d+)?)|(\d+\.\d+(, \d+\.\d+)*)|(\d+\.\d+ \\- \d+\.\d+))(, HHVM)?$/","/^((>= \d+(\.\d+)?)|(\d+\.\d+(, \d+\.\d+)*)|(\d+\.\d+ - \d+\.\d+))(, HHVM)?$/"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/16491d787ce9dfd3447bc17fd63724cb06b73a81,16491d787ce9dfd3447bc17fd63724cb06b73a81,Fix [suggest] (#2604),2018-12-28 13:51:29-05:00,server.js,https://github.com/badges/shields/raw/27da1aa6593b9c449970cfabb1546d07f6368a29/lib/server.js,https://github.com/badges/shields/raw/16491d787ce9dfd3447bc17fd63724cb06b73a81/lib/server.js,"@@ -195,7 +195,7 @@ module.exports = class Server {
     githubConstellation.initialize(camp)
     metrics.initialize(camp)
 
-    const { githubApiProvider } = this.githubConstellation
+    const { apiProvider: githubApiProvider } = this.githubConstellation
     suggest.setRoutes(allowedOrigin, githubApiProvider, camp)
 
     this.registerErrorHandlers()
",198,const { githubApiProvider } = this.githubConstellation,const { apiProvider: githubApiProvider } = this.githubConstellation
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/bc0be4f6197e9266c7f9c34c01821b083529fc38,bc0be4f6197e9266c7f9c34c01821b083529fc38,"Fixes for config update (#2655)

Ref #2626 #2654",2019-01-06 12:23:58-05:00,monitor.js,https://github.com/badges/shields/raw/fa5309400dfedda493d89ba19db96386b5bbe942/lib/sys/monitor.js,https://github.com/badges/shields/raw/bc0be4f6197e9266c7f9c34c01821b083529fc38/lib/sys/monitor.js,"@@ -58,7 +58,7 @@ function setRoutes({ rateLimit }, server) {
   })
 
   server.get('/sys/network', (req, res) => {
-    res.json({ ips: serverSecrets.shieldsIps })
+    res.json({ ips: serverSecrets.shields_ips })
   })
 
   server.ws('/sys/logs', socket => {
",61,res.json({ ips: serverSecrets.shieldsIps }),res.json({ ips: serverSecrets.shields_ips })
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/3ab2862922cdfcb175506b2f056b77e50005be03,3ab2862922cdfcb175506b2f056b77e50005be03,"Fix a few typos (#2697)

* Fix typos (using 'codespell -w')

* Properly capitalize Git and GitHub in TUTORIAL.md",2019-01-08 12:08:50-05:00,prometheus-metrics.js,https://github.com/badges/shields/raw/7d1a6dd627272541e41f2a2812b2f7ed54f96ac5/lib/sys/prometheus-metrics.js,https://github.com/badges/shields/raw/3ab2862922cdfcb175506b2f056b77e50005be03/lib/sys/prometheus-metrics.js,"@@ -11,7 +11,7 @@ class PrometheusMetrics {
       : matchNothing
     if (this.enabled) {
       console.log(
-        `Metrics are enabled. Access to /metrics resoure is limited to IP addresses matching: ${
+        `Metrics are enabled. Access to /metrics resource is limited to IP addresses matching: ${
           this.allowedIps
         }`
       )
",14,`Metrics are enabled. Access to /metrics resoure is limited to IP addresses matching: ${,`Metrics are enabled. Access to /metrics resource is limited to IP addresses matching: ${
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/3ab2862922cdfcb175506b2f056b77e50005be03,3ab2862922cdfcb175506b2f056b77e50005be03,"Fix a few typos (#2697)

* Fix typos (using 'codespell -w')

* Properly capitalize Git and GitHub in TUTORIAL.md",2019-01-08 12:08:50-05:00,pypi.tester.js,https://github.com/badges/shields/raw/7d1a6dd627272541e41f2a2812b2f7ed54f96ac5/services/pypi/pypi.tester.js,https://github.com/badges/shields/raw/3ab2862922cdfcb175506b2f056b77e50005be03/services/pypi/pypi.tester.js,"@@ -57,7 +57,7 @@ t.create('monthly downloads (not found)')
   - 0.1.30b10
   are perfectly legal.
 
-  We'll run this test againt a project that follows SemVer...
+  We'll run this test against a project that follows SemVer...
 */
 t.create('version (semver)')
   .get('/v/requests.json')
",60,We'll run this test againt a project that follows SemVer...,We'll run this test against a project that follows SemVer...
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/eb7ea8499d6c14bfed55f624cfef6c322a5e01b1,eb7ea8499d6c14bfed55f624cfef6c322a5e01b1,"Fix github auth again (#2736)

This code isn't being run during tests, though let's fix that later as part of #2733. Specifically:

> However _the pool itself_ could be used all the time; there's not a big advantage in turning that off when it doesn't need to be used.

Fix #2728",2019-01-11 13:50:29-05:00,github-api-provider.js,https://github.com/badges/shields/raw/269fbd056c8fdd26da4d021f8c889d50ef0209e0/services/github/github-api-provider.js,https://github.com/badges/shields/raw/eb7ea8499d6c14bfed55f624cfef6c322a5e01b1/services/github/github-api-provider.js,"@@ -81,7 +81,7 @@ class GithubApiProvider {
       return
     }
 
-    const reserve = this.reserveFraction * rateLimit
+    const reserve = Math.ceil(this.reserveFraction * rateLimit)
     const usesRemaining = totalUsesRemaining - reserve
 
     token.update(usesRemaining, nextReset)
",84,const reserve = this.reserveFraction * rateLimit,const reserve = Math.ceil(this.reserveFraction * rateLimit)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/474b126be674a30d3b76e71273f461d41bd182d6,474b126be674a30d3b76e71273f461d41bd182d6,"Fix color again, for legacy badges (#2782)

Ref: https://github.com/badges/shields/pull/2780#issuecomment-454873296",2019-01-16 13:37:48-05:00,make-badge.spec.js,https://github.com/badges/shields/raw/4bf55a782673e8a9a6ffaccb52c84ca726635476/gh-badges/lib/make-badge.spec.js,https://github.com/badges/shields/raw/474b126be674a30d3b76e71273f461d41bd182d6/gh-badges/lib/make-badge.spec.js,"@@ -64,7 +64,7 @@ describe('The badge generator', function() {
         given('almostred'),
         given('brightmaroon'),
         given('cactus')
-      ).expect(undefined)
+      ).expect(null)
     })
   })
 
",67,).expect(undefined),).expect(null)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/576a6c1dee54742318dd78d1a99d1eae2881a574,576a6c1dee54742318dd78d1a99d1eae2881a574,"Fix [AzureDevOps] branch specific badges (#2777)

* fix: updated Azure DevOps fetch function to reflect query param name change

* fix: fixed branch filter for azure devops to enable branch name usage

* fix: simplified branch pattern for azure devops badges",2019-01-16 21:16:32-06:00,azure-devops-base.js,https://github.com/badges/shields/raw/bcc9acd18fb743844dcffa66a90239698d07407a/services/azure-devops/azure-devops-base.js,https://github.com/badges/shields/raw/576a6c1dee54742318dd78d1a99d1eae2881a574/services/azure-devops/azure-devops-base.js,"@@ -46,7 +46,7 @@ module.exports = class AzureDevOpsBase extends BaseJsonService {
     }
 
     if (branch) {
-      options.qs.branch = branch
+      options.qs.branchName = `refs/heads/${branch}`
     }
 
     const json = await this.fetch({
",49,options.qs.branch = branch,options.qs.branchName = `refs/heads/${branch}`
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/4bfc8d3b72db8e19125c694a4517e29486d6406e,4bfc8d3b72db8e19125c694a4517e29486d6406e,Fix [static] tests (#2797),2019-01-17 15:24:02-05:00,static-badge.tester.js,https://github.com/badges/shields/raw/328a6b0f9dd5bdbdf94f02630009675385685de8/services/static-badge/static-badge.tester.js,https://github.com/badges/shields/raw/4bfc8d3b72db8e19125c694a4517e29486d6406e/services/static-badge/static-badge.tester.js,"@@ -20,7 +20,7 @@ t.create('All one color')
 
 t.create('Not a valid color')
   .get('/badge/label-message-notacolor.json?style=_shields_test')
-  .expectJSON({ name: 'label', value: 'message' })
+  .expectJSON({ name: 'label', value: 'message', color: null })
 
 t.create('Missing message')
   .get('/badge/label--blue.json?style=_shields_test')
",23,".expectJSON({ name: 'label', value: 'message' })",".expectJSON({ name: 'label', value: 'message', color: null })"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/56d374a467bf9fbbbd075c2a967753ae7945a874,56d374a467bf9fbbbd075c2a967753ae7945a874,"Allow plus in semver [Nexus aur bintray chocolatey dubversion myget nuget powershellgallery resharper]  (#2987)

* Also allow + in semver

* Add test for + in semver version

* Add more dashes to test version

* Fix tests",2019-02-13 10:50:21-06:00,validators.js,https://github.com/badges/shields/raw/b87d67bb18783e2678f7ab6e20f8c006d3674821/services/validators.js,https://github.com/badges/shields/raw/56d374a467bf9fbbbd075c2a967753ae7945a874/services/validators.js,"@@ -21,7 +21,7 @@ module.exports = {
     .required(),
 
   optionalDottedVersionNClausesWithOptionalSuffix: Joi.string().regex(
-    /^\d+(\.\d+)*(-.*)?$/
+    /^\d+(\.\d+)*([-+].*)?$/
   ),
 
   // TODO This accepts URLs with query strings and fragments, which for some
",24,/^\d+(\.\d+)*(-.*)?$/,/^\d+(\.\d+)*([-+].*)?$/
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d4a74bd6bd03e914a18e146383c9f661b3dfe26,0d4a74bd6bd03e914a18e146383c9f661b3dfe26,Spelling fixes (#3013),2019-02-17 14:10:06-05:00,base.js,https://github.com/badges/shields/raw/21612dd0033962d71f00d8908cc202bbabcd2195/core/base-service/base.js,https://github.com/badges/shields/raw/0d4a74bd6bd03e914a18e146383c9f661b3dfe26/core/base-service/base.js,"@@ -128,7 +128,7 @@ module.exports = class BaseService {
    * this service.
    *
    * The preferred way to specify an example is with `namedParams` which are
-   * substitued into the service's compiled route pattern. The rendered badge
+   * substituted into the service's compiled route pattern. The rendered badge
    * is specified with `staticPreview`.
    *
    * For services which use a route `format`, the `pattern` can be specified as
",131,* substitued into the service's compiled route pattern. The rendered badge,* substituted into the service's compiled route pattern. The rendered badge
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d4a74bd6bd03e914a18e146383c9f661b3dfe26,0d4a74bd6bd03e914a18e146383c9f661b3dfe26,Spelling fixes (#3013),2019-02-17 14:10:06-05:00,endpoint.js,https://github.com/badges/shields/raw/21612dd0033962d71f00d8908cc202bbabcd2195/frontend/pages/endpoint.js,https://github.com/badges/shields/raw/0d4a74bd6bd03e914a18e146383c9f661b3dfe26/frontend/pages/endpoint.js,"@@ -113,7 +113,7 @@ const EndpointPage = () => (
       <p>
         Using the endpoint badge, you can provide content for a badge through a
         JSON endpoint. The content can be prerendered, or generated on the fly.
-        To strike a balance between responsiveness and bandwith utilization on
+        To strike a balance between responsiveness and bandwidth utilization on
         one hand, and freshness on the other, cache behavior is configurable,
         subject to the Shields minimum. The endpoint URL is provided to Shields
         through the query string. Shields fetches it and formats the badge.
",116,To strike a balance between responsiveness and bandwith utilization on,To strike a balance between responsiveness and bandwidth utilization on
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c2c27ea7954bf5e8d5d5ec784ba4f7f3dcade68d,c2c27ea7954bf5e8d5d5ec784ba4f7f3dcade68d,"TypeError: s.toLowerCase is not a function (#2997)

* Update color.js

* fixup

* expand test

* expand test (again)",2019-02-19 07:52:37+00:00,color.js,https://github.com/badges/shields/raw/0e56258ac01a3a156d218bf4851ee3e72b670ebf/gh-badges/lib/color.js,https://github.com/badges/shields/raw/c2c27ea7954bf5e8d5d5ec784ba4f7f3dcade68d/gh-badges/lib/color.js,"@@ -34,7 +34,7 @@ Object.entries(aliases).forEach(([alias, original]) => {
 // true.
 const hexColorRegex = /^([\da-f]{3}){1,2}$/i
 function isHexColor(s = '') {
-  return hexColorRegex.test(s.toLowerCase())
+  return hexColorRegex.test(s)
 }
 
 function normalizeColor(color) {
",37,return hexColorRegex.test(s.toLowerCase()),return hexColorRegex.test(s)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/bc523e3aae0a7f53477ecf62ba8ff7b438f8fca2,bc523e3aae0a7f53477ecf62ba8ff7b438f8fca2,"Fix your-badge link (#3058)

Fix #1954",2019-02-20 16:34:50-05:00,endpoint.js,https://github.com/badges/shields/raw/84db9e6fe36e92be4804bcad3a8734531ec3510a/frontend/pages/endpoint.js,https://github.com/badges/shields/raw/bc523e3aae0a7f53477ecf62ba8ff7b438f8fca2/frontend/pages/endpoint.js,"@@ -87,7 +87,7 @@ const EndpointPage = () => (
     <GlobalStyle />
     <Meta />
     <Header />
-    <H3 id=""static-badge"">Endpoint (Beta)</H3>
+    <H3>Endpoint (Beta)</H3>
     <Snippet snippet={`${baseUrl}/badge/endpoint.svg?url=...&style=...`} />
     <p>Endpoint response:</p>
     <JsonExample
",90,"<H3 id=""static-badge"">Endpoint (Beta)</H3>",<H3>Endpoint (Beta)</H3>
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/9ed78867f78eef426db8cad454e20ee835fbad73,9ed78867f78eef426db8cad454e20ee835fbad73,"fix [amo] badges (#3083)

This switches to the new mozilla add-ons API.

It's not a completely like-for-like replacement. I was able to replicate the version, users and rating badges but we no longer have total download stats. We've got weekly downloads instead, so I've redirected `/d` to the new `/dw`

closes #3079",2019-02-23 20:11:11-05:00,amo-users.service.js,https://github.com/badges/shields/raw/8c244c2e405051343353b201d853c84b5fe9c9ab/services/amo/amo-users.service.js,https://github.com/badges/shields/raw/9ed78867f78eef426db8cad454e20ee835fbad73/services/amo/amo-users.service.js,"@@ -41,6 +41,6 @@ module.exports = class AmoUsers extends BaseAmoService {
 
   async handle({ addonId }) {
     const data = await this.fetch({ addonId })
-    return this.constructor.render({ users: data.addon.daily_users })
+    return this.constructor.render({ users: data.average_daily_users })
   }
 }
",44,return this.constructor.render({ users: data.addon.daily_users }),return this.constructor.render({ users: data.average_daily_users })
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c2f44cc28440b70a7658d968ba4983c11662f95e,c2f44cc28440b70a7658d968ba4983c11662f95e,"Fix [TeamCity] build (#3245)

Fix #3244

Updated schema validation on statusText field to account for additional text suffixes",2019-04-02 08:36:21-07:00,teamcity-build.tester.js,https://github.com/badges/shields/raw/23538fe8d7a6e05df9970d516ba6073d3e928222/services/teamcity/teamcity-build.tester.js,https://github.com/badges/shields/raw/c2f44cc28440b70a7658d968ba4983c11662f95e/services/teamcity/teamcity-build.tester.js,"@@ -11,7 +11,7 @@ const {
 } = require('./teamcity-test-helpers')
 
 const buildStatusValues = Joi.equal('passing', 'failure', 'error').required()
-const buildStatusTextRegex = /^success|failure|error|tests( failed: \d+( \(\d+ new\))?)?(,)?( passed: \d+)?(,)?( ignored: \d+)?(,)?( muted: \d+)?$/
+const buildStatusTextRegex = /^success|failure|error|tests( failed: \d+( \(\d+ new\))?)?(,)?( passed: \d+)?(,)?( ignored: \d+)?(,)?( muted: \d+)?/
 
 t.create('live: codebetter unknown build')
   .get('/codebetter/btabc.json')
",14,"const buildStatusTextRegex = /^success|failure|error|tests( failed: \d+( \(\d+ new\))?)?(,)?( passed: \d+)?(,)?( ignored: \d+)?(,)?( muted: \d+)?$/","const buildStatusTextRegex = /^success|failure|error|tests( failed: \d+( \(\d+ new\))?)?(,)?( passed: \d+)?(,)?( ignored: \d+)?(,)?( muted: \d+)?/"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0f19806c583ad4628fe2b96f02a157bc2cd5235a,0f19806c583ad4628fe2b96f02a157bc2cd5235a,"Bump nock from 11.0.0.beta-14 to 11.0.0.beta-20 (#3616)

* Bump icedfrisby and icedfrisby-nock

* Bump nock from 11.0.0.beta-14 to 11.0.0.beta-20

Hoping the changes from #3615 will fix the issues that appeared at https://github.com/badges/shields/pull/3552#issuecomment-504610847

* Fix apm tests

* Fix githubcommitstatus",2019-06-28 15:50:17-04:00,github-commit-status.service.js,https://github.com/badges/shields/raw/6c21d86194dcd3fd25430c39981a9a6c2c91ab00/services/github/github-commit-status.service.js,https://github.com/badges/shields/raw/0f19806c583ad4628fe2b96f02a157bc2cd5235a/services/github/github-commit-status.service.js,"@@ -74,7 +74,7 @@ module.exports = class GithubCommitStatus extends GithubAuthService {
     } catch (e) {
       if (e instanceof NotFound) {
         const { message } = this._parseJson(e.buffer)
-        if (message.startsWith('No common ancestor between')) {
+        if (message && message.startsWith('No common ancestor between')) {
           throw new InvalidParameter({ prettyMessage: 'no common ancestor' })
         }
       }
",77,if (message.startsWith('No common ancestor between')) {,if (message && message.startsWith('No common ancestor between')) {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/e33cb30a9aa08edaaaa2fc7bd2d4f7a1d7cde03c,e33cb30a9aa08edaaaa2fc7bd2d4f7a1d7cde03c,"Fix regex match in notfound route (#3790)

Fixes #3789",2019-07-25 17:18:02-05:00,server.js,https://github.com/badges/shields/raw/ab7a2106b5631192fcd987789159322032914229/core/server/server.js,https://github.com/badges/shields/raw/e33cb30a9aa08edaaaa2fc7bd2d4f7a1d7cde03c/core/server/server.js,"@@ -206,7 +206,7 @@ class Server {
       })
     }
 
-    camp.notfound(/(.svg|.json|)$/, (query, match, end, request) => {
+    camp.notfound(/(\.svg|\.json|)$/, (query, match, end, request) => {
       const [, extension] = match
       const format = (extension || '.svg').replace(/^\./, '')
 
",209,"camp.notfound(/(.svg|.json|)$/, (query, match, end, request) => {","camp.notfound(/(\.svg|\.json|)$/, (query, match, end, request) => {"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/4eb6d25ff77cba4b267432ce211a34d4c1fae03c,4eb6d25ff77cba4b267432ce211a34d4c1fae03c,"Fix trailing 0 in [F-Droid] yaml format (#3831)

Closes #3830",2019-08-06 15:39:55+02:00,f-droid.service.js,https://github.com/badges/shields/raw/acfcf82d1fc1c843975c19f635ec27d723e51840/services/f-droid/f-droid.service.js,https://github.com/badges/shields/raw/4eb6d25ff77cba4b267432ce211a34d4c1fae03c/services/f-droid/f-droid.service.js,"@@ -7,7 +7,7 @@ const { BaseYamlService, InvalidResponse } = require('..')
 
 const schema = Joi.object({
   CurrentVersion: Joi.alternatives()
-    .try(Joi.number(), Joi.string())
+    .try(Joi.string(), Joi.number())
     .required(),
 }).required()
 
",10,".try(Joi.number(), Joi.string())",".try(Joi.string(), Joi.number())"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c762d971b4ea589183f6fbc7d7aaa9f24dc81592,c762d971b4ea589183f6fbc7d7aaa9f24dc81592,"upgrade Joi and related packages (#4060)

* update dependencies

* (core) children --> keys

* (core) fix/update BaseService validate

* (core) update error messages in tests

* (core) only Joi.attempt if we've got a Joi schema

* (core) allow 'expected' to be a regex

* (services) pass 2 schema to .alternatives()

* (services) functions --> Joi schema

* (services) update expected error message

* (services) explicit check for color: undefined

* re-bump joi

* (services) wrap another regex

* (core/services) remove use of array arguments

* (core/services) when --> conditional

* (services) remove more array arguments

* fix spelling in var name

* DRY up sonar helper",2019-09-23 17:36:56+01:00,service-definitions.js,https://github.com/badges/shields/raw/d18d4218fc8910ceea033a251317105d69a20fd6/core/base-service/service-definitions.js,https://github.com/badges/shields/raw/c762d971b4ea589183f6fbc7d7aaa9f24dc81592/core/base-service/service-definitions.js,"@@ -7,7 +7,7 @@ const Joi = require('@hapi/joi')
 
 const arrayOfStrings = Joi.array()
   .items(Joi.string())
-  .allow([])
+  .min(0)
   .required()
 
 const objectOfKeyValues = Joi.object()
",10,.allow([]),.min(0)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c762d971b4ea589183f6fbc7d7aaa9f24dc81592,c762d971b4ea589183f6fbc7d7aaa9f24dc81592,"upgrade Joi and related packages (#4060)

* update dependencies

* (core) children --> keys

* (core) fix/update BaseService validate

* (core) update error messages in tests

* (core) only Joi.attempt if we've got a Joi schema

* (core) allow 'expected' to be a regex

* (services) pass 2 schema to .alternatives()

* (services) functions --> Joi schema

* (services) update expected error message

* (services) explicit check for color: undefined

* re-bump joi

* (services) wrap another regex

* (core/services) remove use of array arguments

* (core/services) when --> conditional

* (services) remove more array arguments

* fix spelling in var name

* DRY up sonar helper",2019-09-23 17:36:56+01:00,f-droid.service.js,https://github.com/badges/shields/raw/d18d4218fc8910ceea033a251317105d69a20fd6/services/f-droid/f-droid.service.js,https://github.com/badges/shields/raw/c762d971b4ea589183f6fbc7d7aaa9f24dc81592/services/f-droid/f-droid.service.js,"@@ -12,7 +12,7 @@ const schema = Joi.object({
 }).required()
 
 const queryParamSchema = Joi.object({
-  metadata_format: Joi.string().valid(['yml', 'txt']),
+  metadata_format: Joi.string().valid('yml', 'txt'),
 }).required()
 
 module.exports = class FDroid extends BaseYamlService {
",15,"metadata_format: Joi.string().valid(['yml', 'txt']),","metadata_format: Joi.string().valid('yml', 'txt'),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c762d971b4ea589183f6fbc7d7aaa9f24dc81592,c762d971b4ea589183f6fbc7d7aaa9f24dc81592,"upgrade Joi and related packages (#4060)

* update dependencies

* (core) children --> keys

* (core) fix/update BaseService validate

* (core) update error messages in tests

* (core) only Joi.attempt if we've got a Joi schema

* (core) allow 'expected' to be a regex

* (services) pass 2 schema to .alternatives()

* (services) functions --> Joi schema

* (services) update expected error message

* (services) explicit check for color: undefined

* re-bump joi

* (services) wrap another regex

* (core/services) remove use of array arguments

* (core/services) when --> conditional

* (services) remove more array arguments

* fix spelling in var name

* DRY up sonar helper",2019-09-23 17:36:56+01:00,mozilla-observatory.tester.js,https://github.com/badges/shields/raw/d18d4218fc8910ceea033a251317105d69a20fd6/services/mozilla-observatory/mozilla-observatory.tester.js,https://github.com/badges/shields/raw/c762d971b4ea589183f6fbc7d7aaa9f24dc81592/services/mozilla-observatory/mozilla-observatory.tester.js,"@@ -12,7 +12,7 @@ const isMessage = Joi.alternatives()
   .required()
 
 const isColor = Joi.string()
-  .valid(validColors)
+  .valid(...validColors)
   .required()
 
 t.create('request on observatory.mozilla.org')
",15,.valid(validColors),.valid(...validColors)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c762d971b4ea589183f6fbc7d7aaa9f24dc81592,c762d971b4ea589183f6fbc7d7aaa9f24dc81592,"upgrade Joi and related packages (#4060)

* update dependencies

* (core) children --> keys

* (core) fix/update BaseService validate

* (core) update error messages in tests

* (core) only Joi.attempt if we've got a Joi schema

* (core) allow 'expected' to be a regex

* (services) pass 2 schema to .alternatives()

* (services) functions --> Joi schema

* (services) update expected error message

* (services) explicit check for color: undefined

* re-bump joi

* (services) wrap another regex

* (core/services) remove use of array arguments

* (core/services) when --> conditional

* (services) remove more array arguments

* fix spelling in var name

* DRY up sonar helper",2019-09-23 17:36:56+01:00,shippable.service.js,https://github.com/badges/shields/raw/d18d4218fc8910ceea033a251317105d69a20fd6/services/shippable/shippable.service.js,https://github.com/badges/shields/raw/c762d971b4ea589183f6fbc7d7aaa9f24dc81592/services/shippable/shippable.service.js,"@@ -23,7 +23,7 @@ const schema = Joi.array()
     Joi.object({
       branchName: Joi.string().required(),
       statusCode: Joi.number()
-        .valid(Object.keys(statusCodes).map(key => parseInt(key)))
+        .valid(...Object.keys(statusCodes).map(key => parseInt(key)))
         .required(),
     }).required()
   )
",26,.valid(Object.keys(statusCodes).map(key => parseInt(key))),.valid(...Object.keys(statusCodes).map(key => parseInt(key)))
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/645343887e8a3d9d802b84c50a643d8f5b2e5546,645343887e8a3d9d802b84c50a643d8f5b2e5546,fix: add `killed` to drone schema (#4099),2019-09-28 11:46:32-05:00,drone-build.service.js,https://github.com/badges/shields/raw/be464377e1f7b6c3d67291f976412e6bb7484ed8/services/drone/drone-build.service.js,https://github.com/badges/shields/raw/645343887e8a3d9d802b84c50a643d8f5b2e5546/services/drone/drone-build.service.js,"@@ -7,7 +7,7 @@ const { BaseJsonService } = require('..')
 
 const DroneBuildSchema = Joi.object({
   status: Joi.alternatives()
-    .try(isBuildStatus, Joi.equal('none'))
+    .try(isBuildStatus, Joi.equal('none'), Joi.equal('killed'))
     .required(),
 }).required()
 
",10,".try(isBuildStatus, Joi.equal('none'))",".try(isBuildStatus, Joi.equal('none'), Joi.equal('killed'))"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/a6b69004af7d280dfafcb14f3a9a217965e6b725,a6b69004af7d280dfafcb14f3a9a217965e6b725,"[MavenMetadata] should use version as string (#4188), also run [MavenCentral] (#4224)

* fix: maven-metadata should use version as string (#4188)

* style: remove a regex from maven-central test for consistency",2019-10-25 09:14:12-05:00,maven-central.tester.js,https://github.com/badges/shields/raw/8d088a2672fd5b2475b5f3c85be92a958fcee733/services/maven-central/maven-central.tester.js,https://github.com/badges/shields/raw/a6b69004af7d280dfafcb14f3a9a217965e6b725/services/maven-central/maven-central.tester.js,"@@ -50,4 +50,4 @@ t.create('version ending with zero')
       `
       )
   )
-  .expectBadge({ label: 'maven-central', message: /^v1\.30$/ })
+  .expectBadge({ label: 'maven-central', message: 'v1.30' })
",53,".expectBadge({ label: 'maven-central', message: /^v1\.30$/ })",".expectBadge({ label: 'maven-central', message: 'v1.30' })"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,monitor.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/core/server/monitor.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/core/server/monitor.js,"@@ -43,7 +43,7 @@ function setRoutes({ rateLimit }, { server, metricInstance }) {
         .split(/[/-]/)
         .slice(0, 3)
         .join('')
-      const referer = req.headers['referer']
+      const referer = req.headers.referer
 
       if (ipRateLimit.isBanned(ip, req, res)) {
         metricInstance.noteRateLimitExceeded('ip')
",46,const referer = req.headers['referer'],const referer = req.headers.referer
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,load-simple-icons.spec.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/lib/load-simple-icons.spec.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/lib/load-simple-icons.spec.js,"@@ -10,7 +10,7 @@ describe('loadSimpleIcons', function() {
   })
 
   it('prepares three color themes', function() {
-    expect(simpleIcons['sentry'].base64).to.have.all.keys(
+    expect(simpleIcons.sentry.base64).to.have.all.keys(
       'default',
       'light',
       'dark'
",13,expect(simpleIcons['sentry'].base64).to.have.all.keys(,expect(simpleIcons.sentry.base64).to.have.all.keys(
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,server.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/server.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/server.js,"@@ -16,7 +16,7 @@ Sentry.init({
     const filtered = integrations.filter(
       integration => !disabledIntegrations.includes(integration.name)
     )
-    if (filtered.length != integrations.length - disabledIntegrations.length) {
+    if (filtered.length !== integrations.length - disabledIntegrations.length) {
       throw Error(
         `An error occurred while filtering integrations. The following inetgrations were found: ${integrations.map(
           ({ name }) => name
",19,if (filtered.length != integrations.length - disabledIntegrations.length) {,if (filtered.length !== integrations.length - disabledIntegrations.length) {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,appveyor-build.service.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/services/appveyor/appveyor-build.service.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/services/appveyor/appveyor-build.service.js,"@@ -31,7 +31,7 @@ module.exports = class AppVeyorBuild extends AppVeyorBase {
 
   async handle({ user, repo, branch }) {
     const data = await this.fetch({ user, repo, branch })
-    if (!data.hasOwnProperty('build')) {
+    if (!('build' in data)) {
       // this project exists but no builds have been run on it yet
       return this.constructor.render({ status: 'no builds found' })
     }
",34,if (!data.hasOwnProperty('build')) {,if (!('build' in data)) {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,appveyor-job-build.service.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/services/appveyor/appveyor-job-build.service.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/services/appveyor/appveyor-job-build.service.js,"@@ -39,7 +39,7 @@ module.exports = class AppVeyorJobBuild extends AppVeyorBase {
   }
 
   transform({ data, jobName }) {
-    if (!data.hasOwnProperty('build')) {
+    if (!('build' in data)) {
       // this project exists but no builds have been run on it yet
       return { status: 'no builds found' }
     }
",42,if (!data.hasOwnProperty('build')) {,if (!('build' in data)) {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,github-contributors.service.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/services/github/github-contributors.service.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/services/github/github-contributors.service.js,"@@ -53,7 +53,7 @@ module.exports = class GithubContributors extends GithubAuthV3Service {
       errorMessages: errorMessagesFor('repo not found'),
     })
 
-    const parsed = parseLinkHeader(res.headers['link'])
+    const parsed = parseLinkHeader(res.headers.link)
     let contributorCount
     if (parsed === null) {
       const json = this._parseJson(buffer)
",56,const parsed = parseLinkHeader(res.headers['link']),const parsed = parseLinkHeader(res.headers.link)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,0d8a2d5ca0a93c9ffb8456212771d0762bee96f5,"Update to eslint 6.8.0 [appveyor githubissuedetail packagist] (#4489)

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* update to eslint 6.8.0 and related packages

* Fixes for no-prototype-builtins

* Updates for explicit-function-return-type

* Add ignores for no-explicit-any

* package: activate eslint-config-standard

* apply updated eslint configuration

* lint: apply eslint feedback after rebase

* Update lockfile

* Update lockfile

* Restore missing deps

* Update lockfile

* Re-add eslint-plugin-node

* Add eslint-plugin-standard and eslint-plugin-react-hooks

* Clean lint

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-02-29 11:06:36-06:00,visual-studio-app-center-builds.service.js,https://github.com/badges/shields/raw/fe70e75f3e6f06d29841c882248f3c7ee8916a4a/services/visual-studio-app-center/visual-studio-app-center-builds.service.js,https://github.com/badges/shields/raw/0d8a2d5ca0a93c9ffb8456212771d0762bee96f5/services/visual-studio-app-center/visual-studio-app-center-builds.service.js,"@@ -54,7 +54,7 @@ module.exports = class VisualStudioAppCenterBuilds extends BaseVisualStudioAppCe
       schema,
       url: `https://api.appcenter.ms/v0.1/apps/${owner}/${app}/branches/${branch}/builds`,
     })
-    if (json[0] == undefined)
+    if (json[0] === undefined)
       // Fetch will return a 200 with no data if no builds were found.
       throw new NotFound({ prettyMessage: 'no builds found' })
     return renderBuildStatusBadge({ status: json[0].result })
",57,if (json[0] == undefined),if (json[0] === undefined)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/3ba05cb1844dcc574221268c21b35c6234d92321,3ba05cb1844dcc574221268c21b35c6234d92321,"📦 version 3 (#4756)

* Validate input to BadgeFactory.create() (#3875)

* validate input to create()

* remove deprecated properties (#3881)

* remove BadgeFactory class (#3884)

* Template literal templates (#4459)

- Remove use of the doT template library and move to generating SVG output using javascript template literals.
- Drop SVGO and mostly manually implement the optimisations.
- Add a bunch more tests

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>

* drop raster support in package CLI (#4523)

* drop raster support in package CLI
* update docs

* rename gh-badges package to badge-maker

* rename gh-badges dir to badge-maker

* update relative imports and other refs to in parent dir

'gh-badges' --> 'badge-maker'

* update snyk service tests

This change is only tangentially related

We've used the shields repo as an example for these tests so
moving files around in our repo has a knock-on effect on them

* add missing type hints to dev style page

* write the changelog/migration guide for v3

* use extension in README CLI example

* update CLI help

whoops - missed this in #4523

* bump version

* update for self-hosting users

* README updates

* drop .format param from CLI, always output SVG

* Change text[] to label and message, Remove JSON output

- Change text[] to label and message
- Fix message only badge
- Remove JSON output format
- Update the docs

* update package-lock

* rename 'template' to 'style'

* handle invalid styles in coalesceBadge

* ensure makeBadge is passed a string for template in coalesceBadge()

issue #4925

* fix (logo/no label text/label color specified) case

issue #4926

* add example of (logo/no label text/label color specified) to style debug page

* update type defs

* padding fix for FTB style

Co-authored-by: Paul Melnikow <github@paulmelnikow.com>",2020-04-23 20:05:48+01:00,base.spec.js,https://github.com/badges/shields/raw/b64987d2dd4c4fa21c41d72bbef72b51fb36bd8b/core/base-service/base.spec.js,https://github.com/badges/shields/raw/3ba05cb1844dcc574221268c21b35c6234d92321/core/base-service/base.spec.js,"@@ -392,7 +392,7 @@ describe('BaseService', function() {
       expect(mockSendBadge).to.have.been.calledWith(expectedFormat, {
         text: ['cat', 'Hello namedParamA: bar with queryParamA: ?'],
         color: 'lightgrey',
-        template: undefined,
+        template: 'flat',
         namedLogo: undefined,
         logo: undefined,
         logoWidth: undefined,
",395,"template: undefined,","template: 'flat',"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c03a73b573822268e90dcdff3c5cd3444737f7db,c03a73b573822268e90dcdff3c5cd3444737f7db,"v3 stable (#5037)

* fix outdated docblock
* 3.0.0",2020-05-06 19:51:21+01:00,index.js,https://github.com/badges/shields/raw/9ac2b41206a7f5894bbe2f5a2bd6fcff496f41e4/badge-maker/lib/index.js,https://github.com/badges/shields/raw/c03a73b573822268e90dcdff3c5cd3444737f7db/badge-maker/lib/index.js,"@@ -72,7 +72,7 @@ function _clean(format) {
  * @param {string} format.labelColor (Optional) Label color
  * @param {string} format.color (Optional) Message color
  * @param {string} format.style (Optional) Visual style e.g: 'flat'
- * @returns {string} Badge in SVG or JSON format
+ * @returns {string} Badge in SVG format
  * @see https://github.com/badges/shields/tree/master/badge-maker/README.md
  */
 function makeBadge(format) {
",75,* @returns {string} Badge in SVG or JSON format,* @returns {string} Badge in SVG format
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/1639417a5529f755191307bac989cee208cc599f,1639417a5529f755191307bac989cee208cc599f,Fix [Twitch] Client-ID header (#5217),2020-06-17 19:18:25+02:00,twitch-base.js,https://github.com/badges/shields/raw/778b146d8e7373725cae73abfa7e1873e0d09a4b/services/twitch/twitch-base.js,https://github.com/badges/shields/raw/1639417a5529f755191307bac989cee208cc599f/services/twitch/twitch-base.js,"@@ -81,7 +81,7 @@ module.exports = class TwitchBase extends BaseJsonService {
       options: {
         ...request.options,
         headers: {
-          'Client-ID': this.authHelper.user,
+          'Client-ID': this.authHelper._user,
           Authorization: `Bearer ${await this._twitchToken()}`,
           ...(request.options && request.options.headers),
         },
",84,"'Client-ID': this.authHelper.user,","'Client-ID': this.authHelper._user,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ad867ddc90a00119714f9048e88d52db1b63e6ba,ad867ddc90a00119714f9048e88d52db1b63e6ba,"Fix [Spiget] rating display issue (#5972)

* Round rating to at most 2 decimal places

* use toFixed method

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2020-12-23 19:42:46+00:00,spiget-rating.service.js,https://github.com/badges/shields/raw/b748e62e0aab5d0acec16d1ee189b9a9dde9d1fe/services/spiget/spiget-rating.service.js,https://github.com/badges/shields/raw/ad867ddc90a00119714f9048e88d52db1b63e6ba/services/spiget/spiget-rating.service.js,"@@ -58,7 +58,7 @@ module.exports = class SpigetRatings extends BaseSpigetService {
     return this.constructor.render({
       format,
       total: rating.count,
-      average: rating.average,
+      average: rating.average.toFixed(2),
     })
   }
 }
",61,"average: rating.average,","average: rating.average.toFixed(2),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/d0b93b410304cec83b4ddd9f50489eb7ae972095,d0b93b410304cec83b4ddd9f50489eb7ae972095,"Build(deps): bump path-to-regexp from 5.0.0 to 6.2.0, run [Appveyor Bitbucket Circle GitHub GitLab ScrutinizerBuild] (#5684)

* Build(deps): bump path-to-regexp from 5.0.0 to 6.2.0

Bumps [path-to-regexp](https://github.com/pillarjs/path-to-regexp) from 5.0.0 to 6.2.0.
- [Release notes](https://github.com/pillarjs/path-to-regexp/releases)
- [Changelog](https://github.com/pillarjs/path-to-regexp/blob/master/History.md)
- [Commits](https://github.com/pillarjs/path-to-regexp/compare/v5.0.0...v6.2.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

* deps: apply path-to-regexp breaking changes

* fix: path-to-regexp types in frontend

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Co-authored-by: Caleb Cartwright <caleb.cartwright@outlook.com>
Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2020-12-23 22:59:31+00:00,base.spec.js,https://github.com/badges/shields/raw/ad867ddc90a00119714f9048e88d52db1b63e6ba/core/base-service/base.spec.js,https://github.com/badges/shields/raw/d0b93b410304cec83b4ddd9f50489eb7ae972095/core/base-service/base.spec.js,"@@ -329,7 +329,7 @@ describe('BaseService', function () {
   describe('ScoutCamp integration', function () {
     // TODO Strangly, without the useless escape the regexes do not match in Node 12.
     // eslint-disable-next-line no-useless-escape
-    const expectedRouteRegex = /^\/foo\/([^\/]+?)(|\.svg|\.json)$/
+    const expectedRouteRegex = /^\/foo(?:\/([^\/#\?]+?))(|\.svg|\.json)$/
 
     let mockCamp
     let mockHandleRequest
",332,const expectedRouteRegex = /^\/foo\/([^\/]+?)(|\.svg|\.json)$/,const expectedRouteRegex = /^\/foo(?:\/([^\/#\?]+?))(|\.svg|\.json)$/
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2359eb278beb4612ea8e579b062648463dc79813,2359eb278beb4612ea8e579b062648463dc79813,"Migrate request to got (part 1 of many) (#6160)

* install new packages

* migrate request to got

* update dynamic json test

This is a behavioural difference between request and got

request will send the request, then we'll get a
`400 Bad Request` back and re-throw at as invalid

got will pick up that the URL is invalid and throw
`RequestError: URI malformed` before attempting to send it
which we'll re-throw as inaccessible

* fix OPM service

* fix wordpress querystring

Got doesn't natively support assmebling a querystring
from nested objects because it uses node's URLSearchParams
internally. Use qs and pass qs a string.

Wordpress is the only service that needs this,
so we could build the string manually in this case
if we don't want to take qs as a prod dependency.
It is mostly hard-coded values anyway.

* fix wercker

got overwrites any ?foo=bar in the URL string if
searchParams is also passed whereas request appends
see https://github.com/sindresorhus/got#url

* fix keybase

* add tests for got wrapper

* bootstrap global agent in server start",2021-03-09 20:03:52+00:00,keybase-btc.service.js,https://github.com/badges/shields/raw/b2f224c3a50f9417579307a328bfaba6d79cb31a/services/keybase/keybase-btc.service.js,https://github.com/badges/shields/raw/2359eb278beb4612ea8e579b062648463dc79813/services/keybase/keybase-btc.service.js,"@@ -60,7 +60,7 @@ module.exports = class KeybaseBTC extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      form: {
+      qs: {
         usernames: username,
         fields: 'cryptocurrency_addresses',
       },
",63,form: {,qs: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2359eb278beb4612ea8e579b062648463dc79813,2359eb278beb4612ea8e579b062648463dc79813,"Migrate request to got (part 1 of many) (#6160)

* install new packages

* migrate request to got

* update dynamic json test

This is a behavioural difference between request and got

request will send the request, then we'll get a
`400 Bad Request` back and re-throw at as invalid

got will pick up that the URL is invalid and throw
`RequestError: URI malformed` before attempting to send it
which we'll re-throw as inaccessible

* fix OPM service

* fix wordpress querystring

Got doesn't natively support assmebling a querystring
from nested objects because it uses node's URLSearchParams
internally. Use qs and pass qs a string.

Wordpress is the only service that needs this,
so we could build the string manually in this case
if we don't want to take qs as a prod dependency.
It is mostly hard-coded values anyway.

* fix wercker

got overwrites any ?foo=bar in the URL string if
searchParams is also passed whereas request appends
see https://github.com/sindresorhus/got#url

* fix keybase

* add tests for got wrapper

* bootstrap global agent in server start",2021-03-09 20:03:52+00:00,keybase-pgp.service.js,https://github.com/badges/shields/raw/b2f224c3a50f9417579307a328bfaba6d79cb31a/services/keybase/keybase-pgp.service.js,https://github.com/badges/shields/raw/2359eb278beb4612ea8e579b062648463dc79813/services/keybase/keybase-pgp.service.js,"@@ -53,7 +53,7 @@ module.exports = class KeybasePGP extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      form: {
+      qs: {
         usernames: username,
         fields: 'public_keys',
       },
",56,form: {,qs: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2359eb278beb4612ea8e579b062648463dc79813,2359eb278beb4612ea8e579b062648463dc79813,"Migrate request to got (part 1 of many) (#6160)

* install new packages

* migrate request to got

* update dynamic json test

This is a behavioural difference between request and got

request will send the request, then we'll get a
`400 Bad Request` back and re-throw at as invalid

got will pick up that the URL is invalid and throw
`RequestError: URI malformed` before attempting to send it
which we'll re-throw as inaccessible

* fix OPM service

* fix wordpress querystring

Got doesn't natively support assmebling a querystring
from nested objects because it uses node's URLSearchParams
internally. Use qs and pass qs a string.

Wordpress is the only service that needs this,
so we could build the string manually in this case
if we don't want to take qs as a prod dependency.
It is mostly hard-coded values anyway.

* fix wercker

got overwrites any ?foo=bar in the URL string if
searchParams is also passed whereas request appends
see https://github.com/sindresorhus/got#url

* fix keybase

* add tests for got wrapper

* bootstrap global agent in server start",2021-03-09 20:03:52+00:00,keybase-xlm.service.js,https://github.com/badges/shields/raw/b2f224c3a50f9417579307a328bfaba6d79cb31a/services/keybase/keybase-xlm.service.js,https://github.com/badges/shields/raw/2359eb278beb4612ea8e579b062648463dc79813/services/keybase/keybase-xlm.service.js,"@@ -58,7 +58,7 @@ module.exports = class KeybaseXLM extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      form: {
+      qs: {
         usernames: username,
         fields: 'stellar',
       },
",61,form: {,qs: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/2359eb278beb4612ea8e579b062648463dc79813,2359eb278beb4612ea8e579b062648463dc79813,"Migrate request to got (part 1 of many) (#6160)

* install new packages

* migrate request to got

* update dynamic json test

This is a behavioural difference between request and got

request will send the request, then we'll get a
`400 Bad Request` back and re-throw at as invalid

got will pick up that the URL is invalid and throw
`RequestError: URI malformed` before attempting to send it
which we'll re-throw as inaccessible

* fix OPM service

* fix wordpress querystring

Got doesn't natively support assmebling a querystring
from nested objects because it uses node's URLSearchParams
internally. Use qs and pass qs a string.

Wordpress is the only service that needs this,
so we could build the string manually in this case
if we don't want to take qs as a prod dependency.
It is mostly hard-coded values anyway.

* fix wercker

got overwrites any ?foo=bar in the URL string if
searchParams is also passed whereas request appends
see https://github.com/sindresorhus/got#url

* fix keybase

* add tests for got wrapper

* bootstrap global agent in server start",2021-03-09 20:03:52+00:00,keybase-zec.service.js,https://github.com/badges/shields/raw/b2f224c3a50f9417579307a328bfaba6d79cb31a/services/keybase/keybase-zec.service.js,https://github.com/badges/shields/raw/2359eb278beb4612ea8e579b062648463dc79813/services/keybase/keybase-zec.service.js,"@@ -60,7 +60,7 @@ module.exports = class KeybaseZEC extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      form: {
+      qs: {
         usernames: username,
         fields: 'cryptocurrency_addresses',
       },
",63,form: {,qs: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/3d2b3e548269e3580ed63c97b0974366a1d88426,3d2b3e548269e3580ed63c97b0974366a1d88426,Fix [Symfony] tests (#6305),2021-03-20 15:23:13+00:00,symfony-insight-violations.tester.js,https://github.com/badges/shields/raw/0db77ba029b62f0810250039419ca17e3ea951a2/services/symfony/symfony-insight-violations.tester.js,https://github.com/badges/shields/raw/3d2b3e548269e3580ed63c97b0974366a1d88426/services/symfony/symfony-insight-violations.tester.js,"@@ -11,6 +11,6 @@ t.create('valid project violations')
   .expectBadge({
     label: 'violations',
     message: withRegex(
-      /\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info/
+      /0|\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info/
     ),
   })
",14,"/\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info/","/0|\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info/"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ee83590942d1875ecb35418ac20288c965b96b0a,ee83590942d1875ecb35418ac20288c965b96b0a,"Build(deps-dev): bump @typescript-eslint/eslint-plugin from 2.34.0 to 4.19.0, run [GitHub GitlabCoverage F-Droid Wordpress VisualStudioAppCenter Ore Packagist] (#6319)

* Build(deps-dev): bump @typescript-eslint/eslint-plugin

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 2.34.0 to 4.19.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.19.0/packages/eslint-plugin)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

* chore: update eslint camelcase rule

* chore: eslint camelcase updates for wordpress

* chore: fix eslint camelcase for misc other services

* chore: fix eslint camelcase issue in github and gitlab

* chore: run prettier

* chore: account for JSX globals

* deps: bump typescript-eslint-parser to v4

* chore: frontend lint changes

* chore: update eslint config to only run @typescript-eslint/explicit-module-boundary-types on ts files

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Co-authored-by: Caleb Cartwright <caleb.cartwright@outlook.com>",2021-03-28 08:26:01-05:00,github-common-release.js,https://github.com/badges/shields/raw/4347a1ade09dc48ee60710952e831a919f872243/services/github/github-common-release.js,https://github.com/badges/shields/raw/ee83590942d1875ecb35418ac20288c965b96b0a/services/github/github-common-release.js,"@@ -53,7 +53,7 @@ function getLatestRelease({ releases, sort, includePrereleases }) {
       releases.map(release => release.tag_name),
       { pre: includePrereleases }
     )
-    return releases.find(({ tag_name }) => tag_name === latestTagName)
+    return releases.find(({ tag_name: tagName }) => tagName === latestTagName)
   }
 
   if (!includePrereleases) {
",56,return releases.find(({ tag_name }) => tag_name === latestTagName),return releases.find(({ tag_name: tagName }) => tagName === latestTagName)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ee83590942d1875ecb35418ac20288c965b96b0a,ee83590942d1875ecb35418ac20288c965b96b0a,"Build(deps-dev): bump @typescript-eslint/eslint-plugin from 2.34.0 to 4.19.0, run [GitHub GitlabCoverage F-Droid Wordpress VisualStudioAppCenter Ore Packagist] (#6319)

* Build(deps-dev): bump @typescript-eslint/eslint-plugin

Bumps [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/HEAD/packages/eslint-plugin) from 2.34.0 to 4.19.0.
- [Release notes](https://github.com/typescript-eslint/typescript-eslint/releases)
- [Changelog](https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/CHANGELOG.md)
- [Commits](https://github.com/typescript-eslint/typescript-eslint/commits/v4.19.0/packages/eslint-plugin)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

* chore: update eslint camelcase rule

* chore: eslint camelcase updates for wordpress

* chore: fix eslint camelcase for misc other services

* chore: fix eslint camelcase issue in github and gitlab

* chore: run prettier

* chore: account for JSX globals

* deps: bump typescript-eslint-parser to v4

* chore: frontend lint changes

* chore: update eslint config to only run @typescript-eslint/explicit-module-boundary-types on ts files

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Co-authored-by: Caleb Cartwright <caleb.cartwright@outlook.com>",2021-03-28 08:26:01-05:00,ore-sponge-versions.service.js,https://github.com/badges/shields/raw/4347a1ade09dc48ee60710952e831a919f872243/services/ore/ore-sponge-versions.service.js,https://github.com/badges/shields/raw/ee83590942d1875ecb35418ac20288c965b96b0a/services/ore/ore-sponge-versions.service.js,"@@ -39,7 +39,7 @@ module.exports = class OreSpongeVersions extends BaseOreService {
       versions: promoted_versions
         .reduce((acc, { tags }) => acc.concat(tags), [])
         .filter(({ name }) => name.toLowerCase() === 'sponge')
-        .map(({ display_data }) => display_data)
+        .map(({ display_data: displayData }) => displayData)
         // display_data is not mandatory in the schema, filter null values
         .filter(x => !!x),
     }
",42,.map(({ display_data }) => display_data),.map(({ display_data: displayData }) => displayData)
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/f11cabd64714293ef1354cc89d468e3a154a9f5b,f11cabd64714293ef1354cc89d468e3a154a9f5b,Fix [Symfony] tests again (#6424),2021-04-24 18:15:23+01:00,symfony-insight-violations.tester.js,https://github.com/badges/shields/raw/9c7baa26abd007f9daaf5087d196da482c8a65db/services/symfony/symfony-insight-violations.tester.js,https://github.com/badges/shields/raw/f11cabd64714293ef1354cc89d468e3a154a9f5b/services/symfony/symfony-insight-violations.tester.js,"@@ -11,6 +11,6 @@ t.create('valid project violations')
   .expectBadge({
     label: 'violations',
     message: withRegex(
-      /0|\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info/
+      /0|\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info|\d* info/
     ),
   })
",14,"/0|\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info/","/0|\d* critical|\d* critical, \d* major|\d* critical, \d* major, \d* minor|\d* critical, \d* major, \d* minor, \d* info|\d* critical, \d* minor|\d* critical, \d* info|\d* major|\d* major, \d* minor|\d* major, \d* minor, \d* info|\d* major, \d* info|\d* minor|\d* minor, \d* info|\d* info/"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/779c1ffaadfcd53ac20b5c55b1ee87ad8a30860f,779c1ffaadfcd53ac20b5c55b1ee87ad8a30860f,"fix incorrect colorsForBackground detection (#6939)

* pass an actual color to colorsForBackground (closes #6936)

* improve test coverage for non-default font color",2021-08-22 16:59:25+01:00,badge-renderers.js,https://github.com/badges/shields/raw/e8c78d55b3ffb767e7b6ff056cac77c149a979c9/badge-maker/lib/badge-renderers.js,https://github.com/badges/shields/raw/779c1ffaadfcd53ac20b5c55b1ee87ad8a30860f/badge-maker/lib/badge-renderers.js,"@@ -266,7 +266,7 @@ class Badge {
       leftMargin: this.messageMargin,
       content: this.message,
       link: rightLink,
-      color: this.messageColor,
+      color: this.color,
       textWidth: this.messageWidth,
       linkWidth: this.rightWidth,
     })
",269,"color: this.messageColor,","color: this.color,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/694b07d6369c3c68863b152df4e1753c6011b6a3,694b07d6369c3c68863b152df4e1753c6011b6a3,"Support nested groups on [GitLabTag] badge (#7158)

* refactor: support groups on gitlab tag badge

* fix mocked test

* add nested subgroup test

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-10-16 18:47:03+00:00,gitlab-tag.spec.js,https://github.com/badges/shields/raw/d7316f98b78fb71c83b413f41267e32fbf2f80b5/services/gitlab/gitlab-tag.spec.js,https://github.com/badges/shields/raw/694b07d6369c3c68863b152df4e1753c6011b6a3/services/gitlab/gitlab-tag.spec.js,"@@ -33,7 +33,7 @@ describe('GitLabTag', function () {
         await GitLabTag.invoke(
           defaultContext,
           config,
-          { user: 'foo', repo: 'bar' },
+          { project: 'foo/bar' },
           {}
         )
       ).to.deep.equal({
",36,"{ user: 'foo', repo: 'bar' },","{ project: 'foo/bar' },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/a8214b74cf31bc22d634f85cb474372d6cfbbcde,a8214b74cf31bc22d634f85cb474372d6cfbbcde,"fix [github] release/tag/download schema (#7170)

closes #7169",2021-10-18 19:20:25-05:00,github-common-release.js,https://github.com/badges/shields/raw/bab818b1c6dc5d67ed85e17c017646cc97c2edf7/services/github/github-common-release.js,https://github.com/badges/shields/raw/a8214b74cf31bc22d634f85cb474372d6cfbbcde/services/github/github-common-release.js,"@@ -12,7 +12,7 @@ const releaseInfoSchema = Joi.object({
     })
     .required(),
   tag_name: Joi.string().required(),
-  name: Joi.string().allow(null),
+  name: Joi.string().allow(null).allow(''),
   prerelease: Joi.boolean().required(),
 }).required()
 
",15,"name: Joi.string().allow(null),","name: Joi.string().allow(null).allow(''),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/32dd99c540aca9ed277be5ffdf8a8f7862a23250,32dd99c540aca9ed277be5ffdf8a8f7862a23250,"Two minor docstring fixes (#7216)

* fix XmlElement ref in docstring

* make sure jsdoc picks up renderDownloadsBadge() docstring",2021-11-03 18:49:10+00:00,xml.js,https://github.com/badges/shields/raw/eb07b60cf09676af840b274b4d6ff5260dc1fc3f/badge-maker/lib/xml.js,https://github.com/badges/shields/raw/32dd99c540aca9ed277be5ffdf8a8f7862a23250/badge-maker/lib/xml.js,"@@ -33,7 +33,7 @@ class XmlElement {
    * @param {object} attrs Refer to individual attrs
    * @param {string} attrs.name
    *    Name of the XML tag
-   * @param {Array.<string|module:badge-maker/lib/xml-element~XmlElement>} [attrs.content=[]]
+   * @param {Array.<string|module:badge-maker/lib/xml~XmlElement>} [attrs.content=[]]
    *    Array of objects to render inside the tag. content may contain a mix of
    *    string and XmlElement objects. If content is `[]` or ommitted the
    *    element will be rendered as a self-closing element.
",36,* @param {Array.<string|module:badge-maker/lib/xml-element~XmlElement>} [attrs.content=[]],* @param {Array.<string|module:badge-maker/lib/xml~XmlElement>} [attrs.content=[]]
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,aur.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/aur/aur.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/aur/aur.service.js,"@@ -43,7 +43,7 @@ class BaseAurService extends BaseJsonService {
     return this._requestJson({
       schema: aurSchema,
       url: 'https://aur.archlinux.org/rpc.php',
-      options: { qs: { v: 5, type: 'info', arg: packageName } },
+      options: { searchParams: { v: 5, type: 'info', arg: packageName } },
     })
   }
 }
",46,"options: { qs: { v: 5, type: 'info', arg: packageName } },","options: { searchParams: { v: 5, type: 'info', arg: packageName } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,azure-devops-build.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/azure-devops/azure-devops-build.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/azure-devops/azure-devops-build.service.js,"@@ -104,7 +104,7 @@ export default class AzureDevOpsBuild extends BaseSvgScrapingService {
     // Microsoft documentation: https://docs.microsoft.com/en-us/rest/api/vsts/build/status/get
     const { status } = await fetch(this, {
       url: `https://dev.azure.com/${organization}/${projectId}/_apis/build/status/${definitionId}`,
-      qs: {
+      searchParams: {
         branchName: branch,
         stageName: stage,
         jobName: job,
",107,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,azure-devops-coverage.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/azure-devops/azure-devops-coverage.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/azure-devops/azure-devops-coverage.service.js,"@@ -101,7 +101,7 @@ export default class AzureDevOpsCoverage extends AzureDevOpsBase {
     // Microsoft documentation: https://docs.microsoft.com/en-us/rest/api/azure/devops/test/code%20coverage/get%20build%20code%20coverage?view=azure-devops-rest-5.0
     const url = `https://dev.azure.com/${organization}/${project}/_apis/test/codecoverage`
     const options = {
-      qs: {
+      searchParams: {
         buildId,
         'api-version': '5.0-preview.1',
       },
",104,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,azure-devops-tests.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/azure-devops/azure-devops-tests.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/azure-devops/azure-devops-tests.service.js,"@@ -160,7 +160,7 @@ export default class AzureDevOpsTests extends AzureDevOpsBase {
     return await this.fetch({
       url: `https://dev.azure.com/${organization}/${project}/_apis/test/ResultSummaryByBuild`,
       options: {
-        qs: { buildId },
+        searchParams: { buildId },
       },
       schema: buildTestResultSummarySchema,
       errorMessages,
",163,"qs: { buildId },","searchParams: { buildId },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,bitbucket-issues.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/bitbucket/bitbucket-issues.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/bitbucket/bitbucket-issues.service.js,"@@ -44,7 +44,7 @@ function issueClassGenerator(raw) {
         schema: bitbucketIssuesSchema,
         // https://developer.atlassian.com/bitbucket/api/2/reference/meta/filtering#query-issues
         options: {
-          qs: { limit: 0, q: '(state = ""new"" OR state = ""open"")' },
+          searchParams: { limit: 0, q: '(state = ""new"" OR state = ""open"")' },
         },
         errorMessages: { 403: 'private repo' },
       })
",47,"qs: { limit: 0, q: '(state = ""new"" OR state = ""open"")' },","searchParams: { limit: 0, q: '(state = ""new"" OR state = ""open"")' },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,bitbucket-pipelines.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/bitbucket/bitbucket-pipelines.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/bitbucket/bitbucket-pipelines.service.js,"@@ -54,7 +54,7 @@ class BitbucketPipelines extends BaseJsonService {
       url,
       schema: bitbucketPipelinesSchema,
       options: {
-        qs: {
+        searchParams: {
           fields: 'values.state',
           page: 1,
           pagelen: 2,
",57,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,bitrise.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/bitrise/bitrise.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/bitrise/bitrise.service.js,"@@ -53,7 +53,7 @@ export default class Bitrise extends BaseJsonService {
       url: `https://app.bitrise.io/app/${encodeURIComponent(
         appId
       )}/status.json`,
-      options: { qs: { token, branch } },
+      options: { searchParams: { token, branch } },
       schema,
       errorMessages: {
         403: 'app not found or invalid token',
",56,"options: { qs: { token, branch } },","options: { searchParams: { token, branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,bstats-players.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/bstats/bstats-players.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/bstats/bstats-players.service.js,"@@ -34,7 +34,7 @@ export default class BStatsPlayers extends BaseJsonService {
     return this._requestJson({
       schema,
       options: {
-        qs: {
+        searchParams: {
           maxElements: 1,
         },
       },
",37,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,bstats-servers.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/bstats/bstats-servers.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/bstats/bstats-servers.service.js,"@@ -34,7 +34,7 @@ export default class BStatsServers extends BaseJsonService {
     return this._requestJson({
       schema,
       options: {
-        qs: {
+        searchParams: {
           maxElements: 1,
         },
       },
",37,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,buildkite.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/buildkite/buildkite.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/buildkite/buildkite.service.js,"@@ -35,7 +35,7 @@ export default class Buildkite extends BaseJsonService {
 
   async fetch({ identifier, branch }) {
     const url = `https://badge.buildkite.com/${identifier}.json`
-    const options = { qs: { branch } }
+    const options = { searchParams: { branch } }
     return this._requestJson({
       schema,
       url,
",38,const options = { qs: { branch } },const options = { searchParams: { branch } }
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,bundlephobia.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/bundlephobia/bundlephobia.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/bundlephobia/bundlephobia.service.js,"@@ -79,7 +79,7 @@ export default class Bundlephobia extends BaseJsonService {
     const packageQuery = `${scope ? `${scope}/` : ''}${packageName}${
       version ? `@${version}` : ''
     }`
-    const options = { qs: { package: packageQuery } }
+    const options = { searchParams: { package: packageQuery } }
     return this._requestJson({
       schema,
       url: 'https://bundlephobia.com/api/size',
",82,const options = { qs: { package: packageQuery } },const options = { searchParams: { package: packageQuery } }
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,circleci.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/circleci/circleci.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/circleci/circleci.service.js,"@@ -56,7 +56,7 @@ class CircleCi extends BaseSvgScrapingService {
       url: `https://circleci.com/${vcs}/${user}/${repo}${branchClause}.svg`,
       // Note that the unusual 'circle-token' query param name is required.
       // https://circleci.com/docs/api/#get-authenticated
-      options: { qs: { style: 'shield', 'circle-token': token } },
+      options: { searchParams: { style: 'shield', 'circle-token': token } },
       errorMessages: { 404: 'project not found' },
     })
     return this.constructor.render({ status: message })
",59,"options: { qs: { style: 'shield', 'circle-token': token } },","options: { searchParams: { style: 'shield', 'circle-token': token } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,cirrus.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/cirrus/cirrus.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/cirrus/cirrus.service.js,"@@ -65,7 +65,7 @@ export default class Cirrus extends BaseJsonService {
     const json = await this._requestJson({
       schema,
       url: `https://api.cirrus-ci.com/github/${user}/${repo}.json`,
-      options: { qs: { branch, script, task } },
+      options: { searchParams: { branch, script, task } },
     })
 
     return this.constructor.render(json)
",68,"options: { qs: { branch, script, task } },","options: { searchParams: { branch, script, task } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,codacy-coverage.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/codacy/codacy-coverage.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/codacy/codacy-coverage.service.js,"@@ -51,7 +51,7 @@ export default class CodacyCoverage extends BaseSvgScrapingService {
       url: `https://api.codacy.com/project/badge/coverage/${encodeURIComponent(
         projectId
       )}`,
-      options: { qs: { branch } },
+      options: { searchParams: { branch } },
       valueMatcher: /text-anchor=""middle"">([^<>]+)<\/text>/,
       errorMessages: {
         404: 'project not found',
",54,"options: { qs: { branch } },","options: { searchParams: { branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,codacy-grade.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/codacy/codacy-grade.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/codacy/codacy-grade.service.js,"@@ -50,7 +50,7 @@ export default class CodacyGrade extends BaseSvgScrapingService {
       url: `https://api.codacy.com/project/badge/grade/${encodeURIComponent(
         projectId
       )}`,
-      options: { qs: { branch } },
+      options: { searchParams: { branch } },
       errorMessages: { 404: 'project or branch not found' },
       valueMatcher: /visibility=""hidden"">([^<>]+)<\/text>/,
     })
",53,"options: { qs: { branch } },","options: { searchParams: { branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,codeclimate-common.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/codeclimate/codeclimate-common.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/codeclimate/codeclimate-common.js,"@@ -34,7 +34,7 @@ async function fetchRepo(serviceInstance, { user, repo }) {
   } = await serviceInstance._requestJson({
     schema: repoSchema,
     url: 'https://api.codeclimate.com/v1/repos',
-    options: { qs: { github_slug: `${user}/${repo}` } },
+    options: { searchParams: { github_slug: `${user}/${repo}` } },
   })
   if (repoInfo === undefined) {
     throw new NotFound({ prettyMessage: 'repo not found' })
",37,"options: { qs: { github_slug: `${user}/${repo}` } },","options: { searchParams: { github_slug: `${user}/${repo}` } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,codecov.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/codecov/codecov.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/codecov/codecov.service.js,"@@ -151,7 +151,7 @@ export default class Codecov extends BaseSvgScrapingService {
       valueMatcher: svgValueMatcher,
       url,
       options: {
-        qs: { token, flag },
+        searchParams: { token, flag },
       },
       errorMessages: token ? { 400: 'invalid token pattern' } : {},
     })
",154,"qs: { token, flag },","searchParams: { token, flag },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,codeship.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/codeship/codeship.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/codeship/codeship.service.js,"@@ -60,7 +60,7 @@ export default class Codeship extends BaseSvgScrapingService {
     return this._requestSvg({
       schema,
       url,
-      options: { qs: { branch } },
+      options: { searchParams: { branch } },
       valueMatcher: /<g id=""status_2"">(?:[.\s\S]*)\/><\/g><g id=""([\w\s]*)""/,
     })
   }
",63,"options: { qs: { branch } },","options: { searchParams: { branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,coveralls.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/coveralls/coveralls.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/coveralls/coveralls.service.js,"@@ -48,7 +48,7 @@ export default class Coveralls extends BaseJsonService {
       vcsType || 'github'
     }/${user}/${repo}.json`
     const options = {
-      qs: {
+      searchParams: {
         // The API returns the latest result (across any branch) if no branch is explicitly specified,
         // whereas the Coveralls native badge (and the Shields.io badges for Coveralls) show
         // the coverage for the default branch if no branch is explicitly specified. If the user
",51,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,debian.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/debian/debian.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/debian/debian.service.js,"@@ -38,7 +38,7 @@ export default class Debian extends BaseJsonService {
       schema,
       url: 'https://api.ftp-master.debian.org/madison',
       options: {
-        qs: {
+        searchParams: {
           f: 'json',
           s: distribution,
           package: packageName,
",41,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,docker-cloud-common-fetch.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/docker/docker-cloud-common-fetch.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/docker/docker-cloud-common-fetch.js,"@@ -15,7 +15,7 @@ async function fetchBuild(serviceInstance, { user, repo }) {
   return serviceInstance._requestJson({
     schema: cloudBuildSchema,
     url: `https://cloud.docker.com/api/build/v1/source`,
-    options: { qs: { image: `${user}/${repo}` } },
+    options: { searchParams: { image: `${user}/${repo}` } },
     errorMessages: { 404: 'repo not found' },
   })
 }
",18,"options: { qs: { image: `${user}/${repo}` } },","options: { searchParams: { image: `${user}/${repo}` } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,drone-build.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/drone/drone-build.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/drone/drone-build.service.js,"@@ -73,7 +73,7 @@ export default class DroneBuild extends BaseJsonService {
         schema,
         url: `${server}/api/repos/${user}/${repo}/builds/latest`,
         options: {
-          qs: { ref: branch ? `refs/heads/${branch}` : undefined },
+          searchParams: { ref: branch ? `refs/heads/${branch}` : undefined },
         },
         errorMessages: {
           401: 'repo not found or not authorized',
",76,"qs: { ref: branch ? `refs/heads/${branch}` : undefined },","searchParams: { ref: branch ? `refs/heads/${branch}` : undefined },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,endpoint-common.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/endpoint-common.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/endpoint-common.js,"@@ -64,7 +64,7 @@ async function fetchEndpointData(
     schema: anySchema,
     url,
     errorMessages,
-    options: { gzip: true },
+    options: { decompress: true },
   })
   return validateEndpointData(json, {
     prettyErrorMessage: validationPrettyErrorMessage,
",67,"options: { gzip: true },","options: { decompress: true },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,freecodecamp-points.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/freecodecamp/freecodecamp-points.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/freecodecamp/freecodecamp-points.service.js,"@@ -48,7 +48,7 @@ export default class FreeCodeCampPoints extends BaseJsonService {
       schema,
       url: `https://api.freecodecamp.org/api/users/get-public-profile`,
       options: {
-        qs: {
+        searchParams: {
           username,
         },
       },
",51,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,github-common-fetch.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/github/github-common-fetch.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/github/github-common-fetch.js,"@@ -33,7 +33,7 @@ async function fetchRepoContent(
     const { content } = await serviceInstance._requestJson({
       schema: contentSchema,
       url: `/repos/${user}/${repo}/contents/${filename}`,
-      options: { qs: { ref: branch } },
+      options: { searchParams: { ref: branch } },
       errorMessages,
     })
 
",36,"options: { qs: { ref: branch } },","options: { searchParams: { ref: branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,github-contributors.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/github/github-contributors.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/github/github-contributors.service.js,"@@ -38,7 +38,7 @@ export default class GithubContributors extends GithubAuthV3Service {
 
     const { res, buffer } = await this._request({
       url: `/repos/${user}/${repo}/contributors`,
-      options: { qs: { page: '1', per_page: '1', anon: isAnon } },
+      options: { searchParams: { page: '1', per_page: '1', anon: isAnon } },
       errorMessages: errorMessagesFor('repo not found'),
     })
 
",41,"options: { qs: { page: '1', per_page: '1', anon: isAnon } },","options: { searchParams: { page: '1', per_page: '1', anon: isAnon } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,github-downloads.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/github/github-downloads.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/github/github-downloads.service.js,"@@ -240,7 +240,7 @@ export default class GithubDownloads extends GithubAuthV3Service {
       const allReleases = await this._requestJson({
         schema: releaseArraySchema,
         url: `/repos/${user}/${repo}/releases`,
-        options: { qs: { per_page: 500 } },
+        options: { searchParams: { per_page: 500 } },
         errorMessages: errorMessagesFor('repo not found'),
       })
       releases = allReleases
",243,"options: { qs: { per_page: 500 } },","options: { searchParams: { per_page: 500 } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,github-last-commit.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/github/github-last-commit.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/github/github-last-commit.service.js,"@@ -59,7 +59,7 @@ export default class GithubLastCommit extends GithubAuthV3Service {
   async fetch({ user, repo, branch }) {
     return this._requestJson({
       url: `/repos/${user}/${repo}/commits`,
-      options: { qs: { sha: branch } },
+      options: { searchParams: { sha: branch } },
       schema,
       errorMessages: errorMessagesFor(),
     })
",62,"options: { qs: { sha: branch } },","options: { searchParams: { sha: branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,github-search.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/github/github-search.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/github/github-search.service.js,"@@ -44,7 +44,7 @@ export default class GithubSearch extends GithubAuthV3Service {
     const { total_count: totalCount } = await this._requestJson({
       url: '/search/code',
       options: {
-        qs: {
+        searchParams: {
           q: `${query} repo:${user}/${repo}`,
         },
       },
",47,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,github-workflow-status.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/github/github-workflow-status.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/github/github-workflow-status.service.js,"@@ -83,7 +83,7 @@ export default class GithubWorkflowStatus extends BaseSvgScrapingService {
       url: `https://github.com/${user}/${repo}/workflows/${encodeURIComponent(
         workflow
       )}/badge.svg`,
-      options: { qs: { branch, event } },
+      options: { searchParams: { branch, event } },
       valueMatcher: />([^<>]+)<\/tspan><\/text><\/g><path/,
       errorMessages: {
         404: 'repo, branch, or workflow not found',
",86,"options: { qs: { branch, event } },","options: { searchParams: { branch, event } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,gitlab-release.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/gitlab/gitlab-release.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/gitlab/gitlab-release.service.js,"@@ -106,7 +106,7 @@ export default class GitLabRelease extends GitLabBase {
         404: 'project not found',
       },
       options: {
-        qs: { order_by: orderBy },
+        searchParams: { order_by: orderBy },
       },
       firstPageOnly: !isSemver,
     })
",109,"qs: { order_by: orderBy },","searchParams: { order_by: orderBy },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,gitlab-tag.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/gitlab/gitlab-tag.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/gitlab/gitlab-tag.service.js,"@@ -95,7 +95,7 @@ export default class GitlabTag extends GitLabBase {
       url: `${baseUrl}/api/v4/projects/${encodeURIComponent(
         project
       )}/repository/tags`,
-      options: { qs: { order_by: 'updated' } },
+      options: { searchParams: { order_by: 'updated' } },
       errorMessages: {
         404: 'repo not found',
       },
",98,"options: { qs: { order_by: 'updated' } },","options: { searchParams: { order_by: 'updated' } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,hsts.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/hsts/hsts.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/hsts/hsts.service.js,"@@ -56,7 +56,7 @@ export default class HSTS extends BaseJsonService {
     return this._requestJson({
       schema,
       url: `https://hstspreload.org/api/v2/status`,
-      options: { qs: { domain } },
+      options: { searchParams: { domain } },
     })
   }
 
",59,"options: { qs: { domain } },","options: { searchParams: { domain } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,jenkins-build.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/jenkins/jenkins-build.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/jenkins/jenkins-build.service.js,"@@ -72,7 +72,7 @@ export default class JenkinsBuild extends JenkinsBase {
     const json = await this.fetch({
       url: buildUrl({ jobUrl, lastCompletedBuild: false }),
       schema,
-      qs: buildTreeParamQueryString('color'),
+      searchParams: buildTreeParamQueryString('color'),
     })
     const { status } = this.transform({ json })
     return this.constructor.render({ status })
",75,"qs: buildTreeParamQueryString('color'),","searchParams: buildTreeParamQueryString('color'),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,jenkins-coverage.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/jenkins/jenkins-coverage.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/jenkins/jenkins-coverage.service.js,"@@ -118,7 +118,7 @@ export default class JenkinsCoverage extends JenkinsBase {
     const json = await this.fetch({
       url: buildUrl({ jobUrl, plugin: pluginSpecificPath }),
       schema,
-      qs: buildTreeParamQueryString(treeQueryParam),
+      searchParams: buildTreeParamQueryString(treeQueryParam),
       errorMessages: {
         404: 'job or coverage not found',
       },
",121,"qs: buildTreeParamQueryString(treeQueryParam),","searchParams: buildTreeParamQueryString(treeQueryParam),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,jira-sprint.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/jira/jira-sprint.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/jira/jira-sprint.service.js,"@@ -86,7 +86,7 @@ export default class JiraSprint extends BaseJsonService {
         url: `${baseUrl}/rest/api/2/search`,
         schema,
         options: {
-          qs: {
+          searchParams: {
             jql: `sprint=${sprintId} AND type IN (Bug,Improvement,Story,""Technical task"")`,
             fields: 'resolution',
             maxResults: 500,
",89,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,keybase-btc.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/keybase/keybase-btc.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/keybase/keybase-btc.service.js,"@@ -58,7 +58,7 @@ export default class KeybaseBTC extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      qs: {
+      searchParams: {
         usernames: username,
         fields: 'cryptocurrency_addresses',
       },
",61,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,keybase-pgp.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/keybase/keybase-pgp.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/keybase/keybase-pgp.service.js,"@@ -51,7 +51,7 @@ export default class KeybasePGP extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      qs: {
+      searchParams: {
         usernames: username,
         fields: 'public_keys',
       },
",54,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,keybase-xlm.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/keybase/keybase-xlm.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/keybase/keybase-xlm.service.js,"@@ -56,7 +56,7 @@ export default class KeybaseXLM extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      qs: {
+      searchParams: {
         usernames: username,
         fields: 'stellar',
       },
",59,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,keybase-zec.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/keybase/keybase-zec.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/keybase/keybase-zec.service.js,"@@ -58,7 +58,7 @@ export default class KeybaseZEC extends KeybaseProfile {
 
   async handle({ username }) {
     const options = {
-      qs: {
+      searchParams: {
         usernames: username,
         fields: 'cryptocurrency_addresses',
       },
",61,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,localizely.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/localizely/localizely.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/localizely/localizely.service.js,"@@ -108,7 +108,7 @@ export default class Localizely extends BaseJsonService {
       schema,
       url: `https://api.localizely.com/v1/projects/${projectId}/status`,
       options: {
-        qs: { branch },
+        searchParams: { branch },
         headers: { 'X-Api-Token': apiToken },
       },
       errorMessages: {
",111,"qs: { branch },","searchParams: { branch },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,mozilla-observatory.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/mozilla-observatory/mozilla-observatory.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/mozilla-observatory/mozilla-observatory.service.js,"@@ -102,7 +102,7 @@ export default class MozillaObservatory extends BaseJsonService {
       url: `https://http-observatory.security.mozilla.org/api/v1/analyze`,
       options: {
         method: 'POST',
-        qs: { host },
+        searchParams: { host },
         form: { hidden: !publish },
       },
     })
",105,"qs: { host },","searchParams: { host },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,nodeping-status.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/nodeping/nodeping-status.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/nodeping/nodeping-status.service.js,"@@ -40,7 +40,7 @@ export default class NodePingStatus extends BaseJsonService {
       schema,
       url: `https://nodeping.com/reports/results/${checkUuid}/1`,
       options: {
-        qs: { format: 'json' },
+        searchParams: { format: 'json' },
         headers: {
           'cache-control': 'no-cache',
         },
",43,"qs: { format: 'json' },","searchParams: { format: 'json' },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,nuget-v3-service-family.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/nuget/nuget-v3-service-family.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/nuget/nuget-v3-service-family.js,"@@ -78,7 +78,7 @@ async function fetch(
     schema,
     url: await searchServiceUrl(baseUrl, 'SearchQueryService'),
     options: {
-      qs: {
+      searchParams: {
         q: `packageid:${encodeURIComponent(packageName.toLowerCase())}`,
         // Include prerelease versions.
         prerelease: 'true',
",81,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,opm-version.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/opm/opm-version.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/opm/opm-version.service.js,"@@ -29,7 +29,7 @@ export default class OpmVersion extends BaseService {
       url: `https://opm.openresty.org/api/pkg/fetch`,
       options: {
         method: 'HEAD',
-        qs: {
+        searchParams: {
           account: user,
           name: moduleName,
         },
",32,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,requires.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/requires/requires.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/requires/requires.service.js,"@@ -54,7 +54,7 @@ export default class RequiresIo extends BaseJsonService {
     return this._requestJson({
       url,
       schema: statusSchema,
-      options: { qs: { branch } },
+      options: { searchParams: { branch } },
     })
   }
 
",57,"options: { qs: { branch } },","options: { searchParams: { branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,security-headers.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/security-headers/security-headers.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/security-headers/security-headers.service.js,"@@ -75,7 +75,7 @@ export default class SecurityHeaders extends BaseService {
       url: `https://securityheaders.com`,
       options: {
         method: 'HEAD',
-        qs: {
+        searchParams: {
           q: url,
           hide: 'on',
           followRedirects: ignoreRedirects !== undefined ? null : 'on',
",78,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,sourceforge.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/sourceforge/sourceforge.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/sourceforge/sourceforge.service.js,"@@ -81,7 +81,7 @@ export default class Sourceforge extends BaseJsonService {
     const endDate = moment().subtract(24, 'hours')
     const startDate = intervalMap[interval].startDate(endDate)
     const options = {
-      qs: {
+      searchParams: {
         start_date: startDate.format('YYYY-MM-DD'),
         end_date: endDate.format('YYYY-MM-DD'),
       },
",84,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,stackexchange-reputation.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/stackexchange/stackexchange-reputation.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/stackexchange/stackexchange-reputation.service.js,"@@ -53,7 +53,7 @@ export default class StackExchangeReputation extends BaseJsonService {
 
     const parsedData = await this._requestJson({
       schema: reputationSchema,
-      options: { gzip: true, qs: { site: stackexchangesite } },
+      options: { decompress: true, searchParams: { site: stackexchangesite } },
       url: `https://api.stackexchange.com/2.2/${path}`,
       errorMessages: {
         400: 'invalid parameters',
",56,"options: { gzip: true, qs: { site: stackexchangesite } },","options: { decompress: true, searchParams: { site: stackexchangesite } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,stackexchange-taginfo.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/stackexchange/stackexchange-taginfo.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/stackexchange/stackexchange-taginfo.service.js,"@@ -50,7 +50,7 @@ export default class StackExchangeQuestions extends BaseJsonService {
 
     const parsedData = await this._requestJson({
       schema: tagSchema,
-      options: { gzip: true, qs: { site: stackexchangesite } },
+      options: { decompress: true, searchParams: { site: stackexchangesite } },
       url: `https://api.stackexchange.com/2.2/${path}`,
     })
 
",53,"options: { gzip: true, qs: { site: stackexchangesite } },","options: { decompress: true, searchParams: { site: stackexchangesite } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,swagger.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/swagger/swagger.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/swagger/swagger.service.js,"@@ -55,7 +55,7 @@ export default class SwaggerValidatorService extends BaseJsonService {
       url: 'http://validator.swagger.io/validator/debug',
       schema,
       options: {
-        qs: {
+        searchParams: {
           url: specUrl,
         },
       },
",58,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,travis-build.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/travis/travis-build.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/travis/travis-build.service.js,"@@ -78,7 +78,7 @@ export default class TravisBuild extends BaseSvgScrapingService {
     const { message: status } = await this._requestSvg({
       schema,
       url: `https://api.travis-ci.${domain}/${userRepo}.svg`,
-      options: { qs: { branch } },
+      options: { searchParams: { branch } },
       valueMatcher: />([^<>]+)<\/text><\/g>/,
     })
 
",81,"options: { qs: { branch } },","options: { searchParams: { branch } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,treeware-trees.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/treeware/treeware-trees.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/treeware/treeware-trees.service.js,"@@ -38,7 +38,7 @@ export default class TreewareTrees extends BaseJsonService {
       url,
       schema: apiSchema,
       options: {
-        qs: { ref: reference },
+        searchParams: { ref: reference },
       },
     })
   }
",41,"qs: { ref: reference },","searchParams: { ref: reference },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,twitch-base.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/twitch/twitch-base.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/twitch/twitch-base.js,"@@ -42,7 +42,7 @@ export default class TwitchBase extends BaseJsonService {
           url: `https://id.twitch.tv/oauth2/token`,
           options: {
             method: 'POST',
-            qs: {
+            searchParams: {
               grant_type: 'client_credentials',
             },
           },
",45,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,twitch-extension-version.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/twitch/twitch-extension-version.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/twitch/twitch-extension-version.service.js,"@@ -36,7 +36,7 @@ export default class TwitchExtensionVersion extends TwitchBase {
       schema: helixSchema,
       url: `https://api.twitch.tv/helix/extensions/released`,
       options: {
-        qs: { extension_id: extensionId },
+        searchParams: { extension_id: extensionId },
       },
     })
 
",39,"qs: { extension_id: extensionId },","searchParams: { extension_id: extensionId },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,twitch.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/twitch/twitch.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/twitch/twitch.service.js,"@@ -53,7 +53,7 @@ export default class TwitchStatus extends TwitchBase {
       schema: helixSchema,
       url: `https://api.twitch.tv/helix/streams`,
       options: {
-        qs: { user_login: user },
+        searchParams: { user_login: user },
       },
     })
 
",56,"qs: { user_login: user },","searchParams: { user_login: user },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,twitter.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/twitter/twitter.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/twitter/twitter.service.js,"@@ -100,7 +100,7 @@ class TwitterFollow extends BaseJsonService {
     return this._requestJson({
       schema,
       url: `http://cdn.syndication.twimg.com/widgets/followbutton/info.json`,
-      options: { qs: { screen_names: user } },
+      options: { searchParams: { screen_names: user } },
     })
   }
 
",103,"options: { qs: { screen_names: user } },","options: { searchParams: { screen_names: user } },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,ubuntu.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/ubuntu/ubuntu.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/ubuntu/ubuntu.service.js,"@@ -44,7 +44,7 @@ export default class Ubuntu extends BaseJsonService {
       schema,
       url: 'https://api.launchpad.net/1.0/ubuntu/+archive/primary',
       options: {
-        qs: {
+        searchParams: {
           'ws.op': 'getPublishedSources',
           exact_match: 'true',
           order_by_date: 'true',
",47,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,vaadin-directory-base.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/vaadin-directory/vaadin-directory-base.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/vaadin-directory/vaadin-directory-base.js,"@@ -18,7 +18,7 @@ class BaseVaadinDirectoryService extends BaseJsonService {
       schema,
       url: `https://vaadin.com/vaadincom/directory-service/components/search/findByUrlIdentifier`,
       options: {
-        qs: {
+        searchParams: {
           projection: 'summary',
           urlIdentifier: packageName,
         },
",21,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,w3c-validation.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/w3c/w3c-validation.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/w3c/w3c-validation.service.js,"@@ -67,7 +67,7 @@ export default class W3cValidation extends BaseJsonService {
       url: 'https://validator.nu/',
       schema,
       options: {
-        qs: {
+        searchParams: {
           schema: getSchema(preset),
           parser: parser === 'default' ? undefined : parser,
           doc: encodeURI(targetUrl),
",70,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,wikiapiary-installs.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/wikiapiary/wikiapiary-installs.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/wikiapiary/wikiapiary-installs.service.js,"@@ -77,7 +77,7 @@ export default class WikiapiaryInstalls extends BaseJsonService {
       schema,
       url: `https://wikiapiary.com/w/api.php`,
       options: {
-        qs: {
+        searchParams: {
           action: 'ask',
           query: `[[${variant}:${name}]]|?Has_website_count`,
           format: 'json',
",80,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,wordpress-base.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/wordpress/wordpress-base.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/wordpress/wordpress-base.js,"@@ -75,7 +75,7 @@ export default class BaseWordpress extends BaseJsonService {
       url,
       schema: schemas,
       options: {
-        qs: queryString,
+        searchParams: queryString,
       },
     })
     if ('error' in json) {
",78,"qs: queryString,","searchParams: queryString,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,wordpress-downloads.service.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/wordpress/wordpress-downloads.service.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/wordpress/wordpress-downloads.service.js,"@@ -85,7 +85,7 @@ function DownloadsForExtensionType(extensionType) {
           schema: dateSchema,
           url: `https://api.wordpress.org/stats/${extType}/1.0/downloads.php`,
           options: {
-            qs: {
+            searchParams: {
               slug,
               limit,
             },
",88,qs: {,searchParams: {
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c73072deed8eb6a5b9f51a06377f5f396ef21842,c73072deed8eb6a5b9f51a06377f5f396ef21842,"Remove requestOptions2GotOptions compatibility layer (#7270)

* gzip --> decompress

* strictSSL --> https.rejectUnauthorized

* auth --> username/password

* qs --> searchParams

* fix base service auth docs

* completely remove requestOptions2GotOptions layer

* update the docs

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-11-15 19:56:08+00:00,youtube-base.js,https://github.com/badges/shields/raw/42b0033bc82da5202eb5f259d84aa6cc55b67379/services/youtube/youtube-base.js,https://github.com/badges/shields/raw/c73072deed8eb6a5b9f51a06377f5f396ef21842/services/youtube/youtube-base.js,"@@ -62,7 +62,7 @@ class YouTubeBase extends BaseJsonService {
           schema,
           url: `https://www.googleapis.com/youtube/v3/${this.constructor.type}s`,
           options: {
-            qs: { id, part: 'statistics' },
+            searchParams: { id, part: 'statistics' },
           },
         }
       )
",65,"qs: { id, part: 'statistics' },","searchParams: { id, part: 'statistics' },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/015c39336b3d873dfbba6e612563098ee2f6c385,015c39336b3d873dfbba6e612563098ee2f6c385,"throw on unexpected keys in `expectBadge()` (#7354)

* throw on unexpected object keys

* fix docs.rs tests

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2021-12-10 21:26:41+00:00,docsrs.tester.js,https://github.com/badges/shields/raw/380a6e3b9f6a2a090b4378b5ef7d5498737058b3/services/docsrs/docsrs.tester.js,https://github.com/badges/shields/raw/015c39336b3d873dfbba6e612563098ee2f6c385/services/docsrs/docsrs.tester.js,"@@ -14,5 +14,5 @@ t.create('Getting latest version works')
   .get('/rand/latest.json')
   .expectBadge({
     label: 'docs',
-    messsage: Joi.allow('passing', 'failing'),
+    message: Joi.allow('passing', 'failing'),
   })
",17,"messsage: Joi.allow('passing', 'failing'),","message: Joi.allow('passing', 'failing'),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/0f288a42fc0d770958f89b84ba40e39ff9aeadeb,0f288a42fc0d770958f89b84ba40e39ff9aeadeb,"chore(deps): bump got from 11.8.3 to 12.0.1 (#7370)

* chore(deps): bump got from 11.8.3 to 12.0.1
* update limit syntax
* update CancelError import
* update timeout syntax
* set missing user/pass to empty string for basic auth
* fix opm badge

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: chris48s <chris.shaw480@gmail.com>
Co-authored-by: chris48s <chris48s@users.noreply.github.com>",2022-01-29 20:04:11+00:00,influx-metrics.js,https://github.com/badges/shields/raw/a682ff400af69d75cebb90284f1f6ecf9435f1d4/core/server/influx-metrics.js,https://github.com/badges/shields/raw/0f288a42fc0d770958f89b84ba40e39ff9aeadeb/core/server/influx-metrics.js,"@@ -16,7 +16,7 @@ export default class InfluxMetrics {
       url: this._config.url,
       headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
       body: await this.metrics(),
-      timeout: this._config.timeoutMillseconds,
+      timeout: { request: this._config.timeoutMillseconds },
       username: this._config.username,
       password: this._config.password,
       throwHttpErrors: false,
",19,"timeout: this._config.timeoutMillseconds,","timeout: { request: this._config.timeoutMillseconds },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/f2d88e76fb8e576cdc0134b6032c9a25227bd903,f2d88e76fb8e576cdc0134b6032c9a25227bd903,"chore(deps): bump fast-xml-parser from 3.21.1 to 4.0.1

* chore(deps): bump fast-xml-parser from 3.21.1 to 4.0.1
* update for fast-xml-parser v4
* fix maven and jetbrains badges

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: chris48s <chris.shaw480@gmail.com>
Co-authored-by: chris48s <chris48s@users.noreply.github.com>",2022-01-29 20:10:07+00:00,jetbrains-base.js,https://github.com/badges/shields/raw/0f288a42fc0d770958f89b84ba40e39ff9aeadeb/services/jetbrains/jetbrains-base.js,https://github.com/badges/shields/raw/f2d88e76fb8e576cdc0134b6032c9a25227bd903/services/jetbrains/jetbrains-base.js,"@@ -35,7 +35,7 @@ export default class JetbrainsBase extends BaseXmlService {
 
   async fetchIntelliJPluginData({ pluginId, schema }) {
     const parserOptions = {
-      parseNodeValue: false,
+      parseTagValue: false,
       ignoreAttributes: false,
     }
     return this._requestXml({
",38,"parseNodeValue: false,","parseTagValue: false,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/f2d88e76fb8e576cdc0134b6032c9a25227bd903,f2d88e76fb8e576cdc0134b6032c9a25227bd903,"chore(deps): bump fast-xml-parser from 3.21.1 to 4.0.1

* chore(deps): bump fast-xml-parser from 3.21.1 to 4.0.1
* update for fast-xml-parser v4
* fix maven and jetbrains badges

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: chris48s <chris.shaw480@gmail.com>
Co-authored-by: chris48s <chris48s@users.noreply.github.com>",2022-01-29 20:10:07+00:00,maven-metadata.service.js,https://github.com/badges/shields/raw/0f288a42fc0d770958f89b84ba40e39ff9aeadeb/services/maven-metadata/maven-metadata.service.js,https://github.com/badges/shields/raw/f2d88e76fb8e576cdc0134b6032c9a25227bd903/services/maven-metadata/maven-metadata.service.js,"@@ -52,7 +52,7 @@ export default class MavenMetadata extends BaseXmlService {
     return this._requestXml({
       schema,
       url: metadataUrl,
-      parserOptions: { parseNodeValue: false },
+      parserOptions: { parseTagValue: false },
     })
   }
 
",55,"parserOptions: { parseNodeValue: false },","parserOptions: { parseTagValue: false },"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ec1ff376a5261f66a137d28967d0becb96ce502f,ec1ff376a5261f66a137d28967d0becb96ce502f,fix: display greasy fork dd correctly (#8088),2022-06-16 19:09:31+00:00,greasyfork-downloads.service.js,https://github.com/badges/shields/raw/8f7164f96bcdb097c310797974541b45d33ed58c/services/greasyfork/greasyfork-downloads.service.js,https://github.com/badges/shields/raw/ec1ff376a5261f66a137d28967d0becb96ce502f/services/greasyfork/greasyfork-downloads.service.js,"@@ -10,7 +10,7 @@ export default class GreasyForkInstalls extends BaseGreasyForkService {
       title: 'Greasy Fork',
       pattern: 'dd/:scriptId',
       namedParams: { scriptId: '407466' },
-      staticPreview: renderDownloadsBadge({ downloads: 17 }),
+      staticPreview: renderDownloadsBadge({ downloads: 17, interval: 'day' }),
     },
     {
       title: 'Greasy Fork',
",13,"staticPreview: renderDownloadsBadge({ downloads: 17 }),","staticPreview: renderDownloadsBadge({ downloads: 17, interval: 'day' }),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/3c6ca5d59cd731bf664ab5abe22505048bb2b620,3c6ca5d59cd731bf664ab5abe22505048bb2b620,"fix [gitlab] auth (#8145)

* fix(gitlab): use oauth header, add private repo test

* tests(gitlab): fix nock header match on unit test",2022-07-01 16:42:09-05:00,gitlab-base.js,https://github.com/badges/shields/raw/0ceb558bb4262b22f9e089d5935c3f926a4f28c8/services/gitlab/gitlab-base.js,https://github.com/badges/shields/raw/3c6ca5d59cd731bf664ab5abe22505048bb2b620/services/gitlab/gitlab-base.js,"@@ -8,7 +8,7 @@ export default class GitLabBase extends BaseJsonService {
 
   async fetch({ url, options, schema, errorMessages }) {
     return this._requestJson(
-      this.authHelper.withBasicAuth({
+      this.authHelper.withBearerAuthHeader({
         schema,
         url,
         options,
",11,this.authHelper.withBasicAuth({,this.authHelper.withBearerAuthHeader({
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/3c6ca5d59cd731bf664ab5abe22505048bb2b620,3c6ca5d59cd731bf664ab5abe22505048bb2b620,"fix [gitlab] auth (#8145)

* fix(gitlab): use oauth header, add private repo test

* tests(gitlab): fix nock header match on unit test",2022-07-01 16:42:09-05:00,gitlab-tag.spec.js,https://github.com/badges/shields/raw/0ceb558bb4262b22f9e089d5935c3f926a4f28c8/services/gitlab/gitlab-tag.spec.js,https://github.com/badges/shields/raw/3c6ca5d59cd731bf664ab5abe22505048bb2b620/services/gitlab/gitlab-tag.spec.js,"@@ -26,7 +26,7 @@ describe('GitLabTag', function () {
         .get('/api/v4/projects/foo%2Fbar/repository/tags?order_by=updated')
         // This ensures that the expected credentials are actually being sent with the HTTP request.
         // Without this the request wouldn't match and the test would fail.
-        .basicAuth({ user: '', pass: fakeToken })
+        .matchHeader('Authorization', `Bearer ${fakeToken}`)
         .reply(200, [{ name: '1.9' }])
 
       expect(
",29,".basicAuth({ user: '', pass: fakeToken })",".matchHeader('Authorization', `Bearer ${fakeToken}`)"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/93fa955dde5bc2f8d50139c519816043a7bd7a79,93fa955dde5bc2f8d50139c519816043a7bd7a79,"[Packagist] dependency version (#8371)

* happy path is done: packagist depenency version is returned for dependencyVendor and dependencyRepo

* changes in error handling in packagist dependency version service

* Move to packagist-base common parts of packagist-php and packagist-dep-ver

* the label now shows the name of the dependency

* add comments,slightly modify if statement

* fix unit tests in  services/packagist/packagist-php-version.spec.js

* add unit tests for services/packagist/packagist-dependency-version.js

* service tests for packagist-dependency-version.service.js are in progress

* Add additional service tests for packagist-dependency-version.tester.js

* remove toLowerCase()

* resolve from lgtm: 1 for Wrong use of 'this' for static method

* DRY determining the name of the dependency (depVen/depRepo)

* url change in strategy is in progress

* basic examples of packagist/dependency-v work with new url; packagist/php-v redirects to the new url

* service tests should be green

* unit tests for packagist should be fixed

* add toLowerCase()

* part of suggestions from the PR is implemented

* updated tests for packagist dependency version

* fix packagist dependency version spec

* add missing unit tests

* Update services/packagist/packagist-dependency-version.spec.js

Co-authored-by: chris48s <chris48s@users.noreply.github.com>

* Update services/packagist/packagist-dependency-version.spec.js

Co-authored-by: chris48s <chris48s@users.noreply.github.com>

Co-authored-by: chris48s <chris48s@users.noreply.github.com>",2022-09-14 21:12:09+01:00,test-validators.js,https://github.com/badges/shields/raw/e3c938b4d7b5fac0d468d4e463410c904a0b1db9/services/test-validators.js,https://github.com/badges/shields/raw/93fa955dde5bc2f8d50139c519816043a7bd7a79/services/test-validators.js,"@@ -43,7 +43,7 @@ const isVPlusDottedVersionNClausesWithOptionalSuffixAndEpoch = withRegex(
 // https://getcomposer.org/doc/04-schema.md#package-links
 // https://getcomposer.org/doc/04-schema.md#minimum-stability
 const isComposerVersion = withRegex(
-  /^\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?((\s*\|\|)?\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?)*\s*$/
+  /^\*|(\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?((\s*\|*)?\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?)*\s*)$/
 )
 
 // Regex for validate php-version.versionReduction()
",46,/^\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?((\s*\|\|)?\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?)*\s*$/,/^\*|(\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?((\s*\|*)?\s*(>=|>|<|<=|!=|\^|~)?\d+(\.(\*|(\d+(\.(\d+|\*))?)))?)*\s*)$/
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/cf6be05221c0bb0eecc7dab3106c6efca63641b7,cf6be05221c0bb0eecc7dab3106c6efca63641b7,"fix display/search of CII badge examples (#8473)

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2022-10-03 20:14:03+00:00,cii-best-practices.service.js,https://github.com/badges/shields/raw/17288eaee2f0833c0bfc9dcefdd9658f78df1180/services/cii-best-practices/cii-best-practices.service.js,https://github.com/badges/shields/raw/cf6be05221c0bb0eecc7dab3106c6efca63641b7/services/cii-best-practices/cii-best-practices.service.js,"@@ -35,7 +35,7 @@ export default class CIIBestPracticesService extends BaseJsonService {
     pattern: ':metric(level|percentage|summary)/:projectId',
   }
 
-  static exampless = [
+  static examples = [
     {
       title: 'CII Best Practices Level',
       pattern: 'level/:projectId',
",38,static exampless = [,static examples = [
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/bd6a04ba03a53e1f74d252ab775507c466d62df6,bd6a04ba03a53e1f74d252ab775507c466d62df6,"fix: Support WAITING status for GitHub deployments (#8521)

Fix ""invalid response data"" badge label for GitHub deployments pending approval.",2022-10-15 20:29:38+01:00,github-deployments.service.js,https://github.com/badges/shields/raw/cab87aa19d8989a4ab266e706d3c7f9be260e390/services/github/github-deployments.service.js,https://github.com/badges/shields/raw/bd6a04ba03a53e1f74d252ab775507c466d62df6/services/github/github-deployments.service.js,"@@ -7,7 +7,7 @@ import { documentation, transformErrors } from './github-helpers.js'
 const greenStates = ['SUCCESS']
 const redStates = ['ERROR', 'FAILURE']
 const blueStates = ['INACTIVE']
-const otherStates = ['IN_PROGRESS', 'QUEUED', 'PENDING', 'NO_STATUS']
+const otherStates = ['IN_PROGRESS', 'QUEUED', 'PENDING', 'NO_STATUS', 'WAITING']
 
 const stateToMessageMappings = {
   IN_PROGRESS: 'in progress',
",10,"const otherStates = ['IN_PROGRESS', 'QUEUED', 'PENDING', 'NO_STATUS']","const otherStates = ['IN_PROGRESS', 'QUEUED', 'PENDING', 'NO_STATUS', 'WAITING']"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/c2fe2ffa2ecb0de020d53275f8635250e8acb3aa,c2fe2ffa2ecb0de020d53275f8635250e8acb3aa,"documentation html fixes (#8887)

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2023-02-12 18:47:16+00:00,steam-workshop.service.js,https://github.com/badges/shields/raw/e5be1d6a1ca00d923485d7714d9a05a7b67f4caf/services/steam/steam-workshop.service.js,https://github.com/badges/shields/raw/c2fe2ffa2ecb0de020d53275f8635250e8acb3aa/services/steam/steam-workshop.service.js,"@@ -18,7 +18,7 @@ const documentation = `
 </p>
 <img
   src=""https://user-images.githubusercontent.com/7288322/46567027-27c83400-c987-11e8-9850-ab67d987202f.png""
-  alt=""Right-Click and 'Copy Page URL'"">
+  alt=""Right-Click and 'Copy Page URL'"" />
 `
 
 const steamCollectionSchema = Joi.object({
",21,"alt=""Right-Click and 'Copy Page URL'"">","alt=""Right-Click and 'Copy Page URL'"" />"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/6bb495ce533de700d538402a1cc4b3d9cbf43583,6bb495ce533de700d538402a1cc4b3d9cbf43583,fix TypeError: console.warning is not a function (#8930),2023-02-23 18:18:37+00:00,server.js,https://github.com/badges/shields/raw/091ccfdbcd28a4829ba80fe3a2d760f743f10e6f/server.js,https://github.com/badges/shields/raw/6bb495ce533de700d538402a1cc4b3d9cbf43583/server.js,"@@ -43,7 +43,7 @@ if (fs.existsSync('.env')) {
 }
 
 if (config.private.redis_url != null) {
-  console.warning(
+  console.warn(
     'RedisTokenPersistence is deprecated for token pooling and will be removed in a future release. Migrate to SqlTokenPersistence'
   )
 }
",46,console.warning(,console.warn(
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/26bf69cfe741c5800fb6c634563150275448f22d,26bf69cfe741c5800fb6c634563150275448f22d,"misc minor fixes to [githubsize node pypi] (#8946)

* fix some params incorrectly marked as optional

all of these are really required

* make '@' part of the param (not route) for scoped packages

* minor HTML tweaks to sonar help

---------

Co-authored-by: repo-ranger[bot] <39074581+repo-ranger[bot]@users.noreply.github.com>",2023-03-01 20:24:41+00:00,pypi-framework-versions.service.js,https://github.com/badges/shields/raw/8a0af349b54016fe41428ba40eff1ce48f237661/services/pypi/pypi-framework-versions.service.js,https://github.com/badges/shields/raw/26bf69cfe741c5800fb6c634563150275448f22d/services/pypi/pypi-framework-versions.service.js,"@@ -50,7 +50,7 @@ export default class PypiFrameworkVersion extends PypiBase {
     base: 'pypi/frameworkversions',
     pattern: `:frameworkName(${Object.keys(frameworkNameMap).join(
       '|'
-    )})/:packageName*`,
+    )})/:packageName+`,
   }
 
   static examples = [
",53,")})/:packageName*`,",")})/:packageName+`,"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/35dfd75ef5db5d8d4f53af6c922c8f7fd3e528fa,35dfd75ef5db5d8d4f53af6c922c8f7fd3e528fa,"Fix: [GithubCommitActivity] invalid branch error handling (#9258)

* Fix error handling of bad branch in [GithubCommitActivity]

When GraphQL response with a bad repo it returns an error indicating the bad repo.
When GraphQL has the currect repo with a bad branch it will null inside the repo object without an error object.
The privouse commits seems to try and use that but due not allowing null in schema it did not work and an error due to bad schema would show insted.

This commit fixes this issue

* Add test for invalid branch in [GithubCommitActivity]

---------

Co-authored-by: jNullj <jNullj@users.noreply.github.com>",2023-06-14 20:53:48+01:00,github-commit-activity.service.js,https://github.com/badges/shields/raw/14892e3943a4677332618d8b9f584766f7940ee7/services/github/github-commit-activity.service.js,https://github.com/badges/shields/raw/35dfd75ef5db5d8d4f53af6c922c8f7fd3e528fa/services/github/github-commit-activity.service.js,"@@ -13,7 +13,7 @@ const schema = Joi.object({
         history: Joi.object({
           totalCount: nonNegativeInteger,
         }).required(),
-      }),
+      }).allow(null),
     }).required(),
   }).required(),
 }).required()
",16,"}),","}).allow(null),"
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/ef2649bd4b2c24f2ce6c611708b2f8a70c22524b,ef2649bd4b2c24f2ce6c611708b2f8a70c22524b,"chore(deps-dev): bump eslint-plugin-react from 7.32.2 to 7.33.0 (#9395)

* chore(deps-dev): bump eslint-plugin-react from 7.32.2 to 7.33.0

Bumps [eslint-plugin-react](https://github.com/jsx-eslint/eslint-plugin-react) from 7.32.2 to 7.33.0.
- [Release notes](https://github.com/jsx-eslint/eslint-plugin-react/releases)
- [Changelog](https://github.com/jsx-eslint/eslint-plugin-react/blob/master/CHANGELOG.md)
- [Commits](https://github.com/jsx-eslint/eslint-plugin-react/compare/v7.32.2...v7.33.0)

---
updated-dependencies:
- dependency-name: eslint-plugin-react
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

* fix for new lint rules

---------

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: chris48s <git@chris-shaw.dev>",2023-07-23 09:34:54+00:00,index.js,https://github.com/badges/shields/raw/d5c1bdc8ec7c5f59d4bb742f5df90757328f5a35/frontend/src/pages/index.js,https://github.com/badges/shields/raw/ef2649bd4b2c24f2ce6c611708b2f8a70c22524b/frontend/src/pages/index.js,"@@ -28,7 +28,7 @@ export default function Home() {
   return (
     <Layout
       description=""Concise, consistent, and legible badges""
-      title={`${siteConfig.title}`}
+      title={siteConfig.title}
     >
       <HomepageHeader />
       <main>
",31,title={`${siteConfig.title}`},title={siteConfig.title}
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/9874db78410764958cc5263ef21cbe94fcc8883c,9874db78410764958cc5263ef21cbe94fcc8883c,Fix several typos (#9658),2023-10-13 15:40:57+00:00,xml.js,https://github.com/badges/shields/raw/164209a4b1d6078161a3ead01a93d231cd0c38b2/badge-maker/lib/xml.js,https://github.com/badges/shields/raw/9874db78410764958cc5263ef21cbe94fcc8883c/badge-maker/lib/xml.js,"@@ -35,7 +35,7 @@ class XmlElement {
    *    Name of the XML tag
    * @param {Array.<string|module:badge-maker/lib/xml~XmlElement>} [attrs.content=[]]
    *    Array of objects to render inside the tag. content may contain a mix of
-   *    string and XmlElement objects. If content is `[]` or ommitted the
+   *    string and XmlElement objects. If content is `[]` or omitted the
    *    element will be rendered as a self-closing element.
    * @param {object} [attrs.attrs={}]
    *    Object representing the tag's attributes as name/value pairs
",38,*    string and XmlElement objects. If content is `[]` or ommitted the,*    string and XmlElement objects. If content is `[]` or omitted the
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/9874db78410764958cc5263ef21cbe94fcc8883c,9874db78410764958cc5263ef21cbe94fcc8883c,Fix several typos (#9658),2023-10-13 15:40:57+00:00,base-json.js,https://github.com/badges/shields/raw/164209a4b1d6078161a3ead01a93d231cd0c38b2/core/base-service/base-json.js,https://github.com/badges/shields/raw/9874db78410764958cc5263ef21cbe94fcc8883c/core/base-service/base-json.js,"@@ -14,7 +14,7 @@ class BaseJsonService extends BaseService {
   /**
    * Parse data from JSON endpoint
    *
-   * @param {string} buffer JSON repsonse from upstream API
+   * @param {string} buffer JSON response from upstream API
    * @returns {object} Parsed response
    */
   _parseJson(buffer) {
",17,* @param {string} buffer JSON repsonse from upstream API,* @param {string} buffer JSON response from upstream API
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/9874db78410764958cc5263ef21cbe94fcc8883c,9874db78410764958cc5263ef21cbe94fcc8883c,Fix several typos (#9658),2023-10-13 15:40:57+00:00,website-status.js,https://github.com/badges/shields/raw/164209a4b1d6078161a3ead01a93d231cd0c38b2/services/website-status.js,https://github.com/badges/shields/raw/9874db78410764958cc5263ef21cbe94fcc8883c/services/website-status.js,"@@ -8,7 +8,7 @@ import Joi from 'joi'
 
 /**
  * Joi schema for validating query params.
- * Checks if the query params obect has valid up_message, down_message, up_color and down_color properties.
+ * Checks if the query params object has valid up_message, down_message, up_color and down_color properties.
  *
  * @type {Joi}
  */
",11,"* Checks if the query params obect has valid up_message, down_message, up_color and down_color properties.","* Checks if the query params object has valid up_message, down_message, up_color and down_color properties."
shields,https://github.com/badges/shields,https://github.com/badges/shields/commit/5676ec5b815e292b48947d202caa1ed78d088ce5,5676ec5b815e292b48947d202caa1ed78d088ce5,Fix typo in queryParams documentation (#9840),2023-12-24 20:28:25+00:00,openapi.js,https://github.com/badges/shields/raw/86581e6dddb52241bf336e0e4495acdb2708c7b2/core/base-service/openapi.js,https://github.com/badges/shields/raw/5676ec5b815e292b48947d202caa1ed78d088ce5/core/base-service/openapi.js,"@@ -413,7 +413,7 @@ function queryParam({
  * ```
  * const params = [
  *   queryParam({ name: 'name1', example: 'example1' }),
- *   queryParams({ name: 'name2', example: 'example2' }),
+ *   queryParam({ name: 'name2', example: 'example2' }),
  * ]
  * ```
  *
",416,"*   queryParams({ name: 'name2', example: 'example2' }),","*   queryParam({ name: 'name2', example: 'example2' }),"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/b8ca477e05d317e9c7ab994395276c5741e8acaf,b8ca477e05d317e9c7ab994395276c5741e8acaf,Cleaned up modules + bugfixes,2013-04-15 08:57:31+02:00,movieindex.js,https://github.com/jansmolders86/mediacenterjs/raw/17f86f92881fef1b3f40a85ed91382c5f187076c/public/movies/data/movieindex.js,https://github.com/jansmolders86/mediacenterjs/raw/b8ca477e05d317e9c7ab994395276c5741e8acaf/public/movies/data/movieindex.js,"@@ -1,3 +1,3 @@
 [
-	""buried cd2.avi""
+
 ]
\ No newline at end of file
",2,"""buried cd2.avi""",
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/e4cf72e0d238c7dac3e6c7948f2175b1468bf137,e4cf72e0d238c7dac3e6c7948f2175b1468bf137,Fixed detail handeling,2013-04-18 13:44:54+02:00,movieindex.js,https://github.com/jansmolders86/mediacenterjs/raw/02cdcf6e3ff2b496685276316f38a27bd1c3750c/public/movies/data/movieindex.js,https://github.com/jansmolders86/mediacenterjs/raw/e4cf72e0d238c7dac3e6c7948f2175b1468bf137/public/movies/data/movieindex.js,"@@ -1,3 +1,3 @@
 [
-    ""buried.avi""
+
 ]
\ No newline at end of file
",2,"""buried.avi""",
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/de6db6ce7d2413a63c0e0835b41b7aceba567548,de6db6ce7d2413a63c0e0835b41b7aceba567548,"Better error handeling

Better error handeling, transcoding tweaks, settings redirect fixed",2013-05-01 22:01:18+02:00,index.js,https://github.com/jansmolders86/mediacenterjs/raw/29fad0c60f0f729bedf8ccf5f2b4aee356714f16/index.js,https://github.com/jansmolders86/mediacenterjs/raw/de6db6ce7d2413a63c0e0835b41b7aceba567548/index.js,"@@ -102,7 +102,7 @@ app.post('/setuppost', function(req, res){
 
 app.post('/submit', function(req, res){
 	writeSettings(req, res, function(){
-		res.render('/');
+		res.redirect('/');
 	});
 });
 
",105,res.render('/');,res.redirect('/');
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/4dd94d4b122ca02fd8c1146b57cc7a4614a0b131,4dd94d4b122ca02fd8c1146b57cc7a4614a0b131,Bug fixes,2013-05-02 13:14:44+02:00,movieindex.js,https://github.com/jansmolders86/mediacenterjs/raw/ae77906864535a8b6699ef24b1a2b8c3fbba118d/public/movies/data/movieindex.js,https://github.com/jansmolders86/mediacenterjs/raw/4dd94d4b122ca02fd8c1146b57cc7a4614a0b131/public/movies/data/movieindex.js,"@@ -1,3 +1,3 @@
 [
-
+    ""buried.avi""
 ]
\ No newline at end of file
",2,,"""buried.avi"""
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/3c91aa7cf28c53ec8984e3929300951083125d28,3c91aa7cf28c53ec8984e3929300951083125d28,Bug fixes,2013-05-22 22:21:34+02:00,index.js,https://github.com/jansmolders86/mediacenterjs/raw/0fb8a7c8a97ca64ca8c229119892b2cd200a51a6/apps/movies/index.js,https://github.com/jansmolders86/mediacenterjs/raw/3c91aa7cf28c53ec8984e3929300951083125d28/apps/movies/index.js,"@@ -69,7 +69,7 @@ exports.play = function(req, res){
 	var  proc = new ffmpeg({ source: configfileResults.moviepath + movieTitle, nolog: true, priority: 1, timeout:15000})
 		.toFormat('webm')
 		.withVideoBitrate('1024k')
-		.addOptions(['-flags', '-bufsize 2M', '-probesize 900000', '-analyzeduration 0' ])
+		.addOptions(['-probesize 900000', '-analyzeduration 0' ])
 		.writeToStream(res, function(retcode, error){
 		if (!error){
 			console.log('file has been converted succesfully',retcode);
",72,".addOptions(['-flags', '-bufsize 2M', '-probesize 900000', '-analyzeduration 0' ])",".addOptions(['-probesize 900000', '-analyzeduration 0' ])"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/f692c1e0ee8577b66448031968f2edaa143c8191,f692c1e0ee8577b66448031968f2edaa143c8191,Fixes for music player,2013-06-03 17:05:25+02:00,index.js,https://github.com/jansmolders86/mediacenterjs/raw/17e04cbff994554b5277aa4c5e54947b10f9d82d/apps/music/index.js,https://github.com/jansmolders86/mediacenterjs/raw/f692c1e0ee8577b66448031968f2edaa143c8191/apps/music/index.js,"@@ -67,8 +67,8 @@ exports.track = function(req, res, next){
 		var track = configfileResults.musicpath+encoder.htmlDecode(req.params.album)+'/'+decodeTrack
 	}
 	
+	console.log('Streaming track:',track)
 	var stat = fs.statSync(track)
-
 	res.writeHead(200, {
 		'Content-Type':'audio/mp3',
 		'Content-Length':stat.size
",70,"console.log('Streaming track:',track)",
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/514264a087b0e538a5cc44dece3052df74d0fe87,514264a087b0e538a5cc44dece3052df74d0fe87,Fixed several bugs,2013-06-05 17:44:52+02:00,helpers.js,https://github.com/jansmolders86/mediacenterjs/raw/06cedde0f5241342329dad50d2cd605e898cbd2e/lib/helpers.js,https://github.com/jansmolders86/mediacenterjs/raw/514264a087b0e538a5cc44dece3052df74d0fe87/lib/helpers.js,"@@ -34,7 +34,7 @@ module.exports = {
 						} else if (getDir === false) {
 							files.forEach(function(file){
 								if (file.match(fileTypes)){
-									var subFile = subdir+'^'+file
+									var subFile = 'subdir='+subdir+'&file='+file
 									allFiles.push(subFile);
 								}
 							});
",37,var subFile = subdir+'^'+file,var subFile = 'subdir='+subdir+'&file='+file
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/5a4ab304cc5c50b037fa8a17bb23985a989465ae,5a4ab304cc5c50b037fa8a17bb23985a989465ae,Bug fixes,2013-07-05 15:14:15+02:00,helpers.js,https://github.com/jansmolders86/mediacenterjs/raw/37e2477f5f95485b9794d45905586574af2bafcc/lib/helpers.js,https://github.com/jansmolders86/mediacenterjs/raw/5a4ab304cc5c50b037fa8a17bb23985a989465ae/lib/helpers.js,"@@ -75,7 +75,7 @@ module.exports = {
 				callback(body);
 			}else{
 				console.log('Helper: XHR Error',error .red);
-				setTimeout(function(){console.log('Helper: Waiting for retry...' .blue)},10000);
+				setTimeout(function(){console.log('Helper: Waiting for retry...' .yellow)},10000);
 			}
 		});
 	},
",78,"setTimeout(function(){console.log('Helper: Waiting for retry...' .blue)},10000);","setTimeout(function(){console.log('Helper: Waiting for retry...' .yellow)},10000);"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/dcf89ab559daa9abd23f974ad16ec950fa37aeea,dcf89ab559daa9abd23f974ad16ec950fa37aeea,Bug fix,2013-07-31 14:20:30+02:00,index.js,https://github.com/jansmolders86/mediacenterjs/raw/0b3cd5379c38d7de9abd38c7a7ad27a30598da26/index.js,https://github.com/jansmolders86/mediacenterjs/raw/dcf89ab559daa9abd23f974ad16ec950fa37aeea/index.js,"@@ -170,7 +170,7 @@ function writeSettings(req, res, callback){
 	config.location = req.body.location,
 	config.theme = themeName,	
 	config.screensaver = req.body.screensaver,
-	config.spotifyName = req.body.spotifyName,
+	config.spotifyUser= req.body.spotifyUser,
 	config.spotifyPass = req.body.spotifyPass,
 	config.port = req.body.port
 	
",173,"config.spotifyName = req.body.spotifyName,","config.spotifyUser= req.body.spotifyUser,"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/e5cb8c168f50b5ea67461d279e371496d46af211,e5cb8c168f50b5ea67461d279e371496d46af211,Fixed folder location bug,2013-08-16 12:40:13+02:00,movie-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/01aa2e01114e0d84ba3e45738367c609ff2d4497/apps/movies/movie-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/e5cb8c168f50b5ea67461d279e371496d46af211/apps/movies/movie-functions.js,"@@ -187,7 +187,7 @@ module.exports = {
 				, poster_url = ""http://cf2.imgobject.com/t/p/w342/""
 				, poster = poster_url+response.poster_path
 				, backdrop = backdrop_url+response.backdrop_path
-				, downloadDir = './public/movies/data/'+movieRequest;
+				, downloadDir = './public/movies/data/'+movieRequest+'/';
 				
 				if (fs.existsSync(downloadDir+response.poster_path) === true && fs.existsSync(downloadDir+response.backdrop_path) === true) {
 					return callback(poster,backdrop);
",190,", downloadDir = './public/movies/data/'+movieRequest;",", downloadDir = './public/movies/data/'+movieRequest+'/';"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/68ac6130eaabda27ef65c20dc7686e1b105569e8,68ac6130eaabda27ef65c20dc7686e1b105569e8,fixed translation,2013-10-02 21:09:06+02:00,frontend-translation_nl.js,https://github.com/jansmolders86/mediacenterjs/raw/7102cc7c7e68bdeb2e5f7f7bf606d40c21233098/public/translations/frontend-translation_nl.js,https://github.com/jansmolders86/mediacenterjs/raw/68ac6130eaabda27ef65c20dc7686e1b105569e8/public/translations/frontend-translation_nl.js,"@@ -5,7 +5,7 @@ weather_rain = regen
 weather_mist = mist
 weather_clear = helder
 weather_snow = sneeuw
-weather_storm = storm
+weather_storm = onweer
 feelsLike = Gevoelstemperatuur
 error_weather =  Kies een grotere stad.
 confirmMessage = Weet u zeker dat u dit wilt doen? Dit kan niet ongedaan worden gemaakt.
\ No newline at end of file
",8,weather_storm = storm,weather_storm = onweer
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/3f22473e539d1e8e7f4b050ff1756da2d1a1d855,3f22473e539d1e8e7f4b050ff1756da2d1a1d855,Fixed install and remove buttons,2013-10-16 08:55:20+02:00,index.js,https://github.com/jansmolders86/mediacenterjs/raw/5c901b27460a0e1f98435e86287025e89c343944/apps/plugins/index.js,https://github.com/jansmolders86/mediacenterjs/raw/3f22473e539d1e8e7f4b050ff1756da2d1a1d855/apps/plugins/index.js,"@@ -58,7 +58,7 @@ exports.get = function(req, res, next){
 				functions.uninstallPlugin(req, res, infoRequest);
 			break;	
 			case('install'):
-				functions.installPlugin(req,res);
+				functions.installPlugin(req,res, infoRequest);
 			break;		
 		}
 	}
",61,"functions.installPlugin(req,res);","functions.installPlugin(req,res, infoRequest);"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/9b2713785a40403945ad979dfe4e12ccb1be3807,9b2713785a40403945ad979dfe4e12ccb1be3807,Fixed path issue on Linux,2013-11-19 17:37:13+01:00,movie-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/dff014568d7f376b796bc79034c2eef64e013c98/apps/movies/movie-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/9b2713785a40403945ad979dfe4e12ccb1be3807/apps/movies/movie-functions.js,"@@ -38,7 +38,7 @@ exports.loadItems = function (req, res){
 				movieTitles = files[i].file;
 			}
 
-			movies.push(movieTitles);
+			movies.push(movieTitles.split(""/"").pop());
 		}
 
 		res.json(movies);
",41,movies.push(movieTitles);,"movies.push(movieTitles.split(""/"").pop());"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/9b2713785a40403945ad979dfe4e12ccb1be3807,9b2713785a40403945ad979dfe4e12ccb1be3807,Fixed path issue on Linux,2013-11-19 17:37:13+01:00,music-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/dff014568d7f376b796bc79034c2eef64e013c98/apps/music/music-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/9b2713785a40403945ad979dfe4e12ccb1be3807/apps/music/music-functions.js,"@@ -21,7 +21,7 @@ exports.loadItems = function(req, res){
                 albumTitles = files[i].file;
             }
             
-            albums.push(albumTitles);
+            albums.push(albumTitles.split(""/"").pop());
             unique[albumTitles] = 1;
         };
         
",24,albums.push(albumTitles);,"albums.push(albumTitles.split(""/"").pop());"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/a984b2fbc141435cfb8b9ea6d43c9b55f08319ca,a984b2fbc141435cfb8b9ea6d43c9b55f08319ca,Some fixes to the Weather App,2013-11-25 22:41:11+01:00,translation_de.js,https://github.com/jansmolders86/mediacenterjs/raw/2346d7779e11fee088dc0a97db2453064e9cc72c/public/translations/frontend/translation_de.js,https://github.com/jansmolders86/mediacenterjs/raw/a984b2fbc141435cfb8b9ea6d43c9b55f08319ca/public/translations/frontend/translation_de.js,"@@ -1,6 +1,6 @@
 succesMessage = Erfolgreich ausgeführt.
 weather_underground_languagecode = DL
-weather_cloudy = Wolkig
+weather_cloudy = Wolkig|Bedeckt
 weather_sunny = Sonnig
 weather_rain = Regen
 weather_mist = Nebel
",3,weather_cloudy = Wolkig,weather_cloudy = Wolkig|Bedeckt
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/e67e39b585b24b53aacd19ba22c88e4f3c729170,e67e39b585b24b53aacd19ba22c88e4f3c729170,"Usability fixes, fix for issue #56 and #58",2013-12-10 18:53:40+01:00,jquery.validate.rules.js,https://github.com/jansmolders86/mediacenterjs/raw/fa2ed5c4fb249f6587dec7f100034596f6641b35/public/core/js/plugins/validation/jquery.validate.rules.js,https://github.com/jansmolders86/mediacenterjs/raw/e67e39b585b24b53aacd19ba22c88e4f3c729170/public/core/js/plugins/validation/jquery.validate.rules.js,"@@ -10,7 +10,7 @@ var rules = [];
 		if ( element.value.match(/(\{|\}|\=|\&|\#|\%|\^|\@|\*)/)  ) { 
 			return false; 
 		} else if ( element.value === """" ) { 
-			return false; 
+			return true;
 		} else if ( element.value.match(/\/$/) ){ 
 			return true; 
 		} else {
",13,return false;,return true;
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/85a5705f5cad13fc9ae6766781a35edcec21b00b,85a5705f5cad13fc9ae6766781a35edcec21b00b,fixed typo,2013-12-17 17:58:56+01:00,update.js,https://github.com/jansmolders86/mediacenterjs/raw/89f941aa73c2fdbf0e9b1d20bb2f40a24aaf1a86/update.js,https://github.com/jansmolders86/mediacenterjs/raw/85a5705f5cad13fc9ae6766781a35edcec21b00b/update.js,"@@ -11,7 +11,7 @@ npm.load([], function (err, npm) {
             for (var key in data) {
                 var obj = data[key];
                 if(obj.name === 'mediacenterjs' && obj.version > currentInfo.version){
-                    npm.commands.update([obj.name], function(err, data){
+                    npm.commands.install([obj.name], function(err, data){
                         if (err){
                             console.log('NPM install error ' + err);
                             npm.commands.restart;
",14,"npm.commands.update([obj.name], function(err, data){","npm.commands.install([obj.name], function(err, data){"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/2dd3ef8b4235eed5328b93447be8c3857262df4e,2dd3ef8b4235eed5328b93447be8c3857262df4e,"Fixed duration from metadata, code cleanup",2013-12-28 20:13:26+01:00,jquery.mcjs.movies.js,https://github.com/jansmolders86/mediacenterjs/raw/e592d1f1b22ff21eab5dce3e1683595455edf6c0/public/movies/js/jquery.mcjs.movies.js,https://github.com/jansmolders86/mediacenterjs/raw/2dd3ef8b4235eed5328b93447be8c3857262df4e/public/movies/js/jquery.mcjs.movies.js,"@@ -156,7 +156,7 @@
 						movie.genre(movieData.genre);
 						movie.runtime(movieData.runtime);
 						movie.overview(movieData.overview);
-						movie.title(movieData.original_name);
+						movie.title(movieData.local_name);
 						movie.cdNumber(movieData.cd_number);
 						
 						visibleMovie.addClass('showDetails '+o.fadeClass);
",159,movie.title(movieData.original_name);,movie.title(movieData.local_name);
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/62ba76e668b6d600b947a2cefca8b9a2d3fba6bc,62ba76e668b6d600b947a2cefca8b9a2d3fba6bc,syntax fix,2014-01-10 17:00:39+01:00,jquery.mcjs.core.js,https://github.com/jansmolders86/mediacenterjs/raw/3ad965847e356a22027bb8a21c8b86863426dd1e/public/core/js/jquery.mcjs.core.js,https://github.com/jansmolders86/mediacenterjs/raw/62ba76e668b6d600b947a2cefca8b9a2d3fba6bc/public/core/js/jquery.mcjs.core.js,"@@ -326,7 +326,7 @@
 		$(o.focusedElement).removeClass(o.focusedClass).prev().addClass(o.focusedClass).scrollintoview({direction: ""vertical""});
 	}	
 	
-	function _pressEnter(o, item){
+	function _pressEnter(o){
         o.RemoteIdle = false;
         if($(""html, body, #wrapper, #header"").hasClass(""dim"")){
             $(""html, body, #wrapper, #header"").removeClass(""dim"");
",329,"function _pressEnter(o, item){",function _pressEnter(o){
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/70180cb9fa68f1084e4526ddf3c87db534f262ad,70180cb9fa68f1084e4526ddf3c87db534f262ad,Fixing several small bugs / refactoring,2014-03-24 21:54:12+01:00,knockout.movies.js,https://github.com/jansmolders86/mediacenterjs/raw/65c26a4e9b07e39e1004a97b3d57dfb58793cc46/public/movies/js/knockout.movies.js,https://github.com/jansmolders86/mediacenterjs/raw/70180cb9fa68f1084e4526ddf3c87db534f262ad/public/movies/js/knockout.movies.js,"@@ -55,4 +55,4 @@ function Movie(item) {
         var movieTitle = that.original_name();
         $('body').mcjsplay('playMovie',movieTitle);
     };
-}r
\ No newline at end of file
+}
\ No newline at end of file
",58,}r,}
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/85ecfdb58580223ec05ff6ca586d2d12dfd1cd2d,85ecfdb58580223ec05ff6ca586d2d12dfd1cd2d,Bugfixes,2014-04-06 20:06:24+02:00,music-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/4ea4e8dc069da4cb3c32e9fbf2a4ace1592fd40d/apps/music/music-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/85ecfdb58580223ec05ff6ca586d2d12dfd1cd2d/apps/music/music-functions.js,"@@ -91,7 +91,7 @@ fetchMusicData = function(req, res) {
 						getTracks(album, artist, year, cover, function(completeAlbum){
 							count--;
 							albums.push(completeAlbum);
-							if(count === 1 ){
+							if(count == 0 ){
 								console.log('Sending data to client');
 								return res.json(albums);
 								res.end();
",94,if(count === 1 ){,if(count == 0 ){
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/f65598af17efde842380c9c2b8a9bdf3c0f7617e,f65598af17efde842380c9c2b8a9bdf3c0f7617e,Fixed typo,2014-04-27 19:12:37+02:00,plugins-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/b626305b97b753c0dcaf95235d709c2038e45e0b/apps/plugins/plugins-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/f65598af17efde842380c9c2b8a9bdf3c0f7617e/apps/plugins/plugins-functions.js,"@@ -188,7 +188,7 @@ exports.pluginManager = function(req, res, pluginName, action){
 
 	var cb = function(err, result){
 		if (err){
-			console.log('Error: Unable to ' + action + ' plugin: ' + name + '\n' + error);
+			console.log('Error: Unable to ' + action + ' plugin: ' + name + '\n' + err);
 			showError();
 		}else{
 			console.log('Plugins.pluginManager: ' + action + 'ed.');
",191,console.log('Error: Unable to ' + action + ' plugin: ' + name + '\n' + error);,console.log('Error: Unable to ' + action + ' plugin: ' + name + '\n' + err);
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/4c5c35a9e12c8b097b87865c057391ea8dc62ee7,4c5c35a9e12c8b097b87865c057391ea8dc62ee7,Fixed remote issues with angular apps,2014-05-19 13:39:23+02:00,jquery.remote.js,https://github.com/jansmolders86/mediacenterjs/raw/c3ad8f2654aa68ab9464dde39632f730f6244442/public/core/js/jquery.remote.js,https://github.com/jansmolders86/mediacenterjs/raw/4c5c35a9e12c8b097b87865c057391ea8dc62ee7/public/core/js/jquery.remote.js,"@@ -55,7 +55,7 @@
 					url: '/configuration/', 
 					type: 'get'
 				}).done(function(data){
-					var socket = io.connect(document.domain+':'+data.remotePort);
+                var socket = io.connect(data.localIP+':'+data.remotePort);
 					socket.on('connect', function(data){
 						socket.emit('screen');
 					});
",58,var socket = io.connect(document.domain+':'+data.remotePort);,var socket = io.connect(data.localIP+':'+data.remotePort);
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/a2aa86f7599e7f5caffe4499d17c86f26f6405a9,a2aa86f7599e7f5caffe4499d17c86f26f6405a9,Adding bootstrap to template + bugfixes,2014-06-11 20:09:28+02:00,jquery.validate.rules.js,https://github.com/jansmolders86/mediacenterjs/raw/ab5e63546e96afa512e23c9b9d83ee7d3b0376ff/public/core/js/plugins/validation/jquery.validate.rules.js,https://github.com/jansmolders86/mediacenterjs/raw/a2aa86f7599e7f5caffe4499d17c86f26f6405a9/public/core/js/plugins/validation/jquery.validate.rules.js,"@@ -14,7 +14,7 @@ var rules = [];
 		} else if ( element.value.match(/\/$/) ){ 
 			return true; 
 		} else {
-			return false; 
+            return true; 
 		}
 	};
 	for (var key in rules) {
",17,return false;,return true;
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/54b395053266f637d795a60e8c5c2339662ac973,54b395053266f637d795a60e8c5c2339662ac973,fixed remote angular bug,2014-06-18 22:58:33+02:00,remote.js,https://github.com/jansmolders86/mediacenterjs/raw/7baf78b14273829182dd48526e80f3e54b938ba4/public/movies/js/remote.js,https://github.com/jansmolders86/mediacenterjs/raw/54b395053266f637d795a60e8c5c2339662ac973/public/movies/js/remote.js,"@@ -40,7 +40,7 @@ function remote(socket, $scope){
                 pushDashboard(socket,$scope);
                 break;
         }
-    }).removeListener('controlling', function(){});
+    });
 
     socket.on('sending', function(data){
         $('#search').val(data);
",43,"}).removeListener('controlling', function(){});",});
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/54b395053266f637d795a60e8c5c2339662ac973,54b395053266f637d795a60e8c5c2339662ac973,fixed remote angular bug,2014-06-18 22:58:33+02:00,remote.js,https://github.com/jansmolders86/mediacenterjs/raw/7baf78b14273829182dd48526e80f3e54b938ba4/public/tv/js/remote.js,https://github.com/jansmolders86/mediacenterjs/raw/54b395053266f637d795a60e8c5c2339662ac973/public/tv/js/remote.js,"@@ -41,7 +41,7 @@ function remote(socket, $scope, player){
                 pushDashboard(socket,$scope);
                 break;
         }
-    }).removeListener('controlling', function(){});
+    });
     
     socket.on('sending', function(data){
         $('#search').val(data);
",44,"}).removeListener('controlling', function(){});",});
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/a0137d13ec30c4399bb540089a6297ed111b3194,a0137d13ec30c4399bb540089a6297ed111b3194,Fixed typo,2014-06-27 17:41:02+02:00,tv-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/a75ced91d42c4d47adcf0d2107a85091cd52b460/apps/tv/tv-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/a0137d13ec30c4399bb540089a6297ed111b3194/apps/tv/tv-functions.js,"@@ -144,7 +144,7 @@ function getTvshows(req, res, serveToFrontEnd){
                 });
             });
         } else {
-            fetchMusicData(req, res, serveToFrontEnd);
+            fetchTVData(req, res, serveToFrontEnd);
         }
     });
 }
",147,"fetchMusicData(req, res, serveToFrontEnd);","fetchTVData(req, res, serveToFrontEnd);"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/c2725c810846a7a58e743b0eeaa4ac5d054efbc0,c2725c810846a7a58e743b0eeaa4ac5d054efbc0,Various fixes,2014-06-27 21:56:37+02:00,movie-metadata.js,https://github.com/jansmolders86/mediacenterjs/raw/a0137d13ec30c4399bb540089a6297ed111b3194/apps/movies/movie-metadata.js,https://github.com/jansmolders86/mediacenterjs/raw/c2725c810846a7a58e743b0eeaa4ac5d054efbc0/apps/movies/movie-metadata.js,"@@ -157,6 +157,7 @@ var doParse = function(req, res, file, serveToFrontEnd, callback) {
 
             if(nrScanned === totalFiles){
                 if(serveToFrontEnd === true){
+                    io.sockets.emit('serverStatus',{msg:'Processing data...'});
                     getMovies(req, res);
                 }
             }
@@ -205,7 +206,6 @@ getMetadataFromTrakt = function(movieTitle, callback) {
 };
 
 getMovies = function(req, res){
-    console.log('Loading data');
     db.query('SELECT * FROM movies ORDER BY title asc',{
         original_name       : String,
         title               : String,
",160,"io.sockets.emit('serverStatus',{msg:'Processing data...'});",console.log('Loading data');
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/6d28e5566a594bb03ef78ff1b1dd34bebaf59859,6d28e5566a594bb03ef78ff1b1dd34bebaf59859,Fixed Regex,2014-07-06 17:07:29+02:00,app.js,https://github.com/jansmolders86/mediacenterjs/raw/f3c749c1c69b6d1cbacd71eaa2457aa7b9ada4b9/public/movies/js/app.js,https://github.com/jansmolders86/mediacenterjs/raw/6d28e5566a594bb03ef78ff1b1dd34bebaf59859/public/movies/js/app.js,"@@ -164,7 +164,7 @@ function playMovie(data, $http){
     $http.get('/movies/'+orginalName+'/play/'+platform).success(function(data) {
         var fileName                =  orginalName
             , outputFile            =   fileName.replace(/ /g, ""-"")
-            , extentionlessFile     =   outputFile.replace(/\.[^/.]+$/, """")
+            , extentionlessFile     =   outputFile.replace(/\.[^\.]+$/, """")
             , videoUrl              =   ""/data/movies/""+extentionlessFile+"".mp4""
             , subtitleUrl           =   ""/data/movies/""+extentionlessFile+"".srt""
             , playerID              =   'player'
",167,", extentionlessFile     =   outputFile.replace(/\.[^/.]+$/, """")",", extentionlessFile     =   outputFile.replace(/\.[^\.]+$/, """")"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/72e278b1cecf5551e14ca2335e97f5812882df5b,72e278b1cecf5551e14ca2335e97f5812882df5b,"Extract countries to seperate file (to fix current country not being selected in Settings despite actual config), change United Kingdom from GB to UK",2014-08-14 10:22:17+01:00,configuration-handler.js,https://github.com/jansmolders86/mediacenterjs/raw/4c26785b8f061a9615499a44b4d997603b4be2cf/lib/handlers/configuration-handler.js,https://github.com/jansmolders86/mediacenterjs/raw/72e278b1cecf5551e14ca2335e97f5812882df5b/lib/handlers/configuration-handler.js,"@@ -57,7 +57,7 @@ exports.saveSettings = function(settings, callback) {
 	var ini = require('ini');
 	var settingsKeys = Object.keys(settings);
 	_.forEach(settingsKeys, function(key) {
-		if (config.hasOwnProperty(key)) {
+		if (settings.hasOwnProperty(key)) {
             config[key] = settings[key];
 		}
 	});
",60,if (config.hasOwnProperty(key)) {,if (settings.hasOwnProperty(key)) {
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/fadc63ff60884c2d647d23e1e2364035a0b0aea0,fadc63ff60884c2d647d23e1e2364035a0b0aea0,Fix duplicate shows in TV app,2014-09-03 17:34:12+01:00,tv-metadata.js,https://github.com/jansmolders86/mediacenterjs/raw/ba072d95490e677ff3b69e8faba3d18ee9210d1f/apps/tv/tv-metadata.js,https://github.com/jansmolders86/mediacenterjs/raw/fadc63ff60884c2d647d23e1e2364035a0b0aea0/apps/tv/tv-metadata.js,"@@ -214,7 +214,7 @@ getDataForNewShow = function(originalTitle, episodeTitle,callback){
                 }
 
                 showTitle = showTitleResult.toLowerCase();
-                Show.create({
+                Show.findOrCreate({name: showTitle}, {
                     name: showTitle,
                     posterURL: bannerImage,
                     genre: genre.join(','),
",217,Show.create({,"Show.findOrCreate({name: showTitle}, {"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/76cd946f7501fb3833c62eda864e81dfe2702f8c,76cd946f7501fb3833c62eda864e81dfe2702f8c,"Add year field to Movies, using migrations so the database doesn't have to be deleted to add the new field, partially fixes #156",2014-10-22 13:05:58+01:00,movie-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/bd102101fd62a58220dd3cf367a017839c5631ff/apps/movies/movie-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/76cd946f7501fb3833c62eda864e81dfe2702f8c/apps/movies/movie-functions.js,"@@ -47,7 +47,7 @@ exports.loadItems = function (req, res, serveToFrontEnd) {
     getMovies(function () {
         metafetcher.loadData(function () {
             getMovies(function () {
-                res.status(500).send();
+                res.status(500).send(""no movies"");
             });
         });
     });
",50,res.status(500).send();,"res.status(500).send(""no movies"");"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/c7e5d329285eee37c8991d25d15445d8860c4e61,c7e5d329285eee37c8991d25d15445d8860c4e61,Fixed some errors,2015-01-03 00:22:14+01:00,index.js,https://github.com/jansmolders86/mediacenterjs/raw/a98e1aa9cfdb9c718dc8d8cdaf445c078282b694/apps/music/index.js,https://github.com/jansmolders86/mediacenterjs/raw/c7e5d329285eee37c8991d25d15445d8860c4e61/apps/music/index.js,"@@ -67,7 +67,7 @@ exports.get = function(req, res, next) {
 
 exports.post = function(req, res, next) {
     if (req.params.id === 'edit') {
-        MusicHandler.editMetadata(req.body.id, data, handleCallback(res));
+        MusicHandler.editMetadata(req.body.id, req.body, handleCallback(res));
     } else {
         next();
     }
",70,"MusicHandler.editMetadata(req.body.id, data, handleCallback(res));","MusicHandler.editMetadata(req.body.id, req.body, handleCallback(res));"
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/aed6451eab51e0dc2d41ba0cc814d61de2a7e944,aed6451eab51e0dc2d41ba0cc814d61de2a7e944,Removed color dependency to fix issue #195,2015-04-23 09:17:53+02:00,server.js,https://github.com/jansmolders86/mediacenterjs/raw/367f167d85373f90505a5b221e4aa518bce90f5a/server.js,https://github.com/jansmolders86/mediacenterjs/raw/aed6451eab51e0dc2d41ba0cc814d61de2a7e944/server.js,"@@ -107,7 +107,7 @@ server = {
                 installUpdate(output, dir);
             },2000);
         } else {
-            logger.info('Starting server' .green.bold);
+            logger.info('Starting server');
             that.watchFile();
 
             this.process = child_process.spawn(process.argv[0], ['index.js']);
",110,logger.info('Starting server' .green.bold);,logger.info('Starting server');
mediacenterjs,https://github.com/jansmolders86/mediacenterjs,https://github.com/jansmolders86/mediacenterjs/commit/2b28f55d787ac9eee9993d585b34d4330bd5d6cf,2b28f55d787ac9eee9993d585b34d4330bd5d6cf,"Plugin fix # 197, package tweak",2015-05-27 12:47:05+02:00,plugins-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/d56c5d06c9b27e7cbc5e7cf269fa1d40de070071/apps/plugins/plugins-functions.js,https://github.com/jansmolders86/mediacenterjs/raw/2b28f55d787ac9eee9993d585b34d4330bd5d6cf/apps/plugins/plugins-functions.js,"@@ -104,7 +104,7 @@ exports.getAvailablePlugins = function(req, res){
                 return {
                     name: pluginObj.name.replace(pluginPrefix, ''), //Remove the Mediacenterjs-
                     desc: pluginObj.description,
-                    author: pluginObj.maintainers[0].replace('=',''),
+                    author: pluginObj.author.replace('=',''),
                     date: d.getDate() + ""-"" + (d.getMonth() + 1) + ""-"" + d.getFullYear(),
                     version: pluginObj.version,
                     keywords: pluginObj.keywords,
",107,"author: pluginObj.maintainers[0].replace('=',''),","author: pluginObj.author.replace('=',''),"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/a8be322949ede0c9b6eb0e1c793259976b1e0403,a8be322949ede0c9b6eb0e1c793259976b1e0403,"allow alpha-numeric characters.
fix from @brandon-bethke-neudesic
closes #13",2013-03-08 17:36:01-08:00,manual_setup.js,https://github.com/Strider-CD/strider/raw/8a3213b30ed95c48fad37b4b1ca4ae8bb1501217/public/javascripts/manual_setup.js,https://github.com/Strider-CD/strider/raw/a8be322949ede0c9b6eb0e1c793259976b1e0403/public/javascripts/manual_setup.js,"@@ -72,7 +72,7 @@ function init_manual_setup() {
 
           console.log(""starting manual setup for: "" + github_url);
           
-          var ghRegexp1 = /(?:https*\:\/\/)*github\.com\/(\w+)\/(\w+)\/?/;
+          var ghRegexp1 = /(?:https*:\/\/)*github.com\/(\S+)\/(\S+)\/?/;;
           var match1 = ghRegexp1.exec(github_url);
           
           var control_group = $(this.el).find('div.control-group');
",75,var ghRegexp1 = /(?:https*\:\/\/)*github\.com\/(\w+)\/(\w+)\/?/;,var ghRegexp1 = /(?:https*:\/\/)*github.com\/(\S+)\/(\S+)\/?/;;
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/e22dfb2ac5aafb956a584af288d14fba060b769d,e22dfb2ac5aafb956a584af288d14fba060b769d,fix jobs page,2013-03-28 14:57:47-07:00,jobs.js,https://github.com/Strider-CD/strider/raw/de9c53de8c25a5871e613893f72b77bf048b373d/public/javascripts/jobs.js,https://github.com/Strider-CD/strider/raw/e22dfb2ac5aafb956a584af288d14fba060b769d/public/javascripts/jobs.js,"@@ -4,7 +4,7 @@
 $(function(){
 
   // Create our global collection of **Jobs**.
-  var Jobs = new JobList();
+  var Jobs = new AdminJobListCollection();
 
   // Job Item View
   // --------------
",7,var Jobs = new JobList();,var Jobs = new AdminJobListCollection();
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/81d4a2a942330501df59f674ee5ab7b4f4a2fd2a,81d4a2a942330501df59f674ee5ab7b4f4a2fd2a,"fix typo.
should close #62",2013-04-04 12:48:32-07:00,index.js,https://github.com/Strider-CD/strider/raw/b81c3251c21dd51d4ceb310acd1260b0f0aa91d5/routes/index.js,https://github.com/Strider-CD/strider/raw/81d4a2a942330501df59f674ee5ab7b4f4a2fd2a/routes/index.js,"@@ -261,7 +261,7 @@ exports.webhook_secret = function(req, res)
       var github_commit_id = payload.after;
       var github_commit_info = gh.webhook_extract_latest_commit_info(payload);
       // We don't have github metadata unless we have a linked github account.
-      var repo_mdatadata;
+      var repo_metadata;
       var repo_ssh_url;
       if (user.github.id) {
           repo_metadata = _.find(user.github_metadata[user.github.id].repos, function(item) {
",264,var repo_mdatadata;,var repo_metadata;
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/4e64382b78042e6b14ea80433d1d648e0e0d7453,4e64382b78042e6b14ea80433d1d648e0e0d7453,Fixed SESSION_SECRET reading from enviroment variable,2013-06-25 14:05:42+02:00,config.js,https://github.com/Strider-CD/strider/raw/cb10b97ec4103e78a308a581d825a8d564234c88/lib/config.js,https://github.com/Strider-CD/strider/raw/4e64382b78042e6b14ea80433d1d648e0e0d7453/lib/config.js,"@@ -1,6 +1,6 @@
 // Defaults:
 var PORT = process.env.PORT || 3000
-  , SESSION_SECRET = process.env.PORT || ""8L8BudMkqBUqrz""
+  , SESSION_SECRET = process.env.SESSION_SECRET || ""8L8BudMkqBUqrz""
   , SERVER_NAME = process.env.SERVER_NAME || ""http://localhost:3000""
   , GITHUB_APP_ID = process.env.GITHUB_APP_ID || ""a3af4568e9d8ca4165fe""
   , GITHUB_APP_SECRET = process.env.GITHUB_APP_SECRET || ""18651128b57787a3336094e2ba1af240dfe44f6c""
",3,", SESSION_SECRET = process.env.PORT || ""8L8BudMkqBUqrz""",", SESSION_SECRET = process.env.SESSION_SECRET || ""8L8BudMkqBUqrz"""
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/f98516e4e8e3a46b0aa1ae71378e517a9dce8e62,f98516e4e8e3a46b0aa1ae71378e517a9dce8e62,no ssh; some frontend bugfixes fixes #123,2013-07-21 01:28:06-06:00,websockets.js,https://github.com/Strider-CD/strider/raw/c6db31fb52911ddb526d19cf306caa05a721f2f4/lib/websockets.js,https://github.com/Strider-CD/strider/raw/f98516e4e8e3a46b0aa1ae71378e517a9dce8e62/lib/websockets.js,"@@ -114,7 +114,7 @@ exports.init = function(app, server, session_store){
           github.setup_integration(foundUser, kickoff_repo.id, foundUser.get('github.accessToken'), function() {
             console.log(""sending repodone"");
             socket.emit(""repodone"", {});
-          }, socket);
+          }, socket, data.no_ssh);
         });
 
       });
",117,"}, socket);","}, socket, data.no_ssh);"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/bb07e42e13dee88e10fb25312ef62854bcb4186d,bb07e42e13dee88e10fb25312ef62854bcb4186d,bugfix,2013-07-22 19:59:21-06:00,ansi.js,https://github.com/Strider-CD/strider/raw/5ac721c16aedea790a95739c818dc6e38aa315dc/lib/ansi.js,https://github.com/Strider-CD/strider/raw/bb07e42e13dee88e10fb25312ef62854bcb4186d/lib/ansi.js,"@@ -4,7 +4,7 @@ var ansiparse = require('ansiparse');
 function filter(data, plaintext) {
 
   // handle the characters for ""delete line"" and ""move to start of line""
-  var startswithcr = /^[^\n]*\r/.test(data);
+  var startswithcr = /^[^\n]*\r[^\n]/.test(data);
   data = data.replace(/^[^\n\r]*\u001b\[2K/gm, '')
              .replace(/\u001b\[K[^\n\r]*/g, '')
              .replace(/[^\n]*\r([^\n])/g, '$1')
",7,var startswithcr = /^[^\n]*\r/.test(data);,var startswithcr = /^[^\n]*\r[^\n]/.test(data);
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/355d7657a5e4d43419d97aa3d0ed39b3dfa42c5e,355d7657a5e4d43419d97aa3d0ed39b3dfa42c5e,bugfix,2013-07-31 18:01:55-06:00,index.js,https://github.com/Strider-CD/strider/raw/12a30d2fe48b0cb01c12c249086704a637017c01/routes/index.js,https://github.com/Strider-CD/strider/raw/355d7657a5e4d43419d97aa3d0ed39b3dfa42c5e/routes/index.js,"@@ -170,7 +170,7 @@ exports.config = function(req, res) {
               var next = group()
                 , gotData = function (err, data) {
                     if (err) {
-                      console.log('data err', err, panel.id)
+                      console.log('Error retrieving data for panel %s: %s', panel.id, err)
                       return next(err)
                     }
                     if (data) r.panelData[panel.id] = data
",173,"console.log('data err', err, panel.id)","console.log('Error retrieving data for panel %s: %s', panel.id, err)"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/31447fff679c6eb4090dc946e171355696f8d250,31447fff679c6eb4090dc946e171355696f8d250,bugfix,2013-08-01 11:03:23-06:00,jobs.js,https://github.com/Strider-CD/strider/raw/3d76bef19e5b9346bf2acf197f295d602ac117df/routes/api/jobs.js,https://github.com/Strider-CD/strider/raw/31447fff679c6eb4090dc946e171355696f8d250/routes/api/jobs.js,"@@ -246,7 +246,7 @@ exports.jobs = function(req, res) {
         _.each(results, function(jobl) {
           var job = jobl[0]
 
-          if (job === null) {
+          if (!job) {
             return;
           }
 
",249,if (job === null) {,if (!job) {
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/a5fbf897452d8134f3cb8e1efdd28c7255c74071,a5fbf897452d8134f3cb8e1efdd28c7255c74071,Fix src,2013-08-14 14:09:29-07:00,index.js,https://github.com/Strider-CD/strider/raw/5704ff636190036d99059e4dfbe5c08cae2e5aed/routes/index.js,https://github.com/Strider-CD/strider/raw/a5fbf897452d8134f3cb8e1efdd28c7255c74071/routes/index.js,"@@ -203,7 +203,7 @@ exports.config = function(req, res) {
         } else {
           // No Panel
           ext[1].id = ext[0]
-          ext[1].title = ext[0]
+          ext[1].title = ext[0].match(/([a-z-]*)$/)[0] || ext[0]
           cb(null, ext[1])
         }
       }
",206,ext[1].title = ext[0],ext[1].title = ext[0].match(/([a-z-]*)$/)[0] || ext[0]
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/12c57fc095c88c08fc4b7313c668a67024fb8d1a,12c57fc095c88c08fc4b7313c668a67024fb8d1a,fixing strider-custom#5; removing deploy throttling in the absence of heroku config,2013-08-15 15:27:38-06:00,jobs.js,https://github.com/Strider-CD/strider/raw/b2ac7155f0f01ab2bce8472ebaa6325517e009b2/lib/jobs.js,https://github.com/Strider-CD/strider/raw/12c57fc095c88c08fc4b7313c668a67024fb8d1a/lib/jobs.js,"@@ -44,7 +44,7 @@ function startJob(user, repo_config, deploy_config, github_commit_info, repo_ssh
     type: TEST_ONLY,
     repo_url: repo_config.url,
   })
-  if (deploy_config !== undefined && repo_config.prod_deploy_target.deploy_on_green) {
+  if (repo_config.prod_deploy_target.deploy_on_green) {
     job.type = TEST_AND_DEPLOY
   }
   if (github_commit_info !== undefined) {
",47,if (deploy_config !== undefined && repo_config.prod_deploy_target.deploy_on_green) {,if (repo_config.prod_deploy_target.deploy_on_green) {
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/d42a7169fb66b4538d971ecd5ce3f02abbb03dd5,d42a7169fb66b4538d971ecd5ce3f02abbb03dd5,"build page display fixed - ansi parsing, navigation.",2013-09-27 18:16:43-06:00,build.js,https://github.com/Strider-CD/strider/raw/d6be92478be39b361f9583c1a43f5dc9bdc0a6ce/public/javascripts/pages/build.js,https://github.com/Strider-CD/strider/raw/d42a7169fb66b4538d971ecd5ce3f02abbb03dd5/public/javascripts/pages/build.js,"@@ -32,7 +32,7 @@ function updateFavicon(value) {
   }
 }
 
-var app = angular.module('JobStatus', ['moment', 'ngRoute'], ['$interpolateProvider', '$locationProvider', '$routeProvider', function (interp, location, route) {
+var app = angular.module('JobStatus', ['moment', 'ansi', 'ngRoute'], ['$interpolateProvider', '$locationProvider', '$routeProvider', function (interp, location, route) {
   interp.startSymbol('[[');
   interp.endSymbol(']]');
   var one = {
",35,"var app = angular.module('JobStatus', ['moment', 'ngRoute'], ['$interpolateProvider', '$locationProvider', '$routeProvider', function (interp, location, route) {","var app = angular.module('JobStatus', ['moment', 'ansi', 'ngRoute'], ['$interpolateProvider', '$locationProvider', '$routeProvider', function (interp, location, route) {"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/f983c03312d7decd7b01f73fdeadafc6a0a24547,f983c03312d7decd7b01f73fdeadafc6a0a24547,"bugfixes, linting, fixed DB_UPGRADE process",2013-09-28 13:32:44-06:00,from0to1.js,https://github.com/Strider-CD/strider/raw/52db05d47d56046aa4a9d6c59b72030149bceddf/lib/models/upgrade/from0to1.js,https://github.com/Strider-CD/strider/raw/f983c03312d7decd7b01f73fdeadafc6a0a24547/lib/models/upgrade/from0to1.js,"@@ -93,7 +93,7 @@ function makeTrigger(job, commit) {
         id: job._owner
         // TODO get more info about the user? Like email, gravatar, etc
       },
-      message: 'Manual trigger',
+      message: job.type === 'TEST_AND_DEPLOY' ? 'Redeploy' : 'Retest',
       timestamp: job.created_timestamp,
       source: {type: 'UI', page: 'Unknown'}
     }
",96,"message: 'Manual trigger',","message: job.type === 'TEST_AND_DEPLOY' ? 'Redeploy' : 'Retest',"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/07699b2377c9b83625ff3a4a63c61edbc077e8c4,07699b2377c9b83625ff3a4a63c61edbc077e8c4,fix guard in middleware.project,2013-10-03 12:16:50-07:00,middleware.js,https://github.com/Strider-CD/strider/raw/353b5e7e6fa10db07371a1785a67c901706cb57d/lib/middleware.js,https://github.com/Strider-CD/strider/raw/07699b2377c9b83625ff3a4a63c61edbc077e8c4/lib/middleware.js,"@@ -169,7 +169,7 @@ function project(req, res, next) {
     var p = _.find(req.user.projects, function(p) {
       return p.name === name
     })
-    if (req.user && p.access_level > 0) {
+    if (req.user && p && p.access_level > 0) {
       req.accessLevel = p.access_level
       return next()
     }
",172,if (req.user && p.access_level > 0) {,if (req.user && p && p.access_level > 0) {
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/f710c818554215d2915a74c2dab799b68c0e6e0d,f710c818554215d2915a74c2dab799b68c0e6e0d,"model._id is an ObjectId not a string - must be converted to a string to do string comparisons.
fixes double job update.",2013-10-03 16:32:00-07:00,backchannel.js,https://github.com/Strider-CD/strider/raw/6716c1ec2b81570d79cf0dbd62b5563322523b63/lib/backchannel.js,https://github.com/Strider-CD/strider/raw/f710c818554215d2915a74c2dab799b68c0e6e0d/lib/backchannel.js,"@@ -162,7 +162,7 @@ BackChannel.prototype = {
       self.users[name] = []
       var i
       for (i=0; i<users.length; i++) {
-        self.users[name].push(users[i]._id)
+        self.users[name].push(users[i]._id.toString())
       }
       var njob = utils.sanitizeJob(job)
       njob.project = utils.sanitizeProject(job.project)
",165,self.users[name].push(users[i]._id),self.users[name].push(users[i]._id.toString())
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/5ccaf52e9e7134df6e319f6d246267efbdfb79c8,5ccaf52e9e7134df6e319f6d246267efbdfb79c8,build page fix,2013-10-07 17:03:28-06:00,index.js,https://github.com/Strider-CD/strider/raw/7306680be6382cf6dd57b1c2a5ad92472b5f7a39/routes/index.js,https://github.com/Strider-CD/strider/raw/5ccaf52e9e7134df6e319f6d246267efbdfb79c8/routes/index.js,"@@ -317,7 +317,7 @@ exports.projects = function(req, res) {
     async.parallel(tasks, function(err, r) {
       if (err) return res.send(500, 'Error while getting repos: ' + err.message + ':' + err.stack)
       // cache the fetched repos
-      User.update({_id:req.user._id}, {$set:{accounts:req.user.accounts}}, function(err, num) {
+      User.update({_id:req.user._id}, {$set:{accounts:req.user.toJSON().accounts}}, function(err, num) {
         if (err) console.error('error saving repo cache')
         if (!num) console.error(""Didn't effect any users"")
         console.log('Saved cache')
",320,"User.update({_id:req.user._id}, {$set:{accounts:req.user.accounts}}, function(err, num) {","User.update({_id:req.user._id}, {$set:{accounts:req.user.toJSON().accounts}}, function(err, num) {"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/cd91e0a8370593a3dab47934db4d44bd055e8a72,cd91e0a8370593a3dab47934db4d44bd055e8a72,"adding build comments, some bugfixes",2013-10-13 02:49:46-06:00,index.js,https://github.com/Strider-CD/strider/raw/89de9fc95963196b358195c06d7e72ee0d6b838b/routes/index.js,https://github.com/Strider-CD/strider/raw/cd91e0a8370593a3dab47934db4d44bd055e8a72/routes/index.js,"@@ -236,7 +236,7 @@ exports.config = function(req, res) {
     data.plugins = common.pluginConfigs.job
 
     var provider = common.extensions.provider[req.project.provider.id]
-    if (typeof provider.getBranches === 'function') {
+    if (false && typeof provider.getBranches === 'function') {
       provider.getBranches(req.user.account(req.project.provider).config,
         req.project.provider.config, req.project, function(err, branches) {
           if (err) {
",239,if (typeof provider.getBranches === 'function') {,if (false && typeof provider.getBranches === 'function') {
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/5b84fc131eaebbd605ea1cf419bbad7dcf796cd7,5b84fc131eaebbd605ea1cf419bbad7dcf796cd7,specific refresh + config fix,2013-10-14 10:17:20-06:00,index.js,https://github.com/Strider-CD/strider/raw/cd91e0a8370593a3dab47934db4d44bd055e8a72/routes/index.js,https://github.com/Strider-CD/strider/raw/5b84fc131eaebbd605ea1cf419bbad7dcf796cd7/routes/index.js,"@@ -397,7 +397,7 @@ exports.projects = function(req, res) {
       configured[account.provider] = true
 
       // Caching
-      var useCache = req.query.refresh !== 'true'  && req.query.refresh !== '1'
+      var useCache = req.query.refresh !== account.provider && req.query.aid != account.id
       var haveCache = Array.isArray(account.cache) && account.cache.length > 0
       if (useCache && haveCache) {
         groupRepos(account, repomap, tree, account.toJSON().cache)
",400,var useCache = req.query.refresh !== 'true'  && req.query.refresh !== '1',var useCache = req.query.refresh !== account.provider && req.query.aid != account.id
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/cbc9b8a7259268eff44125f74a0b97e7cc6c4a57,cbc9b8a7259268eff44125f74a0b97e7cc6c4a57,"""undefined < 2"" evaluates to false in JS.
res.accessLevel can be undefined.
this is bad.
fix it.",2013-10-16 11:07:06-07:00,auth.js,https://github.com/Strider-CD/strider/raw/d87d244605c35e13303b5f66424bcdbfde10e54e/lib/auth.js,https://github.com/Strider-CD/strider/raw/cbc9b8a7259268eff44125f74a0b97e7cc6c4a57/lib/auth.js,"@@ -153,7 +153,7 @@ var requireAdminOr401 = function require_admin(req, res, next){
 var requireProjectAdmin = function(req, res, next) {
   if (!req.project) return res.send(404, 'Project not loaded')
   if (!req.user) return res.send(401, 'No user')
-  if (res.accessLevel < 2) res.send(401, 'Not authorized for configuring this project')
+  if (!res.accessLevel || res.accessLevel < 2) res.send(401, 'Not authorized for configuring this project')
   next()
 }
 
",156,"if (res.accessLevel < 2) res.send(401, 'Not authorized for configuring this project')","if (!res.accessLevel || res.accessLevel < 2) res.send(401, 'Not authorized for configuring this project')"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/72468eb4245fb8bdf93da128fe996a8777c6b6f5,72468eb4245fb8bdf93da128fe996a8777c6b6f5,fix forgot password,2013-10-16 14:03:22-07:00,app.js,https://github.com/Strider-CD/strider/raw/5b505611040fef5aed98ba6dc3955ea981eac78f/lib/app.js,https://github.com/Strider-CD/strider/raw/72468eb4245fb8bdf93da128fe996a8777c6b6f5/lib/app.js,"@@ -99,7 +99,7 @@ var init = exports.init = function (config) {
 
     if (config.smtp) {
       var forgot = require('express-forgot-password')({
-          dbconn: config.db_uri
+          db: mongoose 
         , user: models.User
         , mailConfig : config.smtp
         , resetMailContent : function(user, token){
",102,dbconn: config.db_uri,db: mongoose
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/02864a3ff2bb3572998c38e65429a21d17bdc163,02864a3ff2bb3572998c38e65429a21d17bdc163,"filter archived jobs from query results.
fixes #218",2013-10-19 15:42:38-07:00,jobs.js,https://github.com/Strider-CD/strider/raw/59e9e99c6a46f539aee339e6df3a80eb00c4c93f/lib/jobs.js,https://github.com/Strider-CD/strider/raw/02864a3ff2bb3572998c38e65429a21d17bdc163/lib/jobs.js,"@@ -74,7 +74,7 @@ function jobProject(project, prev) {
 }
 
 function latestJob(project, small, done) {
-  var query = Job.find({project: project.name.toLowerCase()})
+  var query = Job.find({project: project.name.toLowerCase(), archived: null})
                  .sort({finished: -1})
                  .limit(6)
                  .lean()
",77,var query = Job.find({project: project.name.toLowerCase()}),"var query = Job.find({project: project.name.toLowerCase(), archived: null})"
strider,https://github.com/Strider-CD/strider,https://github.com/Strider-CD/strider/commit/66d357c9329f8a624a054e9d7e70a2b14f1806ce,66d357c9329f8a624a054e9d7e70a2b14f1806ce,fixed res.setHeader,2013-11-11 12:03:05+00:00,index.js,https://github.com/Strider-CD/strider/raw/65d30d14ebb3f1f4f292a24778089d502239122d/routes/jobs/index.js,https://github.com/Strider-CD/strider/raw/66d357c9329f8a624a054e9d7e70a2b14f1806ce/routes/jobs/index.js,"@@ -149,7 +149,7 @@ function output(req, res) {
 
 function data(req, res) {
   getJob(req, res, function (job) {
-    req.setHeader('Content-type', 'application/json')
+    res.setHeader('Content-type', 'application/json')
     res.send(job)
   })
 }
",152,"req.setHeader('Content-type', 'application/json')","res.setHeader('Content-type', 'application/json')"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/02a9f7e886999da17ebcadd0c94ffc5b6c6ed3b5,02a9f7e886999da17ebcadd0c94ffc5b6c6ed3b5,Fixed bug where default quit message wouldn't display,2011-07-17 17:17:23+01:00,kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/b9c9cceba029186dd59183a9ff9163c2d5726b0e/node/kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/02a9f7e886999da17ebcadd0c94ffc5b6c6ed3b5/node/kiwi.js,"@@ -348,7 +348,7 @@ io.sockets.on('connection', function (websocket) {
     });
     websocket.on('disconnect', function () {
         if ((!websocket.sentQUIT) && (websocket.ircSocket)) {
-            websocket.ircSocket.end('QUIT :' + config.quit_messages + '\r\n');
+            websocket.ircSocket.end('QUIT :' + config.quit_message + '\r\n');
             websocket.sentQUIT = true;
             websocket.ircSocket.destroySoon();
         }
",351,websocket.ircSocket.end('QUIT :' + config.quit_messages + '\r\n');,websocket.ircSocket.end('QUIT :' + config.quit_message + '\r\n');
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/d812c960859a4d61a1c941880bdbc7a3ccbf7f69,d812c960859a4d61a1c941880bdbc7a3ccbf7f69,Use gateway.channel_prefix instead of literal #,2011-07-21 01:04:08+01:00,front.js,https://github.com/prawnsalad/KiwiIRC/raw/9545f3430ea4d528db5c347f0fa29426a68ae4cd/js/front.js,https://github.com/prawnsalad/KiwiIRC/raw/d812c960859a4d61a1c941880bdbc7a3ccbf7f69/js/front.js,"@@ -1010,7 +1010,7 @@ tabview.prototype.addMsg = function(time, nick, msg, type, style){
 		if(next == '</u>') msg =+ '</u>';
 	}
 	
-    var re = '\\B(#[^ ,\\007]+)';
+    var re = '\\B(' + gateway.channel_prefix + '[^ ,\\007]+)';
     re = new RegExp(re, 'g');
 	
     msg = msg.replace(re, function(match) {
",1013,"var re = '\\B(#[^ ,\\007]+)';","var re = '\\B(' + gateway.channel_prefix + '[^ ,\\007]+)';"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/309c83561b3cbae5ddc6011d5e1e54aac38dbd35,309c83561b3cbae5ddc6011d5e1e54aac38dbd35,ircSocketDataHandler() fix,2011-08-05 01:51:09+01:00,kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/b0ad9f0a7e4477deeddae80ac042b6c145694787/node/kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/309c83561b3cbae5ddc6011d5e1e54aac38dbd35/node/kiwi.js,"@@ -418,7 +418,7 @@ var ircSocketDataHandler = function (data, websocket, ircSocket) {
         ircSocket.holdLast = false;
         ircSocket.held = '';
     }
-    if (data.substr(-2) === '\n') {
+    if (data.substr(-1) === '\n') {
         ircSocket.holdLast = true;
     }
     data = data.split(""\n"");         
",421,if (data.substr(-2) === '\n') {,if (data.substr(-1) === '\n') {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/156cf4e8b46cdd7b50fbbee56d8e9820806bb29f,156cf4e8b46cdd7b50fbbee56d8e9820806bb29f,fix for bug where Kiwi is unable to connect to a server that supports CAP,2011-08-08 15:37:24+01:00,kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/b7be4766124bd5714c05b5bba0ca8afd58e288fc/node/kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/156cf4e8b46cdd7b50fbbee56d8e9820806bb29f/node/kiwi.js,"@@ -311,7 +311,7 @@ var parseIRCMessage = function (websocket, ircSocket, data) {
         case 'CAP':
             caps = config.cap_options;
             options = msg.trailing.split("" "");
-            switch (_.first(msg.params.split("" ""))) {
+            switch (_.last(msg.params.split("" ""))) {
             case 'LS':
                 opts = '';
                 _.each(_.intersect(caps, options), function (cap) {
",314,"switch (_.first(msg.params.split("" ""))) {","switch (_.last(msg.params.split("" ""))) {"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/d17d2abe6e4a5ac293100a341a997e01585efdbd,d17d2abe6e4a5ac293100a341a997e01585efdbd,fixed small bug relating to buffers,2011-08-14 16:48:10+01:00,kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/9b976623948074c5a63c976d690668de74e416d8/node/kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/d17d2abe6e4a5ac293100a341a997e01585efdbd/node/kiwi.js,"@@ -427,7 +427,7 @@ var ircSocketDataHandler = function (data, websocket, ircSocket) {
         ircSocket.holdLast = false;
         ircSocket.held = '';
     }
-    if (data.substr(-1) === '\n') {
+    if (data.substr(-1) !== '\n') {
         ircSocket.holdLast = true;
     }
     data = data.split(""\n"");         
",430,if (data.substr(-1) === '\n') {,if (data.substr(-1) !== '\n') {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/277b3040268e414a1a49b8dc8b085b85f2cba479,277b3040268e414a1a49b8dc8b085b85f2cba479,Fixed websocket undefined on app.websocketDisconnect(),2011-08-25 20:41:05+01:00,kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/fd779420584747cb0f85aac8a4723a8e2d9f004e/node/kiwi.js,https://github.com/prawnsalad/KiwiIRC/raw/277b3040268e414a1a49b8dc8b085b85f2cba479/node/kiwi.js,"@@ -144,7 +144,7 @@ this.websocketConnection = function (websocket) {
     return app.websocketConnection(websocket);
 }
 this.websocketDisconnect = function () {
-    return app.websocketDisconnect();
+    return app.websocketDisconnect(this);
 }
 this.websocketMessage = function (msg, callback) {
     return app.websocketMessage(this, msg, callback);
",147,return app.websocketDisconnect();,return app.websocketDisconnect(this);
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/a5ba2101b5f2cabd552696883ef23e2b060ec97f,a5ba2101b5f2cabd552696883ef23e2b060ec97f,user-agent fix,2011-09-04 13:34:04+01:00,app.js,https://github.com/prawnsalad/KiwiIRC/raw/8397d902c33eafa515765943e76bf7b25d75a075/node/app.js,https://github.com/prawnsalad/KiwiIRC/raw/a5ba2101b5f2cabd552696883ef23e2b060ec97f/node/app.js,"@@ -486,7 +486,7 @@ this.httpHandler = function (request, response) {
                 kiwi.fileServer.serve(request, response);
             });
         } else if (uri.pathname === '/' || uri_parts[1] === 'client') {
-            useragent = (request.headers) ? request.headers['user-agent'] : '';
+            useragent = (typeof request.headers === 'string') ? request.headers['user-agent'] : '';
             if (useragent.match(/android/i) !== -1) {
                 agent = 'android';
                 touchscreen = true;
",489,useragent = (request.headers) ? request.headers['user-agent'] : '';,useragent = (typeof request.headers === 'string') ? request.headers['user-agent'] : '';
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/b575fa08650d71a9b5ed960c6391a281e6ac4bf6,b575fa08650d71a9b5ed960c6391a281e6ac4bf6,Fixing multi-word quit messges. Bug #28,2011-09-17 18:35:57+01:00,front.js,https://github.com/prawnsalad/KiwiIRC/raw/f9b56841647446198bd8487a9401736d249699f6/js/front.js,https://github.com/prawnsalad/KiwiIRC/raw/b575fa08650d71a9b5ed960c6391a281e6ac4bf6/js/front.js,"@@ -380,7 +380,7 @@ kiwi.front = {
                 break;
 
             case '/quit':
-                kiwi.gateway.quit(msg.split("" "", 2)[1]);
+                kiwi.gateway.quit(parts.slice(1).join(' '));
                 break;
 
             case '/topic':
",383,"kiwi.gateway.quit(msg.split("" "", 2)[1]);",kiwi.gateway.quit(parts.slice(1).join(' '));
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/b91949aaa16b6121d696ed40f8e891cb063a1f10,b91949aaa16b6121d696ed40f8e891cb063a1f10,"Toolbar resizing fix, formatIRCMessage returning undefined fix",2011-09-25 13:37:54+01:00,front.js,https://github.com/prawnsalad/KiwiIRC/raw/4fbc0f64b53444b0ada673dab251562ad1acfa74/js/front.js,https://github.com/prawnsalad/KiwiIRC/raw/b91949aaa16b6121d696ed40f8e891cb063a1f10/js/front.js,"@@ -460,7 +460,7 @@ kiwi.front = {
         var re, next;
 
         if ((!msg) || (typeof msg !== 'string')) {
-            return;
+            return '';
         }
 
         // bold
",463,return;,return '';
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/199527b671f91c6888464353a88d52e79ba5bb20,199527b671f91c6888464353a88d52e79ba5bb20,SSL checkbox fix,2011-10-01 21:06:19+01:00,front.js,https://github.com/prawnsalad/KiwiIRC/raw/0d9401e0833b968bdad89b687f825d0481fd18fe/js/front.js,https://github.com/prawnsalad/KiwiIRC/raw/199527b671f91c6888464353a88d52e79ba5bb20/js/front.js,"@@ -90,7 +90,7 @@ kiwi.front = {
 
             kiwi.front.ui.doLayout();
             try {
-                kiwi.front.run('/connect ' + netsel.val() + ' ' + netport.val() + ' ' + (netssl.attr('checked') ? 'true' : 'false') + ' ' + netpass.val());
+                kiwi.front.run('/connect ' + netsel.val() + ' ' + netport.val() + ' ' + (netssl.is(':checked') ? 'true' : 'false') + ' ' + netpass.val());
             } catch (e) {
                 console.log(e);
             }
",93,kiwi.front.run('/connect ' + netsel.val() + ' ' + netport.val() + ' ' + (netssl.attr('checked') ? 'true' : 'false') + ' ' + netpass.val());,kiwi.front.run('/connect ' + netsel.val() + ' ' + netport.val() + ' ' + (netssl.is(':checked') ? 'true' : 'false') + ' ' + netpass.val());
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/3010bd6cdd40967e83ab8be2f83d2b7c667b593e,3010bd6cdd40967e83ab8be2f83d2b7c667b593e,HTTP plugin handler SSL detection fix,2011-10-14 23:42:43+01:00,app.js,https://github.com/prawnsalad/KiwiIRC/raw/d423ee184bc8b3e9d9960f2f6b7c22bbc3113302/server/app.js,https://github.com/prawnsalad/KiwiIRC/raw/3010bd6cdd40967e83ab8be2f83d2b7c667b593e/server/app.js,"@@ -535,7 +535,7 @@ this.httpHandler = function (request, response) {
     //try {
         if (kiwi.config.handle_http) {
             // Run through any plugins..
-            args = {request: request, response: response};
+            args = {request: request, response: response, ssl: secure};
             obj = kiwi.kiwi_mod.run('http', args);
             if (obj === null) {
                 return;
",538,"args = {request: request, response: response};","args = {request: request, response: response, ssl: secure};"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/1dd6bebc9d46af89c86f388a4786e7f88b96354d,1dd6bebc9d46af89c86f388a4786e7f88b96354d,Tabview.getTab() comparison fix,2011-11-07 00:34:04+00:00,front.js,https://github.com/prawnsalad/KiwiIRC/raw/0b399cb03a3d1e329aa8968c4fbe5fd9f7da64c1/client/js/front.js,https://github.com/prawnsalad/KiwiIRC/raw/1dd6bebc9d46af89c86f388a4786e7f88b96354d/client/js/front.js,"@@ -1544,7 +1544,7 @@ Tabview.getTab = function (name) {
 
     // Go through each tabview and pick out the matching one
     $.each(kiwi.front.tabviews, function (i, item) {
-        if (item.name == name.toLowerCase()) {
+        if (item.name.toLowerCase() == name.toLowerCase()) {
             tab = item;
             return false;
         }
",1547,if (item.name == name.toLowerCase()) {,if (item.name.toLowerCase() == name.toLowerCase()) {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/21b87f6215034a591fb874776811d900683dfb89,21b87f6215034a591fb874776811d900683dfb89,Fix block comment and remove testing variable,2012-01-30 04:27:35+00:00,front.ui.js,https://github.com/prawnsalad/KiwiIRC/raw/ce119b06b6e8205f42f14c89b7612a177125f169/client/js/front.ui.js,https://github.com/prawnsalad/KiwiIRC/raw/21b87f6215034a591fb874776811d900683dfb89/client/js/front.ui.js,"@@ -396,7 +396,7 @@ kiwi.front.ui = {
                 return;
             }
             i++;
-        }
+        }*/
     },
 
 
",399,},}*/
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/6a61bfc841c5e2a1c1742a04c6d2c6e4766038d8,6a61bfc841c5e2a1c1742a04c6d2c6e4766038d8,Fix incorrect handing of NICK command,2012-07-31 22:27:23+01:00,irc-commands.js,https://github.com/prawnsalad/KiwiIRC/raw/b8e4d9f7d1b3945998a53feca3e0972f026fec26/server/irc-commands.js,https://github.com/prawnsalad/KiwiIRC/raw/6a61bfc841c5e2a1c1742a04c6d2c6e4766038d8/server/irc-commands.js,"@@ -327,7 +327,7 @@ var listeners = {
 				command.command = 'NICK';
 				this.client.sendIRCCommand(command);*/
                 //websocket.sendClientEvent('nick', {nick: msg.nick, ident: msg.ident, hostname: msg.hostname, newnick: msg.trailing});
-                this.client.sendIRCCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.trailing});
+                this.client.sendIRCCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.params[0]});
             },
     'TOPIC':                function (command) {
 				/*command.server = this.con_num;
",330,"this.client.sendIRCCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.trailing});","this.client.sendIRCCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.params[0]});"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/44197e59f58b85dd9461360ce2bb8c8172f5415a,44197e59f58b85dd9461360ce2bb8c8172f5415a,fix crashbug caused by using semicolons instead of commas and/or lack of require('underscore'),2012-09-21 23:26:55+01:00,irc-connection.js,https://github.com/prawnsalad/KiwiIRC/raw/9de9ae688a4133c0be14737a779c4149dab87477/server/irc-connection.js,https://github.com/prawnsalad/KiwiIRC/raw/44197e59f58b85dd9461360ce2bb8c8172f5415a/server/irc-connection.js,"@@ -55,7 +55,7 @@ IRCConnection.prototype.end = function (data, callback) {
     console.log('S<--', data);
     console.log('Closing docket');
     end.call(this, data + '\r\n', 'utf-8', callback);
-}
+};
 
 var write = function (data, encoding, callback) {
     this.socket.write(data, encoding, callback);
",58,},};
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/0ea112f0b46b91d0e02ded63257588fc2d8c47f9,0ea112f0b46b91d0e02ded63257588fc2d8c47f9,fix crashbug caused by using semicolons instead of commas and/or lack of require('underscore'),2012-09-22 16:50:47+01:00,irc-connection.js,https://github.com/prawnsalad/KiwiIRC/raw/d9dc8a65ada334af36ed777eaf2a556a923b2804/server/irc-connection.js,https://github.com/prawnsalad/KiwiIRC/raw/0ea112f0b46b91d0e02ded63257588fc2d8c47f9/server/irc-connection.js,"@@ -55,7 +55,7 @@ IRCConnection.prototype.end = function (data, callback) {
     console.log('S<--', data);
     console.log('Closing docket');
     end.call(this, data + '\r\n', 'utf-8', callback);
-}
+};
 
 var write = function (data, encoding, callback) {
     this.socket.write(data, encoding, callback);
",58,},};
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/8c906998d0cb1eef055099fc79ba8d800913d7fb,8c906998d0cb1eef055099fc79ba8d800913d7fb,Window onfocus timer fix,2012-10-12 14:40:00+01:00,view.js,https://github.com/prawnsalad/KiwiIRC/raw/e1d62cdfb3c444dc771273d45a26cc9042c50a02/client/dev/view.js,https://github.com/prawnsalad/KiwiIRC/raw/8c906998d0cb1eef055099fc79ba8d800913d7fb/client/dev/view.js,"@@ -984,7 +984,7 @@ kiwi.view.Application = Backbone.View.extend({
 
                     // Some browsers don't always update the last title correctly
                     // Wait a few seconds and then reset
-                    setTimeout(this.reset, 2000);
+                    setTimeout(that.reset, 2000);
                 });
 
                 $(window).blur(function (event) {
",987,"setTimeout(this.reset, 2000);","setTimeout(that.reset, 2000);"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/15fefff775548643bdad2af3b34e7235c9975351,15fefff775548643bdad2af3b34e7235c9975351,Reverse DNS fix. Passing client IP via username #99,2012-10-23 23:42:54+01:00,client.js,https://github.com/prawnsalad/KiwiIRC/raw/5fd6e2de60ad2ea1d3f5f211e6f30fd8446fb83f/server/client.js,https://github.com/prawnsalad/KiwiIRC/raw/15fefff775548643bdad2af3b34e7235c9975351/server/client.js,"@@ -99,7 +99,7 @@ function kiwiCommand(command, callback) {
 			if (command.hostname && command.port && command.nick) {
 				var con = new IrcConnection(command.hostname, command.port, command.ssl,
 					command.nick, {hostname: this.websocket.handshake.revdns, address: this.websocket.handshake.address.address},
-					command.password, null);
+					command.password);
 
 				var con_num = this.next_connection++;
 				this.irc_connections[con_num] = con;
",102,"command.password, null);",command.password);
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/0cfbecfc51cf8509c0e897b960dcaa26baaab4dc,0cfbecfc51cf8509c0e897b960dcaa26baaab4dc,Fix clashing object keys in RPL_WHOISSERVER,2012-11-01 16:36:01+00:00,model_application.js,https://github.com/prawnsalad/KiwiIRC/raw/831b41b0e07a2d34ff63ab506531f19917e1b462/client/assets/dev/model_application.js,https://github.com/prawnsalad/KiwiIRC/raw/0cfbecfc51cf8509c0e897b960dcaa26baaab4dc/client/assets/dev/model_application.js,"@@ -555,7 +555,7 @@ kiwi.model.Application = function () {
                     panel.addMsg(event.nick, 'is ' + event.nick + '!' + event.ident + '@' + event.host + ' * ' + event.msg, 'whois');
                 } else if (event.chans) {
                     panel.addMsg(event.nick, 'on ' + event.chans, 'whois');
-                } else if (event.server) {
+                } else if (event.irc_server) {
                     panel.addMsg(event.nick, 'using ' + event.server, 'whois');
                 } else if (event.msg) {
                     panel.addMsg(event.nick, event.msg, 'whois');
",558,} else if (event.server) {,} else if (event.irc_server) {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/0cfbecfc51cf8509c0e897b960dcaa26baaab4dc,0cfbecfc51cf8509c0e897b960dcaa26baaab4dc,Fix clashing object keys in RPL_WHOISSERVER,2012-11-01 16:36:01+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/831b41b0e07a2d34ff63ab506531f19917e1b462/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/0cfbecfc51cf8509c0e897b960dcaa26baaab4dc/server/irc/commands.js,"@@ -123,7 +123,7 @@ var listeners = {
 				command.command = 'RPL_WHOISSERVER';
 				this.client.sendIrcCommand(command);*/
                 //websocket.sendClientEvent('whois', {server: '', nick: msg.params.split("" "", 3)[1], ""msg"": msg.trailing, end: false});
-                this.client.sendIrcCommand('whois', {server: this.con_num, nick: command.params[1], server: command.params[2], end: false});
+                this.client.sendIrcCommand('whois', {server: this.con_num, nick: command.params[1], irc_server: command.params[2], end: false});
             },
     'RPL_WHOISOPERATOR':      function (command) {
 				/*command.server = this.con_num;
",126,"this.client.sendIrcCommand('whois', {server: this.con_num, nick: command.params[1], server: command.params[2], end: false});","this.client.sendIrcCommand('whois', {server: this.con_num, nick: command.params[1], irc_server: command.params[2], end: false});"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/6ca73220940c51035d6e1114b4e2b136a271e4b0,6ca73220940c51035d6e1114b4e2b136a271e4b0,fix typo,2012-11-04 23:27:22+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/19bd1b19dcaa570863880a538f70783c5461ef97/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/6ca73220940c51035d6e1114b4e2b136a271e4b0/server/irc/commands.js,"@@ -110,7 +110,7 @@ var listeners = {
                 }
                 //this.client.sendIrcCommand({server: this.con_num, command: 'RPL_ISUPPORT', options: this.irc_connection.options});
                 //websocket.sendClientEvent('options', {server: '', ""options"": irc_connection.IRC.options});
-                this.client.sendIrcCommand('options', {server: this.con_num, options: this.irc_connection.options, cap: this.irc_connections.cap.enabled});
+                this.client.sendIrcCommand('options', {server: this.con_num, options: this.irc_connection.options, cap: this.irc_connection.cap.enabled});
             },
     'RPL_ENDOFWHOIS':         function (command) {
 				/*command.server = this.con_num;
",113,"this.client.sendIrcCommand('options', {server: this.con_num, options: this.irc_connection.options, cap: this.irc_connections.cap.enabled});","this.client.sendIrcCommand('options', {server: this.con_num, options: this.irc_connection.options, cap: this.irc_connection.cap.enabled});"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/3dd5ff0a0cd17aace5795cb00b968139f35d7905,3dd5ff0a0cd17aace5795cb00b968139f35d7905,Fix some minor issues,2012-11-08 02:00:02+00:00,connection.js,https://github.com/prawnsalad/KiwiIRC/raw/2427e69ee0551a9445f8042a2e7cfdb8b8b06b8e/server/irc/connection.js,https://github.com/prawnsalad/KiwiIRC/raw/3dd5ff0a0cd17aace5795cb00b968139f35d7905/server/irc/connection.js,"@@ -105,7 +105,7 @@ var connect_handler = function () {
     this.write('CAP LS');
 
     this.registration_timeout = setTimeout(function () {
-        that.register.call(that);
+        that.register();
     }, 1000);
     
     this.connected = true;
",108,that.register.call(that);,that.register();
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/3811864327a314e51d701c18cd8b3fdbdd5a5f45,3811864327a314e51d701c18cd8b3fdbdd5a5f45,Server: Reading nick changes fix on Inspircd,2012-11-09 16:22:42+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/e380bc9ea62c317225b36b86a84b20f75406569b/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/3811864327a314e51d701c18cd8b3fdbdd5a5f45/server/irc/commands.js,"@@ -342,7 +342,7 @@ var listeners = {
 				command.command = 'NICK';
 				this.client.sendIrcCommand(command);*/
                 //websocket.sendClientEvent('nick', {nick: msg.nick, ident: msg.ident, hostname: msg.hostname, newnick: msg.trailing});
-                this.client.sendIrcCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.trailing});
+                this.client.sendIrcCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.trailing || command.params[0]});
             },
     'TOPIC':                function (command) {
 				/*command.server = this.con_num;
",345,"this.client.sendIrcCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.trailing});","this.client.sendIrcCommand('nick', {server: this.con_num, nick: command.nick, ident: command.ident, hostname: command.hostname, newnick: command.trailing || command.params[0]});"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/b09157de7df850222786c5f8ea7950c46408b143,b09157de7df850222786c5f8ea7950c46408b143,"Pass callback to state.connect, fix vars",2013-01-31 14:58:42+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/f4ec5774697dd2d9b06c8f26405e9a24f9a75e16/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/b09157de7df850222786c5f8ea7950c46408b143/server/irc/commands.js,"@@ -416,7 +416,7 @@ var listeners = {
                 hostname: command.hostname,
                 channel: command.params[0],
                 msg: command.trailing
-            );
+            });
         }
     },
     'CAP': function (command) {
",419,);,});
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/7d969e05be26c1010a49d1daa460fdaad423ff29,7d969e05be26c1010a49d1daa460fdaad423ff29,CTCP TIME fix,2013-01-31 14:58:44+00:00,model_application.js,https://github.com/prawnsalad/KiwiIRC/raw/df6d68a57c63ffd0ef16eb2e85bc5ed03e2503c8/client/assets/dev/model_application.js,https://github.com/prawnsalad/KiwiIRC/raw/7d969e05be26c1010a49d1daa460fdaad423ff29/client/assets/dev/model_application.js,"@@ -452,7 +452,7 @@ _kiwi.model.Application = function () {
             gw.on('onctcp_request', function (event) {
                 // Reply to a TIME ctcp
                 if (event.msg.toUpperCase() === 'TIME') {
-                    gw.ctcp(true, event.type, event.nick, (new Date()).toString());
+                    gw.ctcp(false, event.type, event.nick, (new Date()).toString());
                 }
             });
 
",455,"gw.ctcp(true, event.type, event.nick, (new Date()).toString());","gw.ctcp(false, event.type, event.nick, (new Date()).toString());"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/7d969e05be26c1010a49d1daa460fdaad423ff29,7d969e05be26c1010a49d1daa460fdaad423ff29,CTCP TIME fix,2013-01-31 14:58:44+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/df6d68a57c63ffd0ef16eb2e85bc5ed03e2503c8/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/7d969e05be26c1010a49d1daa460fdaad423ff29/server/irc/commands.js,"@@ -440,7 +440,7 @@ var listeners = {
             } else if (command.trailing.substr(1, 10) === 'CLIENTINFO') {
                 this.irc_connection.write('NOTICE ' + command.nick + ' :' + String.fromCharCode(1) + 'CLIENTINFO SOURCE VERSION TIME' + String.fromCharCode(1));
             } else {
-                namespace = (command.target == this.irc_connection.nick) ? 'user' : 'channel';
+                namespace = (command.params[0].toLowerCase() == this.irc_connection.nick.toLowerCase()) ? 'user' : 'channel';
                 this.irc_connection.emit(namespace + ':' + command.nick + ':ctcp_request', {
                     nick: command.nick,
                     ident: command.ident,
",443,namespace = (command.target == this.irc_connection.nick) ? 'user' : 'channel';,namespace = (command.params[0].toLowerCase() == this.irc_connection.nick.toLowerCase()) ? 'user' : 'channel';
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/9e8814a3299a9a6071aa10b5931cbd5fda810ff9,9e8814a3299a9a6071aa10b5931cbd5fda810ff9,Fix off-by-one error when handling bg colours.,2013-02-18 18:12:15+00:00,utils.js,https://github.com/prawnsalad/KiwiIRC/raw/4c2d8d020b873c57c76574b11f29236aa1d2ec67/client/assets/dev/utils.js,https://github.com/prawnsalad/KiwiIRC/raw/9e8814a3299a9a6071aa10b5931cbd5fda810ff9/client/assets/dev/utils.js,"@@ -371,7 +371,7 @@ function formatIRCMsg (msg) {
                     //console.log(i, to);
                     fg = col(match[1]);
                     bg = col(match[3]);
-                    str = msg.substring(i + 1 + match[1].length + ((bg !== null) ? match[2].length + 1 : 0), to);
+                    str = msg.substring(i + 1 + match[1].length + ((bg !== null) ? match[2].length : 0), to);
                     //console.log(str);
                     replace += '<span style=""' + ((fg !== null) ? 'color: ' + fg + '; ' : '') + ((bg !== null) ? 'background-color: ' + bg + ';' : '') + '"">' + str + '</span>';
                     i = to;
",374,"str = msg.substring(i + 1 + match[1].length + ((bg !== null) ? match[2].length + 1 : 0), to);","str = msg.substring(i + 1 + match[1].length + ((bg !== null) ? match[2].length : 0), to);"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/aa22caa919e30a198724f5c2b5f206605fc1c8ee,aa22caa919e30a198724f5c2b5f206605fc1c8ee,RPL_ENDOFBANLIST fix,2013-03-03 20:42:12+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/f8d98a12eb57c86db2e771a5eee2ed46d9958d1e/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/aa22caa919e30a198724f5c2b5f206605fc1c8ee/server/irc/commands.js,"@@ -252,7 +252,7 @@ var listeners = {
     },
     'RPL_ENDOFBANLIST': function (command) {
         this.irc_connection.emit('channel:' + command.params[1] + ':banlist_end', {
-            channel: commands.params[1]
+            channel: command.params[1]
         });
     },
     'RPL_TOPIC': function (command) {
",255,channel: commands.params[1],channel: command.params[1]
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/634434c0635624fe5555508e34ffc0445526389f,634434c0635624fe5555508e34ffc0445526389f,Fix minor omissions,2013-04-01 05:42:03+00:00,socks.js,https://github.com/prawnsalad/KiwiIRC/raw/57c223701b35439d4a8df08e6c52c2044c678656/server/socks.js,https://github.com/prawnsalad/KiwiIRC/raw/634434c0635624fe5555508e34ffc0445526389f/server/socks.js,"@@ -196,7 +196,7 @@ var startTLS = function () {
     var that = this;
     var plaintext = tls.connect({
         socket: this.socksSocket,
-        rejectUnauthorized: this.rejectUnauthorized
+        rejectUnauthorized: this.remote_options.rejectUnauthorized
     });
     
     plaintext.on('error', function (err) {
",199,rejectUnauthorized: this.rejectUnauthorized,rejectUnauthorized: this.remote_options.rejectUnauthorized
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/11177392108843cd52c8e4fbfccdf8994539b7bf,11177392108843cd52c8e4fbfccdf8994539b7bf,Client: ACTION fix,2013-05-22 23:42:18+01:00,gateway.js,https://github.com/prawnsalad/KiwiIRC/raw/58771329e0bd25636f9ad31f42fdd86886f9388b/client/assets/src/models/gateway.js,https://github.com/prawnsalad/KiwiIRC/raw/11177392108843cd52c8e4fbfccdf8994539b7bf/client/assets/src/models/gateway.js,"@@ -411,7 +411,7 @@ _kiwi.model.Gateway = function () {
     *   @param  {Function}  callback    A callback function
     */
     this.action = function (connection_id, target, msg, callback) {
-        this.ctcp(true, 'ACTION', target, msg, callback);
+        this.ctcp(connection_id, true, 'ACTION', target, msg, callback);
     };
 
     /**
",414,"this.ctcp(true, 'ACTION', target, msg, callback);","this.ctcp(connection_id, true, 'ACTION', target, msg, callback);"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/2cb3c82ef8e8f3e2c9f4c62f2470f6a9bd4b8321,2cb3c82ef8e8f3e2c9f4c62f2470f6a9bd4b8321,Fix broken italics handling,2013-05-25 22:02:56+01:00,utils.js,https://github.com/prawnsalad/KiwiIRC/raw/fdf0c026175944c37ff5e04f9ac509e9dc477c89/client/assets/src/helpers/utils.js,https://github.com/prawnsalad/KiwiIRC/raw/2cb3c82ef8e8f3e2c9f4c62f2470f6a9bd4b8321/client/assets/src/helpers/utils.js,"@@ -341,7 +341,7 @@ function formatIRCMsg (msg) {
             currentTag = spanFromOpen();
             break;
         case '\x1D':
-            if (an(openTags.bold || openTags.italic || openTags.underline || openTags.colour)) {
+            if ((openTags.bold || openTags.italic || openTags.underline || openTags.colour)) {
                 out += currentTag + '</span>';
             }
             openTags.italic = !openTags.italic;
",344,if (an(openTags.bold || openTags.italic || openTags.underline || openTags.colour)) {,if ((openTags.bold || openTags.italic || openTags.underline || openTags.colour)) {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/ceca5991d91e4206e41c809643411964cb554773,ceca5991d91e4206e41c809643411964cb554773,Userbox fix #274,2013-05-27 14:04:59+01:00,member.js,https://github.com/prawnsalad/KiwiIRC/raw/7d2a27717901790a19a9a132c8337265ee7a5cec/client/assets/src/views/member.js,https://github.com/prawnsalad/KiwiIRC/raw/ceca5991d91e4206e41c809643411964cb554773/client/assets/src/views/member.js,"@@ -10,7 +10,7 @@ _kiwi.view.Member = Backbone.View.extend({
 
         $this.addClass('mode ' + prefix_css_class);
         $this.html('<a class=""nick""><span class=""prefix"">' + this.model.get(""prefix"") + '</span>' + this.model.get(""nick"") + '</a>');
-        $this.data('member', this.model);
+
         return this;
     }
 });
\ No newline at end of file
",13,"$this.data('member', this.model);",
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/528cebc633a7345dcfc0f1ddff3d512e234eaf17,528cebc633a7345dcfc0f1ddff3d512e234eaf17,Joining invalid channel name exception fix #308,2013-06-20 22:15:02+01:00,application.js,https://github.com/prawnsalad/KiwiIRC/raw/2aeb721f8a58df76ba908c0344a36b5e95fadb22/client/assets/src/models/application.js,https://github.com/prawnsalad/KiwiIRC/raw/528cebc633a7345dcfc0f1ddff3d512e234eaf17/client/assets/src/models/application.js,"@@ -607,7 +607,7 @@ _kiwi.model.Application = function () {
             panels = that.connections.active_connection.createAndJoinChannels(channel_names);
 
             // Show the last channel if we have one
-            if (panels)
+            if (panels.length)
                 panels[panels.length - 1].view.show();
         }
 
",610,if (panels),if (panels.length)
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/4f19a296c1238dad36a2903d05e5be7f2f2640c1,4f19a296c1238dad36a2903d05e5be7f2f2640c1,Message doubling up in server panel fix,2013-07-25 23:47:47+01:00,network.js,https://github.com/prawnsalad/KiwiIRC/raw/fcf230a90fe91b05cea8c298f051278173800eb9/client/assets/src/models/network.js,https://github.com/prawnsalad/KiwiIRC/raw/4f19a296c1238dad36a2903d05e5be7f2f2640c1/client/assets/src/models/network.js,"@@ -409,7 +409,7 @@
         panel.addMsg('[' + (event.nick||'') + ']', event.msg);
 
         // Show this notice to the active panel if it didn't have a set target
-        if (!event.from_server && panel === this.panels.server)
+        if (!event.from_server && panel === this.panels.server && _kiwi.app.panels().active !== this.panels.server)
             _kiwi.app.panels().active.addMsg('[' + (event.nick||'') + ']', event.msg);
     }
 
",412,if (!event.from_server && panel === this.panels.server),if (!event.from_server && panel === this.panels.server && _kiwi.app.panels().active !== this.panels.server)
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/b70909a6fff01b0f2a4a4b21c274b44b1bbaa016,b70909a6fff01b0f2a4a4b21c274b44b1bbaa016,Client: Crashing out on notices with nicks fix,2013-08-09 11:33:35+01:00,network.js,https://github.com/prawnsalad/KiwiIRC/raw/6c7174f40dc69bc5b4a7f3185b7a35ab06cac296/client/assets/src/models/network.js,https://github.com/prawnsalad/KiwiIRC/raw/b70909a6fff01b0f2a4a4b21c274b44b1bbaa016/client/assets/src/models/network.js,"@@ -390,7 +390,7 @@
             panel = this.panels.getByName(event.target) || this.panels.getByName(event.nick);
 
             // Forward ChanServ messages to its associated channel
-            if (event.nick.toLowerCase() == 'chanserv' && event.msg.charAt(0) == '[') {
+            if (event.nick && event.nick.toLowerCase() == 'chanserv' && event.msg.charAt(0) == '[') {
                 channel_name = /\[([^ \]]+)\]/gi.exec(event.msg);
                 if (channel_name && channel_name[1]) {
                     channel_name = channel_name[1];
",393,if (event.nick.toLowerCase() == 'chanserv' && event.msg.charAt(0) == '[') {,if (event.nick && event.nick.toLowerCase() == 'chanserv' && event.msg.charAt(0) == '[') {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/e36914986306dc97095769cffb89492bac5fbbd8,e36914986306dc97095769cffb89492bac5fbbd8,CTCP time response fix,2013-09-10 17:35:03+01:00,network.js,https://github.com/prawnsalad/KiwiIRC/raw/093c5b379858cbdff788fe2b3d162303297319d2/client/assets/src/models/network.js,https://github.com/prawnsalad/KiwiIRC/raw/e36914986306dc97095769cffb89492bac5fbbd8/client/assets/src/models/network.js,"@@ -409,7 +409,7 @@
 
         // Reply to a TIME ctcp
         if (event.msg.toUpperCase() === 'TIME') {
-            this.gateway.ctcp(null, false, event.type, event.nick, (new Date()).toString());
+            this.gateway.ctcp(false, event.type, event.nick, (new Date()).toString());
         }
     }
 
",412,"this.gateway.ctcp(null, false, event.type, event.nick, (new Date()).toString());","this.gateway.ctcp(false, event.type, event.nick, (new Date()).toString());"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/d8b0ca686ec45cb3e2b02f7051af3aef0b639428,d8b0ca686ec45cb3e2b02f7051af3aef0b639428,"Fix code that ignores capability modifiers

No longer remove a '-' from the middle of a capability name",2013-09-28 17:52:25+01:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/ad590288aa67bdffef795f005678000d663e9adb/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/d8b0ca686ec45cb3e2b02f7051af3aef0b639428/server/irc/commands.js,"@@ -539,7 +539,7 @@ handlers = {
     'CAP': function (command) {
         // TODO: capability modifiers
         // i.e. - for disable, ~ for requires ACK, = for sticky
-        var capabilities = command.trailing.replace(/[\-~=]/, '').split(' ');
+        var capabilities = command.trailing.replace(/(?:^| )[\-~=]/, '').split(' ');
         var request;
 
         // Which capabilities we want to enable
",542,"var capabilities = command.trailing.replace(/[\-~=]/, '').split(' ');","var capabilities = command.trailing.replace(/(?:^| )[\-~=]/, '').split(' ');"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/a61a7bc86ba471694c2b07c515ab64eeaa3588bb,a61a7bc86ba471694c2b07c515ab64eeaa3588bb,Query panel fixes,2013-10-05 15:28:02+01:00,query.js,https://github.com/prawnsalad/KiwiIRC/raw/e3b5b619509ad8111ab29a94a10d87a3a861c6d7/client/assets/src/models/query.js,https://github.com/prawnsalad/KiwiIRC/raw/a61a7bc86ba471694c2b07c515ab64eeaa3588bb/client/assets/src/models/query.js,"@@ -1,4 +1,4 @@
-_kiwi.model.Query = _kiwi.model.Panel.extend({
+_kiwi.model.Query = _kiwi.model.Channel.extend({
     initialize: function (attributes) {
         var name = this.get(""name"") || """",
             members;
",1,_kiwi.model.Query = _kiwi.model.Panel.extend({,_kiwi.model.Query = _kiwi.model.Channel.extend({
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/6cd5ba87eec861cc1b58cfb235c4d50812cf162d,6cd5ba87eec861cc1b58cfb235c4d50812cf162d,SOCKS server fix,2013-11-02 13:00:45+00:00,connection.js,https://github.com/prawnsalad/KiwiIRC/raw/77997db8ef5d59541cc74168abaeebcfc033c571/server/irc/connection.js,https://github.com/prawnsalad/KiwiIRC/raw/6cd5ba87eec861cc1b58cfb235c4d50812cf162d/server/irc/connection.js,"@@ -187,7 +187,7 @@ IrcConnection.prototype.connect = function () {
         }
 
         // Are we connecting through a SOCKS proxy?
-        if (this.socks) {
+        if (that.socks) {
             that.socket = Socks.connect({
                 host: host,
                 port: that.irc_host.port,
",190,if (this.socks) {,if (that.socks) {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/75d92a3703e65c7ff652a345947016f1186f524e,75d92a3703e65c7ff652a345947016f1186f524e,server-time-iso fix,2013-11-15 11:09:23+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/eddb82ca48181985dc0d90964688447bb8845e00/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/75d92a3703e65c7ff652a345947016f1186f524e/server/irc/commands.js,"@@ -1017,7 +1017,7 @@ function getServerTime(command) {
         // Convert the time value to a unixtimestamp
         if (typeof time === 'string') {
             if (time.indexOf('T') > -1) {
-                time = parseISO8601(opts.time);
+                time = parseISO8601(time);
 
             } else if(time.match(/^[0-9.]+$/)) {
                 // A string formatted unix timestamp
",1020,time = parseISO8601(opts.time);,time = parseISO8601(time);
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/7829cee7e52939e714217375b8620533d3f74f33,7829cee7e52939e714217375b8620533d3f74f33,Fix for _kiwi.global.componets.ControlInput method in app.js changing the orther of the arguments of the function passed to _.each,2013-11-19 13:07:50+01:00,app.js,https://github.com/prawnsalad/KiwiIRC/raw/6803551efad3896dd79d4728ab1e8688f4af7662/client/src/app.js,https://github.com/prawnsalad/KiwiIRC/raw/7829cee7e52939e714217375b8620533d3f74f33/client/src/app.js,"@@ -91,7 +91,7 @@ _kiwi.global = {
                 processInput: 'run', addPluginIcon: 'addPluginIcon'
             };
 
-            _.each(funcs, function(controlbox_fn, func_name) {
+            _.each(funcs, function(func_name, controlbox_fn) {
                 obj[func_name] = function() {
                     var fn_name = controlbox_fn;
                     return _kiwi.app.controlbox[fn_name].apply(_kiwi.app.controlbox, arguments);
",94,"_.each(funcs, function(controlbox_fn, func_name) {","_.each(funcs, function(func_name, controlbox_fn) {"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/d63a5832eafb6f8e226a5e595432173ac6ab8028,d63a5832eafb6f8e226a5e595432173ac6ab8028,Fixed func mappings in _kiwi.global.components.ControlInput method of apps.js,2013-11-19 14:00:47+01:00,app.js,https://github.com/prawnsalad/KiwiIRC/raw/73b7cc4472a0c579f9625b699da40f0ee9ba3e6a/client/src/app.js,https://github.com/prawnsalad/KiwiIRC/raw/d63a5832eafb6f8e226a5e595432173ac6ab8028/client/src/app.js,"@@ -88,7 +88,7 @@ _kiwi.global = {
         ControlInput: function() {
             var obj = new this.EventComponent(_kiwi.app.controlbox);
             var funcs = {
-                processInput: 'run', addPluginIcon: 'addPluginIcon'
+                run: 'processInput', addPluginIcon: 'addPluginIcon'
             };
 
             _.each(funcs, function(controlbox_fn, func_name) {
",91,"processInput: 'run', addPluginIcon: 'addPluginIcon'","run: 'processInput', addPluginIcon: 'addPluginIcon'"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/aefdbb0986a7542fb8d5f680c8b6d5990de9769a,aefdbb0986a7542fb8d5f680c8b6d5990de9769a,"Fixed typo in config.example.js

Comment before module export had misspelled 'amend'.",2013-11-26 14:16:14-08:00,config.example.js,https://github.com/prawnsalad/KiwiIRC/raw/22609ddeec1c74f0d8a1465c918add20188e1663/config.example.js,https://github.com/prawnsalad/KiwiIRC/raw/aefdbb0986a7542fb8d5f680c8b6d5990de9769a/config.example.js,"@@ -201,6 +201,6 @@ conf.client = {
 
 
 /*
- * Do not ammend the below lines unless you understand the changes!
+ * Do not amend the below lines unless you understand the changes!
  */
 module.exports.production = conf;
",204,* Do not ammend the below lines unless you understand the changes!,* Do not amend the below lines unless you understand the changes!
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/1662b6ced9c5daeab1ad928d538b8999e35166f2,1662b6ced9c5daeab1ad928d538b8999e35166f2,Fix bug where parameters separated by multiple spaces woul result in empty string entries in the params array,2013-12-03 20:36:25+00:00,connection.js,https://github.com/prawnsalad/KiwiIRC/raw/72097c75de31fead200c40764aca57c0939e7f8e/server/irc/connection.js,https://github.com/prawnsalad/KiwiIRC/raw/1662b6ced9c5daeab1ad928d538b8999e35166f2/server/irc/connection.js,"@@ -755,6 +755,6 @@ function parseIrcLine(buffer_line) {
         trailing:   (msg[8]) ? msg[8].trim() : ''
     };
 
-    msg.params = msg.params.split(' ');
+    msg.params = msg.params.split(/ +/);
     this.irc_commands.dispatch(msg.command.toUpperCase(), msg);
 }
",758,msg.params = msg.params.split(' ');,msg.params = msg.params.split(/ +/);
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/03bf49a46f9df7800100229247cff31025b5f189,03bf49a46f9df7800100229247cff31025b5f189,Fix previous commit,2014-01-05 23:40:56+00:00,connection.js,https://github.com/prawnsalad/KiwiIRC/raw/7318cbc6419fefe8816f140e0d2dcf896a86c0ba/server/irc/connection.js,https://github.com/prawnsalad/KiwiIRC/raw/03bf49a46f9df7800100229247cff31025b5f189/server/irc/connection.js,"@@ -574,7 +574,7 @@ var socketConnectHandler = function () {
 
         if (global.config.default_gecos) {
             gecos = global.config.default_gecos.toString().replace('%n', that.nick);
-            gecos = gecos.toString().replace('%h', that.irc_host.hostname);
+            gecos = gecos.toString().replace('%h', that.user.hostname);
         }
 
         // Send any initial data for webirc/etc
",577,"gecos = gecos.toString().replace('%h', that.irc_host.hostname);","gecos = gecos.toString().replace('%h', that.user.hostname);"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/8c5113954de1bde45048e98252331716cd42a79e,8c5113954de1bde45048e98252331716cd42a79e,Fix auto-scrolling on applets,2014-02-13 00:15:58+01:00,channel.js,https://github.com/prawnsalad/KiwiIRC/raw/96910370eaf139c05f4c92821ce1c439236a78ea/client/src/views/channel.js,https://github.com/prawnsalad/KiwiIRC/raw/8c5113954de1bde45048e98252331716cd42a79e/client/src/views/channel.js,"@@ -209,7 +209,7 @@ _kiwi.view.Channel = _kiwi.view.Panel.extend({
             }
         }).apply(this);
 
-        this.scrollToBottom();
+        if(this.model.isActive()) this.scrollToBottom();
 
         // Make sure our DOM isn't getting too large (Acts as scrollback)
         this.msg_count++;
",212,this.scrollToBottom();,if(this.model.isActive()) this.scrollToBottom();
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/8c5113954de1bde45048e98252331716cd42a79e,8c5113954de1bde45048e98252331716cd42a79e,Fix auto-scrolling on applets,2014-02-13 00:15:58+01:00,panel.js,https://github.com/prawnsalad/KiwiIRC/raw/96910370eaf139c05f4c92821ce1c439236a78ea/client/src/views/panel.js,https://github.com/prawnsalad/KiwiIRC/raw/8c5113954de1bde45048e98252331716cd42a79e/client/src/views/panel.js,"@@ -57,7 +57,7 @@ _kiwi.view.Panel = Backbone.View.extend({
 
         _kiwi.app.view.doLayout();
 
-        this.scrollToBottom(true);
+        if(!this.model.applet) this.scrollToBottom(true);
     },
 
 
",60,this.scrollToBottom(true);,if(!this.model.applet) this.scrollToBottom(true);
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/207a777912b6b097cb1026aef53181185633f49e,207a777912b6b097cb1026aef53181185633f49e,Fix for #489,2014-02-23 21:09:22+01:00,application.js,https://github.com/prawnsalad/KiwiIRC/raw/588820ad23bed59b8c08692573a8c1ae365935de/client/src/models/application.js,https://github.com/prawnsalad/KiwiIRC/raw/207a777912b6b097cb1026aef53181185633f49e/client/src/models/application.js,"@@ -720,7 +720,7 @@
         message = formatToIrcMsg(ev.params.join(' '));
 
         panel.addMsg(_kiwi.app.connections.active_connection.get('nick'), message);
-        this.connections.active_connection.gateway.privmsg(destination, message);
+        this.connections.active_connection.gateway.msg(destination, message);
     }
 
     function actionCommand (ev) {
",723,"this.connections.active_connection.gateway.privmsg(destination, message);","this.connections.active_connection.gateway.msg(destination, message);"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/5301ab325c964ff216f2499d51ccc3337d9b6aa7,5301ab325c964ff216f2499d51ccc3337d9b6aa7,/list num. users as topic when topic is empty - fixed,2014-03-27 21:22:54+00:00,commands.js,https://github.com/prawnsalad/KiwiIRC/raw/b3b0ed4686002743acab4ab39e93e65a1db623e3/server/irc/commands.js,https://github.com/prawnsalad/KiwiIRC/raw/5301ab325c964ff216f2499d51ccc3337d9b6aa7/server/irc/commands.js,"@@ -281,7 +281,7 @@ handlers = {
         this.irc_connection.emit('server ' + this.irc_connection.irc_host.hostname + ' list_channel', {
             channel: command.params[1],
             num_users: parseInt(command.params[2], 10),
-            topic: command.params[command.params.length - 1]
+            topic: command.params[3] || ''
         });
     },
 
",284,topic: command.params[command.params.length - 1],topic: command.params[3] || ''
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/2bb0a45b1c90fa47954b5d06efa5b47d31f962ae,2bb0a45b1c90fa47954b5d06efa5b47d31f962ae,Fix missing nickname in actions,2014-04-04 09:47:33+02:00,application.js,https://github.com/prawnsalad/KiwiIRC/raw/8fbf9f284eaef116878781dac84cc1de3dcc0782/client/src/models/application.js,https://github.com/prawnsalad/KiwiIRC/raw/2bb0a45b1c90fa47954b5d06efa5b47d31f962ae/client/src/models/application.js,"@@ -709,7 +709,7 @@
         }
 
         var panel = _kiwi.app.panels().active;
-        panel.addMsg('', styleText('action', {'%T': _kiwi.app.connections.active_connection.get('nick') + ' ' + ev.params.join(' ')}), 'action');
+        panel.addMsg('', styleText('action', {'%N': _kiwi.app.connections.active_connection.get('nick'), '%T': ev.params.join(' ')}), 'action');
         this.connections.active_connection.gateway.action(panel.get('name'), ev.params.join(' '));
     }
 
",712,"panel.addMsg('', styleText('action', {'%T': _kiwi.app.connections.active_connection.get('nick') + ' ' + ev.params.join(' ')}), 'action');","panel.addMsg('', styleText('action', {'%N': _kiwi.app.connections.active_connection.get('nick'), '%T': ev.params.join(' ')}), 'action');"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/bed14c9c1b93f3ae4a3c309e0c795dff39ac8e0d,bed14c9c1b93f3ae4a3c309e0c795dff39ac8e0d,XSS fix in channel linking (courtesy of dispols),2014-04-10 13:12:09+01:00,channel.js,https://github.com/prawnsalad/KiwiIRC/raw/d07342197421176c257c7967fec3182e835dc2dd/client/src/views/channel.js,https://github.com/prawnsalad/KiwiIRC/raw/bed14c9c1b93f3ae4a3c309e0c795dff39ac8e0d/client/src/views/channel.js,"@@ -74,7 +74,7 @@ _kiwi.view.Channel = _kiwi.view.Panel.extend({
         if ((network = this.model.get('network'))) {
             re = new RegExp('(?:^|\\s)([' + escapeRegex(network.get('channel_prefix')) + '][^ ,\\007]+)', 'g');
             msg.msg = msg.msg.replace(re, function (match) {
-                return '<a class=""chan"" data-channel=""' + match.trim() + '"">' + match + '</a>';
+                return '<a class=""chan"" data-channel=""' + _.escape(match.trim()) + '"">' + _.escape(match.trim()) + '</a>';
             });
         }
 
",77,"return '<a class=""chan"" data-channel=""' + match.trim() + '"">' + match + '</a>';","return '<a class=""chan"" data-channel=""' + _.escape(match.trim()) + '"">' + _.escape(match.trim()) + '</a>';"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/7a6ef4aa3d3589c86dec6404aed97c6bb8d202e2,7a6ef4aa3d3589c86dec6404aed97c6bb8d202e2,Fixed additional host -> hostname,2014-06-04 22:37:11+01:00,network.js,https://github.com/prawnsalad/KiwiIRC/raw/2593272cecd358e1cddc57f77f377b9c93c906a6/client/src/models/network.js,https://github.com/prawnsalad/KiwiIRC/raw/7a6ef4aa3d3589c86dec6404aed97c6bb8d202e2/client/src/models/network.js,"@@ -734,7 +734,7 @@
             return;
 
         panel = _kiwi.app.panels().active;
-        if (event.host) {
+        if (event.hostname) {
             panel.addMsg(event.nick, styleText('who', {nick: event.nick, ident: event.ident, host: event.hostname, realname: event.real_name, text: event.msg}), 'whois');
         } else {
             panel.addMsg(event.nick, styleText('whois_notfound', {nick: event.nick, text: translateText('client_models_network_nickname_notfound', [])}), 'whois');
",737,if (event.host) {,if (event.hostname) {
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/33a443595f7da67f44a71e9ca798d7dcb0fe378b,33a443595f7da67f44a71e9ca798d7dcb0fe378b,"Recording scroll back fix, causing #608",2014-10-23 00:19:40+01:00,channel.js,https://github.com/prawnsalad/KiwiIRC/raw/89ae7bbf8158aed4687da6eaed767e9292ba0ee6/client/src/models/channel.js,https://github.com/prawnsalad/KiwiIRC/raw/33a443595f7da67f44a71e9ca798d7dcb0fe378b/client/src/models/channel.js,"@@ -99,7 +99,7 @@ _kiwi.model.Channel = _kiwi.model.Panel.extend({
 
             // Keep the scrolback limited
             if (bs.length > scrollback) {
-                bs.splice(scrollback);
+                bs = _.last(bs, scrollback);
             }
             this.set({""scrollback"": bs}, {silent: true});
         }
",102,bs.splice(scrollback);,"bs = _.last(bs, scrollback);"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/c37f372b90ed824b9e01340fbb00895e43746ab9,c37f372b90ed824b9e01340fbb00895e43746ab9,Addition to fix for #737,2015-08-15 18:27:07+02:00,utils.js,https://github.com/prawnsalad/KiwiIRC/raw/4abd05fff7e1d5c74084ca5f3b018f8356c06e21/client/src/helpers/utils.js,https://github.com/prawnsalad/KiwiIRC/raw/c37f372b90ed824b9e01340fbb00895e43746ab9/client/src/helpers/utils.js,"@@ -422,7 +422,7 @@ function formatIRCMsg (msg) {
 }
 
 function escapeRegex (str) {
-    return str.replace(/[\[\\\^\$\.\|\?\*\+\(\)]/g, '\\$&');
+    return str.replace(/[\[\]\\\^\$\.\|\?\*\+\-\(\)]/g, '\\$&');
 }
 
 function emoticonFromText(str) {
",425,"return str.replace(/[\[\\\^\$\.\|\?\*\+\(\)]/g, '\\$&');","return str.replace(/[\[\]\\\^\$\.\|\?\*\+\-\(\)]/g, '\\$&');"
KiwiIRC,https://github.com/prawnsalad/KiwiIRC,https://github.com/prawnsalad/KiwiIRC/commit/445ef4a54ab9eeab7188c75c166d1824ddb68579,445ef4a54ab9eeab7188c75c166d1824ddb68579,Fix whowas ident,2016-02-15 15:09:24+01:00,user.js,https://github.com/prawnsalad/KiwiIRC/raw/bf2db6ad762ed3a793730a0297bf2d41c7c28a08/server/irc/user.js,https://github.com/prawnsalad/KiwiIRC/raw/445ef4a54ab9eeab7188c75c166d1824ddb68579/server/irc/user.js,"@@ -206,7 +206,7 @@ function onWhoisEnd(event) {
 function onWhoWas(event) {
     this.irc_connection.clientEvent('whowas', {
         nick: event.nick,
-        ident: event.user,
+        ident: event.ident,
         hostname: event.host,
         real_name: event.real_name,
         end: false
",209,"ident: event.user,","ident: event.ident,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f147bea09d6c93d7b2d2cc23f9900918aa083107,f147bea09d6c93d7b2d2cc23f9900918aa083107,"Issue #5 fixed, opening of files does not work in the file view",2013-03-04 16:40:47+01:00,tags.ui.js,https://github.com/tagspaces/tagspaces/raw/2725522bed028c7b5df201517b6c19090206909f/data/js/tags.ui.js,https://github.com/tagspaces/tagspaces/raw/f147bea09d6c93d7b2d2cc23f9900918aa083107/data/js/tags.ui.js,"@@ -461,7 +461,7 @@ TagsUI.buttonizeTitle = function(title, fileName, filePath) {
 // Helper function user by basic and search views
 TagsUI.buttonizeFileName = function(fileName, filePath) {
     return $('<span>').append($('<button>', { 
-        	title: filePath, 
+        	title: fileName, 
         	filepath: filePath,
         	class: 'fileButton', 
         	text: fileName 
",464,"title: filePath,","title: fileName,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/5e52d1020577a15922e4db507843c8aa9cbd177a,5e52d1020577a15922e4db507843c8aa9cbd177a,"Bug fixing
Improvement for mozilla AMO editors",2013-03-24 23:24:14+01:00,tags.ui.js,https://github.com/tagspaces/tagspaces/raw/c48e60ea2672c471368fa3f747e11e2720505d54/data/js/tags.ui.js,https://github.com/tagspaces/tagspaces/raw/5e52d1020577a15922e4db507843c8aa9cbd177a/data/js/tags.ui.js,"@@ -116,7 +116,7 @@ define(function(require, exports, module) {
 	                break;
 	              case ""openDirectory"":
 	                console.debug(""Opening parent directory..."");   
-	                IOAPI.openDirectory(TSCORE.currentPath);
+	                TSCORE.IO.openDirectory(TSCORE.currentPath);
 	                break;
 	              case ""renameFile"":        
 	                console.debug(""Renaming file..."");
",119,IOAPI.openDirectory(TSCORE.currentPath);,TSCORE.IO.openDirectory(TSCORE.currentPath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/5d9c1c3998a818f205f7ba3a49660b2571b72cd1,5d9c1c3998a818f205f7ba3a49660b2571b72cd1,"Version 1.3.1287
Bugfixing",2013-03-31 23:55:06+02:00,ioapi.chrome.js,https://github.com/tagspaces/tagspaces/raw/54f6ef7a5c748a7971991da3b974eb6d355155d1/data/js/ioapi.chrome.js,https://github.com/tagspaces/tagspaces/raw/5d9c1c3998a818f205f7ba3a49660b2571b72cd1/data/js/ioapi.chrome.js,"@@ -76,7 +76,7 @@ define(function(require, exports, module) {
 				plugin.saveBinaryFile(newFilePath,plugin.getBinaryFile(filePath));
 				plugin.removeFile(filePath);
 	
-	            if(TSCORE.FileOpener.isFileOpened) {
+	            if(TSCORE.FileOpener.isFileOpened()) {
 	               TSCORE.FileOpener.openFile(newFilePath); 	
 	            }   			
 				TSCORE.ViewManager.refreshFileListContainer();
",79,if(TSCORE.FileOpener.isFileOpened) {,if(TSCORE.FileOpener.isFileOpened()) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/5d9c1c3998a818f205f7ba3a49660b2571b72cd1,5d9c1c3998a818f205f7ba3a49660b2571b72cd1,"Version 1.3.1287
Bugfixing",2013-03-31 23:55:06+02:00,ioapi.mozilla.receiver.js,https://github.com/tagspaces/tagspaces/raw/54f6ef7a5c748a7971991da3b974eb6d355155d1/data/js/ioapi.mozilla.receiver.js,https://github.com/tagspaces/tagspaces/raw/5d9c1c3998a818f205f7ba3a49660b2571b72cd1/data/js/ioapi.mozilla.receiver.js,"@@ -41,7 +41,7 @@ console.debug(""Loading messaging.mozilla.js.."");
 	        if(message.success){
 	            TSCORE.updateLogger(""Rename success"");   
 	            // message.content contains the name of the file after the rename
-	            if(TSCORE.FileOpener.isFileOpened) {
+	            if(TSCORE.FileOpener.isFileOpened()) {
 	               TSCORE.FileOpener.openFile(message.content); 	
 	            }
 	            // TODO to be replaced with a function which replaced the 
",44,if(TSCORE.FileOpener.isFileOpened) {,if(TSCORE.FileOpener.isFileOpened()) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/e53f9182e4b4f3289a5d9f2d827c927514347a47,e53f9182e4b4f3289a5d9f2d827c927514347a47,Console.debug replaced with console.log,2013-06-03 16:16:38+02:00,options.ui.js,https://github.com/tagspaces/tagspaces/raw/d4723d0b86f4f12fa9011d1a183ff454c167d2b3/data/js/options.ui.js,https://github.com/tagspaces/tagspaces/raw/e53f9182e4b4f3289a5d9f2d827c927514347a47/data/js/options.ui.js,"@@ -4,7 +4,7 @@
 define(function(require, exports, module) {
 ""use strict"";
 
-    console.debug(""Loading options.ui.js ..."");
+    console.log(""Loading options.ui.js ..."");
     
     var TSCORE = require(""tscore"");
 
",7,"console.debug(""Loading options.ui.js ..."");","console.log(""Loading options.ui.js ..."");"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/ee25e03a2af9259b8f348227d907fe56a76b6998,ee25e03a2af9259b8f348227d907fe56a76b6998,Fixed a bug in node io api preventing reading text files,2013-08-10 12:52:44+02:00,ioapi.node.js,https://github.com/tagspaces/tagspaces/raw/b8afe3748ae27a3fe3ed060add064de1148ffaf9/data/js/ioapi.node.js,https://github.com/tagspaces/tagspaces/raw/ee25e03a2af9259b8f348227d907fe56a76b6998/data/js/ioapi.node.js,"@@ -133,7 +133,7 @@ define(function(require, exports, module) {
     	
 	exports.loadTextFile = function(filePath) {
 		console.log(""Loading file: ""+filePath);
-        fs.readFile(filePath, function(error, content) {
+        fs.readFile(filePath, 'utf8', function(error, content) {
             if (error) {
                 console.log(""Loading file ""+filePath+"" failed ""+error);
                 return;
",136,"fs.readFile(filePath, function(error, content) {","fs.readFile(filePath, 'utf8', function(error, content) {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/77ebdc5acbeb6560b9cecfdf9b130e1138b6571d,77ebdc5acbeb6560b9cecfdf9b130e1138b6571d,fixed image opening in android,2013-09-04 16:26:27+02:00,core.ui.js,https://github.com/tagspaces/tagspaces/raw/2bf02885397b65f4de9f0bbd0be033fce9371a9c/data/js/core.ui.js,https://github.com/tagspaces/tagspaces/raw/77ebdc5acbeb6560b9cecfdf9b130e1138b6571d/data/js/core.ui.js,"@@ -242,7 +242,7 @@ define(function(require, exports, module) {
             TSCORE.showConfirmDialog(
                 ""Warning"",
                 ""Are you sure you want to restore the default application settings?\n""+
-                +""All manually made changes such as tags and taggroups will be lost."",
+                ""All manually made changes such as tags and taggroups will be lost."",
                 function() {
                     TSCORE.Config.loadDefaultSettings();                
                 }                
",245,"+""All manually made changes such as tags and taggroups will be lost."",","""All manually made changes such as tags and taggroups will be lost."","
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/e1e6c9a9d9c80bc49781055c00d01079053075f2,e1e6c9a9d9c80bc49781055c00d01079053075f2,fixing an issue with for retrieving of the default editor,2013-12-17 18:57:37+01:00,settings.api.js,https://github.com/tagspaces/tagspaces/raw/ed9de2be0fe557de328285b7c9ef4ea1bf3684d7/data/js/settings.api.js,https://github.com/tagspaces/tagspaces/raw/e1e6c9a9d9c80bc49781055c00d01079053075f2/data/js/settings.api.js,"@@ -364,7 +364,7 @@ define(function(require, exports, module) {
 	             return exports.Settings[""supportedFileTypes""][i].editor;
 	        }        
 	    }
-	    return ""false"";   
+	    return false;   
 	};
 	
 	var getFileTypeViewer = function(fileTypeExt) {
",367,"return ""false"";",return false;
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/efadb0701938e0c961c8d9af2d081f4a743dbf49,efadb0701938e0c961c8d9af2d081f4a743dbf49,fixing #23,2014-02-20 23:17:52+01:00,core.ui.js,https://github.com/tagspaces/tagspaces/raw/2d0345db817e5bd14da95e085a9802a637c124b0/data/js/core.ui.js,https://github.com/tagspaces/tagspaces/raw/efadb0701938e0c961c8d9af2d081f4a743dbf49/data/js/core.ui.js,"@@ -92,7 +92,7 @@ define(function(require, exports, module) {
             ""Delete File(s)"",
             ""The file \""""+filePath+""\"" will be permanently deleted and cannot be recovered. Are you sure?"",
             function() {
-                TSCORE.IO.deleteElement(TSCORE.selectedFiles[0]);
+                TSCORE.IO.deleteElement(filePath); 
             }
         );
     };    
",95,TSCORE.IO.deleteElement(TSCORE.selectedFiles[0]);,TSCORE.IO.deleteElement(filePath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/fd04b802a715db5a40987d49d52b88ccacac25db,fd04b802a715db5a40987d49d52b88ccacac25db,fixing issue with editorODF,2014-03-07 23:48:21+01:00,extension.js,https://github.com/tagspaces/tagspaces/raw/906d785569a5580b50152126e64e65cae0b35615/data/ext/editorODF/extension.js,https://github.com/tagspaces/tagspaces/raw/fd04b802a715db5a40987d49d52b88ccacac25db/data/ext/editorODF/extension.js,"@@ -23,7 +23,7 @@ define(function(require, exports, module) {
         var extPath = extensionDirectory+""/index.html"";
         $('#'+elementID).append($('<iframe>', {
             id: ""iframeViewer"",
-            src: extPath+""?cp=""+filePath
+            src: extPath+""?cp=""+filePath,
             ""nwdisable"": """",
             ""nwfaketop"": """",
         }));  
",26,"src: extPath+""?cp=""+filePath","src: extPath+""?cp=""+filePath,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f19a1bceca804767542161edfb8b446e0fd862a5,f19a1bceca804767542161edfb8b446e0fd862a5,fixing the opening issue firefox,2014-03-26 12:01:18+01:00,extension.js,https://github.com/tagspaces/tagspaces/raw/ff688584450716ed907223579ffc2ab6663e50c0/data/ext/viewerBrowser/extension.js,https://github.com/tagspaces/tagspaces/raw/f19a1bceca804767542161edfb8b446e0fd862a5/data/ext/viewerBrowser/extension.js,"@@ -37,7 +37,7 @@ define(function(require, exports, module) {
 
         $('#'+containerElID).empty();        
         
-        if(fileExt.indexOf(""htm"") == 0 || fileExt.indexOf(""xhtm"") == 0 || fileExt.indexOf(""txt"") == 0) {
+        if((fileExt.indexOf(""htm"") == 0 || fileExt.indexOf(""xhtm"") == 0 || fileExt.indexOf(""txt"") == 0) && !isFirefox) {
 	        $(""#""+containerElID).append($('<iframe>', {
 			    	id: ""iframeViewer"",
 					""nwdisable"": """",
",40,"if(fileExt.indexOf(""htm"") == 0 || fileExt.indexOf(""xhtm"") == 0 || fileExt.indexOf(""txt"") == 0) {","if((fileExt.indexOf(""htm"") == 0 || fileExt.indexOf(""xhtm"") == 0 || fileExt.indexOf(""txt"") == 0) && !isFirefox) {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/ce16d966b2d872153d33ba650b0ef5cf5f884087,ce16d966b2d872153d33ba650b0ef5cf5f884087,adding new debug comment,2014-05-13 22:51:56+02:00,loader.js,https://github.com/tagspaces/tagspaces/raw/cd5967a586a0ab2cc1df323a27a93704f90e48e6/data/loader.js,https://github.com/tagspaces/tagspaces/raw/ce16d966b2d872153d33ba650b0ef5cf5f884087/data/loader.js,"@@ -56,7 +56,7 @@ if( isFirefox ) {
 
 //IO_JS = ""js/ioapi.dropbox"";
 
-console.log(""Loading Loader - Firefox: ""+isFirefox+"" | ChromeExt: ""+isChrome+"" | Node: ""+isNode+"" | Cordova: ""+isCordova);
+console.log(""Loading Loader - Firefox: ""+isFirefox+"" | ChromeExt: ""+isChrome+"" | Node: ""+isNode+"" | Cordova: ""+isCordova+"" | Web: ""+isWeb+"" | isWin: ""+isWin);
 
 requirejs.config({
     map: {
",59,"console.log(""Loading Loader - Firefox: ""+isFirefox+"" | ChromeExt: ""+isChrome+"" | Node: ""+isNode+"" | Cordova: ""+isCordova);","console.log(""Loading Loader - Firefox: ""+isFirefox+"" | ChromeExt: ""+isChrome+"" | Node: ""+isNode+"" | Cordova: ""+isCordova+"" | Web: ""+isWeb+"" | isWin: ""+isWin);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/8bbb823eddc604762b4e65a834df7d2f75087aa0,8bbb823eddc604762b4e65a834df7d2f75087aa0,fixing refresh after deleting #149,2015-01-02 23:30:14+01:00,perspectiveUI.js,https://github.com/tagspaces/tagspaces/raw/8808d3899df97d81bc4728257992c79a0e95af7c/data/ext/perspectiveGrid/perspectiveUI.js,https://github.com/tagspaces/tagspaces/raw/8bbb823eddc604762b4e65a834df7d2f75087aa0/data/ext/perspectiveGrid/perspectiveUI.js,"@@ -653,7 +653,7 @@ console.log(""Loading UI for perspectiveDefault"");
         console.log(""Removing ""+filePath+"" from UI"");
 
         // Updating the file selection
-        TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(oldFilePath), 1);
+        TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(filePath), 1);
 
         if(isWin && !isWeb) {
             filePath = filePath.replace(""\\"","""");
",656,"TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(oldFilePath), 1);","TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(filePath), 1);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/8bbb823eddc604762b4e65a834df7d2f75087aa0,8bbb823eddc604762b4e65a834df7d2f75087aa0,fixing refresh after deleting #149,2015-01-02 23:30:14+01:00,perspectiveUI.js,https://github.com/tagspaces/tagspaces/raw/8808d3899df97d81bc4728257992c79a0e95af7c/data/ext/perspectiveList/perspectiveUI.js,https://github.com/tagspaces/tagspaces/raw/8bbb823eddc604762b4e65a834df7d2f75087aa0/data/ext/perspectiveList/perspectiveUI.js,"@@ -568,7 +568,7 @@ console.log(""Loading UI for perspectiveList"");
         console.log(""Removing from UI""+filePath+"" from UI"");
 
         // Updating the file selection
-        TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(oldFilePath), 1);
+        TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(filePath), 1);
 
         var row4remove;
         if(isWin && !isWeb) {
",571,"TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(oldFilePath), 1);","TSCORE.selectedFiles.splice(TSCORE.selectedFiles.indexOf(filePath), 1);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/454ecf0817afc5cb1065b53cc3ef6fb472fc5b40,454ecf0817afc5cb1065b53cc3ef6fb472fc5b40,fixing search issue,2015-01-26 20:44:22+01:00,core.ui.js,https://github.com/tagspaces/tagspaces/raw/8ddccddcea16fc9ab5aab720422cffcbd9af9a5e/data/js/core.ui.js,https://github.com/tagspaces/tagspaces/raw/454ecf0817afc5cb1065b53cc3ef6fb472fc5b40/data/js/core.ui.js,"@@ -586,7 +586,7 @@ define(function(require, exports, module) {
                 } else {
                     TSCORE.Search.nextQuery = this.value;
                 }
-                if (this.value.length <= 1) {
+                if (this.value.length === 0) {
                     TSCORE.Search.nextQuery = this.value;
                     $( ""#clearFilterButton"").removeClass(""filterOn"");
                     TSCORE.PerspectiveManager.redrawCurrentPerspective();
",589,if (this.value.length <= 1) {,if (this.value.length === 0) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1fe082393660d435dd596362fe56b26c7de7b7dd,1fe082393660d435dd596362fe56b26c7de7b7dd,fixing broken text viewer/editor #231,2015-04-04 17:53:46+02:00,extension.js,https://github.com/tagspaces/tagspaces/raw/925f3ecf02fa94d573fff21ff93063ff6d42f32a/data/ext/editorText/extension.js,https://github.com/tagspaces/tagspaces/raw/1fe082393660d435dd596362fe56b26c7de7b7dd/data/ext/editorText/extension.js,"@@ -35,7 +35,7 @@ define(function(require, exports, module) {
 
     $(""#"" + containerElementID).append('<div id=""code"" style=""width: 100%; height: 100%"">');
     var mode = filetype[fileExt];
-    if (mode === null) {
+    if (!mode) {
       mode = ""properties"";
     }
     require([
",38,if (mode === null) {,if (!mode) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1e33c391919786609f5805acfe0a88d2c1e25806,1e33c391919786609f5805acfe0a88d2c1e25806,Fixed old cordova file api property,2015-06-11 15:18:39+03:00,cordova.api.js,https://github.com/tagspaces/tagspaces/raw/4e64cab5d13c53e9c30facb9230fda4d7c09751a/data/cordova/cordova.api.js,https://github.com/tagspaces/tagspaces/raw/1e33c391919786609f5805acfe0a88d2c1e25806/data/cordova/cordova.api.js,"@@ -90,7 +90,7 @@ define(function(require, exports, module) {
     } else {
       var fileName = widgetAction.substring(widgetAction.lastIndexOf('/'), widgetAction.length);
       var newFileName = TSCORE.currentPath + fileName;
-      var newFileFullPath = fsRoot.fullPath + ""/"" + newFileName;
+      var newFileFullPath = fsRoot.nativeURL + ""/"" + newFileName;
       renameFile(widgetAction, newFileName);
       TSCORE.FileOpener.openFile(newFileFullPath);
     }
",93,"var newFileFullPath = fsRoot.fullPath + ""/"" + newFileName;","var newFileFullPath = fsRoot.nativeURL + ""/"" + newFileName;"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/6af5325ad843e35b8709cea6939088d23b89a747,6af5325ad843e35b8709cea6939088d23b89a747,fixed typo,2015-06-24 16:51:42+03:00,cordova.api.js,https://github.com/tagspaces/tagspaces/raw/40623e9660606af233a183af1e469985814e7bf3/data/cordova/cordova.api.js,https://github.com/tagspaces/tagspaces/raw/6af5325ad843e35b8709cea6939088d23b89a747/data/cordova/cordova.api.js,"@@ -236,7 +236,7 @@ define(function(require, exports, module) {
 
   }
 
-  function getFileContent(fullPath, resutl, error) {
+  function getFileContent(fullPath, result, error) {
 
     getFile(filePath, function(file) {
       var reader = new FileReader();
",239,"function getFileContent(fullPath, resutl, error) {","function getFileContent(fullPath, result, error) {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/6af5325ad843e35b8709cea6939088d23b89a747,6af5325ad843e35b8709cea6939088d23b89a747,fixed typo,2015-06-24 16:51:42+03:00,node-webkit.api.js,https://github.com/tagspaces/tagspaces/raw/40623e9660606af233a183af1e469985814e7bf3/data/node-webkit/node-webkit.api.js,https://github.com/tagspaces/tagspaces/raw/6af5325ad843e35b8709cea6939088d23b89a747/data/node-webkit/node-webkit.api.js,"@@ -652,7 +652,7 @@ define(function(require, exports, module) {
     xhr.send();
   }
 
-  function getFileContent(fullPath, resutl, error) {
+  function getFileContent(fullPath, result, error) {
 
     if (fullPath.indexOf(""file://"") === -1) {
       fullPath = ""file://"" + fullPath;
",655,"function getFileContent(fullPath, resutl, error) {","function getFileContent(fullPath, result, error) {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/2e2a5efee0e4fb4e61dc2e88ab03e8ed29bc44ac,2e2a5efee0e4fb4e61dc2e88ab03e8ed29bc44ac,Mozilla fixed utf8 convesion,2015-07-01 12:42:27+03:00,capture.js,https://github.com/tagspaces/tagspaces/raw/1390e1c84ac765576dffa3fdefda57391f209cad/data/mozilla/capture.js,https://github.com/tagspaces/tagspaces/raw/2e2a5efee0e4fb4e61dc2e88ab03e8ed29bc44ac/data/mozilla/capture.js,"@@ -71,7 +71,7 @@ exports.saveContentToFile = function (name, content) {
 
   var converter = Cc[""@mozilla.org/intl/converter-output-stream;1""].
       createInstance(Ci.nsIConverterOutputStream);
-  converter.init(foStream, ""UTF-8"", 0, 0);
+  converter.init(foStream, ""UTF-8"", 0, 0xFFFD);
   converter.writeString(content);
   converter.close();
 };
",74,"converter.init(foStream, ""UTF-8"", 0, 0);","converter.init(foStream, ""UTF-8"", 0, 0xFFFD);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f92a1e088848009ca465b300fb752c950c09950e,f92a1e088848009ca465b300fb752c950c09950e,fixing pro loader,2015-07-01 18:55:43+02:00,loader.js,https://github.com/tagspaces/tagspaces/raw/dd27f663d5d92c4a9ee339b7859ffe5f327a87eb/data/loader.js,https://github.com/tagspaces/tagspaces/raw/f92a1e088848009ca465b300fb752c950c09950e/data/loader.js,"@@ -55,7 +55,7 @@ if( isFirefox ) {
 }
 
 var PRO_JS = ""js/pro"";
-if(PRO === ""@@PROVERSION"") {
+if(PRO != ""false"") {
   PRO_JS = 'pro/js/pro.api';
 }
 
",58,"if(PRO === ""@@PROVERSION"") {","if(PRO != ""false"") {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/af3b1c9e9a37ef42ada8233dbb81c50303193db7,af3b1c9e9a37ef42ada8233dbb81c50303193db7,Edit default location fixes,2015-07-31 18:14:17+03:00,perspective.manager.js,https://github.com/tagspaces/tagspaces/raw/4e183aa0800e592065f6ee5f98d67fcd3b0ab9fa/data/js/perspective.manager.js,https://github.com/tagspaces/tagspaces/raw/af3b1c9e9a37ef42ada8233dbb81c50303193db7/data/js/perspective.manager.js,"@@ -41,7 +41,7 @@ define(function(require, exports, module) {
           if (perspectives.length === extensions.length) {
             initPerspectiveSwitcher();
             // Opening last saved location by the start of the application (not in firefox)
-            var lastLocation = TSCORE.Config.getLastOpenedLocation();
+            var lastLocation = TSCORE.Config.getDefaultLocation();
             if (lastLocation !== undefined && lastLocation.length >= 1 && !isFirefox) {
               TSCORE.openLocation(lastLocation);
               TSCORE.IO.checkAccessFileURLAllowed();
",44,var lastLocation = TSCORE.Config.getLastOpenedLocation();,var lastLocation = TSCORE.Config.getDefaultLocation();
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/41682c406e11eacc4f458e6b447f77b1dac7c700,41682c406e11eacc4f458e6b447f77b1dac7c700,fixing issue with meta information handling,2015-09-08 19:14:02+03:00,meta.js,https://github.com/tagspaces/tagspaces/raw/c7759d1a9191fabc6877a736df1307c81290aec5/data/js/meta.js,https://github.com/tagspaces/tagspaces/raw/41682c406e11eacc4f458e6b447f77b1dac7c700/data/js/meta.js,"@@ -150,7 +150,7 @@ define(function(require, exports, module) {
   function getTagsFromMetaFile(filePath) {
     var tags = [];
     var metaObj = findMetaObjectFromFileList(filePath);
-    if (metaObj.metaData && metaObj.metaData.tags) {
+    if (metaObj && metaObj.metaData && metaObj.metaData.tags) {
       metaObj.metaData.tags.forEach(function(elem) {
         tags.push({
           tag: elem.title,
",153,if (metaObj.metaData && metaObj.metaData.tags) {,if (metaObj && metaObj.metaData && metaObj.metaData.tags) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/09f7fbb3e290b75776fcc430b71485f330889a77,09f7fbb3e290b75776fcc430b71485f330889a77,Node-webkit dir rename fix,2015-12-09 15:15:28+02:00,node-webkit.api.js,https://github.com/tagspaces/tagspaces/raw/2590b051192836a9992d756e523a2d84bb422e89/data/node-webkit/node-webkit.api.js,https://github.com/tagspaces/tagspaces/raw/09f7fbb3e290b75776fcc430b71485f330889a77/data/node-webkit/node-webkit.api.js,"@@ -546,7 +546,7 @@ define(function(require, exports, module) {
   /** @deprecated */
   function renameDirectory(dirPath, newDirName) {
     var newDirPath = TSCORE.TagUtils.extractParentDirectoryPath(dirPath) + TSCORE.dirSeparator + newDirName;
-    renameDirectoryPromise(dirPath, newDirName).then(function() {
+    renameDirectoryPromise(dirPath, newDirPath).then(function() {
       TSCORE.hideWaitingDialog();
       TSPOSTIO.renameDirectory(dirPath, newDirPath);
     }, function(err) {
",549,"renameDirectoryPromise(dirPath, newDirName).then(function() {","renameDirectoryPromise(dirPath, newDirPath).then(function() {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/b8e45e31175a81b7a5ccdb9c46f7beb4e0d6b5f7,b8e45e31175a81b7a5ccdb9c46f7beb4e0d6b5f7,node-webkit create new files fix,2015-12-16 13:34:49+02:00,core.ui.js,https://github.com/tagspaces/tagspaces/raw/5b192d0d405602e92aa553e20d7b1b8d7ecb4108/data/js/core.ui.js,https://github.com/tagspaces/tagspaces/raw/b8e45e31175a81b7a5ccdb9c46f7beb4e0d6b5f7/data/js/core.ui.js,"@@ -876,7 +876,7 @@ define(function(require, exports, module) {
   }
 
   function createNewTextFile(filePath, content) {
-   TSCORE.IO.saveFilePromise(filePath, content).then(function() {
+   TSCORE.IO.saveFilePromise(filePath, content).then(function(isNewFile) {
       TSPOSTIO.saveTextFile(filePath, isNewFile);
     }, function(error) {
       TSCORE.hideLoadingAnimation();
",879,"TSCORE.IO.saveFilePromise(filePath, content).then(function() {","TSCORE.IO.saveFilePromise(filePath, content).then(function(isNewFile) {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f07bab87e12daa4eb6a0b4dd51846ea11339d35f,f07bab87e12daa4eb6a0b4dd51846ea11339d35f,fixing saving binary files,2015-12-20 17:34:55+01:00,node-webkit.api.js,https://github.com/tagspaces/tagspaces/raw/9dd621ecbacafbfcc5344c0ac0f62f3abab41236/data/node-webkit/node-webkit.api.js,https://github.com/tagspaces/tagspaces/raw/f07bab87e12daa4eb6a0b4dd51846ea11339d35f/data/node-webkit/node-webkit.api.js,"@@ -571,7 +571,7 @@ define(function(require, exports, module) {
   function saveBinaryFilePromise(filePath, content, overwrite) {
     console.log(""Saving binary file: "" + filePath);
     var buff = TSCORE.Utils.arrayBufferToBuffer(content);
-    return saveFilePromise(filePath, content, overwrite);
+    return saveFilePromise(filePath, buff, overwrite);
   }
 
 
",574,"return saveFilePromise(filePath, content, overwrite);","return saveFilePromise(filePath, buff, overwrite);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/91e354e273be45d225335ac51682ea0d2ec3b5f6,91e354e273be45d225335ac51682ea0d2ec3b5f6,quick fix for the search results,2016-01-07 09:34:16+01:00,search.js,https://github.com/tagspaces/tagspaces/raw/2340ea04d5ca86dd9375e5bc7e2f1e69c12609ec/data/js/search.js,https://github.com/tagspaces/tagspaces/raw/91e354e273be45d225335ac51682ea0d2ec3b5f6/data/js/search.js,"@@ -209,7 +209,7 @@ define(function(require, exports, module) {
           console.timeEnd(""walkDirectorySearch"");
           console.log(""Found "" + searchResults.length + "" out of "" + entries.length + "" entries."");
           TSCORE.Search.nextQuery = """";
-          TSCORE.PerspectiveManager.updateFileBrowserData(searchResults);
+          TSCORE.PerspectiveManager.updateFileBrowserData(searchResults, true);
           TSCORE.hideWaitingDialog();
         },
         function(err) {
",212,TSCORE.PerspectiveManager.updateFileBrowserData(searchResults);,"TSCORE.PerspectiveManager.updateFileBrowserData(searchResults, true);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/fd1688612a666a8ab34eb710c4f3917d6791304b,fd1688612a666a8ab34eb710c4f3917d6791304b,"i18n: extracting missing strings for OptionsDialog template, completing Polish translation for OptionsDialog, fix for main menu / darin (broken by previous commit)",2016-03-20 01:15:00+01:00,electron.api.js,https://github.com/tagspaces/tagspaces/raw/819591828ce4d114ce0b03f803f78c2c633c27f3/data/electron/electron.api.js,https://github.com/tagspaces/tagspaces/raw/fd1688612a666a8ab34eb710c4f3917d6791304b/data/electron/electron.api.js,"@@ -158,7 +158,7 @@ define(function(require, exports, module) {
 
     if (process.platform == 'darwin') {
       template.unshift({
-        label: name,
+        label: $.i18n.t(""ns.common:name""),
         submenu: [
           {
             label: $.i18n.t(""ns.common:aboutTagSpaces""),
",161,"label: name,","label: $.i18n.t(""ns.common:name""),"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/112147ae635b8fbbfd5dbf0089fea6d70e515ef9,112147ae635b8fbbfd5dbf0089fea6d70e515ef9,"Added flag to enable overwriting destination (which is already checked before).

This causes that the underlying code does not use links which does not work for network shares (at least AFP)

Fixes #358",2016-04-08 14:17:30+02:00,electron.api.js,https://github.com/tagspaces/tagspaces/raw/ab5990b52a57aa92c230c85482e6f6a29d00a544/data/electron/electron.api.js,https://github.com/tagspaces/tagspaces/raw/112147ae635b8fbbfd5dbf0089fea6d70e515ef9/data/electron/electron.api.js,"@@ -528,7 +528,7 @@ define(function(require, exports, module) {
       if (fs.existsSync(newFilePath)) {
         reject($.i18n.t(""ns.common:fileExists"", {fileName:newFilePath}), $.i18n.t(""ns.common:fileRenameFailed""));
       }
-      fs.move(filePath, newFilePath, function(error) {
+      fs.move(filePath, newFilePath, {clobber:true}, function(error) {
         if (error) {
           reject(""Renaming: "" + filePath + "" failed."");
         }
",531,"fs.move(filePath, newFilePath, function(error) {","fs.move(filePath, newFilePath, {clobber:true}, function(error) {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/cb2dab7dc6ab5573ff5ce8cd111dacd3343f9c8b,cb2dab7dc6ab5573ff5ce8cd111dacd3343f9c8b,fixing issue with creating directory from file menu,2016-06-21 00:09:41+02:00,electron.api.js,https://github.com/tagspaces/tagspaces/raw/a1cdb5246702c612b0da0101028574bdbf440a99/data/electron/electron.api.js,https://github.com/tagspaces/tagspaces/raw/cb2dab7dc6ab5573ff5ce8cd111dacd3343f9c8b/data/electron/electron.api.js,"@@ -121,7 +121,7 @@ define(function(require, exports, module) {
               if (!TSCORE.currentPath) {
                 TSCORE.showAlertDialog(""Not open current directory !"");
               } else {
-                TSCORE.showCreateDirectoryDialog();
+                TSCORE.showCreateDirectoryDialog(TSCORE.currentPath);
               }
             }
           },
",124,TSCORE.showCreateDirectoryDialog();,TSCORE.showCreateDirectoryDialog(TSCORE.currentPath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/13bdfafffbe1bba2c80b0c5e22e154cae9d3e397,13bdfafffbe1bba2c80b0c5e22e154cae9d3e397,fixing function call,2016-09-05 17:09:16+03:00,perspective.manager.js,https://github.com/tagspaces/tagspaces/raw/f7b04e72756b2e0ca52edf0099863c2173d35516/data/js/perspective.manager.js,https://github.com/tagspaces/tagspaces/raw/13bdfafffbe1bba2c80b0c5e22e154cae9d3e397/data/js/perspective.manager.js,"@@ -366,7 +366,7 @@ define(function(require, exports, module) {
   function setReadOnly(filePath) {
     for (var i = 0; i < perspectives.length; i++) {
       try {
-        return perspectives[i].setReadOnly(filePath);
+        perspectives[i].setReadOnly(filePath);
       } catch (e) {
         console.warn(""Error while executing 'setReadOnly' on "" + perspectives[i].ID + ' ' + e);
       }
",369,return perspectives[i].setReadOnly(filePath);,perspectives[i].setReadOnly(filePath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/dc9701adf2eed31bc78be5b027c9f382b66b42b1,dc9701adf2eed31bc78be5b027c9f382b66b42b1,fix bug in maps,2016-09-14 00:00:57+03:00,map.ui.js,https://github.com/tagspaces/tagspaces/raw/651eab8e4290c34477f80180ec483e06ae870bfc/data/js/map.ui.js,https://github.com/tagspaces/tagspaces/raw/dc9701adf2eed31bc78be5b027c9f382b66b42b1/data/js/map.ui.js,"@@ -148,7 +148,7 @@ define(function(require, exports, module) {
 
   function parseCoordinateMap(e) {
     var date = $('#dateInputCalendar')[0];
-    var long = lng >= 0 ? '+' + e.latlng.lng.toFixed(7) : '+' +  e.latlng.lng.toFixed(7);
+    var long = e.latlng.lng.toFixed(7) >= 0 ? '+' + e.latlng.lng.toFixed(7) : e.latlng.lng.toFixed(7);
     var dateValue = e.latlng.lat.toFixed(7) + """" + long;
     date.value = dateValue.trim();
   }
",151,var long = lng >= 0 ? '+' + e.latlng.lng.toFixed(7) : '+' +  e.latlng.lng.toFixed(7);,var long = e.latlng.lng.toFixed(7) >= 0 ? '+' + e.latlng.lng.toFixed(7) : e.latlng.lng.toFixed(7);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/d35119b6e83d37c454f058059737aec8e2b73e2a,d35119b6e83d37c454f058059737aec8e2b73e2a,Added GIF to the list of supported image extensions. Fixes #496,2016-09-30 19:41:29+03:00,meta.js,https://github.com/tagspaces/tagspaces/raw/ac96ba321da5aa61f1ce675afeaa32321fc80846/data/js/meta.js,https://github.com/tagspaces/tagspaces/raw/d35119b6e83d37c454f058059737aec8e2b73e2a/data/js/meta.js,"@@ -7,7 +7,7 @@ define(function(require, exports, module) {
   var TSCORE = require(""tscore"");
 
   var maxTmbSize = 300;
-  var supportedImageExtensions = [""jpg"", ""jpeg"", ""png""];
+  var supportedImageExtensions = [""jpg"", ""jpeg"", ""png"", ""gif""];
 
   function makeMetaPathByName(name) {
     return TSCORE.currentPath + TSCORE.dirSeparator + TSCORE.metaFolder + name;
",10,"var supportedImageExtensions = [""jpg"", ""jpeg"", ""png""];","var supportedImageExtensions = [""jpg"", ""jpeg"", ""png"", ""gif""];"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/4287db592419ecb6a7c26bb12f7864066897ece7,4287db592419ecb6a7c26bb12f7864066897ece7,fixing copying sidecars,2016-11-04 20:27:26+01:00,directories.ui.js,https://github.com/tagspaces/tagspaces/raw/4c6ecdf646b5e40902d72e0e56050896e03aa642/data/js/directories.ui.js,https://github.com/tagspaces/tagspaces/raw/4287db592419ecb6a7c26bb12f7864066897ece7/data/js/directories.ui.js,"@@ -527,7 +527,7 @@ define(function(require, exports, module) {
     });
 
     if (TSCORE.PRO && TSCORE.Config.getEnableMetaData()) {
-      TSCORE.Meta.createMetaFolder(dirPath);
+      TSCORE.Meta.createMetaFolderPromise(dirPath);
     }
   }
 
",530,TSCORE.Meta.createMetaFolder(dirPath);,TSCORE.Meta.createMetaFolderPromise(dirPath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/8ac53b47aaec08600ed50884205daedeafbd8c60,8ac53b47aaec08600ed50884205daedeafbd8c60,fixig various issue with handling sidecar files,2016-11-08 00:13:59+01:00,ioutils.js,https://github.com/tagspaces/tagspaces/raw/75f48eb0e224edb5b27a16d2258570087d6270ec/data/js/ioutils.js,https://github.com/tagspaces/tagspaces/raw/8ac53b47aaec08600ed50884205daedeafbd8c60/data/js/ioutils.js,"@@ -111,7 +111,7 @@ define(function(require, exports, module) {
 
     Promise.all(fileDeletionPromises).then(function(fList) {
       fList.forEach(function(filePath) {
-        TSCORE.Meta.updateMetaData(filePath);
+        TSCORE.Meta.deleteMetaData(filePath);
         TSCORE.PerspectiveManager.removeFileUI(filePath);
         if (filePath === TSCORE.FileOpener.getOpenedFilePath()) {
           TSCORE.FileOpener.closeFile(true);
",114,TSCORE.Meta.updateMetaData(filePath);,TSCORE.Meta.deleteMetaData(filePath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/8ac53b47aaec08600ed50884205daedeafbd8c60,8ac53b47aaec08600ed50884205daedeafbd8c60,fixig various issue with handling sidecar files,2016-11-08 00:13:59+01:00,postioapi.js,https://github.com/tagspaces/tagspaces/raw/75f48eb0e224edb5b27a16d2258570087d6270ec/data/js/postioapi.js,https://github.com/tagspaces/tagspaces/raw/8ac53b47aaec08600ed50884205daedeafbd8c60/data/js/postioapi.js,"@@ -87,7 +87,7 @@ define(function(require, exports, module) {
   exports.deleteElement = function(filePath) {
     TSCORE.showSuccessDialog(""File deleted successfully."");
     TSCORE.removeFileModel(TSCORE.fileList, filePath);
-    TSCORE.Meta.updateMetaData(filePath);
+    TSCORE.Meta.deleteMetaData(filePath);
     TSCORE.PerspectiveManager.removeFileUI(filePath);
     if (filePath === TSCORE.FileOpener.getOpenedFilePath()) {
       TSCORE.FileOpener.closeFile(true);
",90,TSCORE.Meta.updateMetaData(filePath);,TSCORE.Meta.deleteMetaData(filePath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/268f05a846919604b93cf6a4210f2075a92ddd5a,268f05a846919604b93cf6a4210f2075a92ddd5a,fixing js styling,2016-11-11 21:26:12+01:00,main.js,https://github.com/tagspaces/tagspaces/raw/0c00deae7ca073a11d372c44af2b9d68d5c18b1b/data/electron/main.js,https://github.com/tagspaces/tagspaces/raw/268f05a846919604b93cf6a4210f2075a92ddd5a/data/electron/main.js,"@@ -152,7 +152,7 @@ app.on('ready', function(event) {
 
   var ctrlName = ""Ctrl"";
   if (process.platform == 'darwin') {
-    ctrlName = ""Cmd""
+    ctrlName = ""Cmd"";
   }
 
   var trayMenuTemplate = [
",155,"ctrlName = ""Cmd""","ctrlName = ""Cmd"";"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/88633a98c677774c9b6804ba9c3affa1f02771a6,88633a98c677774c9b6804ba9c3affa1f02771a6,fixing #411,2017-01-12 14:12:36+01:00,web.api.js,https://github.com/tagspaces/tagspaces/raw/0e7faf994399aafa5325f5c5e9a3aea6046454fa/data/web/web.api.js,https://github.com/tagspaces/tagspaces/raw/88633a98c677774c9b6804ba9c3affa1f02771a6/data/web/web.api.js,"@@ -295,7 +295,7 @@ define(function(require, exports, module) {
   function getFileContentPromise(filePath, type) {
     console.log(""getFileContent file: "" + filePath);
     return new Promise(function(resolve, reject) {
-      var ajax = davClient.getAjax(""GET"", filePath);
+      var ajax = davClient.getAjax(""GET"", encodeURI(filePath));
       ajax.onreadystatechange = null;
       ajax.responseType = type || ""arraybuffer"";
       ajax.onerror = reject;
",298,"var ajax = davClient.getAjax(""GET"", filePath);","var ajax = davClient.getAjax(""GET"", encodeURI(filePath));"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/50b0bdd384362bd668339e5cd2f56645dfbb1956,50b0bdd384362bd668339e5cd2f56645dfbb1956,fixing loading plugins under windows,2017-03-20 16:22:53+01:00,extension.manager.js,https://github.com/tagspaces/tagspaces/raw/0669e4ca0e587fb90333962703bfc316056bbf79/data/js/extension.manager.js,https://github.com/tagspaces/tagspaces/raw/50b0bdd384362bd668339e5cd2f56645dfbb1956/data/js/extension.manager.js,"@@ -23,7 +23,7 @@ define(function(require, exports, module) {
     }
     if (isWin) {
       var extRealPath = location.href.replace(/file:\/\/\//gi, """").replace(/index.html/gi, extPath);
-      return extRealPath;
+      return decodeURI(extRealPath);
     }
     return location.href.replace(/file:\/\//gi, """").replace(/index.html/gi, extPath);
   }
",26,return extRealPath;,return decodeURI(extRealPath);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/006e633fa44982c85e80b579b669ba0763bf032e,006e633fa44982c85e80b579b669ba0763bf032e,fixing issue with removing multiple tags,2017-03-29 22:10:55+02:00,tagutils.js,https://github.com/tagspaces/tagspaces/raw/9b329787be6aa02c87c8d21f67dec11895d7b069/data/js/tagutils.js,https://github.com/tagspaces/tagspaces/raw/006e633fa44982c85e80b579b669ba0763bf032e/data/js/tagutils.js,"@@ -401,7 +401,7 @@ define(function(require, exports, module) {
       var fileName = extractFileName(filePath);
       var containingDirectoryPath = extractContainingDirectoryPath(filePath);
       for (var i = 0; i < tags.length; i++) {
-        if (extractedTags.indexOf(tagName) < 0) {
+        if (extractedTags.indexOf(tags[i].trim()) < 0) {
           TSCORE.UI.showAlertDialog(""The tag cannot be removed because it is not part of the file name."", $.i18n.t(""ns.common:warning""));
         }
         // check if tag is already in the tag array
",404,if (extractedTags.indexOf(tagName) < 0) {,if (extractedTags.indexOf(tags[i].trim()) < 0) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/7e2ed683bcae89e8c4ca47e7ccf082827ee980dc,7e2ed683bcae89e8c4ca47e7ccf082827ee980dc,fixing flow issue,2018-06-18 14:23:08+02:00,EditEntryTagDialog.js,https://github.com/tagspaces/tagspaces/raw/b9556a8da4cdf4b056351e103f19f02056ed520b/app/components/dialogs/EditEntryTagDialog.js,https://github.com/tagspaces/tagspaces/raw/7e2ed683bcae89e8c4ca47e7ccf082827ee980dc/app/components/dialogs/EditEntryTagDialog.js,"@@ -51,7 +51,7 @@ type Props = {
 };
 
 type State = {
-  errorTag?: string,
+  errorTag?: boolean,
   disableConfirmButton?: boolean,
   title?: string
 };
",54,"errorTag?: string,","errorTag?: boolean,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/3a545efa03c48692bed38b8a2260b5f418b5aac0,3a545efa03c48692bed38b8a2260b5f418b5aac0,fixing autosggest dialog,2018-06-26 09:47:29+02:00,index.js,https://github.com/tagspaces/tagspaces/raw/299e0930b9eee1c2818055425493e200e9d259e9/app/perspectives/grid-perspective/src/index.js,https://github.com/tagspaces/tagspaces/raw/3a545efa03c48692bed38b8a2260b5f418b5aac0/app/perspectives/grid-perspective/src/index.js,"@@ -976,7 +976,7 @@ class GridPerspective extends React.Component<Props, State> {
           </div>
         </div>
         <AddRemoveTagsDialog
-          selectedItem={this.props.selectedItem}
+          selectedItem={this.state.selectedItem}
           open={this.state.isAddRemoveTagsDialogOpened}
           onClose={this.handleCloseDialogs}
           selectedEntries={this.props.selectedEntries}
",979,selectedItem={this.props.selectedItem},selectedItem={this.state.selectedItem}
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/3e92daa8ed6975ff50b82116e11c6965b09a30b4,3e92daa8ed6975ff50b82116e11c6965b09a30b4,bugfix,2018-11-07 18:45:20+02:00,LocationManager.js,https://github.com/tagspaces/tagspaces/raw/97bfc881315698fca15dd10fe50dc50baee300d7/app/components/LocationManager.js,https://github.com/tagspaces/tagspaces/raw/3e92daa8ed6975ff50b82116e11c6965b09a30b4/app/components/LocationManager.js,"@@ -315,7 +315,7 @@ class LocationManager extends React.Component<Props, State> {
                 stack.push({ // pass args via object or array
                   element: children[i],
                   depth: depth + 1,
-                  propPath: '.' + i + '.children'
+                  propPath: (stackPath ? '.' + stackPath : '') + '.' + i + '.children'
                 });
               }
             }
",318,propPath: '.' + i + '.children',propPath: (stackPath ? '.' + stackPath : '') + '.' + i + '.children'
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/e502576f6812b9820809c8b65fde053c366cb8fc,e502576f6812b9820809c8b65fde053c366cb8fc,fixing issue with tagging of folders without .ts folder,2018-11-08 16:33:45+01:00,tagging-actions.js,https://github.com/tagspaces/tagspaces/raw/cef5dee343f6bfdd353d12e2f6e10989d3ea8993/app/reducers/tagging-actions.js,https://github.com/tagspaces/tagspaces/raw/e502576f6812b9820809c8b65fde053c366cb8fc/app/reducers/tagging-actions.js,"@@ -108,7 +108,7 @@ const actions = {
         return true;
       }).catch(() => {
         const newFsEntryMeta = {
-          processedTags
+          tags: processedTags
         };
         saveMetaDataPromise(path, newFsEntryMeta).then(() => {
           dispatch(AppActions.reflectUpdateSidecarTags(path, processedTags));
",111,processedTags,tags: processedTags
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/e5eb9190747f444085be54922fc1703084fe024a,e5eb9190747f444085be54922fc1703084fe024a,fixing issue with tags with the same name,2018-11-14 16:43:16+01:00,EntryProperties.js,https://github.com/tagspaces/tagspaces/raw/48d8789f983faf63aab736e0c0ea8a24b00e21d0/app/components/EntryProperties.js,https://github.com/tagspaces/tagspaces/raw/e5eb9190747f444085be54922fc1703084fe024a/app/components/EntryProperties.js,"@@ -366,7 +366,7 @@ class EntryProperties extends Component<Props, State> {
 
   renderTags = (tag: Object) => (
     <TagContainer
-      key={tag.title}
+      key={tag.id ? tag.id : tag.title}
       defaultTextColor={this.props.settings.tagTextColor}
       defaultBackgroundColor={this.props.settings.tagBackgroundColor}
       tag={tag}
",369,key={tag.title},key={tag.id ? tag.id : tag.title}
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f537abaf7dd4744abdc471f2f9860239ac266790,f537abaf7dd4744abdc471f2f9860239ac266790,fixing firefox scrolling css overlay issue,2018-11-21 11:48:34+01:00,EntryProperties.js,https://github.com/tagspaces/tagspaces/raw/dad0021910068d163022ae9b6014dcee396f83f2/app/components/EntryProperties.js,https://github.com/tagspaces/tagspaces/raw/f537abaf7dd4744abdc471f2f9860239ac266790/app/components/EntryProperties.js,"@@ -42,7 +42,7 @@ import PlatformIO from '../services/platform-io';
 
 const styles = theme => ({
   entryProperties: {
-    overflowY: 'overlay',
+    overflowY: AppConfig.isFirefox ? 'auto' : 'overlay',
     padding: 10
   },
   tags: {
",45,"overflowY: 'overlay',","overflowY: AppConfig.isFirefox ? 'auto' : 'overlay',"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f537abaf7dd4744abdc471f2f9860239ac266790,f537abaf7dd4744abdc471f2f9860239ac266790,fixing firefox scrolling css overlay issue,2018-11-21 11:48:34+01:00,AboutDialog.js,https://github.com/tagspaces/tagspaces/raw/dad0021910068d163022ae9b6014dcee396f83f2/app/components/dialogs/AboutDialog.js,https://github.com/tagspaces/tagspaces/raw/f537abaf7dd4744abdc471f2f9860239ac266790/app/components/dialogs/AboutDialog.js,"@@ -87,7 +87,7 @@ class AboutDialog extends React.Component<Props, State> {
   renderTitle = () => <DialogTitle>{productName}</DialogTitle>;
 
   renderContent = () => (
-    <DialogContent style={{ overflowY: 'overlay' }}>
+    <DialogContent>
       <img
         alt=""TagSpaces logo""
         src={LogoIcon}
",90,<DialogContent style={{ overflowY: 'overlay' }}>,<DialogContent>
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f537abaf7dd4744abdc471f2f9860239ac266790,f537abaf7dd4744abdc471f2f9860239ac266790,fixing firefox scrolling css overlay issue,2018-11-21 11:48:34+01:00,ThirdPartyLibsDialog.js,https://github.com/tagspaces/tagspaces/raw/dad0021910068d163022ae9b6014dcee396f83f2/app/components/dialogs/ThirdPartyLibsDialog.js,https://github.com/tagspaces/tagspaces/raw/f537abaf7dd4744abdc471f2f9860239ac266790/app/components/dialogs/ThirdPartyLibsDialog.js,"@@ -61,7 +61,7 @@ class ThirdPartyLibsDialog extends React.Component<Props, State> {
   renderTitle = () => <DialogTitle>{i18n.t('core:thirdPartyLibs')}</DialogTitle>;
 
   renderContent = () => (
-    <DialogContent style={{ overflowY: 'overlay', overflowX: 'auto' }}>
+    <DialogContent style={{ overflowX: 'auto' }}>
       <pre>{ this.state.thirdpartylibs }</pre>
     </DialogContent>
   );
",64,"<DialogContent style={{ overflowY: 'overlay', overflowX: 'auto' }}>",<DialogContent style={{ overflowX: 'auto' }}>
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/546230adf5492396ff191d8b5d4234bd9543511d,546230adf5492396ff191d8b5d4234bd9543511d,fixing broken language strings in Keybinding Settings,2018-11-22 16:01:19+01:00,SettingsKeyBindings.js,https://github.com/tagspaces/tagspaces/raw/6e3d9ed40018584c046e96e7ae79486e0a7f5c2a/app/components/settings/SettingsKeyBindings.js,https://github.com/tagspaces/tagspaces/raw/546230adf5492396ff191d8b5d4234bd9543511d/app/components/settings/SettingsKeyBindings.js,"@@ -93,7 +93,7 @@ class SettingsKeyBindings extends React.Component<Props> {
             InputLabelProps={{ shrink: true }}
             fullWidth
             onBlur={event => setKeyBinding(keyBinding.name, event.target.value)}
-            label={i18n.t(`core: ${keyBinding.name}`)}
+            label={i18n.t('core:' + keyBinding.name)}
             placeholder={`suggested binding: ${DefaultSettings.keyBindings.filter(kb => kb.name === keyBinding.name)[0].command}`}
             defaultValue={(isStr(keyBinding.command) ? keyBinding.command : '')}
           />
",96,label={i18n.t(`core: ${keyBinding.name}`)},label={i18n.t('core:' + keyBinding.name)}
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/87a7132d10375fec90c4503dd13a7bd7729c1767,87a7132d10375fec90c4503dd13a7bd7729c1767,fixing dropdown issue by autosuggest,2018-11-29 12:37:49+01:00,TagContainer.js,https://github.com/tagspaces/tagspaces/raw/66fe330ed7b37b816b19ebe2e151a54d8ead3d63/app/components/TagContainer.js,https://github.com/tagspaces/tagspaces/raw/87a7132d10375fec90c4503dd13a7bd7729c1767/app/components/TagContainer.js,"@@ -105,7 +105,7 @@ class TagContainer extends React.Component<Props> {
           backgroundColor: 'transparent',
           marginLeft: 4,
           marginTop: 0,
-          marginBottom: 0,
+          marginBottom: 4,
           display: 'inline-block'
         }}
       >
",108,"marginBottom: 0,","marginBottom: 4,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/150568ca02abc6669bc9d26ba1e14e2023274d48,150568ca02abc6669bc9d26ba1e14e2023274d48,fix tag dropdown and spliter overlap issue,2018-12-03 13:52:32+01:00,TagsSelect.js,https://github.com/tagspaces/tagspaces/raw/9b273614ae9d572ae0705516a41aa0e201db4ef6/app/components/TagsSelect.js,https://github.com/tagspaces/tagspaces/raw/150568ca02abc6669bc9d26ba1e14e2023274d48/app/components/TagsSelect.js,"@@ -76,7 +76,7 @@ const styles = theme => ({
   },
   paper: {
     position: 'absolute',
-    zIndex: 1,
+    zIndex: 2,
     marginTop: theme.spacing.unit,
     left: 0,
     right: 0,
",79,"zIndex: 1,","zIndex: 2,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/09811f3d8729401ec3e9cf03c3373ddfab0fe932,09811f3d8729401ec3e9cf03c3373ddfab0fe932,fixing document thumb generation,2018-12-03 16:18:14+01:00,webpack.config.worker.prod.js,https://github.com/tagspaces/tagspaces/raw/cd907a093cb3557445d0ecf5ada0c1c2d23abd5e/webpack.config.worker.prod.js,https://github.com/tagspaces/tagspaces/raw/09811f3d8729401ec3e9cf03c3373ddfab0fe932/webpack.config.worker.prod.js,"@@ -14,7 +14,7 @@ export default merge.smart(baseConfig, {
 
   target: 'electron-renderer',
 
-  entry: ['babel-polyfill', './app/splash-worker.js'],
+  entry: ['./app/splash-worker.js'],
 
   output: {
     filename: 'electron-worker.js',
",17,"entry: ['babel-polyfill', './app/splash-worker.js'],","entry: ['./app/splash-worker.js'],"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/8b8a49e2eafbf445002d265b5b9196ffab6858e6,8b8a49e2eafbf445002d265b5b9196ffab6858e6,"Tsn225 refine webdav io.js api (#784)

* Improve webdav implementation
* fix TSN225 - File and directory properties empty in the web version
* fix TSN226 - Bug - Fix or disable drag and drop in the web version
* fix file download link for Web",2018-12-05 15:29:03+01:00,MoveCopyFilesDialog.js,https://github.com/tagspaces/tagspaces/raw/4f71e61daa66574dc256f821615a276ac8e0aec9/app/components/dialogs/MoveCopyFilesDialog.js,https://github.com/tagspaces/tagspaces/raw/8b8a49e2eafbf445002d265b5b9196ffab6858e6/app/components/dialogs/MoveCopyFilesDialog.js,"@@ -152,7 +152,7 @@ class MoveCopyFilesDialog extends React.Component<Props, State> {
           onChange={e => this.handleInputChange(e)}
           value={this.state.targetPath}
           endAdornment={
-            PlatformIO.haveObjectStoreSupport() ? undefined :
+            PlatformIO.haveObjectStoreSupport() || AppConfig.isWeb ? undefined :
               (<InputAdornment position=""end"" style={{ height: 33 }}>
                 <IconButton
                   data-tid=""openDirectoryMoveCopyDialog""
",155,PlatformIO.haveObjectStoreSupport() ? undefined :,PlatformIO.haveObjectStoreSupport() || AppConfig.isWeb ? undefined :
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/922d90216c38c989697495bb1b88f1316b78fcd5,922d90216c38c989697495bb1b88f1316b78fcd5,fixing opening of the default location,2018-12-13 11:43:09+01:00,Root.js,https://github.com/tagspaces/tagspaces/raw/433a6524ba1512e743ea62b8ba6b67e5b01e1082/app/containers/Root.js,https://github.com/tagspaces/tagspaces/raw/922d90216c38c989697495bb1b88f1316b78fcd5/app/containers/Root.js,"@@ -46,7 +46,7 @@ function onBeforeLift(store) {
   const state = store.getState();
   const defaultLocationId = getDefaultLocationId(state);
   if (defaultLocationId && defaultLocationId.length > 0) {
-    store.dispatch(AppActions.openLocation(defaultLocationId));
+    store.dispatch(AppActions.openLocationById(defaultLocationId));
   }
   if (getCheckForUpdateOnStartup(state)) {
     store.dispatch(SettingsActions.checkForUpdate());
",49,store.dispatch(AppActions.openLocation(defaultLocationId));,store.dispatch(AppActions.openLocationById(defaultLocationId));
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/57919ee7b3a54406dc9db11f20969b1984ed69dc,57919ee7b3a54406dc9db11f20969b1984ed69dc,fix init devicePaths,2018-12-14 21:33:18+02:00,cordova-io.js,https://github.com/tagspaces/tagspaces/raw/f25a6538c75dba8efa81d29d87660c0a70a1ccee/app/services/cordova-io.js,https://github.com/tagspaces/tagspaces/raw/57919ee7b3a54406dc9db11f20969b1984ed69dc/app/services/cordova-io.js,"@@ -353,7 +353,7 @@ export default class CordovaIO {
     const paths = {
       Photos: 'sdcard/DCIM/',
       Pictures: 'sdcard/Pictures/',
-      Downloads: 'sdcard/Downloads/',
+      Download: 'sdcard/Download/',
       Music: 'sdcard/Music/',
       Movies: 'sdcard/Movies/',
       SDCard: 'sdcard/'
",356,"Downloads: 'sdcard/Downloads/',","Download: 'sdcard/Download/',"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/4737cc7d68214ee1850e5d1f715d4aeedf389e82,4737cc7d68214ee1850e5d1f715d4aeedf389e82,fixing broken web and cordova builds,2018-12-18 13:21:36+01:00,app.js,https://github.com/tagspaces/tagspaces/raw/052b20285f3c589c7f735abafc0236540956b9c9/app/reducers/app.js,https://github.com/tagspaces/tagspaces/raw/4737cc7d68214ee1850e5d1f715d4aeedf389e82/app/reducers/app.js,"@@ -573,7 +573,7 @@ export const actions = {
                     dispatch
                   );
                   // Make .ts a hidden folder under Windows
-                  if (AppConfig.isWin && !PlatformIO.haveObjectStoreSupport()) {
+                  if (AppConfig.isElectron && AppConfig.isWin && !PlatformIO.haveObjectStoreSupport()) {
                     winattr.set(metaDirectory, { hidden: true }, (err) => {
                       if (err) {
                         console.warn('Error setting hidden attr. to dir: ' + metaDirectory);
",576,if (AppConfig.isWin && !PlatformIO.haveObjectStoreSupport()) {,if (AppConfig.isElectron && AppConfig.isWin && !PlatformIO.haveObjectStoreSupport()) {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/6324b3975b8a8da4725d5bf20f5998ebd6f4ff3f,6324b3975b8a8da4725d5bf20f5998ebd6f4ff3f,TSN49 - E2E fixing tag group name data-tid,2019-01-08 16:39:19+02:00,TagLibrary.js,https://github.com/tagspaces/tagspaces/raw/1f9490858bfed1d896e0c79f85a37ba546d5c1da/app/components/TagLibrary.js,https://github.com/tagspaces/tagspaces/raw/6324b3975b8a8da4725d5bf20f5998ebd6f4ff3f/app/components/TagLibrary.js,"@@ -231,7 +231,7 @@ class TagLibrary extends React.Component<Props, State> {
   renderTagGroup = tagGroup => (
     <div key={tagGroup.uuid}>
       <ListItem
-        data-tid=""tagLibraryTagGroupTitleClick""
+        data-tid={'tagLibraryTagGroupTitle_' + tagGroup.title}
         button
         className={this.props.classes.listItem}
         onClick={event => this.handleTagGroupTitleClick(event, tagGroup)}
",234,"data-tid=""tagLibraryTagGroupTitleClick""",data-tid={'tagLibraryTagGroupTitle_' + tagGroup.title}
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/2b801398123dead8165f1514a02624ba2b9c48f6,2b801398123dead8165f1514a02624ba2b9c48f6,fixing brocked hidding hidden files and folders  #719 and #836,2019-01-13 14:41:01+01:00,app.js,https://github.com/tagspaces/tagspaces/raw/fa6a8d353da58aacae30239b5a5f5ccdf5451f14/app/reducers/app.js,https://github.com/tagspaces/tagspaces/raw/2b801398123dead8165f1514a02624ba2b9c48f6/app/reducers/app.js,"@@ -1178,7 +1178,7 @@ function prepareDirectoryContent(
   dirEntries.map(entry => {
     if (
       !settings.showUnixHiddenEntries &&
-      entry.name === AppConfig.metaFolder
+      entry.name.startsWith('.')
     ) {
       return true;
     }
",1181,entry.name === AppConfig.metaFolder,entry.name.startsWith('.')
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/dbfb305a8f5da6b0c812adcdedd0ac035895cd1a,dbfb305a8f5da6b0c812adcdedd0ac035895cd1a,fix bug in go to parent dir in s3,2019-01-25 15:28:57+01:00,app.js,https://github.com/tagspaces/tagspaces/raw/4ef7714cb1ef57039b393742e89ceb0abb61d925/app/reducers/app.js,https://github.com/tagspaces/tagspaces/raw/dbfb305a8f5da6b0c812adcdedd0ac035895cd1a/app/reducers/app.js,"@@ -547,7 +547,7 @@ export const actions = {
   ) => {
     const state = getState();
     const currentDirectoryPath = state.app.currentDirectoryPath;
-    const currentLocationPath = getCurrentLocationPath(state);
+    const currentLocationPath = normalizePath(getCurrentLocationPath(state));
 
     if (currentDirectoryPath) {
       const parentDirectory = extractParentDirectoryPath(currentDirectoryPath);
",550,const currentLocationPath = getCurrentLocationPath(state);,const currentLocationPath = normalizePath(getCurrentLocationPath(state));
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/a26c03ce04bbba8da3acfd69a175ea85c7ccd0bb,a26c03ce04bbba8da3acfd69a175ea85c7ccd0bb,Fixed showFilesWithThisTag function not working.,2019-01-27 01:13:31+01:00,TagMenu.js,https://github.com/tagspaces/tagspaces/raw/d7e3c5101e3553a42e5d7d371b2499cadf330821/app/components/menus/TagMenu.js,https://github.com/tagspaces/tagspaces/raw/a26c03ce04bbba8da3acfd69a175ea85c7ccd0bb/app/components/menus/TagMenu.js,"@@ -67,7 +67,7 @@ class TagLibraryMenu extends React.Component<Props, State> {
   showFilesWithThisTag = () => {
     if (this.props.selectedTag) {
       this.props.searchLocationIndex({
-        tags: [this.props.selectedTag.title],
+        tagsAND: [this.props.selectedTag.title],
         maxSearchResults: this.props.maxSearchResults
       });
     }
",70,"tags: [this.props.selectedTag.title],","tagsAND: [this.props.selectedTag.title],"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/c4722e66eca37904b38bc5de75dd57143c593016,c4722e66eca37904b38bc5de75dd57143c593016,"Fixed ""Show files with this tag"" button in tagMenu not starting a valid search.",2019-01-27 15:34:18+01:00,TagMenu.js,https://github.com/tagspaces/tagspaces/raw/a26c03ce04bbba8da3acfd69a175ea85c7ccd0bb/app/components/menus/TagMenu.js,https://github.com/tagspaces/tagspaces/raw/c4722e66eca37904b38bc5de75dd57143c593016/app/components/menus/TagMenu.js,"@@ -67,7 +67,7 @@ class TagLibraryMenu extends React.Component<Props, State> {
   showFilesWithThisTag = () => {
     if (this.props.selectedTag) {
       this.props.searchLocationIndex({
-        tagsAND: [this.props.selectedTag.title],
+        tagsAND: [this.props.selectedTag],
         maxSearchResults: this.props.maxSearchResults
       });
     }
",70,"tagsAND: [this.props.selectedTag.title],","tagsAND: [this.props.selectedTag],"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/fb0d51fa2763bbde18aafc590f5bfeab7f4ccfd6,fb0d51fa2763bbde18aafc590f5bfeab7f4ccfd6,disable dav debug mode,2019-01-28 13:59:46+01:00,webdavserver.js,https://github.com/tagspaces/tagspaces/raw/875bb2e695a1768d594dc56a0cfc4e993f2a0980/scripts/webdavserver.js,https://github.com/tagspaces/tagspaces/raw/fb0d51fa2763bbde18aafc590f5bfeab7f4ccfd6/scripts/webdavserver.js,"@@ -1,7 +1,7 @@
 const jsDAV = require('jsDAV/lib/jsdav');
 const jsDAV_Auth_Backend_File = require('jsDAV/lib/DAV/plugins/auth/file');
 
-jsDAV.debugMode = true;
+jsDAV.debugMode = false;
 jsDAV.createServer(
   {
     node: './web',
",4,jsDAV.debugMode = true;,jsDAV.debugMode = false;
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1afcfafe2daedca983962c19f839fc48382c1188,1afcfafe2daedca983962c19f839fc48382c1188,"Change MoreVertIcon color on tags to tag text color.
Fix https://github.com/tagspaces/tagspaces/issues/879",2019-01-29 18:00:03+01:00,TagContainer.js,https://github.com/tagspaces/tagspaces/raw/42be6ae9af7f3a480300151d212f0f4cbf71131d/app/components/TagContainer.js,https://github.com/tagspaces/tagspaces/raw/1afcfafe2daedca983962c19f839fc48382c1188/app/components/TagContainer.js,"@@ -88,7 +88,7 @@ class TagContainer extends React.Component<Props> {
         <MoreVertIcon
           data-tid={'tagMoreButton_' + tag.title.replace(/ /g, '_')}
           style={{
-            color: 'white'
+            color: tag.textColor
           }}
         />
       );
",91,color: 'white',color: tag.textColor
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/c7a53f76c41c89cd79d1b387f2a17cebccdc0b18,c7a53f76c41c89cd79d1b387f2a17cebccdc0b18,fixing #881,2019-01-29 23:01:01+01:00,OnboardingDialog.js,https://github.com/tagspaces/tagspaces/raw/9182435fb424093f2e1fb67b5c3edae0c9846329/app/components/dialogs/OnboardingDialog.js,https://github.com/tagspaces/tagspaces/raw/c7a53f76c41c89cd79d1b387f2a17cebccdc0b18/app/components/dialogs/OnboardingDialog.js,"@@ -119,7 +119,7 @@ class OnboardingDialog extends React.Component<Props, State> {
           >
             <Typography variant=""h4"">Welcome to TagSpaces</Typography>
             <Typography variant=""h6"">&nbsp;</Typography>
-            <Typography variant=""h6"">Your favorite file organizer has a fresh new looks</Typography>
+            <Typography variant=""h6"">Your favorite file organizer has a fresh new look</Typography>
             <img
               style={{ maxHeight: 340, marginTop: 15 }}
               src={NewLook}
",122,"<Typography variant=""h6"">Your favorite file organizer has a fresh new looks</Typography>","<Typography variant=""h6"">Your favorite file organizer has a fresh new look</Typography>"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1dfafc8400041786aa5c9de65ea0326e35684cbb,1dfafc8400041786aa5c9de65ea0326e35684cbb,Fix missing comma,2019-02-05 17:38:27+01:00,TagLibrary.js,https://github.com/tagspaces/tagspaces/raw/0d550a7f267f8aa504164819e402e2f564736b62/app/components/TagLibrary.js,https://github.com/tagspaces/tagspaces/raw/1dfafc8400041786aa5c9de65ea0326e35684cbb/app/components/TagLibrary.js,"@@ -368,7 +368,7 @@ function mapStateToProps(state) {
     tagGroups: getTagGroups(state),
     tagBackgroundColor: getTagColor(state),
     tagTextColor: getTagTextColor(state),
-    selectedEntries: getSelectedEntries(state)
+    selectedEntries: getSelectedEntries(state),
     allTags: getAllTags(state)
   };
 }
",371,selectedEntries: getSelectedEntries(state),"selectedEntries: getSelectedEntries(state),"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/658ca20c414e863ebd0edc3d5bb0d2c8221de65d,658ca20c414e863ebd0edc3d5bb0d2c8221de65d,deactivating debug mode,2019-02-17 11:05:42+01:00,index.js,https://github.com/tagspaces/tagspaces/raw/caf700b42fb4071f1f79dcb218e2b2a1e6f551da/app/reducers/index.js,https://github.com/tagspaces/tagspaces/raw/658ca20c414e863ebd0edc3d5bb0d2c8221de65d/app/reducers/index.js,"@@ -35,7 +35,7 @@ const rootPersistConfig = {
   storage,
   version: 1,
   blacklist: ['app', 'locationIndex'],
-  debug: true,
+  debug: false,
   // https://github.com/rt2zz/redux-persist/blob/b6a60bd653d59c4fe462e2e0ea827fd76eb190e1/README.md#state-reconciler
   // stateReconciler: autoMergeLevel2,
 };
",38,"debug: true,","debug: false,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/0f57d7b7931145175bd39a738d12ae80f44684ad,0f57d7b7931145175bd39a738d12ae80f44684ad,fixing removed showinfilemanager button,2019-03-16 14:33:22+01:00,DirectoryMenu.js,https://github.com/tagspaces/tagspaces/raw/d4aa79dc462797389f945e57f79c74cbcc0ec121/app/components/menus/DirectoryMenu.js,https://github.com/tagspaces/tagspaces/raw/0f57d7b7931145175bd39a738d12ae80f44684ad/app/components/menus/DirectoryMenu.js,"@@ -349,7 +349,7 @@ class DirectoryMenu extends React.Component<Props, State> {
               <ListItemText inset primary={i18n.t('core:deleteDirectory')} />
             </MenuItem>
           )}
-          {AppConfig.isWeb && (
+          {!AppConfig.isWeb && (
             <MenuItem
               data-tid=""showInFileManager""
               onClick={this.showInFileManager}
",352,{AppConfig.isWeb && (,{!AppConfig.isWeb && (
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1c07a6fba2e7d4300216a8018c626196236bdfbc,1c07a6fba2e7d4300216a8018c626196236bdfbc,TSN305 fixing deleteDirectoryDialog error,2019-04-15 15:21:18+02:00,DirectoryMenu.js,https://github.com/tagspaces/tagspaces/raw/55ce9440e41f230f8108d2453a602f7d8e2eec0a/app/components/menus/DirectoryMenu.js,https://github.com/tagspaces/tagspaces/raw/1c07a6fba2e7d4300216a8018c626196236bdfbc/app/components/menus/DirectoryMenu.js,"@@ -106,7 +106,7 @@ const DirectoryMenu = (props: Props) => {
 
   function showDeleteDirectoryDialog() {
     props.onClose();
-    setIsDeleteDirectoryDialogOpened(false);
+    setIsDeleteDirectoryDialogOpened(true);
   }
 
   function showRenameDirectoryDialog() {
",109,setIsDeleteDirectoryDialogOpened(false);,setIsDeleteDirectoryDialogOpened(true);
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/34c4a8d2395e485eaa39b2559ad72c48d715398e,34c4a8d2395e485eaa39b2559ad72c48d715398e,fixing background color of license text in dark mode,2019-06-06 12:02:59+02:00,LicenseDialog.js,https://github.com/tagspaces/tagspaces/raw/1d5ba144e665017014e358c1dd0c00891efe38b4/app/components/dialogs/LicenseDialog.js,https://github.com/tagspaces/tagspaces/raw/34c4a8d2395e485eaa39b2559ad72c48d715398e/app/components/dialogs/LicenseDialog.js,"@@ -68,7 +68,7 @@ const LicenseDialog = (props: Props) => {
         // }}
         style={{ overflow: AppConfig.isFirefox ? 'auto' : 'overlay' }}
       >
-        <pre style={{ whiteSpace: 'pre-wrap' }} >
+        <pre style={{ whiteSpace: 'pre-wrap', backgroundColor: 'white', color: 'black' }} >
           {Pro ? Pro.EULAContent : LicenseContent}
         </pre>
       </DialogContent>
",71,<pre style={{ whiteSpace: 'pre-wrap' }} >,"<pre style={{ whiteSpace: 'pre-wrap', backgroundColor: 'white', color: 'black' }} >"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/520d0703753cd041af16c78ef56ad6bb9158c671,520d0703753cd041af16c78ef56ad6bb9158c671,"Tsn325 add create custom date smart tag with dialog (#995)

* upgrade to material ui 4.x
* add date smart tag dialog
* fix bug: new geo/date tags is not added if its have metadata for the file
* fix date range
* localize",2019-07-24 10:21:55+02:00,VerticalNavigation.js,https://github.com/tagspaces/tagspaces/raw/17c3db0500d5f23ea3b06e30fa37e9b1e627daf1/app/components/VerticalNavigation.js,https://github.com/tagspaces/tagspaces/raw/520d0703753cd041af16c78ef56ad6bb9158c671/app/components/VerticalNavigation.js,"@@ -622,4 +622,4 @@ function mapActionCreatorsToProps(dispatch) {
 export default connect(
   mapStateToProps,
   mapActionCreatorsToProps
-)(withTheme()(VerticalNavigation));
+)(withTheme(VerticalNavigation));
",625,)(withTheme()(VerticalNavigation));,)(withTheme(VerticalNavigation));
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/f39299190ada2ae9cb727c28a7c366081ee5ba76,f39299190ada2ae9cb727c28a7c366081ee5ba76,Fixing missing word break in the grid perspective row,2019-08-17 13:38:48+03:00,CellContent.js,https://github.com/tagspaces/tagspaces/raw/1e0a1e37285381e33b187a32f11a3d59900c88d0/app/perspectives/grid-perspective/components/CellContent.js,https://github.com/tagspaces/tagspaces/raw/f39299190ada2ae9cb727c28a7c366081ee5ba76/app/perspectives/grid-perspective/components/CellContent.js,"@@ -226,7 +226,7 @@ const CellContent = (props: Props) => {
           )}
         </Grid>
         <Grid item xs zeroMinWidth>
-          <Typography>
+          <Typography style={{ wordBreak: 'break-all' }}>
             {extractTitle(fsEntry.name, !fsEntry.isFile)}
           </Typography>
           {fsEntry.tags.map(tag => renderTag(tag))}
",229,<Typography>,<Typography style={{ wordBreak: 'break-all' }}>
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/c916c1399c716784c2cc7f21725c162716f10981,c916c1399c716784c2cc7f21725c162716f10981,Fixing small issue with license dialog,2019-08-17 15:11:25+03:00,LicenseDialog.js,https://github.com/tagspaces/tagspaces/raw/c7b9456c6dd867acd6d5caf404541d26d40f00f1/app/components/dialogs/LicenseDialog.js,https://github.com/tagspaces/tagspaces/raw/c916c1399c716784c2cc7f21725c162716f10981/app/components/dialogs/LicenseDialog.js,"@@ -68,7 +68,7 @@ const LicenseDialog = (props: Props) => {
         // }}
         style={{ overflow: AppConfig.isFirefox ? 'auto' : 'overlay' }}
       >
-        <pre style={{ whiteSpace: 'pre-wrap', backgroundColor: 'white', color: 'black' }} >
+        <pre style={{ whiteSpace: 'pre-wrap' }} >
           {Pro ? Pro.EULAContent : LicenseContent}
         </pre>
       </DialogContent>
",71,"<pre style={{ whiteSpace: 'pre-wrap', backgroundColor: 'white', color: 'black' }} >",<pre style={{ whiteSpace: 'pre-wrap' }} >
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/4ffcfe78619ca039f8fd4ae22c3035a47041fd35,4ffcfe78619ca039f8fd4ae22c3035a47041fd35,fixing ui shift on location change in web,2019-08-19 13:18:52+03:00,LocationManager.js,https://github.com/tagspaces/tagspaces/raw/604fcb48a2dd17e97bf9aa6097e91734ff239340/app/components/LocationManager.js,https://github.com/tagspaces/tagspaces/raw/4ffcfe78619ca039f8fd4ae22c3035a47041fd35/app/components/LocationManager.js,"@@ -460,7 +460,7 @@ class LocationManager extends React.Component<Props, State> {
     const firstGridItem = grid.querySelector('div');
 
     if (isObj(firstGridItem)) {
-      firstGridItem.scrollIntoView({ top: 0 });
+      firstGridItem.parentNode.scrollTop = target.offsetTop;
     }
   };
 
",463,firstGridItem.scrollIntoView({ top: 0 });,firstGridItem.parentNode.scrollTop = target.offsetTop;
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/097ef557739afedba629b1702a1ff78786cb098c,097ef557739afedba629b1702a1ff78786cb098c,fixing a type in tag library configuration,2019-09-26 12:36:59+02:00,smart-tags.js,https://github.com/tagspaces/tagspaces/raw/1db4b8cf59af7f453b23a2cf4c2088f69337121f/app/reducers/smart-tags.js,https://github.com/tagspaces/tagspaces/raw/097ef557739afedba629b1702a1ff78786cb098c/app/reducers/smart-tags.js,"@@ -3,7 +3,7 @@ export default (i18n) => ([
     title: i18n.t('core:smartTags'),
     uuid: 'd4b5c16a-1c3a-4561-96c7-686696cb2004',
     expanded: true,
-    desciption: '',
+    description: '',
     color: '#4986e7',
     textcolor: '#ffffff',
     readOnly: true,
",6,"desciption: '',","description: '',"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/097ef557739afedba629b1702a1ff78786cb098c,097ef557739afedba629b1702a1ff78786cb098c,fixing a type in tag library configuration,2019-09-26 12:36:59+02:00,taglibrary-default.js,https://github.com/tagspaces/tagspaces/raw/1db4b8cf59af7f453b23a2cf4c2088f69337121f/app/reducers/taglibrary-default.js,https://github.com/tagspaces/tagspaces/raw/097ef557739afedba629b1702a1ff78786cb098c/app/reducers/taglibrary-default.js,"@@ -107,7 +107,7 @@ export default [
         id: uuidv1(),
         type: 'plain',
         title: 'high',
-        desciption: '',
+        description: '',
         color: '#ff7537',
         textcolor: '#ffffff',
       },
",110,"desciption: '',","description: '',"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1406b55706ba65f04e290f69846c28530982b4cb,1406b55706ba65f04e290f69846c28530982b4cb,fixing componentWillMount warnings,2019-10-15 12:06:58+02:00,EntryProperties.js,https://github.com/tagspaces/tagspaces/raw/6f73bb8792a1b1c6cdae2622ad4200b36087f374/app/components/EntryProperties.js,https://github.com/tagspaces/tagspaces/raw/1406b55706ba65f04e290f69846c28530982b4cb/app/components/EntryProperties.js,"@@ -209,7 +209,7 @@ class EntryProperties extends Component<Props, State> {
     isFile: false
   };
 
-  componentWillMount() {
+  componentDidMount() {
     this.loadEntryProperties(this.props.entryPath);
   }
 
",212,componentWillMount() {,componentDidMount() {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1406b55706ba65f04e290f69846c28530982b4cb,1406b55706ba65f04e290f69846c28530982b4cb,fixing componentWillMount warnings,2019-10-15 12:06:58+02:00,SettingsFileTypes.js,https://github.com/tagspaces/tagspaces/raw/6f73bb8792a1b1c6cdae2622ad4200b36087f374/app/components/dialogs/settings/SettingsFileTypes.js,https://github.com/tagspaces/tagspaces/raw/1406b55706ba65f04e290f69846c28530982b4cb/app/components/dialogs/settings/SettingsFileTypes.js,"@@ -94,7 +94,7 @@ class SettingsFileTypes extends Component<Props, State> {
     isComponentActive: false
   };
 
-  componentWillMount() {
+  UNSAFE_componentWillMount() {
     this.setState({ availableExtensions: findAvailableExtensions() });
   }
 
",97,componentWillMount() {,UNSAFE_componentWillMount() {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/1406b55706ba65f04e290f69846c28530982b4cb,1406b55706ba65f04e290f69846c28530982b4cb,fixing componentWillMount warnings,2019-10-15 12:06:58+02:00,MainPage.js,https://github.com/tagspaces/tagspaces/raw/6f73bb8792a1b1c6cdae2622ad4200b36087f374/app/containers/MainPage.js,https://github.com/tagspaces/tagspaces/raw/1406b55706ba65f04e290f69846c28530982b4cb/app/containers/MainPage.js,"@@ -181,7 +181,7 @@ class MainPage extends Component<Props, State> {
     height: 1000
   };
 
-  componentWillMount() {
+  componentDidMount() {
     this.updateDimensions();
   }
 
",184,componentWillMount() {,componentDidMount() {
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/249b3da41cdcf19c635cc31fb7b2d41eafaa68c5,249b3da41cdcf19c635cc31fb7b2d41eafaa68c5,fixing reducing max height of the onboarding dialog,2019-10-18 12:27:21+02:00,OnboardingDialog.js,https://github.com/tagspaces/tagspaces/raw/b271047c29398952999f68e3cb366d9c5aa90947/app/components/dialogs/OnboardingDialog.js,https://github.com/tagspaces/tagspaces/raw/249b3da41cdcf19c635cc31fb7b2d41eafaa68c5/app/components/dialogs/OnboardingDialog.js,"@@ -147,7 +147,7 @@ class OnboardingDialog extends React.Component<Props, State> {
           >
             <Typography variant=""h5"">Understand main app navigation</Typography>
             <img
-              style={{ marginTop: 15 }}
+              style={{ marginTop: 15, maxHeight: 500 }}              
               src={NavigationV3}
               alt=""""
             />
",150,style={{ marginTop: 15 }},"style={{ marginTop: 15, maxHeight: 500 }}"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/a9b96a6e746a2d1950137b169436cb4c5abcf578,a9b96a6e746a2d1950137b169436cb4c5abcf578,fixing onbaording dialog,2019-10-18 13:21:49+02:00,OnboardingDialog.js,https://github.com/tagspaces/tagspaces/raw/249b3da41cdcf19c635cc31fb7b2d41eafaa68c5/app/components/dialogs/OnboardingDialog.js,https://github.com/tagspaces/tagspaces/raw/a9b96a6e746a2d1950137b169436cb4c5abcf578/app/components/dialogs/OnboardingDialog.js,"@@ -105,7 +105,7 @@ class OnboardingDialog extends React.Component<Props, State> {
     const { activeStep } = this.state;
 
     return (
-      <DialogContent style={{ marginTop: 20 }}>
+      <DialogContent style={{ marginTop: 20, overflowY: 'overlay' }}>
         <SwipeableViews
           index={activeStep}
           onChangeIndex={this.handleStepChange}
",108,<DialogContent style={{ marginTop: 20 }}>,"<DialogContent style={{ marginTop: 20, overflowY: 'overlay' }}>"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/bf493560d214247387042825352efd9757cbc257,bf493560d214247387042825352efd9757cbc257,fixing wrong label in tag selection component,2019-10-31 22:22:39+01:00,AddRemoveTagsDialog.js,https://github.com/tagspaces/tagspaces/raw/542d9da92d268d69489a8000c38f47aad693fd62/app/components/dialogs/AddRemoveTagsDialog.js,https://github.com/tagspaces/tagspaces/raw/bf493560d214247387042825352efd9757cbc257/app/components/dialogs/AddRemoveTagsDialog.js,"@@ -116,7 +116,7 @@ class AddRemoveTagsDialog extends React.Component<Props, State> {
         )}
         renderContent={() => (
           <DialogContent style={{ minHeight: 330 }}>
-            <TagsSelect tags={newlyAddedTags} handleChange={this.handleChange} />
+            <TagsSelect placeholderText={i18n.t('core:selectTags')} tags={newlyAddedTags} handleChange={this.handleChange} />
             <List dense style={{ width: 550 }}>
               {selectedEntries.length > 0 && selectedEntries.map((entry) => (
                 <ListItem title={entry.path}>
",119,<TagsSelect tags={newlyAddedTags} handleChange={this.handleChange} />,<TagsSelect placeholderText={i18n.t('core:selectTags')} tags={newlyAddedTags} handleChange={this.handleChange} />
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/eba7c8fdde43804e94578c5e8f5c5ac82a0659bc,eba7c8fdde43804e94578c5e8f5c5ac82a0659bc,"fixing font and svg integration, boilerplate integration",2020-01-04 23:02:37+01:00,webpack.config.renderer.dev.babel.js,https://github.com/tagspaces/tagspaces/raw/e236d9323a58efed79088169c1ea0312e2e420e2/configs/webpack.config.renderer.dev.babel.js,https://github.com/tagspaces/tagspaces/raw/eba7c8fdde43804e94578c5e8f5c5ac82a0659bc/configs/webpack.config.renderer.dev.babel.js,"@@ -185,7 +185,7 @@ export default merge.smart(baseConfig, {
       },
       // Common Image Formats
       {
-        test: /\.(?:ico|gif|png|jpg|jpeg|webp|svg)$/,
+        test: /\.(?:ico|gif|png|jpg|jpeg|webp)$/,
         use: 'url-loader'
       }
     ]
",188,"test: /\.(?:ico|gif|png|jpg|jpeg|webp|svg)$/,","test: /\.(?:ico|gif|png|jpg|jpeg|webp)$/,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/eba7c8fdde43804e94578c5e8f5c5ac82a0659bc,eba7c8fdde43804e94578c5e8f5c5ac82a0659bc,"fixing font and svg integration, boilerplate integration",2020-01-04 23:02:37+01:00,webpack.config.renderer.prod.babel.js,https://github.com/tagspaces/tagspaces/raw/e236d9323a58efed79088169c1ea0312e2e420e2/configs/webpack.config.renderer.prod.babel.js,https://github.com/tagspaces/tagspaces/raw/eba7c8fdde43804e94578c5e8f5c5ac82a0659bc/configs/webpack.config.renderer.prod.babel.js,"@@ -167,7 +167,7 @@ export default merge.smart(baseConfig, {
       },
       // Common Image Formats
       {
-        test: /\.(?:ico|gif|png|jpg|jpeg|webp|svg)$/,
+        test: /\.(?:ico|gif|png|jpg|jpeg|webp)$/,
         use: 'url-loader'
       }
     ]
",170,"test: /\.(?:ico|gif|png|jpg|jpeg|webp|svg)$/,","test: /\.(?:ico|gif|png|jpg|jpeg|webp)$/,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/13eb90568e96b6a8c0d9c3ae591671573c7175e9,13eb90568e96b6a8c0d9c3ae591671573c7175e9,"Tsn440 e2e v3 (#1209)

* e2e test - generate thumbnail from images
* TSN440 - fixing generate thumbnail from image test
* TSN440 e2e v3 - generate thumbnail for videos
* TSN440 e2e v3 generate thumbnail from PDF
* TSN440 e2e v3 generate thumbnail from ODT/EPUB
* TSN440 e2e v3 generate thumbnail from TIFF
* TSN440 e2e v3 generate thumbnail from PSD
* TSN440 e2e v3 generate thumbnail from TXT
* TSN440 e2e v3 generate thumbnail from HTML
* TSN440 e2e v3 generate thumbnail from URL
* TSN440 e2e v3 create new file
* TSN e2e v3 fixing create new file test
* TSN440 e2e v3 fixing create new file
* TSN440 e2e v3 fixing general test
* TSN440 e2e v3 adding folder.e2e.js
* TSN440 adding delete empty folder test
* TSN440 TST0103 rename folder
* TSN440 adding reanme directory
* TSN440 remove unnecessary test ID
* TSN440 set up startup location test
* TSN440 e2e v3 adding viewer-image.2e2.js
* TSN440 e2e v3 adding about dialog extensions
* TSN440 e2e v3 some comments in viewer-image test
* TSN440 e2e v3 adding viewer-markdown file test
* TSN440 e2e v3 fixing return directory back
* TSN440 e2e v3 adding viemer-html.e2e.js
* TSN440 e2e v3 remove wrong test tag",2020-10-29 18:19:41+01:00,folder.spec.js,https://github.com/tagspaces/tagspaces/raw/ec1cbca76acf932f343f6d55c687a0af2b74e91f/tests/e2e/folder.spec.js,https://github.com/tagspaces/tagspaces/raw/13eb90568e96b6a8c0d9c3ae591671573c7175e9/tests/e2e/folder.spec.js,"@@ -53,7 +53,7 @@ describe('TST01+TST02 - Folder tests', () => {
     await openDirectoryMenu('[data-tid=deleteDirectory]');
   });
 
-  it.only('TST0201 - Should create a folder in alternative navigation', async () => {
+  it('TST0201 - Should create a folder in alternative navigation', async () => {
     await openDirectoryMenu('newSubDirectory');
     // set new dir name
     await delay(1500);
",56,"it.only('TST0201 - Should create a folder in alternative navigation', async () => {","it('TST0201 - Should create a folder in alternative navigation', async () => {"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/4c19ba3b76a5bf644e52e1b8a9d3c12d6a638b05,4c19ba3b76a5bf644e52e1b8a9d3c12d6a638b05,fix: app reloading,2021-01-20 13:50:17+01:00,offline.js,https://github.com/tagspaces/tagspaces/raw/e324ac0ad7a017daa7834fe8188555a3d36fb2b3/web/offline.js,https://github.com/tagspaces/tagspaces/raw/4c19ba3b76a5bf644e52e1b8a9d3c12d6a638b05/web/offline.js,"@@ -2,7 +2,7 @@ document.onreadystatechange = function() {
   if (document.readyState === 'complete') {
     var reloadButton = document.getElementById('reload');
     reloadButton.onclick = function() {
-      location.reload(true);
+      location.reload();
     }
   }
 };
",5,location.reload(true);,location.reload();
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/721df7c82d9960de77de1db7bd155fa052a12b48,721df7c82d9960de77de1db7bd155fa052a12b48,"update cordova platforms (#1335)

* update cordova platforms
* fixes: https://github.com/muhammed-noufal/cordova-ourcodeworld-filebrowser#fixes
* reinstall android and ios platform",2021-03-09 18:26:04+01:00,hook.js,https://github.com/tagspaces/tagspaces/raw/84eea3ebce70ee6db762c5caf4d41a49bb251393/tests/e2e/hook.js,https://github.com/tagspaces/tagspaces/raw/721df7c82d9960de77de1db7bd155fa052a12b48/tests/e2e/hook.js,"@@ -74,7 +74,7 @@ export async function startSpectronApp() {
         'goog:chromeOptions': {
           w3c: true,
           args: chromeDriverArgs
-        },
+        }
         // pageLoadStrategy: 'normal'
       },
       // Warns when a deprecated command is used
",77,"},",}
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/77a97f4581ed433ff8e2c0ae7f9e500b29e80c36,77a97f4581ed433ff8e2c0ae7f9e500b29e80c36,fix broken e2e test due to changes in tooltips (#1744),2022-09-28 16:34:59+02:00,perspective-grid-right-button.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/7bc07e4c25b406af4cdb3b2ce94828620fe4955d/tests/e2e/perspective-grid-right-button.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/77a97f4581ed433ff8e2c0ae7f9e500b29e80c36/tests/e2e/perspective-grid-right-button.pw.e2e.js,"@@ -478,7 +478,7 @@ describe('TST50** - Right button on a file', () => {
 
     await createTxtFile();
     // await searchEngine('note');
-    await expectElementExist(selectorFile, true);
+    await expectElementExist(selectorFile, true, 5000);
 
     // cleanup
     // await deleteFirstFile();
",481,"await expectElementExist(selectorFile, true);","await expectElementExist(selectorFile, true, 5000);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/8cffc3a1200602812d36a4a23b9c041a0c15faef,8cffc3a1200602812d36a4a23b9c041a0c15faef,bugfix clear all filename tags (#1871),2023-02-16 22:15:44+01:00,perspective-grid-right-button.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/b3eced31d9f36118c5a42fb5db8ec04284ebb6a2/tests/e2e/perspective-grid-right-button.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/8cffc3a1200602812d36a4a23b9c041a0c15faef/tests/e2e/perspective-grid-right-button.pw.e2e.js,"@@ -125,7 +125,7 @@ describe('TST50** - Right button on a file', () => {
     // await expectElementExist(selectorFile, true);
 
     await deleteFileFromMenu(getGridFileSelector(fileName));
-    await expectElementExist(getGridFileSelector(fileName), false);
+    await expectElementExist(getGridFileSelector(fileName), false, 2000);
     /* firstFileName = await getGridFileName(0);
     expect(firstFileName).toBe(undefined); */
   });
",128,"await expectElementExist(getGridFileSelector(fileName), false);","await expectElementExist(getGridFileSelector(fileName), false, 2000);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/0fcfb27512fac18be44fecebd29bac6971b82c16,0fcfb27512fac18be44fecebd29bac6971b82c16,fix e2e TST5016,2023-04-20 17:51:33+03:00,perspective-grid-right-button.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/22257c75a642fdd58a001cf96b96fd0cd028d695/tests/e2e/perspective-grid-right-button.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/0fcfb27512fac18be44fecebd29bac6971b82c16/tests/e2e/perspective-grid-right-button.pw.e2e.js,"@@ -90,7 +90,7 @@ describe('TST50** - Right button on a file', () => {
         {
           message: 'make sure bodyTxt contain etete&5435', // custom error message
           // Poll for 10 seconds; defaults to 5 seconds. Pass 0 to disable timeout.
-          timeout: global.isWeb ? 40000 : 10000
+          timeout: 10000
         }
       )
       .toBe(true);
",93,timeout: global.isWeb ? 40000 : 10000,timeout: 10000
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/9e24ee6b7f26c278822f24facae301a6d03f9a40,9e24ee6b7f26c278822f24facae301a6d03f9a40,fix-moveDirectory-in-KanBan-S3-location (#1921),2023-04-28 16:14:09+02:00,playwright.unit.js,https://github.com/tagspaces/tagspaces/raw/9c44ed83f0e8c6de414cd4b9c6e04569505bf56b/playwright.unit.js,https://github.com/tagspaces/tagspaces/raw/9e24ee6b7f26c278822f24facae301a6d03f9a40/playwright.unit.js,"@@ -11,5 +11,5 @@ module.exports = defineConfig({
   timeout: 30000,
   // (3 hours) Maximum time in milliseconds the whole test suite can run. Useful on CI to prevent broken setup from running too long and wasting resources.
   globalTimeout: process.env.CI ? 3 * 60 * 60 * 1000 : undefined,
-  reporter: process.env.CI ? 'github' : 'list',
+  reporter: process.env.CI ? 'github' : 'list'
 });
",14,"reporter: process.env.CI ? 'github' : 'list',",reporter: process.env.CI ? 'github' : 'list'
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/2dbf4dc830d603c69d9081dfffc4f5fc2af7c5ce,2dbf4dc830d603c69d9081dfffc4f5fc2af7c5ce,fix e2e web,2023-05-09 18:39:39+03:00,search.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/f066e3055fa104ff93b688bae982a6527e05c1ac/tests/e2e/search.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/2dbf4dc830d603c69d9081dfffc4f5fc2af7c5ce/tests/e2e/search.pw.e2e.js,"@@ -233,7 +233,7 @@ test.describe('TST06 - Test Search in file structure:', () => {
     await clickOn('#clearSearchID');
 
     // Search for | tag - tag
-    await addSearchCommand('|' + tags1[0], false);
+    await addSearchCommand('|' + tags1[0], false, false);
     await addSearchCommand('|' + tags2[1], true);
     await expectElementExist(getFileName(file1, tags1), true, 5000);
     await expectElementExist(getFileName(file2, tags2), true, 5000);
",236,"await addSearchCommand('|' + tags1[0], false);","await addSearchCommand('|' + tags1[0], false, false);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/eee0007b3747cbd32f5a45c027250310662ad531,eee0007b3747cbd32f5a45c027250310662ad531,add TST0201 and fixes,2023-05-15 13:28:35+03:00,folder.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/215c5b316ea4ce188cdf4a0aa9cd7c04fbff26d6/tests/e2e/folder.pw.e2e.js,https://github.com/tagspaces/tagspaces/raw/eee0007b3747cbd32f5a45c027250310662ad531/tests/e2e/folder.pw.e2e.js,"@@ -190,7 +190,7 @@ test.describe('TST01 - Folder management', () => {
 
   test('TST0110 - Tag folder [web,minio,electron]', async () => {
     await clickOn('[data-tid=fsEntryName_empty_folder]');
-    await AddRemoveTagsToSelectedFiles(['test-tag1']);
+    await AddRemoveTagsToSelectedFiles('grid', ['test-tag1']);
     await expectElementExist('[data-tid=tagContainer_test-tag1]', true, 5000);
     /*await openContextEntryMenu(
       '[data-tid=fsEntryName_empty_folder]',
",193,await AddRemoveTagsToSelectedFiles(['test-tag1']);,"await AddRemoveTagsToSelectedFiles('grid', ['test-tag1']);"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/3011dd2bd54a456583cd223f03d453ad5147e3ab,3011dd2bd54a456583cd223f03d453ad5147e3ab,e2e fix,2023-05-22 09:20:35+03:00,general.helpers.js,https://github.com/tagspaces/tagspaces/raw/299a94349debeeb1c621d9a0e48cb15ee559972e/tests/e2e/general.helpers.js,https://github.com/tagspaces/tagspaces/raw/3011dd2bd54a456583cd223f03d453ad5147e3ab/tests/e2e/general.helpers.js,"@@ -694,7 +694,7 @@ export async function expectMetaFilesExist(
     }
     await expectElementExist(
       getGridFileSelector(AppConfig.metaFolder),
-      exist,
+      true,
       10000
     );
     await checkSettings('[data-tid=settingsSetShowUnixHiddenEntries]', false);
",697,"exist,","true,"
tagspaces,https://github.com/tagspaces/tagspaces,https://github.com/tagspaces/tagspaces/commit/e753c50c294955027a47298c706975641127c10a,e753c50c294955027a47298c706975641127c10a,e2e fixes and tags with watcher,2024-01-25 15:24:45+02:00,general.helpers.js,https://github.com/tagspaces/tagspaces/raw/927275b62dc9b8d6aa77919ff892f390c229cf81/tests/e2e/general.helpers.js,https://github.com/tagspaces/tagspaces/raw/e753c50c294955027a47298c706975641127c10a/tests/e2e/general.helpers.js,"@@ -182,7 +182,7 @@ export async function getGridFileName(fileIndex) {
       //file = await file.$('div');
       const fileNameElem = await file.$('div div div:nth-child(2) p');
       const fileName = await fileNameElem.getAttribute('title');
-      return fileName;
+      return fileName.replace(/ *\[[^\]]*]/, '');
       /*const fileName = await getElementText(fileNameElem);
       const divs = await file.$$('div');
       const lastDiv = await divs[divs.length - 1];
",185,return fileName;,"return fileName.replace(/ *\[[^\]]*]/, '');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/18c5f6adb1f9726049549d7ac9afeb3320284d2c,18c5f6adb1f9726049549d7ac9afeb3320284d2c,*Now* it's Beta 2. Stupid fucking bug.,2014-03-03 18:11:43-03:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/862cd47e1c97991344f94397a38fa5ceb5ce5c86/js/vendor/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/18c5f6adb1f9726049549d7ac9afeb3320284d2c/js/vendor/settings.js,"@@ -23,7 +23,7 @@ Settings = {
     
         for( var key in Settings._defaultSettings ) {
             // Create new settings if necessary
-            if( typeof Settings.get('key') == 'undefined' || (forceReset === true) ) {
+            if( typeof Settings.get(key) == 'undefined' || (forceReset === true) ) {
                 Settings.set(key, Settings._defaultSettings[key]);
             }
         }
",26,if( typeof Settings.get('key') == 'undefined' || (forceReset === true) ) {,if( typeof Settings.get(key) == 'undefined' || (forceReset === true) ) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d9372adf885739c320474813d4f9299d6f7dfd3a,d9372adf885739c320474813d4f9299d6f7dfd3a,"Fixed #286 (Probably). Refactored the subtitles loader so it downloads the subtitle and then parses it in-memory, getting rid of CORS issues and the only reason we kept the TMP folder there.
Since that was a huge piece of crap, this should get rid of all subtitle issues in Mac and some Windows installs, since you can't write to the app folder. This also makes the app more efficient, since we only download the subtitles on demand.
Also rewrote the movie model so providers have to return standard movie models.",2014-03-11 04:21:45-03:00,listview.js,https://github.com/popcorn-official/popcorn-desktop/raw/40bf0991d8bc96ceb0d43d3b0017a2d49f54e1d1/js/frontend/views/listview.js,https://github.com/popcorn-official/popcorn-desktop/raw/d9372adf885739c320474813d4f9299d6f7dfd3a/js/frontend/views/listview.js,"@@ -63,7 +63,7 @@ App.View.MovieList = Backbone.View.extend({
 
             // Check for IMDB id and also image loaded (required for view)
             // We can also check if the subtitles loaded with this.get('subtitlesLoaded')
-            if (this.get('infoLoaded') && ! $movie.hasClass('fullyLoaded')) {
+            if (! $movie.hasClass('fullyLoaded')) {
 
                 $movie.addClass('fullyLoaded');
 
",66,if (this.get('infoLoaded') && ! $movie.hasClass('fullyLoaded')) {,if (! $movie.hasClass('fullyLoaded')) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/fd3106f78e4378cb8891698ac201940ba037f3a6,fd3106f78e4378cb8891698ac201940ba037f3a6,Fixed #368 (No subtitles),2014-03-11 15:35:13-03:00,torrents.js,https://github.com/popcorn-official/popcorn-desktop/raw/ed07c9cf6ca15e8019f2670ca48ae9c9a9542391/js/frontend/providers/torrents.js,https://github.com/popcorn-official/popcorn-desktop/raw/fd3106f78e4378cb8891698ac201940ba037f3a6/js/frontend/providers/torrents.js,"@@ -58,7 +58,7 @@ App.getTorrentsCollection = function (options) {
                     }
                 }
 
-                if( movie.subtitles.length == 0 && movie.videos.length == 0 ){ return; }
+                if( (typeof movie.subtitles == 'undefined' || movie.subtitles.length == 0) && (typeof movie.videos == 'undefined' || movie.videos.length == 0) ){ return; }
                 
                 movies.push({
                     imdb:       movie.imdb_id,
",61,if( movie.subtitles.length == 0 && movie.videos.length == 0 ){ return; },if( (typeof movie.subtitles == 'undefined' || movie.subtitles.length == 0) && (typeof movie.videos == 'undefined' || movie.videos.length == 0) ){ return; }
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/db3c76e4dbc31cabb9d01df879d0bd9bd5a970a5,db3c76e4dbc31cabb9d01df879d0bd9bd5a970a5,Fix slash caracteres in search query,2014-03-11 21:26:56+01:00,ui.js,https://github.com/popcorn-official/popcorn-desktop/raw/6958b08ec7af84e7bd41e38e884054e5d95e00ec/js/frontend/ui.js,https://github.com/popcorn-official/popcorn-desktop/raw/db3c76e4dbc31cabb9d01df879d0bd9bd5a970a5/js/frontend/ui.js,"@@ -108,7 +108,7 @@ jQuery(function ($) {
     // ENTER KEY
     if (evt.keyCode === 13) {
        if (term) {
-          App.Router.navigate('search/' + term, { trigger: true });
+          App.Router.navigate('search/' + encodeURIComponent(term), { trigger: true });
         } else {
           App.Router.navigate('index.html', { trigger: true });
         }
",111,"App.Router.navigate('search/' + term, { trigger: true });","App.Router.navigate('search/' + encodeURIComponent(term), { trigger: true });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/90257d62234c7907612f45b6743bd5b869ef33ac,90257d62234c7907612f45b6743bd5b869ef33ac,Fixed comma.,2014-03-12 01:10:51+02:00,opensubtitles.js,https://github.com/popcorn-official/popcorn-desktop/raw/c02a3318555e1ecbde7eb0a945e2684c9df674d3/js/frontend/providers/opensubtitles.js,https://github.com/popcorn-official/popcorn-desktop/raw/90257d62234c7907612f45b6743bd5b869ef33ac/js/frontend/providers/opensubtitles.js,"@@ -21,7 +21,7 @@ var xmlrpc = require('xmlrpc'),
         'dut': 'Dutch',
         'fre': 'French',
         'ger': 'German',
-        'lit': 'Lithuanian'
+        'lit': 'Lithuanian',
         'fin': 'Finnish'
     },
 
",24,'lit': 'Lithuanian',"'lit': 'Lithuanian',"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/30ffcdcdc49509bf96a039d9d36efd758bb11b4c,30ffcdcdc49509bf96a039d9d36efd758bb11b4c,Fix search and add support for larger images,2014-03-14 18:22:01-04:00,search.js,https://github.com/popcorn-official/popcorn-desktop/raw/1a32e19e66356bea29d8d2d491dbf1defadfe466/js/frontend/controllers/search.js,https://github.com/popcorn-official/popcorn-desktop/raw/30ffcdcdc49509bf96a039d9d36efd758bb11b4c/js/frontend/controllers/search.js,"@@ -10,7 +10,7 @@ App.Controller.Search = function (searchTerm, page) {
     var Scrapper = App.currentScrapper;
 
     var movieCollection = new Scrapper([], {
-        searchTerm: searchTerm,
+        keywords: searchTerm,
         genre: null,
         page: page
     });
",13,"searchTerm: searchTerm,","keywords: searchTerm,"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/30ffcdcdc49509bf96a039d9d36efd758bb11b4c,30ffcdcdc49509bf96a039d9d36efd758bb11b4c,Fix search and add support for larger images,2014-03-14 18:22:01-04:00,yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/1a32e19e66356bea29d8d2d491dbf1defadfe466/js/frontend/scrapers/yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/30ffcdcdc49509bf96a039d9d36efd758bb11b4c/js/frontend/scrapers/yts.js,"@@ -43,7 +43,7 @@ var Yts = Backbone.Collection.extend({
                 voteAverage:parseInt(movie.MovieRating, 10),
 
                 image:      movie.CoverImage,
-                bigImage:   movie.CoverImage,
+                bigImage:   movie.CoverImage.replace(/_med\./, '_large.'),
                 backdrop:   """",
 
                 quality:    movie.Quality,
",46,"bigImage:   movie.CoverImage,","bigImage:   movie.CoverImage.replace(/_med\./, '_large.'),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/ee20fbb8fe22b372e701b4627f797f909c955cf0,ee20fbb8fe22b372e701b4627f797f909c955cf0,"Wait for subtitle before playing movie fixes isra17/popcorn-app#43

Conflicts:
	language/en.json",2014-03-15 04:49:40-04:00,yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/5ee56ebaab6e0194566979553011f3bfd095a740/js/frontend/scrapers/yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/ee20fbb8fe22b372e701b4627f797f909c955cf0/js/frontend/scrapers/yts.js,"@@ -40,7 +40,7 @@ var Yts = Backbone.Collection.extend({
                 year:       movie.MovieYear,
                 runtime:    0,
                 synopsis:   """",
-                voteAverage:parseInt(movie.MovieRating, 10),
+                voteAverage:parseFloat(movie.MovieRating),
 
                 image:      movie.CoverImage,
                 bigImage:   movie.CoverImage.replace(/_med\./, '_large.'),
",43,"voteAverage:parseInt(movie.MovieRating, 10),","voteAverage:parseFloat(movie.MovieRating),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5f84806e7150bba419975dc7c906012875e10528,5f84806e7150bba419975dc7c906012875e10528,Allow playing movie before subtitle are loaded fixes isra17/popcorn-app#58,2014-03-15 16:11:37-04:00,sidebar.js,https://github.com/popcorn-official/popcorn-desktop/raw/7c436a46e7cdb0979ebf92e1b7597f752ad15f5e/js/frontend/views/sidebar.js,https://github.com/popcorn-official/popcorn-desktop/raw/5f84806e7150bba419975dc7c906012875e10528/js/frontend/views/sidebar.js,"@@ -37,7 +37,7 @@ App.View.Sidebar = Backbone.View.extend({
 
     play: function (evt) {
         evt.preventDefault();
-        if( videoStreamer !== null || !this.isReadyToPlay() ){ return; }
+        if( videoStreamer !== null ){ return; }
 
         var file = this.model.get('torrent'),
             subs = this.model.get('subtitles');
",40,if( videoStreamer !== null || !this.isReadyToPlay() ){ return; },if( videoStreamer !== null ){ return; }
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a50d54c0d3e33d0a564f67e3d55abee887103f8e,a50d54c0d3e33d0a564f67e3d55abee887103f8e,Fixed category pagination isra17/popcorn-app/#83,2014-03-15 19:59:32-04:00,filter.js,https://github.com/popcorn-official/popcorn-desktop/raw/5f84806e7150bba419975dc7c906012875e10528/js/frontend/controllers/filter.js,https://github.com/popcorn-official/popcorn-desktop/raw/a50d54c0d3e33d0a564f67e3d55abee887103f8e/js/frontend/controllers/filter.js,"@@ -10,7 +10,7 @@ App.Controller.FilterGenre = function (genre, page) {
     var Scrapper = App.currentScrapper;
 
     var movieCollection = new Scrapper([], {
-        searchTerm: null,
+        keywords: null,
         genre: genre,
         page: page
     });
",13,"searchTerm: null,","keywords: null,"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a50d54c0d3e33d0a564f67e3d55abee887103f8e,a50d54c0d3e33d0a564f67e3d55abee887103f8e,Fixed category pagination isra17/popcorn-app/#83,2014-03-15 19:59:32-04:00,home.js,https://github.com/popcorn-official/popcorn-desktop/raw/5f84806e7150bba419975dc7c906012875e10528/js/frontend/controllers/home.js,https://github.com/popcorn-official/popcorn-desktop/raw/a50d54c0d3e33d0a564f67e3d55abee887103f8e/js/frontend/controllers/home.js,"@@ -10,7 +10,7 @@ App.Controller.Home = function (page) {
     var Scrapper = App.currentScrapper;
 
     var movieCollection = new Scrapper([], {
-        searchTerm: null,
+        keywords: null,
         genre: null,
         page: page
     });
",13,"searchTerm: null,","keywords: null,"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a50d54c0d3e33d0a564f67e3d55abee887103f8e,a50d54c0d3e33d0a564f67e3d55abee887103f8e,Fixed category pagination isra17/popcorn-app/#83,2014-03-15 19:59:32-04:00,search.js,https://github.com/popcorn-official/popcorn-desktop/raw/5f84806e7150bba419975dc7c906012875e10528/js/frontend/controllers/search.js,https://github.com/popcorn-official/popcorn-desktop/raw/a50d54c0d3e33d0a564f67e3d55abee887103f8e/js/frontend/controllers/search.js,"@@ -1,6 +1,6 @@
 App.Controller.Search = function (searchTerm, page) {
     // Check if page exists
-    if (App.Page.Search) {
+    if (!App.Page.Search) {
         // Create page
         App.Page.Search = new App.View.Page({
             id: 'movie-list'
",3,if (App.Page.Search) {,if (!App.Page.Search) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/132bc0785bbab3263e3cddbf3024e10d351a2565,132bc0785bbab3263e3cddbf3024e10d351a2565,"Fixed bug with updater

Forgot that _.contains doesn't work on keys by default when using an object.",2014-03-21 20:41:49+11:00,updater.js,https://github.com/popcorn-official/popcorn-desktop/raw/801c13bca825a6d17ade79a63b8e7094bb10a2ad/js/updater.js,https://github.com/popcorn-official/popcorn-desktop/raw/132bc0785bbab3263e3cddbf3024e10d351a2565/js/updater.js,"@@ -46,7 +46,7 @@
     }
 
     request(updateUrl, {json: true}, function(err, res, data) {
-        if(!_.contains(data, Settings.get('os'))) {
+        if(!_.contains(Object.keys(data), Settings.get('os'))) {
             // No update for this OS, FreeBSD or SunOS.
             // Must not be an official binary
             return;
",49,"if(!_.contains(data, Settings.get('os'))) {","if(!_.contains(Object.keys(data), Settings.get('os'))) {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5bfb5b5c02ad85c76c65867b01fbf1474380168d,5bfb5b5c02ad85c76c65867b01fbf1474380168d,Fixed missing `movies` variable,2014-03-21 22:53:12+11:00,yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/378c04d50c1d1424b03f7b4c9f8fb6643a2db36e/js/frontend/scrapers/yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/5bfb5b5c02ad85c76c65867b01fbf1474380168d/js/frontend/scrapers/yts.js,"@@ -69,7 +69,7 @@ var Yts = Backbone.Collection.extend({
             var i = 0;
 
             if (ytsData.error || typeof ytsData.MovieList === 'undefined') {
-                collection.set(movies);
+                collection.set(collection.movies);
                 collection.trigger('loaded');
                 return;
             }
",72,collection.set(movies);,collection.set(collection.movies);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/290c3a09d2d851a34a072380ab9b3ffcfd6cf30e,290c3a09d2d851a34a072380ab9b3ffcfd6cf30e,"Removed unwanted words from movie titles

This fixes issue #428, #484 & #438. Took some regex from that we use on the YTS site to filter 'naughty' words out! This should give consistent UX.",2014-03-22 00:31:32+11:00,yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/403bb74c5ca48dabb734ec3cd66ebb2cdd8f82c3/js/frontend/scrapers/yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/290c3a09d2d851a34a072380ab9b3ffcfd6cf30e/js/frontend/scrapers/yts.js,"@@ -96,7 +96,7 @@ var Yts = Backbone.Collection.extend({
                         // Temporary object
                         var movieModel = {
                             imdb:       movie.ImdbCode.replace('tt', ''),
-                            title:      movie.MovieTitleClean,
+                            title:      movie.MovieTitleClean.replace(/\([^)]*\)|1080p|DIRECTORS CUT|EXTENDED|UNRATED|3D|[()]/g, ''),
                             year:       movie.MovieYear,
                             runtime:    0,
                             synopsis:   '',
",99,"title:      movie.MovieTitleClean,","title:      movie.MovieTitleClean.replace(/\([^)]*\)|1080p|DIRECTORS CUT|EXTENDED|UNRATED|3D|[()]/g, ''),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/741686afe7e5fde5d5645108804bd85af40929ea,741686afe7e5fde5d5645108804bd85af40929ea,"Fixed bug in YTS scaper

The trakt.tv fanart BG's weren't getting resized when loaded from cache",2014-03-26 11:10:42+11:00,yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/3521b478e1e23359652ee3044a0b451624e18d42/js/frontend/scrapers/yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/741686afe7e5fde5d5645108804bd85af40929ea/js/frontend/scrapers/yts.js,"@@ -132,7 +132,7 @@
                                 if(traktInfo) {
                                     movieModel.image = trakt.resizeImage(traktInfo.images.poster, '138');
                                     movieModel.bigImage = trakt.resizeImage(traktInfo.images.poster, '300');
-                                    movieModel.backdrop = traktInfo.images.fanart;
+                                    movieModel.backdrop = trakt.resizeImage(traktInfo.images.fanart, '940');
                                     movieModel.synopsis = traktInfo.overview;
                                     movieModel.runtime = +traktInfo.runtime;
                                     App.Cache.setItem('trakttv', traktInfo.imdb_id, traktInfo);
",135,movieModel.backdrop = traktInfo.images.fanart;,"movieModel.backdrop = trakt.resizeImage(traktInfo.images.fanart, '940');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/2510e7390754c5abbc32ee9f2260c680af5581f0,2510e7390754c5abbc32ee9f2260c680af5581f0,"Fixed Quality Options missing

Stupid... little... bug... -.- This fixes like: #702 #685 #691",2014-03-28 19:48:47+11:00,yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/b94d85fe6d9556ae3c76439a5f27ea3e56208d97/js/frontend/scrapers/yts.js,https://github.com/popcorn-official/popcorn-desktop/raw/2510e7390754c5abbc32ee9f2260c680af5581f0/js/frontend/scrapers/yts.js,"@@ -36,7 +36,7 @@
         },
 
         addMovie: function(model) {
-            var stored = _.find(this.movies, function(movie) { movie.imdb == model.imdb });
+            var stored = _.find(this.movies, function(movie) { return movie.imdb == model.imdb });
 
             // Create it on memory map if it doesn't exist.
             if (typeof stored === 'undefined') {
",39,"var stored = _.find(this.movies, function(movie) { movie.imdb == model.imdb });","var stored = _.find(this.movies, function(movie) { return movie.imdb == model.imdb });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/ec31e4121bb56fe8d5c5b9f6fc7fe27861ce2ed7,ec31e4121bb56fe8d5c5b9f6fc7fe27861ce2ed7,Fixed cache setItems bug,2014-03-30 01:41:02-04:00,ysubs.js,https://github.com/popcorn-official/popcorn-desktop/raw/1096577e5bf307d18f933048a8aad4f7a81d0c52/src/app/lib/providers/ysubs.js,https://github.com/popcorn-official/popcorn-desktop/raw/ec31e4121bb56fe8d5c5b9f6fc7fe27861ce2ed7/src/app/lib/providers/ysubs.js,"@@ -62,7 +62,7 @@
     };
 
     YSubs.prototype.query = function(ids) {
-        return querySubtitles(ids)
+        return Q.when(querySubtitles(ids))
             .then(formatForPopcorn);
     };
 
",65,return querySubtitles(ids),return Q.when(querySubtitles(ids))
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6d012048c84faa6e241cfac100b0cef1c1372833,6d012048c84faa6e241cfac100b0cef1c1372833,fix: check if we actually have a last_arg,2014-04-30 10:44:05-03:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/f461ecbfd2a06ffcbdd6fc6ef8dca9a1623329d6/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/6d012048c84faa6e241cfac100b0cef1c1372833/src/app/app.js,"@@ -208,7 +208,7 @@ holder.onpaste = function(e) {
 * Pass magnet link as last argument to start stream
 */
 var last_arg = gui.App.argv.pop();
-if(last_arg.substring(0,8) == ""magnet:?"") {
+if(last_arg && last_arg.substring(0,8) == ""magnet:?"") {
         setTimeout(function() {
                 console.log ('running');
                 var torrentStart = new Backbone.Model({torrent: last_arg});
",211,"if(last_arg.substring(0,8) == ""magnet:?"") {","if(last_arg && last_arg.substring(0,8) == ""magnet:?"") {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/56f60c9c34c9265575423bf26a2d0af74878de53,56f60c9c34c9265575423bf26a2d0af74878de53,Fix trailer title,2014-04-30 17:12:25-04:00,movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/f0d79769c6118b3c78092ea387510d473aa418e1/src/app/lib/views/movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/56f60c9c34c9265575423bf26a2d0af74878de53/src/app/lib/views/movie_detail.js,"@@ -92,7 +92,7 @@
         },
 
         playTrailer: function() {
-            var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null });
+            var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: null });
             App.vent.trigger('stream:ready', trailer);
         },
 
",95,"var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null });","var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: null });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e174c5f42ed3d8b90be756065cd2eae0f9b70c61,e174c5f42ed3d8b90be756065cd2eae0f9b70c61,Fix trailer title,2014-04-30 14:13:55-07:00,movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/0f33b1dcba1595a50d8ca13db2e339f849998d4a/src/app/lib/views/movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/e174c5f42ed3d8b90be756065cd2eae0f9b70c61/src/app/lib/views/movie_detail.js,"@@ -92,7 +92,7 @@
         },
 
         playTrailer: function() {
-            var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null });
+            var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: null });
             App.vent.trigger('stream:ready', trailer);
         },
 
",95,"var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null });","var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: null });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d9f802b38c26c9e919c4225e3db1df74e3a33234,d9f802b38c26c9e919c4225e3db1df74e3a33234,Fix subtitle,2014-05-01 12:42:34-04:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/16d2c6cc4f02cd9369a5afdcfcc26f91f48a5002/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/d9f802b38c26c9e919c4225e3db1df74e3a33234/src/app/lib/streamer.js,"@@ -58,7 +58,7 @@
             if(stateModel.get('state') === 'ready') {
 
                 // we need subtitle in the player
-                streamInfo.set('subtitle', torrent.subtitles);
+                streamInfo.set('subtitle', torrent.subtitle);
                 streamInfo.set('title', torrent.title);
 
                 App.vent.trigger('stream:ready', streamInfo);
",61,"streamInfo.set('subtitle', torrent.subtitles);","streamInfo.set('subtitle', torrent.subtitle);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a3c4e723f809bf457602ce331d666935e2b794fb,a3c4e723f809bf457602ce331d666935e2b794fb,Fix toggle fullscreen shortcut,2014-05-03 13:02:16+01:00,player.js,https://github.com/popcorn-official/popcorn-desktop/raw/f2e5e6058fd610a7ae0cb8f7b1651aba761990b9/src/app/lib/views/player/player.js,https://github.com/popcorn-official/popcorn-desktop/raw/a3c4e723f809bf457602ce331d666935e2b794fb/src/app/lib/views/player/player.js,"@@ -96,7 +96,7 @@
                 }
               } else if ((e.keyCode == 102) || (e.keyCode == 70)) {
 
-                this.toggleFullscreen();
+                _this.toggleFullscreen();
               }
 
             });
",99,this.toggleFullscreen();,_this.toggleFullscreen();
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f444801b35b546404d4ccf08dc7c25ba79a97c29,f444801b35b546404d4ccf08dc7c25ba79a97c29,Fix selected genre / sort in filter bar,2014-05-06 14:08:34-04:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/6c591501dc6ec6e75de51f295716d0a35d5c9080/src/app/lib/views/show_browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/f444801b35b546404d4ccf08dc7c25ba79a97c29/src/app/lib/views/show_browser/filter_bar.js,"@@ -49,7 +49,7 @@
             $(e.target).addClass('active');
 
             var sorter = $(e.target).attr('data-value');
-            this.ui.sorterValue.text(i18n.__('sort-' + sorter));
+            this.ui.sorterValue.text(i18n.__(capitaliseFirstLetter(sorter)));
 
             this.model.set({
                 keyword: '',
",52,this.ui.sorterValue.text(i18n.__('sort-' + sorter));,this.ui.sorterValue.text(i18n.__(capitaliseFirstLetter(sorter)));
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f47bdcaaa3768440fa641abe117d3306c60922ce,f47bdcaaa3768440fa641abe117d3306c60922ce,Fix tv series listing and wraping,2014-05-06 19:35:23-03:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/381af5cbe7106d0879cd155653fe65de367a7113/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/f47bdcaaa3768440fa641abe117d3306c60922ce/src/app/lib/views/show_detail.js,"@@ -109,7 +109,7 @@
             var tvdbid = $elem.attr('data-id');
             var tvdbtorrent = $elem.attr('data-torrent');
             $('.epidoseSummary').removeClass('active');
-            $elem.parent().addClass('active');
+            $elem.addClass('active');
             $("".episode-info-number"").text(i18n.__('Episode') + ' '+$('.template-'+tvdbid+' .episode').html());
             $("".episode-info-title"").text($('.template-'+tvdbid+' .title').html());
             $("".episode-info-date"").text($('.template-'+tvdbid+' .date').html());
",112,$elem.parent().addClass('active');,$elem.addClass('active');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/7a8699efad8fa39349633daa468081caa5cd89e2,7a8699efad8fa39349633daa468081caa5cd89e2,Fix #279,2014-05-07 12:23:36+01:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/f279f1a87a74daf64f108a6b0fc6da5baa62b556/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/7a8699efad8fa39349633daa468081caa5cd89e2/src/app/app.js,"@@ -94,7 +94,7 @@ String.prototype.capitalize = function() {
 };
 
 String.prototype.capitalizeEach = function() {
-    return this.replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});
+    return this.replace(/\w*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});
 };
 
 
",97,"return this.replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});","return this.replace(/\w*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/06a78f8a1dcc2b75564ac7056bd576621d1672e9,06a78f8a1dcc2b75564ac7056bd576621d1672e9,"Added time tooltip to progressbar + player fixes

Added time tooltip to progressbar.
Fixed close button in trailer.
Changed a bit the styles and transitions.",2014-05-08 05:21:02-03:00,movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/8cec597bc7aa0ccba59adab275c410fec32f7aca/src/app/lib/views/movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/06a78f8a1dcc2b75564ac7056bd576621d1672e9/src/app/lib/views/movie_detail.js,"@@ -98,7 +98,7 @@
         },
 
         playTrailer: function() {
-            var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: null });
+            var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: this.model.get('title') });
             App.vent.trigger('stream:ready', trailer);
         },
 
",101,"var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: null });","var trailer = new Backbone.Model({src: this.model.get('trailer'), type: 'video/youtube', subtitle: null, title: this.model.get('title') });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/22f76770e094ea49583cf3b3752d21d189c3ed5c,22f76770e094ea49583cf3b3752d21d189c3ed5c,fix settings duh...,2014-05-08 19:37:52-03:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/942e4d890edbc66c1e25d66cb90753dd886b43bb/src/app/lib/views/movie_browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/22f76770e094ea49583cf3b3752d21d189c3ed5c/src/app/lib/views/movie_browser/filter_bar.js,"@@ -63,7 +63,7 @@
         },
 
         settings: function(e) {
-            App.vent.trigger('settings:' + this.type);
+            App.vent.trigger('settings:show');
         },
 
         showShows: function(e) {
",66,App.vent.trigger('settings:' + this.type);,App.vent.trigger('settings:show');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/69c896b9725ee9da573de4e9e0cd71e2ecc356ae,69c896b9725ee9da573de4e9e0cd71e2ecc356ae,"show debugger on shift+F12 too, ... F12 is mapped to 'volume up on my laptop'",2014-05-11 16:58:58-03:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/2ffb0d4e9f58acafaaf1d2a7e1075c312068904a/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/69c896b9725ee9da573de4e9e0cd71e2ecc356ae/src/app/app.js,"@@ -104,7 +104,7 @@ String.prototype.capitalizeEach = function() {
 };
 
 // Developer Shortcuts
-Mousetrap.bind('f12', function(e) {
+Mousetrap.bind(['shift+f12', 'f12'], function(e) {
 	win.showDevTools(); 
 })
 Mousetrap.bind('f11', function(e) { 
",107,"Mousetrap.bind('f12', function(e) {","Mousetrap.bind(['shift+f12', 'f12'], function(e) {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6e8e00db0c0204681e1b5eaf050d38fc031f3186,6e8e00db0c0204681e1b5eaf050d38fc031f3186,Disable native controls. 100% fix #309,2014-05-12 13:58:17-03:00,player.js,https://github.com/popcorn-official/popcorn-desktop/raw/31832b74e6bbafcfe604d1d4ecee4aaa627ded89/src/app/lib/views/player/player.js,https://github.com/popcorn-official/popcorn-desktop/raw/6e8e00db0c0204681e1b5eaf050d38fc031f3186/src/app/lib/views/player/player.js,"@@ -74,7 +74,7 @@
                 this.ui.eyeInfo.hide();
             }
             else
-                this.video = videojs('video_player', { plugins: { biggerSubtitle : {}, smallerSubtitle : {}, customSubtitles: {}, progressTips: {} }});
+                this.video = videojs('video_player', { nativeControlsForTouch: false, plugins: { biggerSubtitle : {}, smallerSubtitle : {}, customSubtitles: {}, progressTips: {} }});
 
 
             var player = this.video.player();
",77,"this.video = videojs('video_player', { plugins: { biggerSubtitle : {}, smallerSubtitle : {}, customSubtitles: {}, progressTips: {} }});","this.video = videojs('video_player', { nativeControlsForTouch: false, plugins: { biggerSubtitle : {}, smallerSubtitle : {}, customSubtitles: {}, progressTips: {} }});"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/18b7eff512be9d6fa7260839afbef1c648ae9f8e,18b7eff512be9d6fa7260839afbef1c648ae9f8e,Fix subtitles #137,2014-05-14 03:33:30-03:00,videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/05638d3f97a15db6b2d27fd5617eddcce85a7cc6/src/app/vendor/videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/18b7eff512be9d6fa7260839afbef1c648ae9f8e/src/app/vendor/videojsplugins.js,"@@ -247,7 +247,7 @@ vjs.TextTrack.prototype.load = function(){
 
         if ( detectedEncoding == 'IBM855' || detectedEncoding == 'windows-1250' || detectedEncoding == 'windows-1251' || detectedEncoding == 'windows-1252' || detectedEncoding == 'windows-1255' || detectedEncoding == 'windows-1254' ) {
           // It's the charset detector screwing up again
-          var langInfo = App.Localization.languages[language] || {};
+          var langInfo = App.Localization.langcodes[language] || {}; 
           var expected = langInfo.encoding;
           if (expected && expected.indexOf(detectedEncoding) < 0) {
             // The detected encoding was unexepected to the language, so we'll use the most common
",250,var langInfo = App.Localization.languages[language] || {};,var langInfo = App.Localization.langcodes[language] || {};
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0785f6b67745d6b277fe68980a8078520ae04130,0785f6b67745d6b277fe68980a8078520ae04130,Fix undefined errors,2014-05-13 11:25:53+01:00,player.js,https://github.com/popcorn-official/popcorn-desktop/raw/612a236ef7f879233a382e796ec66810c7f41426/src/app/lib/views/player/player.js,https://github.com/popcorn-official/popcorn-desktop/raw/0785f6b67745d6b277fe68980a8078520ae04130/src/app/lib/views/player/player.js,"@@ -201,7 +201,7 @@
             var v = this.player.volume();
             this.player.volume(v + i);
             this.displayVolume();
-        }
+        },
 
         toggleFullscreen: function() {
 
",204,},"},"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/82cebffe448a91f4ba73ae1648f11c64b60d0cac,82cebffe448a91f4ba73ae1648f11c64b60d0cac,Fix #494,2014-05-15 18:18:58-03:00,language.js,https://github.com/popcorn-official/popcorn-desktop/raw/6940ee907b9f50cb488d9dc2ff607269764cd586/src/app/language.js,https://github.com/popcorn-official/popcorn-desktop/raw/82cebffe448a91f4ba73ae1648f11c64b60d0cac/src/app/language.js,"@@ -340,7 +340,7 @@ App.Localization.langcodes = {
 		name:""Modern Greek"",
 		nativeName:""Ελληνικά"",
 		subtitle: true,
-        encoding: ['windows-1253', 'iso-8859-7']
+        encoding: ['iso-8859-7']
 	},
 	""gn"":{
 		name:""Guaraní"",
",343,"encoding: ['windows-1253', 'iso-8859-7']",encoding: ['iso-8859-7']
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f2efbf5a36258070d997ad1a059ccb98e2f15657,f2efbf5a36258070d997ad1a059ccb98e2f15657,"Fix 495

- Show Filter Bar on TV Shows
- Show results when you change the genre
- Fix some 'escape' shortcut issues",2014-05-15 22:25:51+01:00,movie_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/6940ee907b9f50cb488d9dc2ff607269764cd586/src/app/lib/views/movie_browser/movie_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/f2efbf5a36258070d997ad1a059ccb98e2f15657/src/app/lib/views/movie_browser/movie_browser.js,"@@ -55,7 +55,7 @@
 
             // Fetch default category movie:
             this.movieCollection.fetch();
-
+            App.vent.trigger('movie:closeDetail');
             this.MovieList.show(new App.View.MovieList({
                 collection: this.movieCollection
             }));
",58,,App.vent.trigger('movie:closeDetail');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f2efbf5a36258070d997ad1a059ccb98e2f15657,f2efbf5a36258070d997ad1a059ccb98e2f15657,"Fix 495

- Show Filter Bar on TV Shows
- Show results when you change the genre
- Fix some 'escape' shortcut issues",2014-05-15 22:25:51+01:00,show_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/6940ee907b9f50cb488d9dc2ff607269764cd586/src/app/lib/views/show_browser/show_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/f2efbf5a36258070d997ad1a059ccb98e2f15657/src/app/lib/views/show_browser/show_browser.js,"@@ -53,7 +53,7 @@
             this.showCollection = new App.Model.ShowCollection([], {
                 filter: this.filter
             });
-
+            App.vent.trigger('show:closeDetail');
             this.showCollection.fetch();
 
             this.ShowList.show(new App.View.ShowList({
",56,,App.vent.trigger('show:closeDetail');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5f11f35541e6d9a491d7ccc18b7910e6bb29a584,5f11f35541e6d9a491d7ccc18b7910e6bb29a584,Fix typo,2014-05-16 19:00:41+01:00,language.js,https://github.com/popcorn-official/popcorn-desktop/raw/4153f56bcdb60816cd4de4e66227e6a8c87a5f57/src/app/language.js,https://github.com/popcorn-official/popcorn-desktop/raw/5f11f35541e6d9a491d7ccc18b7910e6bb29a584/src/app/language.js,"@@ -618,7 +618,7 @@ App.Localization.langcodes = {
 		nativeName:""Português"",
 		subtitle: true,
 		encoding: ['iso-8859-1'] // Tested
-	}
+	},
 	""pt-br"":{
 		name:""Portuguese (Brazil)"",
 		nativeName:""Português (Brasil)"",
",621,},"},"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/dcda2092be652c274387f1751335d7e2ce2c1deb,dcda2092be652c274387f1751335d7e2ce2c1deb,Fix #569,2014-05-19 14:01:59+01:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/385a184750a508079ce3bc472810bf41297ea3b5/src/app/lib/views/movie_browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/dcda2092be652c274387f1751335d7e2ce2c1deb/src/app/lib/views/movie_browser/filter_bar.js,"@@ -72,7 +72,7 @@
             $(e.target).addClass('active');
 
             var genre = $(e.target).attr('data-value');
-            this.ui.genreValue.text(i18n.__(genre.capitalizeEach()));
+            this.ui.genreValue.text(i18n.__(genre));
 
             this.model.set({
                 keyword: '',
",75,this.ui.genreValue.text(i18n.__(genre.capitalizeEach()));,this.ui.genreValue.text(i18n.__(genre));
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6521a81334f4977a469e6bbccbfc590bad2d0d38,6521a81334f4977a469e6bbccbfc590bad2d0d38,Fix an error in settings.js,2014-05-25 17:57:02+10:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/f3e0bfa40cecf4156a2e5aad6881f37c00324855/src/app/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/6521a81334f4977a469e6bbccbfc590bad2d0d38/src/app/settings.js,"@@ -1,5 +1,5 @@
     var 
-    Settings = [],
+    Settings = {},
     os = require('os'),
     path = require('path');
     
",2,"Settings = [],","Settings = {},"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/eb92ccc87f7a46ab33bc421cdb6661ad9e397481,eb92ccc87f7a46ab33bc421cdb6661ad9e397481,Fix missing semicolon,2014-05-26 02:48:37-03:00,updater.js,https://github.com/popcorn-official/popcorn-desktop/raw/99c4fb4a98ee22e892feaea901d6f413d37e9f93/src/app/updater.js,https://github.com/popcorn-official/popcorn-desktop/raw/eb92ccc87f7a46ab33bc421cdb6661ad9e397481/src/app/updater.js,"@@ -116,7 +116,7 @@
                         outDir = process.execPath;
                     }else if(App.settings.os === 'windows') {
                         outDir = Settings.tmpLocation;
-                        filename = 'update.exe'
+                        filename = 'update.exe';
                     }
                     var outputFile = path.join(path.dirname(outDir), fileName);
                     var downloadRequest = request(updateData.updateUrl);
",119,filename = 'update.exe',filename = 'update.exe';
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a936172226f11caa576438b658f18d6c868ce528,a936172226f11caa576438b658f18d6c868ce528,"Add IMDb link to movies

Fix tooltip stutter in ratings.",2014-05-26 04:20:28-03:00,movie_item.js,https://github.com/popcorn-official/popcorn-desktop/raw/ec9563c394e825660b6fc75c43d8d10792068c14/src/app/lib/views/movie_browser/movie_item.js,https://github.com/popcorn-official/popcorn-desktop/raw/a936172226f11caa576438b658f18d6c868ce528/src/app/lib/views/movie_browser/movie_item.js,"@@ -50,7 +50,7 @@
         showDetail: function(e) {
             e.preventDefault();
 
-            this.model.set('imdb_id', this.model.get('ImdbCode'));
+            this.model.set('imdb_id', 'tt'+this.model.get('imdb'));
             this.model.set('rating', this.model.get('MovieRating'));
             this.model.set('health', false);
 
",53,"this.model.set('imdb_id', this.model.get('ImdbCode'));","this.model.set('imdb_id', 'tt'+this.model.get('imdb'));"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/091a578659be1285c684960ec4fa9d0fb5ddb74a,091a578659be1285c684960ec4fa9d0fb5ddb74a,Fixed trakttv.js error #736,2014-05-30 19:30:39-04:00,trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/e1c62acd3ccaf1ce011cf1e05c75f9fa00745760/src/app/lib/providers/trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/091a578659be1285c684960ec4fa9d0fb5ddb74a/src/app/lib/providers/trakttv.js,"@@ -50,7 +50,7 @@
         var uri = URI(imageUrl),
             ext = uri.suffix(),
             file = uri.filename().split('.' + ext)[0];
-        if(uri.filename() == 'poster-dark.jpg') {
+        if(uri.filename() === 'poster-dark.jpg') {
             return imageUrl;
         }else{
             return uri.filename(file + '-' + width + '.' + ext).toString();
",53,if(uri.filename() == 'poster-dark.jpg') {,if(uri.filename() === 'poster-dark.jpg') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0bf1db65d4ebb22df32e1d1a9be876ace910f0bb,0bf1db65d4ebb22df32e1d1a9be876ace910f0bb,"Default volume slider

Fix #739",2014-05-31 14:19:45-03:00,videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/fa6f68c3cfaca88260148dee4e0986770fd88f02/src/app/vendor/videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/0bf1db65d4ebb22df32e1d1a9be876ace910f0bb/src/app/vendor/videojshooks.js,"@@ -1,4 +1,3 @@
-vjs.options['defaultVolume'] = 1;
 vjs.options['children'] = {
     'mediaLoader': {},
     'posterImage': {},
@@ -218,4 +217,5 @@ vjs.Player.prototype.onLoadStart = function() {
   }
   
   vjs.addClass(this.el_, 'vjs-has-started');
+  this.trigger('volumechange');
 };
\ No newline at end of file
",220,vjs.options['defaultVolume'] = 1;,this.trigger('volumechange');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/33374d54a0758c910770789350931ea84268c538,33374d54a0758c910770789350931ea84268c538,"Scale poster according to screen resolution

Now uses 300px images for the movie/show collection views. If the app detects the user is using a resolution of 720p or greater, it will use the full size poster image in the details view, otherwise it will use the 300px poster. This re-adds the fix for jQuery memory leak. jQuery keeps the reference to the 'orphaned' image tag even after you call remove. (Remove calls DOMElement.remove() which only removes it from the DOM, not from memory)",2014-06-02 20:16:09+10:00,movie_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/0e3dc0f3f9c6242537becd445113ca5b4a4fb8d0/src/app/lib/models/movie_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/33374d54a0758c910770789350931ea84268c538/src/app/lib/models/movie_collection.js,"@@ -48,7 +48,7 @@
                         var info = metadatas[id] || {};
                         movie.subtitle = subtitles[id];
                         _.extend(movie, _.pick(info, [
-                            'image','bigImage','backdrop',
+                            'image','backdrop',
                             'synopsis','genres','certification','runtime',
                             'tagline','title','trailer','year'
                         ]));
",51,"'image','bigImage','backdrop',","'image','backdrop',"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5e8dfe3b517b26c465ac27f76663ed7c4d6bc8e6,5e8dfe3b517b26c465ac27f76663ed7c4d6bc8e6,"Fix loading indicator

Fix #753",2014-06-02 08:55:06-03:00,movie_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/2fe87bbbd01a964f023d13a40842d29a7df02d7c/src/app/lib/views/movie_browser/movie_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/5e8dfe3b517b26c465ac27f76663ed7c4d6bc8e6/src/app/lib/views/movie_browser/movie_list.js,"@@ -93,7 +93,7 @@
             $('#load-more-item').remove();
 
             // we add a load more
-            if(this.collection.hasMore && this.collection.filter.keywords === null && this.collection.state !== 'error') {
+            if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {
                 $('.movies').append('<div id=\'load-more-item\' class=\'load-more\'><span class=\'status-loadmore\'>' + i18n.__('Load More') + '</span><div id=\'loading-more-animi\' class=\'loading-container\'><div class=\'ball\'></div><div class=\'ball1\'></div></div></div>');
                 
                 $('#load-more-item').click(function(){
",96,if(this.collection.hasMore && this.collection.filter.keywords === null && this.collection.state !== 'error') {,if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5e8dfe3b517b26c465ac27f76663ed7c4d6bc8e6,5e8dfe3b517b26c465ac27f76663ed7c4d6bc8e6,"Fix loading indicator

Fix #753",2014-06-02 08:55:06-03:00,show_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/2fe87bbbd01a964f023d13a40842d29a7df02d7c/src/app/lib/views/show_browser/show_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/5e8dfe3b517b26c465ac27f76663ed7c4d6bc8e6/src/app/lib/views/show_browser/show_list.js,"@@ -92,7 +92,7 @@
             $('#load-more-item').remove();
 
             // we add a load more
-            if(this.collection.hasMore && this.collection.filter.keywords === null && this.collection.state !== 'error') {
+            if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {
                 $('.shows').append('<div id=\'load-more-item\' class=\'load-more\'><span class=\'status-loadmore\'>' + i18n.__('Load More') + '</span><div id=\'loading-more-animi\' class=\'loading-container\'><div class=\'ball\'></div><div class=\'ball1\'></div></div></div>');
 
                 $('#load-more-item').click(function(){
",95,if(this.collection.hasMore && this.collection.filter.keywords === null && this.collection.state !== 'error') {,if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/747c091d675d052bef4fc4007bdad8e1684f143e,747c091d675d052bef4fc4007bdad8e1684f143e,Fix TV Show Magnet Links,2014-06-03 20:57:43+10:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/8161b208bda27a0bceea45820b8cd38abaab5fff/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/747c091d675d052bef4fc4007bdad8e1684f143e/src/app/lib/streamer.js,"@@ -24,7 +24,7 @@
             var swarm = engine.swarm;
             var state = 'connecting';            
 
-            if((swarm.downloaded > BUFFERING_SIZE || (swarm.piecesGot * engine.torrent.pieceLength) > BUFFERING_SIZE) && hasSubtitles) {
+            if((swarm.downloaded > BUFFERING_SIZE || (swarm.piecesGot * (engine.torrent !== null ? engine.torrent.pieceLength : 0)) > BUFFERING_SIZE) && hasSubtitles) {
                 state = 'ready';
             } else if(swarm.downloaded || swarm.piecesGot > 0) {
                 state = 'downloading';
",27,if((swarm.downloaded > BUFFERING_SIZE || (swarm.piecesGot * engine.torrent.pieceLength) > BUFFERING_SIZE) && hasSubtitles) {,if((swarm.downloaded > BUFFERING_SIZE || (swarm.piecesGot * (engine.torrent !== null ? engine.torrent.pieceLength : 0)) > BUFFERING_SIZE) && hasSubtitles) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/c5586fa2b7edeeaa84b44381ecb3a9f5fe3a619e,c5586fa2b7edeeaa84b44381ecb3a9f5fe3a619e,Fixed the resize function,2014-06-12 21:34:05+10:00,trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/b0e5d03128badffe2f0160b9c085da9efafa174a/src/app/lib/providers/trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/c5586fa2b7edeeaa84b44381ecb3a9f5fe3a619e/src/app/lib/providers/trakttv.js,"@@ -351,7 +351,7 @@
         if(uri.domain() !== 'trakt.us') { return imageUrl; }
 
         var existingIndex = 0;
-        if((existingIndex = file.search('-300$')) !== -1 || (existingIndex = file.search('-138$')) !== -1) {
+        if((existingIndex = file.search('-\d\d\d$')) !== -1) {
             file = file.slice(0, existingIndex);
         }
 
",354,if((existingIndex = file.search('-300$')) !== -1 || (existingIndex = file.search('-138$')) !== -1) {,if((existingIndex = file.search('-\d\d\d$')) !== -1) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/835578b258710d5b29a7b62271b0be770490559f,835578b258710d5b29a7b62271b0be770490559f,Fix `ESC` in TvShow detail,2014-06-12 11:08:34-04:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/cdf58f6a8807a424f19b61cc3cd22ade3f97da02/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/835578b258710d5b29a7b62271b0be770490559f/src/app/lib/views/show_detail.js,"@@ -28,7 +28,7 @@
 		initialize: function() {
 			_this = this;
 			Mousetrap.bind('esc', function(e) {
-				_this.closeDetails();
+				_this.closeDetails(e);
 			});
 			App.vent.on('shows:watched', this.markWatched);
 
",31,_this.closeDetails();,_this.closeDetails(e);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/cb290cc275fe0304890f7f31386208197b6267c2,cb290cc275fe0304890f7f31386208197b6267c2,Fixes #866,2014-06-30 15:38:34+01:00,movie_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/feca20af3be7818d9b673874cefac6cca9d28c40/src/app/lib/views/movie_browser/movie_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/cb290cc275fe0304890f7f31386208197b6267c2/src/app/lib/views/movie_browser/movie_list.js,"@@ -136,7 +136,7 @@
 			$('#load-more-item,.movie-item:empty').remove();
 
 			// we add a load more
-			if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {
+			if(this.collection.hasMore && this.collection.filter.keywords.isEmpty() && this.collection.state !== 'error') {
 				$('.movies').append('<div id=""load-more-item"" class=""load-more""><span class=""status-loadmore"">' + i18n.__('Load More') + '</span><div id=""loading-more-animi"" class=""loading-container""><div class=""ball""></div><div class=""ball1""></div></div></div>');
 
 				$('#load-more-item').click(function(){
",139,if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {,if(this.collection.hasMore && this.collection.filter.keywords.isEmpty() && this.collection.state !== 'error') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/cb290cc275fe0304890f7f31386208197b6267c2,cb290cc275fe0304890f7f31386208197b6267c2,Fixes #866,2014-06-30 15:38:34+01:00,show_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/feca20af3be7818d9b673874cefac6cca9d28c40/src/app/lib/views/show_browser/show_list.js,https://github.com/popcorn-official/popcorn-desktop/raw/cb290cc275fe0304890f7f31386208197b6267c2/src/app/lib/views/show_browser/show_list.js,"@@ -135,7 +135,7 @@
 			$('#load-more-item,.movie-item:empty').remove();
 
 			// we add a load more
-			if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {
+			if(this.collection.hasMore && this.collection.filter.keywords.isEmpty() && this.collection.state !== 'error') {
 				$('.shows').append('<div id=""load-more-item"" class=""load-more""><span class=""status-loadmore"">' + i18n.__('Load More') + '</span><div id=""loading-more-animi"" class=""loading-container""><div class=""ball""></div><div class=""ball1""></div></div></div>');
 
 				$('#load-more-item').click(function(){
",138,if(this.collection.hasMore && this.collection.filter.keywords === undefined && this.collection.state !== 'error') {,if(this.collection.hasMore && this.collection.filter.keywords.isEmpty() && this.collection.state !== 'error') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/8623a9b7b10fd7c0f4b733ee4af2847011c97330,8623a9b7b10fd7c0f4b733ee4af2847011c97330,"Fix #991 ?

I couldn't reproduce the problem but the ToggleFavourite method in
Move_Items and Movie_Details were different. I uniformized them.",2014-07-07 17:13:15+02:00,movie_item.js,https://github.com/popcorn-official/popcorn-desktop/raw/fc122b2a44cecba115839fe3eedda0be106829a9/src/app/lib/views/movie_browser/movie_item.js,https://github.com/popcorn-official/popcorn-desktop/raw/8623a9b7b10fd7c0f4b733ee4af2847011c97330/src/app/lib/views/movie_browser/movie_item.js,"@@ -149,8 +149,8 @@
                 Database.addMovie(movie, function(error, result) {
                     Database.addBookmark(that.model.get('imdb'), 'movie', function(err, data) {
                         console.log('Bookmark added');
+                        App.userBookmarks.push(that.model.get('imdb'));
                         that.model.set('bookmarked', true);
-
                     });
                 });
 
",152,App.userBookmarks.push(that.model.get('imdb'));,
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/71f5cee809e80fccb6d376e9664f634ef94fcece,71f5cee809e80fccb6d376e9664f634ef94fcece,Fix #991,2014-07-07 18:44:34+02:00,show_item.js,https://github.com/popcorn-official/popcorn-desktop/raw/9361b20628fc9ecf7a1d34ccec12ba0910d02941/src/app/lib/views/show_browser/show_item.js,https://github.com/popcorn-official/popcorn-desktop/raw/71f5cee809e80fccb6d376e9664f634ef94fcece/src/app/lib/views/show_browser/show_item.js,"@@ -97,7 +97,7 @@
                 Database.deleteBookmark(this.model.get('imdb_id'), function(err, data) {
                     console.log('Bookmark deleted');
                     that.model.set('bookmarked', false);
-                    App.userBookmarks.splice(App.userBookmarks.indexOf(that.model.get('imdb_id'), 1));
+                    App.userBookmarks.splice(App.userBookmarks.indexOf(that.model.get('imdb_id')), 1);
 
                     // we'll make sure we dont have a cached show
                     Database.deleteTVShow(that.model.get('imdb_id'), function(err, data) {});
",100,"App.userBookmarks.splice(App.userBookmarks.indexOf(that.model.get('imdb_id'), 1));","App.userBookmarks.splice(App.userBookmarks.indexOf(that.model.get('imdb_id')), 1);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f94162488df6a21dda84960305f18b162087ee66,f94162488df6a21dda84960305f18b162087ee66,Fix _.each and log device when added (not working atm),2014-08-01 19:11:36-03:00,generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/ce6fc78f49dd3ad23b9be73478b77ba06c720523/src/app/lib/device/generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/f94162488df6a21dda84960305f18b162087ee66/src/app/lib/device/generic.js,"@@ -53,7 +53,7 @@
 
     Device.prototype.list = function () {
         var self = this;
-        _.foreach (this.devices, function (device) {
+        _.each(this.devices, function (device) {
             App.vent.trigger('device:add', device);
         });
     };
",56,"_.foreach (this.devices, function (device) {","_.each(this.devices, function (device) {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/bfd65a511d3e7d979062ab44886259ab698e5e49,bfd65a511d3e7d979062ab44886259ab698e5e49,Fix external subtitles for movies,2014-08-11 22:08:48+01:00,generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/53d8cfd13fdb60eeb348e65785edc8a8d05d7cfe/src/app/lib/subtitle/generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/bfd65a511d3e7d979062ab44886259ab698e5e49/src/app/lib/subtitle/generic.js,"@@ -38,7 +38,7 @@
 			zipEntries = zip.getEntries();
 			zip.extractAllTo(/*target path*/unzipPath, /*overwrite*/true);
 			fs.unlink(zipPath, function(err){});
-			win.debug('Subtitle extracted to : '+ unzipPath);
+			win.debug('Subtitle extracted to : '+ newName);
 			var files = fs.readdirSync(unzipPath);
 			for(var f in files) {
 				if(path.extname(files[f]) === '.srt') {
",41,win.debug('Subtitle extracted to : '+ unzipPath);,win.debug('Subtitle extracted to : '+ newName);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5c9cd060e9214f702d2f2fc388313ab83676ca1b,5c9cd060e9214f702d2f2fc388313ab83676ca1b,Fix error,2014-08-15 17:11:57+01:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/ec5e0ad487625441485a8e59daedcbff4ee15696/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/5c9cd060e9214f702d2f2fc388313ab83676ca1b/src/app/httpapi.js,"@@ -27,7 +27,7 @@
 		});
 
 		server.expose('togglemute', function(args, opt, callback){
-			this.player.muted(!this.player.muted());
+			App.Player.muted(!App.Player.muted());
 			callback();
 		});
 
",30,this.player.muted(!this.player.muted());,App.Player.muted(!App.Player.muted());
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/8bb6257999a6be82a8e0d2334751d55341ee9925,8bb6257999a6be82a8e0d2334751d55341ee9925,Fix error,2014-08-21 12:20:09+01:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/171ed5616e55ce4793d76264a30fb6379973ef84/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/8bb6257999a6be82a8e0d2334751d55341ee9925/src/app/httpapi.js,"@@ -27,7 +27,7 @@
 		});
 
 		server.expose('togglemute', function(args, opt, callback){
-			this.player.muted(!this.player.muted());
+			App.Player.muted(!App.Player.muted());
 			callback();
 		});
 
",30,this.player.muted(!this.player.muted());,App.Player.muted(!App.Player.muted());
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/b78ab1a4c928a5326d773af36d26232160fe7e95,b78ab1a4c928a5326d773af36d26232160fe7e95,Fix jshint,2014-08-21 19:21:31+01:00,ysubs.js,https://github.com/popcorn-official/popcorn-desktop/raw/da34a33110e8d0b3205e16374f5f15e8433bf31f/src/app/lib/subtitle/ysubs.js,https://github.com/popcorn-official/popcorn-desktop/raw/b78ab1a4c928a5326d773af36d26232160fe7e95/src/app/lib/subtitle/ysubs.js,"@@ -16,7 +16,7 @@
 			type: 'movie'
 		},
 
-		get: function(queryParams) {
+		get: function(ids) {
 			return Q.when(querySubtitles(ids))
 				.then(formatForPopcorn);
 		}
",19,get: function(queryParams) {,get: function(ids) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/19be54108db1cdf9081781f274150ef9342db27c,19be54108db1cdf9081781f274150ef9342db27c,fix missing ShowList in generic,2014-09-01 16:24:09-03:00,generic_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/39fd3964b51c58ed72d77aa280bd329eb487e579/src/app/lib/views/browser/generic_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/19be54108db1cdf9081781f274150ef9342db27c/src/app/lib/views/browser/generic_browser.js,"@@ -49,7 +49,7 @@
             App.vent.trigger('show:closeDetail');
             this.collection.fetch();
 
-            this.ShowList.show(new App.View.List({
+            this.ItemList.show(new App.View.List({
                 collection: this.collection
             }));
         },
",52,this.ShowList.show(new App.View.List({,this.ItemList.show(new App.View.List({
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5a9c45be19784792685508f1d026c0040c0b340a,5a9c45be19784792685508f1d026c0040c0b340a,Fixed again,2014-09-01 16:24:10-03:00,chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/8eccc9734057fc844f03aa24f9d50249575aa3d7/src/app/lib/device/chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/5a9c45be19784792685508f1d026c0040c0b340a/src/app/lib/device/chromecast.js,"@@ -34,7 +34,7 @@
 		},
 
 		unpause: function() {
-			this.get('device').play(function(){});
+			this.get('device').player.play(function(){});
 		}
 	});
 
",37,this.get('device').play(function(){});,this.get('device').player.play(function(){});
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a124163b2ddf15bb5fc6184488e54b07bef80adc,a124163b2ddf15bb5fc6184488e54b07bef80adc,"fix jshint, i18n strings, loadingscreen missing divs",2014-09-01 16:24:10-03:00,loading.js,https://github.com/popcorn-official/popcorn-desktop/raw/7a24d03b4ea56a034c8d205d3bf8b89949a85846/src/app/lib/views/player/loading.js,https://github.com/popcorn-official/popcorn-desktop/raw/a124163b2ddf15bb5fc6184488e54b07bef80adc/src/app/lib/views/player/loading.js,"@@ -108,7 +108,7 @@
                 this.ui.title.text(streamInfo.get('title'));
             }
             if(streamInfo.get('player') !== ''){
-                this.ui.player.text(streamInfo.get('player'))
+                this.ui.player.text(streamInfo.get('player'));
                 this.ui.streaming.show();
                 this.ui.cancel_button.hide();
             }
",111,this.ui.player.text(streamInfo.get('player')),this.ui.player.text(streamInfo.get('player'));
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6f037cf472cfaf188041ad2c52b7157c5fbbccb8,6f037cf472cfaf188041ad2c52b7157c5fbbccb8,Ctrl + v fix on Textarea and Input,2014-09-01 16:25:51-03:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/18c6ae532fe8f8826687487de17ded4c468768df/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/6f037cf472cfaf188041ad2c52b7157c5fbbccb8/src/app/lib/views/browser/filter_bar.js,"@@ -51,7 +51,7 @@
 			}
 		},
 		rightclick_search: function(e) {
-			e.preventDefault();
+			e.stopPropagation();
 			var search_menu = new this.context_Menu(i18n.__('Cut'), i18n.__('Copy'), i18n.__('Paste'));
 			search_menu.popup(e.originalEvent.x, e.originalEvent.y);
 		},
",54,e.preventDefault();,e.stopPropagation();
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f41652fb98a352d9feef58a893f354c785a65a53,f41652fb98a352d9feef58a893f354c785a65a53,fix providers,2014-09-01 16:25:51-03:00,favorite_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/6f037cf472cfaf188041ad2c52b7157c5fbbccb8/src/app/lib/models/favorite_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/f41652fb98a352d9feef58a893f354c785a65a53/src/app/lib/models/favorite_collection.js,"@@ -8,7 +8,7 @@
 
         initialize: function(models, options) {
             this.providers = {
-                torrent: new (App.Providers.Favorites)()
+                torrent: App.Providers.get('Favorites')
             };
 
             options = options || {};
",11,torrent: new (App.Providers.Favorites)(),torrent: App.Providers.get('Favorites')
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f41652fb98a352d9feef58a893f354c785a65a53,f41652fb98a352d9feef58a893f354c785a65a53,fix providers,2014-09-01 16:25:51-03:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/6f037cf472cfaf188041ad2c52b7157c5fbbccb8/src/app/lib/views/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/f41652fb98a352d9feef58a893f354c785a65a53/src/app/lib/views/settings.js,"@@ -283,7 +283,7 @@
 			});
 
 			_.defer(function() {
-				App.Trakt = new App.Providers.Trakttv();
+				App.Trakt = App.Providers.get('Trakttv');
 				self.render();
 			});
 		},
",286,App.Trakt = new App.Providers.Trakttv();,App.Trakt = App.Providers.get('Trakttv');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/16a959264bfd07b9367acdf2450fbae897f6c83c,16a959264bfd07b9367acdf2450fbae897f6c83c,fix 'Movies' filter-bar UI not being active on first start,2014-09-01 22:25:37+02:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/82bad0aab99943005def7c9ef06bb04b8f21da9d/src/app/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/16a959264bfd07b9367acdf2450fbae897f6c83c/src/app/settings.js,"@@ -23,7 +23,7 @@ Settings.postersJump = [134, 144, 154, 264, 274, 284, 295];
 Settings.alwaysOnTop = false;
 Settings.theme = 'Dark_-_Official_theme';
 Settings.ratingStars = true; //trigger on click in details
-Settings.start_screen = 'Movies';
+Settings.startScreen = 'Movies';
 
 // Movies
 Settings.moviesShowQuality = false;
",26,Settings.start_screen = 'Movies';,Settings.startScreen = 'Movies';
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/9d31b7c703482675733397280882cc4cd16cf836,9d31b7c703482675733397280882cc4cd16cf836,"FIx jshint errors

Conflicts:
	src/app/lib/views/browser/item.js",2014-09-03 07:57:41-03:00,generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/355303f8ef0cecd7ca776ec52cf451426c9b910d/src/app/lib/providers/generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/9d31b7c703482675733397280882cc4cd16cf836/src/app/lib/providers/generic.js,"@@ -13,7 +13,7 @@
         this.memfetch = memoize(this.fetch.bind(this), memopts);
         this.fetch = this._fetch.bind(this);
 
-        this.detail = memoize(this.detail.bind(this), _.extend(memopts, {async: true}));;
+        this.detail = memoize(this.detail.bind(this), _.extend(memopts, {async: true}));
     };
 
     Provider.prototype._fetch = function (filters) {
",16,"this.detail = memoize(this.detail.bind(this), _.extend(memopts, {async: true}));;","this.detail = memoize(this.detail.bind(this), _.extend(memopts, {async: true}));"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/2aaf2cb458a11be75eb7654557a07a8b19ef2d54,2aaf2cb458a11be75eb7654557a07a8b19ef2d54,fix next episode not detecting last,2014-09-03 21:20:17-03:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/9ad74f2466daace994fc566b1f42469c7473db77/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/2aaf2cb458a11be75eb7654557a07a8b19ef2d54/src/app/lib/views/show_detail.js,"@@ -208,7 +208,7 @@ var health_checked = false;
                     episodesSeen.sort();
                     episodes.sort();
                     var first = episodes[0];
-                    var last = episodes.pop();
+                    var last = episodes[episodes.length - 1];
                     var unseen = episodes.filter(function(item) {
                         return episodesSeen.indexOf(item) === -1;
                     });
",211,var last = episodes.pop();,var last = episodes[episodes.length - 1];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/80d59af923b951133441eef16487a292f0c8ddd3,80d59af923b951133441eef16487a292f0c8ddd3,"Anime provider

many thanks to the Haruhichan people for making this possible.
fix tv shows (oav, tv)


Conflicts:
	src/app/lib/models/history_collection.js
	src/app/lib/providers/history.js
	src/app/lib/views/browser/filter_bar.js

Conflicts:
	src/app/lib/views/browser/item.js

new API for anime list


get ready for anime: detail code


anime provider",2014-09-08 06:13:29-03:00,list.js,https://github.com/popcorn-official/popcorn-desktop/raw/91642fd65cb2a5cb969e7a225d80dba1cf61ac78/src/app/lib/views/browser/list.js,https://github.com/popcorn-official/popcorn-desktop/raw/80d59af923b951133441eef16487a292f0c8ddd3/src/app/lib/views/browser/list.js,"@@ -54,6 +54,7 @@
             switch (App.currentview) {
                 case 'movies':
                 case 'shows':
+                case 'anime':
                     if (this.collection.state === 'error') {
                         return ErrorView.extend({
                             error: i18n.__('Error loading data, try again later...')
@@ -77,7 +78,6 @@
                     }
                     break;
             }
-
         },
 
         initialize: function() {
",57,case 'anime':,
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/be310b60e47c88774f244d1534cd50db12fe301b,be310b60e47c88774f244d1534cd50db12fe301b,"Remove some excess logging, also add debug console log to external player info",2014-09-10 16:20:34-07:00,external.js,https://github.com/popcorn-official/popcorn-desktop/raw/f147780209eeace62acf2441cba45c276b5d0e9b/src/app/lib/device/external.js,https://github.com/popcorn-official/popcorn-desktop/raw/be310b60e47c88774f244d1534cd50db12fe301b/src/app/lib/device/external.js,"@@ -138,7 +138,7 @@
 			return;
 		}
 		else {
-			console.log('Scan Finished');
+			win.info('External players Scan Finished');
 			return;
 		}
 	});
",141,console.log('Scan Finished');,win.info('External players Scan Finished');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/251934dcde63829e759eb036334b9c459ec6fc09,251934dcde63829e759eb036334b9c459ec6fc09,grunt fix,2014-09-13 09:23:57-03:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/02f0cbe25aea5684d60a0c609cd87b690b5760d9/src/app/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/251934dcde63829e759eb036334b9c459ec6fc09/src/app/settings.js,"@@ -64,7 +64,7 @@ Settings.version = false;
 Settings.dbversion = '0.1.0';
 Settings.font = 'tahoma';
 Settings.width = window.screen.availWidth*0.8;
-Settings.height = window.screen.availHeight*0.8;;
+Settings.height = window.screen.availHeight*0.8;
 
 var ScreenResolution = {
     get SD() {
",67,Settings.height = window.screen.availHeight*0.8;;,Settings.height = window.screen.availHeight*0.8;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/76a8df76e7fdd6152dedd4ff98016f69d530ac17,76a8df76e7fdd6152dedd4ff98016f69d530ac17,fix for invalid jquery ids in airplay,2014-09-18 20:25:12-03:00,airplay.js,https://github.com/popcorn-official/popcorn-desktop/raw/ac1ce50ce532d82b02ae3bc5c6971cc736f2df61/src/app/lib/device/airplay.js,https://github.com/popcorn-official/popcorn-desktop/raw/76a8df76e7fdd6152dedd4ff98016f69d530ac17/src/app/lib/device/airplay.js,"@@ -6,7 +6,7 @@
 	var collection = App.Device.Collection;
 
 	var makeID=  function (baseID) {
-		return 'airplay-' + baseID;
+		return 'airplay-' + baseID.replace(':', '');
 	};
 
 	var Airplay = App.Device.Generic.extend ({
",9,return 'airplay-' + baseID;,"return 'airplay-' + baseID.replace(':', '');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/76a8df76e7fdd6152dedd4ff98016f69d530ac17,76a8df76e7fdd6152dedd4ff98016f69d530ac17,fix for invalid jquery ids in airplay,2014-09-18 20:25:12-03:00,xbmc.js,https://github.com/popcorn-official/popcorn-desktop/raw/ac1ce50ce532d82b02ae3bc5c6971cc736f2df61/src/app/lib/device/xbmc.js,https://github.com/popcorn-official/popcorn-desktop/raw/76a8df76e7fdd6152dedd4ff98016f69d530ac17/src/app/lib/device/xbmc.js,"@@ -6,7 +6,7 @@
 	var collection = App.Device.Collection;
 
 	var makeID=  function (baseID) {
-		return 'airplay-xbmc' + baseID;
+		return 'airplay-xbmc' + baseID.replace(':','');
 	};
 
 	var AirplayXBMC = App.Device.Airplay.extend ({
",9,return 'airplay-xbmc' + baseID;,"return 'airplay-xbmc' + baseID.replace(':','');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d8a7a0dc773aeafb24fabd9174993e6b3e2aec85,d8a7a0dc773aeafb24fabd9174993e6b3e2aec85,Fixed comma.,2014-09-27 01:26:56+02:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/85755501053f4cc57d1e23d3dc19544f8174ad2a/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/d8a7a0dc773aeafb24fabd9174993e6b3e2aec85/src/app/httpapi.js,"@@ -47,7 +47,7 @@
 		server.expose('togglefullscreen', function (args, opt, callback) {
 			Mousetrap.trigger('f');
 			nativeWindow = require('nw.gui').Window.get();
-			popcornCallback(callback, false { ""fullscreen"": nativeWindow.isFullscreen });
+			popcornCallback(callback, false, { ""fullscreen"": nativeWindow.isFullscreen });
 		});
 
 		server.expose('togglefavourite', function (args, opt, callback) {
",50,"popcornCallback(callback, false { ""fullscreen"": nativeWindow.isFullscreen });","popcornCallback(callback, false, { ""fullscreen"": nativeWindow.isFullscreen });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/8a72559f2d4c12d7cfadfe8e47bef471d16642d5,8a72559f2d4c12d7cfadfe8e47bef471d16642d5,Another comma fix,2014-09-27 02:10:30+02:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/b3ca92165a0645757a3e28222287e9f1071b00b3/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/8a72559f2d4c12d7cfadfe8e47bef471d16642d5/src/app/httpapi.js,"@@ -142,7 +142,7 @@
 		
 		server.expose('getfullscreen', function (args, opt, callback) {
 			nativeWindow = require('nw.gui').Window.get();
-			popcornCallback(callback, false { ""fullscreen"": nativeWindow.isFullscreen });
+			popcornCallback(callback, false, { ""fullscreen"": nativeWindow.isFullscreen });
 		});
 		
 		server.expose('getcurrenttab', function (args, opt, callback) {
",145,"popcornCallback(callback, false { ""fullscreen"": nativeWindow.isFullscreen });","popcornCallback(callback, false, { ""fullscreen"": nativeWindow.isFullscreen });"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/47dd217a6fb8c72f785bbc5f45f393332cf9528e,47dd217a6fb8c72f785bbc5f45f393332cf9528e,Fixing an undefined error,2014-10-02 01:02:26+03:00,about.js,https://github.com/popcorn-official/popcorn-desktop/raw/047caa6ffaec58dcc213a5fc332736aa9aba5dc5/src/app/lib/views/about.js,https://github.com/popcorn-official/popcorn-desktop/raw/47dd217a6fb8c72f785bbc5f45f393332cf9528e/src/app/lib/views/about.js,"@@ -19,7 +19,7 @@
 				App.vent.trigger('about:close');
 			});
 			$('.links').tooltip();
-			console.log('Show about', this.model);
+			console.log('Show about');
 			$('#movie-detail').hide();
 		},
 
",22,"console.log('Show about', this.model);",console.log('Show about');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/17c7191ee36f7189d91d9329b428832022acb2cb,17c7191ee36f7189d91d9329b428832022acb2cb,Second try: (Fixed?) error if PlayerView hasn't been set by PT yet.,2014-10-20 20:23:11+02:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/54af86a6208d80b6686b7a7cca3539a41d6f10e0/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/17c7191ee36f7189d91d9329b428832022acb2cb/src/app/httpapi.js,"@@ -485,7 +485,7 @@
 		});
 		
 		server.expose('getstreamurl', function (args, opt, callback) {
-			if (App.PlayerView === undefined) {
+			if (typeof(App.PlayerView) === ""undefined"") {
 				popcornCallback(callback, 'Cannot get stream URL: no video playing.');
 				return;
 			}
",488,if (App.PlayerView === undefined) {,"if (typeof(App.PlayerView) === ""undefined"") {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a60d1c83c9a7e773204749431034ae62ea8382e5,a60d1c83c9a7e773204749431034ae62ea8382e5,"Fix endpoint checks

Fixes the endpoint checks and prevents issues in the future",2014-11-13 20:28:11+11:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/2dfd56551e63ecf6799848ed51138be2107bbceb/src/app/lib/views/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/a60d1c83c9a7e773204749431034ae62ea8382e5/src/app/lib/views/settings.js,"@@ -170,7 +170,7 @@
 				}
 				var tvapiep = AdvSettings.get('tvshowAPI');
 				tvapiep.url = value;
-				tvapiep.skipVerification = true;
+				tvapiep.skip = true;
 				AdvSettings.set('tvshowAPI', tvapiep);
 				that.ui.success_alert.show().delay(3000).fadeOut(400);
 				return;
",173,tvapiep.skipVerification = true;,tvapiep.skip = true;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/c881843f3ad4e6f82ed390618204fb543661101d,c881843f3ad4e6f82ed390618204fb543661101d,fix error thrown on external players search,2014-12-14 01:09:50+01:00,external.js,https://github.com/popcorn-official/popcorn-desktop/raw/5a078811bea0e79b756b23a7170104953618923a/src/app/lib/device/external.js,https://github.com/popcorn-official/popcorn-desktop/raw/c881843f3ad4e6f82ed390618204fb543661101d/src/app/lib/device/external.js,"@@ -156,7 +156,7 @@
 	};
 
 	// Also search for ClickOnce applications
-	if (process.env.LOCALAPPDATA) {
+	if (fs.existsSync(process.env.LOCALAPPDATA + '\\Apps\\2.0\\')) {
 		searchPaths.win32.push(process.env.LOCALAPPDATA + '\\Apps\\2.0\\');
 	}
 
",159,if (process.env.LOCALAPPDATA) {,if (fs.existsSync(process.env.LOCALAPPDATA + '\\Apps\\2.0\\')) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/ff966b67febce1e2f25168099310749486f101b5,ff966b67febce1e2f25168099310749486f101b5,Fix deprecation 'Q' warnings,2014-12-20 11:55:25+01:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/9cd2afaf08b4cc329afe97b6be2211e43d2eeaf1/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/ff966b67febce1e2f25168099310749486f101b5/src/app/httpapi.js,"@@ -675,7 +675,7 @@
 
 	App.vent.on('initHttpApi', function () {
 		console.log('Reiniting server');
-		Q.fcall(initServer)
+		Q.call(initServer)
 			.then(function () {
 				server.enableAuth(Settings.httpApiUsername, Settings.httpApiPassword);
 				if (httpServer) {
",678,Q.fcall(initServer),Q.call(initServer)
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/ff966b67febce1e2f25168099310749486f101b5,ff966b67febce1e2f25168099310749486f101b5,Fix deprecation 'Q' warnings,2014-12-20 11:55:25+01:00,trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/9cd2afaf08b4cc329afe97b6be2211e43d2eeaf1/src/app/lib/providers/trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/ff966b67febce1e2f25168099310749486f101b5/src/app/lib/providers/trakttv.js,"@@ -228,7 +228,7 @@
 
 			if (Array.isArray(movie)) {
 				if (movie.length === 0) {
-					return Q.resolve(true);
+					return Q(true);
 				}
 
 				movie = movie.map(function (val) {
",231,return Q.resolve(true);,return Q(true);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0b5940693712535cbbe3538724b85edf9805095d,0b5940693712535cbbe3538724b85edf9805095d,fix error thrown on external players search,2014-12-20 05:57:01-05:00,external.js,https://github.com/popcorn-official/popcorn-desktop/raw/fba4cde52244acffd01041251b5fad3561b43ac3/src/app/lib/device/external.js,https://github.com/popcorn-official/popcorn-desktop/raw/0b5940693712535cbbe3538724b85edf9805095d/src/app/lib/device/external.js,"@@ -156,7 +156,7 @@
 	};
 
 	// Also search for ClickOnce applications
-	if (process.env.LOCALAPPDATA) {
+	if (fs.existsSync(process.env.LOCALAPPDATA + '\\Apps\\2.0\\')) {
 		searchPaths.win32.push(process.env.LOCALAPPDATA + '\\Apps\\2.0\\');
 	}
 
",159,if (process.env.LOCALAPPDATA) {,if (fs.existsSync(process.env.LOCALAPPDATA + '\\Apps\\2.0\\')) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a616f3b28b8eeeef360a65ddbc37f7f19ab4ae9d,a616f3b28b8eeeef360a65ddbc37f7f19ab4ae9d,Fix dlna device address,2015-01-07 17:02:11+01:00,dlna.js,https://github.com/popcorn-official/popcorn-desktop/raw/b5d51010fe80fe47100df15bedaae462eddd06c5/src/app/lib/device/dlna.js,https://github.com/popcorn-official/popcorn-desktop/raw/a616f3b28b8eeeef360a65ddbc37f7f19ab4ae9d/src/app/lib/device/dlna.js,"@@ -23,7 +23,7 @@
 			this.client = new MediaRendererClient(this.device.location);
 			this.attributes.id = this.makeID(this.device.location);
 			this.attributes.name = this.device.friendlyName;
-			this.attributes.address = this.device.localAddress;
+			this.attributes.address = this.device.host;
 		},
 		play: function (streamModel) {
 			var url = streamModel.get('src');
",26,this.attributes.address = this.device.localAddress;,this.attributes.address = this.device.host;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/422333d631642f32f8ff9791b49d9072b9279766,422333d631642f32f8ff9791b49d9072b9279766,Fix address field in airplay module,2015-01-07 17:18:32+01:00,airplay.js,https://github.com/popcorn-official/popcorn-desktop/raw/26555814d9b6f33d3527753630a512c817d692b5/src/app/lib/device/airplay.js,https://github.com/popcorn-official/popcorn-desktop/raw/422333d631642f32f8ff9791b49d9072b9279766/src/app/lib/device/airplay.js,"@@ -19,7 +19,7 @@
 			this.device = attrs.device;
 			this.attributes.id = this.makeID(this.device.serverInfo.macAddress || this.device.serverInfo.deviceId || '' + this.device.id );
 			this.attributes.name = this.device.name || this.device.serverInfo.model;
-			this.attributes.address = this.device.info;
+			this.attributes.address = this.device.info[0];
 		},
 		play: function (streamModel) {
 			var url = streamModel.attributes.src;
",22,this.attributes.address = this.device.info;,this.attributes.address = this.device.info[0];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/19ca40f6aa1c0dc933edbf4d5af3fd921ace02c8,19ca40f6aa1c0dc933edbf4d5af3fd921ace02c8,Fix address field in xbmc-airplay module,2015-01-07 18:05:12+01:00,xbmc.js,https://github.com/popcorn-official/popcorn-desktop/raw/422333d631642f32f8ff9791b49d9072b9279766/src/app/lib/device/xbmc.js,https://github.com/popcorn-official/popcorn-desktop/raw/19ca40f6aa1c0dc933edbf4d5af3fd921ace02c8/src/app/lib/device/xbmc.js,"@@ -17,7 +17,7 @@
 		makeID: makeID,
 		initialize: function (attrs) {
 			this.device = attrs.device;
-			this.attributes.address = this.device.info;
+			this.attributes.address = this.device.info[0];
 		}
 	});
 
",20,this.attributes.address = this.device.info;,this.attributes.address = this.device.info[0];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/b29dfc9791f96bd0b7d3e9083e6f974fd4ba453c,b29dfc9791f96bd0b7d3e9083e6f974fd4ba453c,Fix ip,2015-01-11 16:15:24+01:00,dlna.js,https://github.com/popcorn-official/popcorn-desktop/raw/6cb8458442cc8e92f2bf77594b231431144df7e4/src/app/lib/device/dlna.js,https://github.com/popcorn-official/popcorn-desktop/raw/b29dfc9791f96bd0b7d3e9083e6f974fd4ba453c/src/app/lib/device/dlna.js,"@@ -22,7 +22,7 @@
 			this.device = attrs.device;
 			this.client = new MediaRendererClient(this.device.location);
 			this.attributes.name = this.device.friendlyName;
-			this.attributes.address = this.device.localAddress;
+			this.attributes.address = this.device.host;
 		},
 		play: function (streamModel) {
 			var url = streamModel.get('src');
",25,this.attributes.address = this.device.localAddress;,this.attributes.address = this.device.host;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/82ebb30ae8377e3469f4abb338a792750bb8ca1c,82ebb30ae8377e3469f4abb338a792750bb8ca1c,Fixed grammar and spelling errors,2015-01-13 18:03:06-05:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/d509707d205a997d4c6fa047ba0647e026799c1e/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/82ebb30ae8377e3469f4abb338a792750bb8ca1c/src/app/lib/views/show_detail.js,"@@ -61,7 +61,7 @@
 								});
 						},
 						function (err) {
-							alert('Somethings wrong... try later');
+							alert(i18n.__('Error loading data, try again later...'));
 						});
 
 			} else {
",64,alert('Somethings wrong... try later');,"alert(i18n.__('Error loading data, try again later...'));"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/832ca8435085ce9c0513968051ae2acd5bf1321b,832ca8435085ce9c0513968051ae2acd5bf1321b,Fix jshint,2015-01-14 09:31:03-05:00,database.js,https://github.com/popcorn-official/popcorn-desktop/raw/b49182d701d6c7cfa47eac43a41ce3266e8a1604/src/app/database.js,https://github.com/popcorn-official/popcorn-desktop/raw/832ca8435085ce9c0513968051ae2acd5bf1321b/src/app/database.js,"@@ -493,7 +493,7 @@ var Database = {
 			})
 			.then(function () {
 				// set app language
-				setLanguage(Settings.language);
+				window.setLanguage(Settings.language);
 				// set hardware settings and usefull stuff
 				return AdvSettings.setup();
 			})
",496,setLanguage(Settings.language);,window.setLanguage(Settings.language);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4bff691bd5dd0628ad6d6ce435d5d455b7c548f8,4bff691bd5dd0628ad6d6ce435d5d455b7c548f8,Fix conflict in last merge,2015-01-14 09:41:54-05:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/832ca8435085ce9c0513968051ae2acd5bf1321b/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/4bff691bd5dd0628ad6d6ce435d5d455b7c548f8/src/app/httpapi.js,"@@ -675,7 +675,7 @@
 
 	App.vent.on('initHttpApi', function () {
 		console.log('Reiniting server');
-		Q.fcall(initServer)
+		Q(initServer)
 			.then(function () {
 				server.enableAuth(Settings.httpApiUsername, Settings.httpApiPassword);
 				if (httpServer) {
",678,Q.fcall(initServer),Q(initServer)
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/19c3ddb1bc88797ec47e40fc6bd3f4eba742c93e,19c3ddb1bc88797ec47e40fc6bd3f4eba742c93e,Fix PT-1628 - Search for external players in $HOME/Applications (darwin),2015-01-21 12:16:35-02:00,ext-player.js,https://github.com/popcorn-official/popcorn-desktop/raw/dcb5c65bbee71a919fd4d9db2e84ffca831cd7c9/src/app/lib/device/ext-player.js,https://github.com/popcorn-official/popcorn-desktop/raw/19c3ddb1bc88797ec47e40fc6bd3f4eba742c93e/src/app/lib/device/ext-player.js,"@@ -139,7 +139,7 @@
 
 	var searchPaths = {
 		linux: ['/usr/bin', '/usr/local/bin'],
-		darwin: ['/Applications'],
+		darwin: ['/Applications', process.env.HOME + '/Applications'],
 		win32: ['C:\\Program Files\\']
 	};
 
",142,"darwin: ['/Applications'],","darwin: ['/Applications', process.env.HOME + '/Applications'],"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0324496a5fae33267ab567fbac02298fd3a1f416,0324496a5fae33267ab567fbac02298fd3a1f416,attemps to fix #114 (drag&drop subs),2015-02-18 21:58:09+01:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/2fd774e038586f481d1e4981a437bbba8b7917d5/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/0324496a5fae33267ab567fbac02298fd3a1f416/src/app/app.js,"@@ -378,7 +378,7 @@ window.ondrop = function (e) {
 						Settings.droppedTorrent = file.name;
 						handleTorrent(path.join(App.settings.tmpLocation, file.name));
 					} else if (file.name.indexOf('.srt') !== -1) {
-						AdvSettings.set('droppedSub', file.name);
+						Settings.droppedSub = file.name;
 						App.vent.trigger('videojs:drop_sub');
 					}
 				}
",381,"AdvSettings.set('droppedSub', file.name);",Settings.droppedSub = file.name;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0324496a5fae33267ab567fbac02298fd3a1f416,0324496a5fae33267ab567fbac02298fd3a1f416,attemps to fix #114 (drag&drop subs),2015-02-18 21:58:09+01:00,videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/2fd774e038586f481d1e4981a437bbba8b7917d5/src/app/vendor/videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/0324496a5fae33267ab567fbac02298fd3a1f416/src/app/vendor/videojsplugins.js,"@@ -94,7 +94,7 @@ videojs.plugin('customSubtitles', function() {
       var that = this;
 
       App.vent.on('videojs:drop_sub', function() {
-        var subname = AdvSettings.get('droppedSub');
+        var subname = Settings.droppedSub;
         var subpath = path.join(App.settings.tmpLocation, subname);
         win.info(""Subtitle dropped: "" + subname);
         that.loadSubtitle(subpath);
",97,var subname = AdvSettings.get('droppedSub');,var subname = Settings.droppedSub;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e767448e5e18ae671c406cdfc055af53170f38eb,e767448e5e18ae671c406cdfc055af53170f38eb,attemps to fix #114 (drag&drop subs),2015-02-18 21:59:12+01:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/8cd2006b3dfa072d23d764833aca7e78d53ca955/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/e767448e5e18ae671c406cdfc055af53170f38eb/src/app/app.js,"@@ -370,7 +370,7 @@ window.ondrop = function (e) {
 						Settings.droppedTorrent = file.name;
 						handleTorrent(path.join(App.settings.tmpLocation, file.name));
 					} else if (file.name.indexOf('.srt') !== -1) {
-						AdvSettings.set('droppedSub', file.name);
+						Settings.droppedSub = file.name;
 						App.vent.trigger('videojs:drop_sub');
 					}
 				}
",373,"AdvSettings.set('droppedSub', file.name);",Settings.droppedSub = file.name;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e767448e5e18ae671c406cdfc055af53170f38eb,e767448e5e18ae671c406cdfc055af53170f38eb,attemps to fix #114 (drag&drop subs),2015-02-18 21:59:12+01:00,videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/8cd2006b3dfa072d23d764833aca7e78d53ca955/src/app/vendor/videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/e767448e5e18ae671c406cdfc055af53170f38eb/src/app/vendor/videojsplugins.js,"@@ -94,7 +94,7 @@ videojs.plugin('customSubtitles', function() {
       var that = this;
 
       App.vent.on('videojs:drop_sub', function() {
-        var subname = AdvSettings.get('droppedSub');
+        var subname = Settings.droppedSub;
         var subpath = path.join(App.settings.tmpLocation, subname);
         win.info(""Subtitle dropped: "" + subname);
         that.loadSubtitle(subpath);
",97,var subname = AdvSettings.get('droppedSub');,var subname = Settings.droppedSub;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/c3d255ccf4ae7750f517afb1f07428450928af28,c3d255ccf4ae7750f517afb1f07428450928af28,fix loadingbar for nw9.2,2015-02-23 22:05:57+01:00,videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/cd85b6d665b7a8979d47f649c80ccc3398be1d7a/src/app/vendor/videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/c3d255ccf4ae7750f517afb1f07428450928af28/src/app/vendor/videojshooks.js,"@@ -241,7 +241,7 @@ vjs.LoadProgressBar = vjs.Component.extend({
 vjs.LoadProgressBar.prototype.createEl = function(){
   return vjs.Component.prototype.createEl.call(this, 'div', {
     className: 'vjs-load-progress',
-    innerHTML: '<span class=""vjs-control-text""><span>' + this.localize('Loaded') + '</span>: 0%</span>'
+    innerHTML: '<span class=""vjs-control-text""><span>Loaded</span>: 0%</span>'
   });
 };
 vjs.LoadProgressBar.prototype.update = function(){ return; };
",244,"innerHTML: '<span class=""vjs-control-text""><span>' + this.localize('Loaded') + '</span>: 0%</span>'","innerHTML: '<span class=""vjs-control-text""><span>Loaded</span>: 0%</span>'"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/cbc41e8d535d8654267e03e09f9461d512b4e5c9,cbc41e8d535d8654267e03e09f9461d512b4e5c9,fix 'last open' startscreen,2015-02-24 04:08:28+01:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/ca75d5f919fd0f751e74ea7fcd3db0e2420207b5/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/cbc41e8d535d8654267e03e09f9461d512b4e5c9/src/app/lib/views/browser/filter_bar.js,"@@ -40,7 +40,7 @@
 		},
 		setactive: function (set) {
 
-			if (AdvSettings.get('startScreen') === 'Last Open') {
+			if (Settings.startScreen === 'Last Open') {
 				AdvSettings.set('lastTab', set);
 			}
 			$('.right .search').show();
",43,if (AdvSettings.get('startScreen') === 'Last Open') {,if (Settings.startScreen === 'Last Open') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/80d60281a0a1f1c672104f8c92a66ebec71a2356,80d60281a0a1f1c672104f8c92a66ebec71a2356,fix external torrent play (closes #155),2015-02-25 18:31:17+01:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/868607a3a7c1f7eada50f45c42f0fa60975d704f/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/80d60281a0a1f1c672104f8c92a66ebec71a2356/src/app/lib/streamer.js,"@@ -122,7 +122,7 @@
 		var checkReady = function () {
 			if (stateModel.get('state') === 'ready') {
 
-				if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player').id !== 'local') {
+				if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player') !== 'local') {
 					stateModel.set('state', 'playingExternally');
 				}
 				streamInfo.set(torrent);
",125,if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player').id !== 'local') {,if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player') !== 'local') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/479129125766d3b92ff15c4b274ec0f379dd6f4e,479129125766d3b92ff15c4b274ec0f379dd6f4e,fix external torrent play (closes #155),2015-02-25 18:34:58+01:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/e05bae67739a6b3c0569eab27708df6810caab99/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/479129125766d3b92ff15c4b274ec0f379dd6f4e/src/app/lib/streamer.js,"@@ -122,7 +122,7 @@
 		var checkReady = function () {
 			if (stateModel.get('state') === 'ready') {
 
-				if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player').id !== 'local') {
+				if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player') !== 'local') {
 					stateModel.set('state', 'playingExternally');
 				}
 				streamInfo.set(torrent);
",125,if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player').id !== 'local') {,if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player') !== 'local') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/eee673a12460c31441479735f372a4788d043546,eee673a12460c31441479735f372a4788d043546,"fix keyboard navigation (closes #167)

Conflicts:
	src/app/lib/views/main_window.js",2015-03-03 19:18:49+01:00,main_window.js,https://github.com/popcorn-official/popcorn-desktop/raw/86dd7b19999171ebd708160c7038da824ef993f4/src/app/lib/views/main_window.js,https://github.com/popcorn-official/popcorn-desktop/raw/eee673a12460c31441479735f372a4788d043546/src/app/lib/views/main_window.js,"@@ -401,10 +401,10 @@
 		},
 
 		showViews: function (streamModel) {
-
 			this.Content.$el.show();
 			if (this.MovieDetail.$el !== undefined) {
 				this.MovieDetail.$el.show();
+				this.MovieDetail.el.firstElementChild.classList == ""shows-container-contain"" ? App.vent.trigger('shortcuts:shows'): App.vent.trigger('shortcuts:movies');
 			}
 			$(window).trigger('resize');
 		},
",407,,"this.MovieDetail.el.firstElementChild.classList == ""shows-container-contain"" ? App.vent.trigger('shortcuts:shows'): App.vent.trigger('shortcuts:movies');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/541139c3cda2c7dace5f394d289efa59170ea10f,541139c3cda2c7dace5f394d289efa59170ea10f,Rewrite some info/debug/error logs,2015-03-30 00:31:36+02:00,server.js,https://github.com/popcorn-official/popcorn-desktop/raw/9d30ee54af943e768cbfde1c9d8aec81a0bb075d/src/app/lib/subtitle/server.js,https://github.com/popcorn-official/popcorn-desktop/raw/541139c3cda2c7dace5f394d289efa59170ea10f/src/app/lib/subtitle/server.js,"@@ -56,7 +56,7 @@
 			iconv.extendNodeEncodings();
 
 			encoding = data.encoding || 'utf8';
-			win.debug(data.srt);
+			win.debug('SubtitleServer: loading', data.srt || data.vtt);
 			if (data.vtt) {
 				fs.readFile(data.vtt, function (err, data) {
 					if (err) {
",59,win.debug(data.srt);,"win.debug('SubtitleServer: loading', data.srt || data.vtt);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/541139c3cda2c7dace5f394d289efa59170ea10f,541139c3cda2c7dace5f394d289efa59170ea10f,Rewrite some info/debug/error logs,2015-03-30 00:31:36+02:00,videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/9d30ee54af943e768cbfde1c9d8aec81a0bb075d/src/app/vendor/videojsplugins.js,https://github.com/popcorn-official/popcorn-desktop/raw/541139c3cda2c7dace5f394d289efa59170ea10f/src/app/vendor/videojsplugins.js,"@@ -96,7 +96,7 @@ videojs.plugin('customSubtitles', function() {
       App.vent.on('videojs:drop_sub', function() {
         var subname = Settings.droppedSub;
         var subpath = path.join(App.settings.tmpLocation, subname);
-        win.info(""Subtitle dropped: "" + subname);
+        win.info('Subtitles dropped:', subname);
         that.loadSubtitle(subpath);
       });
 
",99,"win.info(""Subtitle dropped: "" + subname);","win.info('Subtitles dropped:', subname);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/60bd52d3225278ab556038c214fe404021ddd217,60bd52d3225278ab556038c214fe404021ddd217,fix drag/drop magnet links (closes #272),2015-04-02 14:02:37+02:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/3744d47b98ce0df8c254a4769c1c59d7cf53556c/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/60bd52d3225278ab556038c214fe404021ddd217/src/app/app.js,"@@ -436,7 +436,7 @@ window.ondrop = function (e) {
 			}
 		});
 
-	} else if (isVideo(file.name)) {
+	} else if (file != null && isVideo(file.name)) {
         handleVideoFile(file);
     } else {
 		var data = e.dataTransfer.getData('text/plain');
",439,} else if (isVideo(file.name)) {,} else if (file != null && isVideo(file.name)) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/37c714fdfd4c5ebf84c5dd06b8815dbf854575d6,37c714fdfd4c5ebf84c5dd06b8815dbf854575d6,fix some httpApi issues,2015-04-12 17:41:41+02:00,movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/cea8a27a5e1238a795ef510fd5741c1354d1ffdc/src/app/lib/views/movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/37c714fdfd4c5ebf84c5dd06b8815dbf854575d6/src/app/lib/views/movie_detail.js,"@@ -381,7 +381,7 @@
             } else {
                 $('#switch-hd-off').trigger('click');
             }
-            App.vent.emit('qualitychange');
+            App.vent.trigger('qualitychange');
 
             if (e.type) {
                 e.preventDefault();
",384,App.vent.emit('qualitychange');,App.vent.trigger('qualitychange');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/97b815768b51ea889c1f63edfa5e0267e7040d89,97b815768b51ea889c1f63edfa5e0267e7040d89,fix updater for osx,2015-04-12 20:05:15+02:00,updater.js,https://github.com/popcorn-official/popcorn-desktop/raw/d61e95280e0288ae8a67b45b4ec2d4ccc416adf6/src/app/updater.js,https://github.com/popcorn-official/popcorn-desktop/raw/97b815768b51ea889c1f63edfa5e0267e7040d89/src/app/updater.js,"@@ -210,7 +210,7 @@
             installDir = path.join(outputDir, 'app.nw');
         var defer = Q.defer();
 
-        fs.rmdir(installDir, function (err) {
+        deleteFolder(installDir, function (err) {
             if (err) {
                 defer.reject(err);
             } else {
",213,"fs.rmdir(installDir, function (err) {","deleteFolder(installDir, function (err) {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/3026809e01043d88f90f632ac208fbc65ac9813e,3026809e01043d88f90f632ac208fbc65ac9813e,fix #304 (typeError) + correctly fetch subs for next_episode auto,2015-04-17 23:09:53+02:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/7fd97ddcb5bedf27d6efb63933687d9e191e7651/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/3026809e01043d88f90f632ac208fbc65ac9813e/src/app/lib/views/show_detail.js,"@@ -422,7 +422,7 @@
                         extract_subtitle: {
                             type: 'tvshow',
                             imdbid: that.model.get('imdb_id'),
-                            tvdbid: value.tvdb_id,
+                            tvdbid: value.tvdb_id.toString(),
                             season: value.season,
                             episode: value.episode
                         },
",425,"tvdbid: value.tvdb_id,","tvdbid: value.tvdb_id.toString(),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/2b614107daa566a7f50684f407a63b84218194a0,2b614107daa566a7f50684f407a63b84218194a0,fix remote not working for local videos,2015-04-22 00:22:45+02:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/3026809e01043d88f90f632ac208fbc65ac9813e/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/2b614107daa566a7f50684f407a63b84218194a0/src/app/httpapi.js,"@@ -652,7 +652,7 @@
                         isFullscreen: nativeWindow.isFullscreen
                     };
 
-                    if (result.movie) {
+                    if (result.movie && result.movie !== undefined) {
                         result['imdb_id'] = view.model.get('imdb_id');
                     } else if (result.movie === undefined) {
                         result['imdb_id'] = false;
",655,if (result.movie) {,if (result.movie && result.movie !== undefined) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/ac024e6b44a3c5c64962858a3c11504541abec98,ac024e6b44a3c5c64962858a3c11504541abec98,debug/info,2015-04-30 00:48:35+02:00,trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/6bd31f6f2bd2166e3da3d062de726a3cb498c979/src/app/lib/providers/trakttv.js,https://github.com/popcorn-official/popcorn-desktop/raw/ac024e6b44a3c5c64962858a3c11504541abec98/src/app/lib/providers/trakttv.js,"@@ -53,7 +53,7 @@
     TraktTv.prototype.checkToken = function () {
         var self = this;
         if (Settings.traktTokenTTL <= new Date().valueOf() && Settings.traktTokenRefresh !== '') {
-            win.debug('Trakt: refreshing access token');
+            win.info('Trakt: refreshing access token');
             this._authenticationPromise = self.post('oauth/token', {
                 refresh_token: Settings.traktTokenRefresh,
                 client_id: CLIENT_ID,
",56,win.debug('Trakt: refreshing access token');,win.info('Trakt: refreshing access token');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/b3a4e12ab081b9cd80ce1037233497d60a077316,b3a4e12ab081b9cd80ce1037233497d60a077316,"various fixes:

- player not closing
- remove error on watchlist items not present in api",2015-05-08 21:57:12+02:00,watchlist.js,https://github.com/popcorn-official/popcorn-desktop/raw/f86c43e87501955799f8279b0ac52da158e9ed61/src/app/lib/providers/watchlist.js,https://github.com/popcorn-official/popcorn-desktop/raw/b3a4e12ab081b9cd80ce1037233497d60a077316/src/app/lib/providers/watchlist.js,"@@ -126,7 +126,7 @@
                         deferred.resolve(data);
                     } else {
                         //If not found, then get the details from Eztv and add it to the DB
-                        data = Eztv.detail(show.show_id, show)
+                        data = Eztv.detail(show.show_id, show, false)
                             .then(function (data) {
                                 if (data) {
                                     data.provider = 'Eztv';
",129,"data = Eztv.detail(show.show_id, show)","data = Eztv.detail(show.show_id, show, false)"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/bfd23f6771b6b7f3f26ea342785e7336996f6727,bfd23f6771b6b7f3f26ea342785e7336996f6727,fix missing 'var',2015-05-19 23:57:43+02:00,language.js,https://github.com/popcorn-official/popcorn-desktop/raw/37da7c0d38ec4a3335cf9f7aeca52d1d3eed29c6/src/app/language.js,https://github.com/popcorn-official/popcorn-desktop/raw/bfd23f6771b6b7f3f26ea342785e7336996f6727/src/app/language.js,"@@ -1,5 +1,5 @@
 // Detect the language and update the global Language file
-setLanguage = function (preferredLanguage) {
+var setLanguage = function (preferredLanguage) {
 
     if (!preferredLanguage) {
         // we are still on default
",2,setLanguage = function (preferredLanguage) {,var setLanguage = function (preferredLanguage) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/027980f29d3e085703c57eac1cc040cfaa69ee86,027980f29d3e085703c57eac1cc040cfaa69ee86,lot of fixes for Anime (series),2015-05-30 21:43:45+02:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/483d9cfb470d93de5d3492d8ccc1096d18d38fe7/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/027980f29d3e085703c57eac1cc040cfaa69ee86/src/app/lib/views/show_detail.js,"@@ -459,7 +459,7 @@
             var selected_quality = $(e.currentTarget).attr('data-quality');
             var auto_play = false;
 
-            if (AdvSettings.get('playNextEpisodeAuto')) {
+            if (AdvSettings.get('playNextEpisodeAuto') && this.model.get('imdb_id').indexOf('mal') === -1) {
                 _.each(this.model.get('episodes'), function (value) {
                     var epaInfo = {
                         id: parseInt(value.season) * 100 + parseInt(value.episode),
",462,if (AdvSettings.get('playNextEpisodeAuto')) {,if (AdvSettings.get('playNextEpisodeAuto') && this.model.get('imdb_id').indexOf('mal') === -1) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/eaad39a5682476a019695ce8a7c822f33017a6e6,eaad39a5682476a019695ce8a7c822f33017a6e6,Fix notification close (marionette api change) and remove unused function.,2015-06-21 20:28:46-05:00,main_window.js,https://github.com/popcorn-official/popcorn-desktop/raw/99852f2aa5c8ffc3666b1fbf6438c63d857f9425/src/app/lib/views/main_window.js,https://github.com/popcorn-official/popcorn-desktop/raw/eaad39a5682476a019695ce8a7c822f33017a6e6/src/app/lib/views/main_window.js,"@@ -373,7 +373,7 @@
         },
 
         closeNotification: function () {
-            this.Notification.close();
+            this.Notification.destroy();
         },
 
         showShowDetail: function (showModel) {
",376,this.Notification.close();,this.Notification.destroy();
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/45191545d1687bf35f51544e4c95b4649be0d077,45191545d1687bf35f51544e4c95b4649be0d077,fix torrent-health not displayed if 1 tracker is offline,2015-07-05 21:47:43+02:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/28ee953242f1581e515ebe7a73042f938b2fe7df/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/45191545d1687bf35f51544e4c95b4649be0d077/src/app/lib/views/show_detail.js,"@@ -824,7 +824,7 @@
 
                 torrent = torrent.split('&tr')[0] + '&tr=udp://tracker.openbittorrent.com:80/announce' + '&tr=udp://open.demonii.com:1337/announce' + '&tr=udp://tracker.coppersurfer.tk:6969';
 
-                torrentHealth(torrent).then(function (res) {
+                torrentHealth(torrent, {timeout: 1000}).then(function (res) {
 
                     if (cancelled) {
                         return;
",827,torrentHealth(torrent).then(function (res) {,"torrentHealth(torrent, {timeout: 1000}).then(function (res) {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/1a3ee45ce0f9efc4a1da565d568c7c04213cc871,1a3ee45ce0f9efc4a1da565d568c7c04213cc871,"fix error 'id of undefined' (players)

thx to @Snaajf",2015-07-17 23:08:53+02:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/a1c04032f338475a37cb72550c954a35ce12db29/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/1a3ee45ce0f9efc4a1da565d568c7c04213cc871/src/app/lib/streamer.js,"@@ -123,7 +123,7 @@
         var checkReady = function () {
             if (stateModel.get('state') === 'ready') {
 
-                if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player').id !== 'local') {
+                if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player') && stateModel.get('streamInfo').get('player').id !== 'local') {
                     stateModel.set('state', 'playingExternally');
                 }
                 streamInfo.set(torrent);
",126,if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player').id !== 'local') {,if (stateModel.get('state') === 'ready' && stateModel.get('streamInfo').get('player') && stateModel.get('streamInfo').get('player').id !== 'local') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/9b6bf71efaa80c489153d9d70542827558cd665b,9b6bf71efaa80c489153d9d70542827558cd665b,Fixed Chromecast not detecting with special characters in its name,2015-09-22 17:29:26+02:00,chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/cbdca9bbcfea8981644f181faac7712a775d82da/src/app/lib/device/chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/9b6bf71efaa80c489153d9d70542827558cd665b/src/app/lib/device/chromecast.js,"@@ -12,7 +12,7 @@
         },
 
         _makeID: function (baseID) {
-            return 'chromecast-' + baseID.replace(' ', '-');
+            return 'chromecast-' + Common.md5(baseID);
         },
 
         initialize: function (attrs) {
",15,"return 'chromecast-' + baseID.replace(' ', '-');",return 'chromecast-' + Common.md5(baseID);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e6f07c8af7921e24003a5c1dfb8a5c8a58452473,e6f07c8af7921e24003a5c1dfb8a5c8a58452473,anime fixes,2015-10-11 22:12:07+02:00,anime_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/d21da331c6edaf514c5fc45b09164b25909a01df/src/app/lib/views/browser/anime_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/e6f07c8af7921e24003a5c1dfb8a5c8a58452473/src/app/lib/views/browser/anime_browser.js,"@@ -5,7 +5,7 @@
         collectionModel: App.Model.AnimeCollection,
         filters: {
             genres: App.Config.genres_anime,
-            sorters: App.Config.sorters_tv,
+            sorters: App.Config.sorters_anime,
             types: App.Config.types_anime
         }
     });
",8,"sorters: App.Config.sorters_tv,","sorters: App.Config.sorters_anime,"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f7755c23b64d073de361dd93c26c439e0bca89c5,f7755c23b64d073de361dd93c26c439e0bca89c5,fix apostrophy err,2015-10-11 23:09:26+02:00,common.js,https://github.com/popcorn-official/popcorn-desktop/raw/070a604b30e534d021f3b29bcbad9cc0918c1ea8/src/app/common.js,https://github.com/popcorn-official/popcorn-desktop/raw/f7755c23b64d073de361dd93c26c439e0bca89c5/src/app/common.js,"@@ -391,7 +391,7 @@ Common.matchTorrent = function (file, torrent) {
                                                 defer.resolve(result);
                                             })
                                             .catch(function (error) {
-                                                if (i === obj.alt_titles.length - 1) {
+                                                if (i === Object.keys(obj.alt_titles).length) {
                                                     data.error = error.message;
                                                     defer.resolve(data);
                                                 }
",394,if (i === obj.alt_titles.length - 1) {,if (i === Object.keys(obj.alt_titles).length) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f0278d8fec38258351251f5181fc50ed9c804474,f0278d8fec38258351251f5181fc50ed9c804474,Fix jshint errors.,2015-10-23 18:35:07-05:00,item.js,https://github.com/popcorn-official/popcorn-desktop/raw/f66f41b715f58d5e945b0ef5572a98349f5d333e/src/app/lib/views/browser/item.js,https://github.com/popcorn-official/popcorn-desktop/raw/f0278d8fec38258351251f5181fc50ed9c804474/src/app/lib/views/browser/item.js,"@@ -231,7 +231,7 @@
                         console.error(err);
                         $('.spinner').hide();
                         $('.notification_alert').text(i18n.__('Error loading data, try again later...')).fadeIn('fast').delay(2500).fadeOut('fast');
-                    })
+                    });
                 break;
 
             }
",234,}),});
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f0278d8fec38258351251f5181fc50ed9c804474,f0278d8fec38258351251f5181fc50ed9c804474,Fix jshint errors.,2015-10-23 18:35:07-05:00,movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/f66f41b715f58d5e945b0ef5572a98349f5d333e/src/app/lib/views/movie_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/f0278d8fec38258351251f5181fc50ed9c804474/src/app/lib/views/movie_detail.js,"@@ -206,7 +206,7 @@
         },
 
         startStreaming: function () {
-            var torrent = this.model.get('torrents')[this.model.get('quality')]
+            var torrent = this.model.get('torrents')[this.model.get('quality')];
             var torrentStart = new Backbone.Model({
                 imdb_id: this.model.get('imdb_id'),
                 torrent: torrent,
",209,var torrent = this.model.get('torrents')[this.model.get('quality')],var torrent = this.model.get('torrents')[this.model.get('quality')];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/68e1ebd53a4249f7e3a2a87c35ea9253fbfad088,68e1ebd53a4249f7e3a2a87c35ea9253fbfad088,"fix archive.org opening, damn templates

Signed-off-by: Niv Sardi <xaiki@evilgiggle.com>",2015-10-28 01:25:32-03:00,archive.js,https://github.com/popcorn-official/popcorn-desktop/raw/8996a4e5bd8d6ebd0bce5a43de0a716457c11b55/src/app/lib/providers/archive.js,https://github.com/popcorn-official/popcorn-desktop/raw/68e1ebd53a4249f7e3a2a87c35ea9253fbfad088/src/app/lib/providers/archive.js,"@@ -207,7 +207,7 @@
 			imdb:     id,
                         imdb_id:  id,
 			title:    movie.Title,
-                        genre:    movie.Genre,
+                        genre:    [movie.Genre],
                         year: 	  year,
 			rating:   rating,
                         runtime:  runtime,
",210,"genre:    movie.Genre,","genre:    [movie.Genre],"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a5967dbe99324613c56fa9dfff3932c1f4702e7e,a5967dbe99324613c56fa9dfff3932c1f4702e7e,"fix for search of titles typed: Movie Title (year)

Signed-off-by: Niv Sardi <xaiki@evilgiggle.com>",2015-11-02 12:12:02-03:00,archive.js,https://github.com/popcorn-official/popcorn-desktop/raw/da29499d825548b2b36b677eddf62717fb33411a/src/app/lib/providers/archive.js,https://github.com/popcorn-official/popcorn-desktop/raw/a5967dbe99324613c56fa9dfff3932c1f4702e7e/src/app/lib/providers/archive.js,"@@ -198,7 +198,7 @@
 
     var queryOMDb = function (item) {
         var params = {
-            t: item.title,
+            t: item.title.replace(/\s+\([0-9]+\)/, ''),
             r: 'json',
             tomatoes: true
         };
",201,"t: item.title,","t: item.title.replace(/\s+\([0-9]+\)/, ''),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/2a25adda46853a0cd1125e1001db3bf8b636c022,2a25adda46853a0cd1125e1001db3bf8b636c022,"Fix grunt platform/architecture detection

- It wasn't possible to produce an x86 build from an x64 architecture system due to the incomplete logic.
This addition still defaults to x64 build when doing so from an x64 system, but also allows to produce an x86 from a x64 architecture, if arguments are supplied.",2015-11-03 00:57:19+00:00,Gruntfile.js,https://github.com/popcorn-official/popcorn-desktop/raw/9755cbf91e11d7f4b22ebd257cbc4e1df481d28e/Gruntfile.js,https://github.com/popcorn-official/popcorn-desktop/raw/2a25adda46853a0cd1125e1001db3bf8b636c022/Gruntfile.js,"@@ -22,7 +22,7 @@ var parseBuildPlatforms = function (argumentPlatform) {
     // Do some scrubbing to make it easier to match in the regexes bellow
     inputPlatforms = inputPlatforms.replace(""darwin"", ""mac"");
     inputPlatforms = inputPlatforms.replace(/;ia|;x|;arm/, """");
-    if (process.arch === ""x64"") {
+    if (process.arch === ""x64"" && argumentPlatform === """") {
         inputPlatforms = inputPlatforms.replace(""32"", ""64"");
     }
 
",25,"if (process.arch === ""x64"") {","if (process.arch === ""x64"" && argumentPlatform === """") {"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/9861772f83033456a71a94397c81c8a1f2521b09,9861772f83033456a71a94397c81c8a1f2521b09,"fix archive.js posters, N/A ratings and eliminates errs",2016-01-15 21:17:48+01:00,generic_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/62cd49361c0a0d6df2763b398e836ab37477821e/src/app/lib/models/generic_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/9861772f83033456a71a94397c81c8a1f2521b09/src/app/lib/models/generic_collection.js,"@@ -117,7 +117,7 @@
                                         movie.backdrop = info.images.full;
                                     }
                                 } else {
-                                    win.warn('Unable to find %s on Trakt.tv', id);
+                                    win.warn('Unable to find %s (%s) on Trakt.tv', id, movie.title);
                                 }
                             }
                         });
",120,"win.warn('Unable to find %s on Trakt.tv', id);","win.warn('Unable to find %s (%s) on Trakt.tv', id, movie.title);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/7e4d9523d50c2beab093813f83840033a67e19a9,7e4d9523d50c2beab093813f83840033a67e19a9,"generic provider: dump config in debug log

Signed-off-by: Niv Sardi <xaiki@evilgiggle.com>",2016-01-26 04:08:31-03:00,generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/662f04e26070de3bd57f7eb1eaab012f539a2091/src/app/lib/providers/generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/7e4d9523d50c2beab093813f83840033a67e19a9/src/app/lib/providers/generic.js,"@@ -46,7 +46,7 @@
             return null;
         }
 
-        win.info('Spawning new provider', name);
+        win.info('Spawning new provider', name, config);
         var p = cache[name] = new provider(config.args);
 
         if (p && p.config && p.config.type) {
",49,"win.info('Spawning new provider', name);","win.info('Spawning new provider', name, config);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f08a0ca6fb4868f36ad680e69f6e6afe9f50e069,f08a0ca6fb4868f36ad680e69f6e6afe9f50e069,"Activate Torrent Collection 

Fixed torrent collection it can be active now",2016-02-26 11:03:23+01:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/b7e8dbd77eef382a54fa77b2283a319419bcdc52/src/app/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/f08a0ca6fb4868f36ad680e69f6e6afe9f50e069/src/app/settings.js,"@@ -142,7 +142,7 @@ Settings.minimizeToTray = false;
 Settings.bigPicture = false;
 
 // Features
-Settings.activateTorrentCollection = false;
+Settings.activateTorrentCollection = true;
 Settings.activateWatchlist = true;
 Settings.activateRandomize = true;
 Settings.onlineSearchEngine = 'KAT';
",145,Settings.activateTorrentCollection = false;,Settings.activateTorrentCollection = true;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/7276be84565dd0392700d71d223fa2a583f28ef1,7276be84565dd0392700d71d223fa2a583f28ef1,fix cache not being invalidated,2016-03-11 19:13:16+01:00,watchlist.js,https://github.com/popcorn-official/popcorn-desktop/raw/1cbd20b33b529c9e82ff54f6c3197451ff357286/src/app/lib/providers/watchlist.js,https://github.com/popcorn-official/popcorn-desktop/raw/7276be84565dd0392700d71d223fa2a583f28ef1/src/app/lib/providers/watchlist.js,"@@ -193,7 +193,7 @@
                 }
             } else {
                 // cache is 4 hours
-                if (!localStorage.watchlist_cached || localStorage.watchlist_fetched_time + 14400000 < Date.now()) {
+                if (!localStorage.watchlist_cached || parseInt(localStorage.watchlist_fetched_time) + 14400000 < Date.now()) {
                     console.debug('Watchlist - no watchlist cached or cache expired');
                     if (App.Trakt.authenticated) {
                         return App.Providers.get('Watchlist').fetch({force:true}).then(resolve).catch(reject);
",196,if (!localStorage.watchlist_cached || localStorage.watchlist_fetched_time + 14400000 < Date.now()) {,if (!localStorage.watchlist_cached || parseInt(localStorage.watchlist_fetched_time) + 14400000 < Date.now()) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/542301529d003000785a705a7885d333ef486f62,542301529d003000785a705a7885d333ef486f62,fix cache not being invalidated,2016-03-11 20:50:41+01:00,watchlist.js,https://github.com/popcorn-official/popcorn-desktop/raw/55c377bfa0f5d36b2cd01b070382c60d6041d858/src/app/lib/providers/watchlist.js,https://github.com/popcorn-official/popcorn-desktop/raw/542301529d003000785a705a7885d333ef486f62/src/app/lib/providers/watchlist.js,"@@ -187,7 +187,7 @@
                 }
             } else {
                 // cache is 4 hours
-                if (!localStorage.watchlist_cached || localStorage.watchlist_fetched_time + 14400000 < Date.now()) {
+                if (!localStorage.watchlist_cached || parseInt(localStorage.watchlist_fetched_time) + 14400000 < Date.now()) {
                     console.debug('Watchlist - no watchlist cached or cache expired');
                     if (App.Trakt.authenticated) {
                         return App.Providers.get('Watchlist').fetch({force:true}).then(resolve).catch(reject);
",190,if (!localStorage.watchlist_cached || localStorage.watchlist_fetched_time + 14400000 < Date.now()) {,if (!localStorage.watchlist_cached || parseInt(localStorage.watchlist_fetched_time) + 14400000 < Date.now()) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/69375736ea22c44a599a5449eb7ebb56d36854e2,69375736ea22c44a599a5449eb7ebb56d36854e2,Fix travis,2016-03-12 12:58:13+01:00,chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/1574d2c6e804152f54867dae4f17140b820fe03f/src/app/lib/device/chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/69375736ea22c44a599a5449eb7ebb56d36854e2/src/app/lib/device/chromecast.js,"@@ -66,7 +66,7 @@
             }
             win.info('Chromecast: play ' + url + ' on \'' + this.get('name') + '\'');
             win.info('Chromecast: connecting to ' + this.device.host);
-            this.device.connect()
+            this.device.connect();
   			this.device.on('connected', function(){
   				self.device.play(media, 0, function (err, status) {
   					if (err) {
",69,this.device.connect(),this.device.connect();
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/c2aa3bcfeb7f80278384c0441bc8837e9a46c395,c2aa3bcfeb7f80278384c0441bc8837e9a46c395,Fix travis,2016-03-12 14:32:18+01:00,chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/bf4d492ec4618be7720a8d8833bbc7a5b8e329cc/src/app/lib/device/chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/c2aa3bcfeb7f80278384c0441bc8837e9a46c395/src/app/lib/device/chromecast.js,"@@ -66,7 +66,7 @@
             }
             win.info('Chromecast: play ' + url + ' on \'' + this.get('name') + '\'');
             win.info('Chromecast: connecting to ' + this.device.host);
-            this.device.connect()
+            this.device.connect();
   			this.device.on('connected', function(){
   				self.device.play(media, 0, function (err, status) {
   					if (err) {
",69,this.device.connect(),this.device.connect();
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0ee7c363037e9eb00fcf872e186488f6e590715c,0ee7c363037e9eb00fcf872e186488f6e590715c,Chromecast Unpause Fix,2016-04-19 18:15:07+01:00,chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/ac4288f90bcb9783298aced9dafeb8e988331485/src/app/lib/device/chromecast.js,https://github.com/popcorn-official/popcorn-desktop/raw/0ee7c363037e9eb00fcf872e186488f6e590715c/src/app/lib/device/chromecast.js,"@@ -122,7 +122,7 @@
         },
 
         unpause: function () {
-            this.get('device').unpause(function () {});
+            this.get('device').resume(function () {});
         },
 
         updateStatus: function () {
",125,this.get('device').unpause(function () {});,this.get('device').resume(function () {});
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/9a1033a362b771881b1eaf6eeacdd08526781c0c,9a1033a362b771881b1eaf6eeacdd08526781c0c,Temp Fix for Sub on Movies Section,2016-10-27 09:33:12+01:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/8e7a7ecd6793415131afb2e217296ae0c230c328/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/9a1033a362b771881b1eaf6eeacdd08526781c0c/src/app/lib/streamer.js,"@@ -68,7 +68,7 @@
         var tmpFilename = torrent.info.infoHash;
         tmpFilename = tmpFilename.replace(/([^a-zA-Z0-9-_])/g, '_'); // +'-'+ (new Date()*1);
         var tmpFile = path.join(App.settings.tmpLocation, tmpFilename);
-        subtitles = torrent.subtitle;
+        subtitles = [];
 
         var torrentPeerId = crypt.pseudoRandomBytes(10).toString('hex');
 
",71,subtitles = torrent.subtitle;,subtitles = [];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/557389a50a7b7a2fe95e37ce0b64ae410a81cc1b,557389a50a7b7a2fe95e37ce0b64ae410a81cc1b,"Fix Stuck on ""Waiting For Subtitles""",2017-03-21 14:10:20-06:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/56bb8950f58848dfed60feaedee120030820f50c/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/557389a50a7b7a2fe95e37ce0b64ae410a81cc1b/src/app/lib/streamer.js,"@@ -364,7 +364,7 @@
 
             this.stateModel.set('state', state);
 
-            if (state === 'ready' || state === 'playingExternally') {
+            if (state === 'ready' || state === 'playingExternally' || state === 'waitingForSubtitles' ) {
                 App.vent.trigger('stream:ready', this.streamInfo);
                 this.stateModel.destroy();
             } else {
",367,if (state === 'ready' || state === 'playingExternally') {,if (state === 'ready' || state === 'playingExternally' || state === 'waitingForSubtitles' ) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6751a63575b6ca7b10a81b8f74a234e7d4ee01ce,6751a63575b6ca7b10a81b8f74a234e7d4ee01ce,"Fix a bug using 'cmd + q' on macOS

The attempt #2.",2017-08-23 05:32:52+08:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/fd953b1982ec8ee85aeeced0ac01fae92b6a35c2/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/6751a63575b6ca7b10a81b8f74a234e7d4ee01ce/src/app/app.js,"@@ -253,7 +253,7 @@ function close() {
     } catch (e) {
         win.close(true);
     }
-};
+}
 
 // Wipe the tmpFolder when closing the app (this frees up disk space)
 win.on('close', function () {
",256,};,}
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/1566221f585a8f5fa9e5218c0c105bd1a3e31ff7,1566221f585a8f5fa9e5218c0c105bd1a3e31ff7,"Fix the convert2srt output path regex

Since the regex was only keeping the file name after the last backward
slash (\) but not forward slash (/), it was only working on Windows. By
adding the forward slash to the regex, subtitles can now be converted on
the Linux and Mac platforms.",2018-03-27 23:32:15+09:00,videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/ec0633acf68a4f0eccc096f438e65b96c06256cc/src/app/vendor/videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/1566221f585a8f5fa9e5218c0c105bd1a3e31ff7/src/app/vendor/videojshooks.js,"@@ -140,7 +140,7 @@ vjs.TextTrack.prototype.load = function () {
                 lastBeginTime,
 
                 //input
-                orig = /([^\\]+)$/.exec(file)[1],
+                orig = /([^\\\/]+)$/.exec(file)[1],
                 origPath = file.substr(0, file.indexOf(orig)),
 
                 //output
",143,"orig = /([^\\]+)$/.exec(file)[1],","orig = /([^\\\/]+)$/.exec(file)[1],"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/1d3b316162b4b214e58c141ff22772d0ac70467b,1d3b316162b4b214e58c141ff22772d0ac70467b,Minor Fixes,2018-11-23 22:52:05+01:00,server.js,https://github.com/popcorn-official/popcorn-desktop/raw/b7a6f56775ec201044df6e223b4acaadd1dc7725/src/app/lib/subtitle/server.js,https://github.com/popcorn-official/popcorn-desktop/raw/1d3b316162b4b214e58c141ff22772d0ac70467b/src/app/lib/subtitle/server.js,"@@ -84,5 +84,5 @@
             }
         }
     };
-    App.Subtitles.Server = SubtitlesServer;
+    App.SubtitlesServer = SubtitlesServer;
 })(window.App);
",87,App.Subtitles.Server = SubtitlesServer;,App.SubtitlesServer = SubtitlesServer;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0f40f59592ea59955e61b253a31ccb735fb8aa04,0f40f59592ea59955e61b253a31ccb735fb8aa04,More fixes,2018-11-27 14:35:12+01:00,show_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/ad46c148831a64faa71515c8b942a2b54ad6aa03/src/app/lib/models/show_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/0f40f59592ea59955e61b253a31ccb735fb8aa04/src/app/lib/models/show_collection.js,"@@ -2,7 +2,7 @@
     'use strict';
 
     var ShowCollection = App.Model.Collection.extend({
-        model: App.Model.Show,
+        model: App.Model.Movie,
         popid: 'imdb_id',
         type: 'shows',
         getProviders: function () {
",5,"model: App.Model.Show,","model: App.Model.Movie,"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/3753680d7fd2bdadb363ff4b531a7577c5a282c4,3753680d7fd2bdadb363ff4b531a7577c5a282c4,Fix Subtitle Fetch on movie Detail,2018-11-27 16:55:05+01:00,generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/0f40f59592ea59955e61b253a31ccb735fb8aa04/src/app/lib/subtitle/generic.js,https://github.com/popcorn-official/popcorn-desktop/raw/3753680d7fd2bdadb363ff4b531a7577c5a282c4/src/app/lib/subtitle/generic.js,"@@ -123,7 +123,7 @@
                 });
             } else {
                 if (Settings.subtitle_language !== 'none') {
-                    console.log('No subtitles downloaded');
+                    console.info('No subtitles downloaded. None picked or language not available');
                     App.vent.trigger('notification:show', new App.Model.Notification({
                         title: i18n.__('No subtitles found'),
                         body: i18n.__('Try again later or drop a subtitle in the player'),
",126,console.log('No subtitles downloaded');,console.info('No subtitles downloaded. None picked or language not available');
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/c30e4dd1b60e13bda7d38a43ccc4f170260bfa03,c30e4dd1b60e13bda7d38a43ccc4f170260bfa03,Fixes,2018-11-30 20:09:07+01:00,list.js,https://github.com/popcorn-official/popcorn-desktop/raw/2ec0defaf2b59d1e34569f0182ae186dce79f2d9/src/app/lib/views/browser/list.js,https://github.com/popcorn-official/popcorn-desktop/raw/c30e4dd1b60e13bda7d38a43ccc4f170260bfa03/src/app/lib/views/browser/list.js,"@@ -122,7 +122,7 @@
             this.listenTo(this.collection, 'loading', this.onLoading);
             this.listenTo(this.collection, 'loaded', this.onLoaded);
 
-            App.vent.on('shortcuts:list', _this.initKeyboardShortcuts);
+
             _this.initKeyboardShortcuts();
 
             _this.initPosterResizeKeys();
",125,"App.vent.on('shortcuts:list', _this.initKeyboardShortcuts);",
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f280137e6be13c8d65316aa062a8770bacf2d493,f280137e6be13c8d65316aa062a8770bacf2d493,Fix Favorites / Bookmark,2018-12-04 17:52:39+01:00,item.js,https://github.com/popcorn-official/popcorn-desktop/raw/642d01124cd6f2302e6bccb99b0a52841f4fba1c/src/app/lib/views/browser/item.js,https://github.com/popcorn-official/popcorn-desktop/raw/f280137e6be13c8d65316aa062a8770bacf2d493/src/app/lib/views/browser/item.js,"@@ -257,7 +257,7 @@
         addBookmarked: function () {
             var imdb = this.model.get('imdb_id');
             var itemtype = this.model.get('type');
-            var provider = App.Providers.get(this.model.get('provider'));
+            var provider = this.model.get('providers').torrent;
 
             return provider.detail(imdb, this.model.attributes).then(function (data) {
                 data.provider = provider.name;
",260,var provider = App.Providers.get(this.model.get('provider'));,var provider = this.model.get('providers').torrent;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/19ddcb095a2a2a740a8b8b4db43491a5fe149406,19ddcb095a2a2a740a8b8b4db43491a5fe149406,Fix Fav for TVshow credits to  xxx,2018-12-04 23:43:28+01:00,favorites.js,https://github.com/popcorn-official/popcorn-desktop/raw/2e0f56114c053a848b032459eb57e77200d833bb/src/app/lib/providers/favorites.js,https://github.com/popcorn-official/popcorn-desktop/raw/19ddcb095a2a2a740a8b8b4db43491a5fe149406/src/app/lib/providers/favorites.js,"@@ -131,7 +131,7 @@
                             var provider = App.Providers.get(data.provider);
                             return provider.detail(data.imdb_id, data);
                         } else {
-                            data.image = data.images.poster;
+                            data.poster = data.images.poster;
                             deferred.resolve(data);
                             return null;
                         }
",134,data.image = data.images.poster;,data.poster = data.images.poster;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/19ddcb095a2a2a740a8b8b4db43491a5fe149406,19ddcb095a2a2a740a8b8b4db43491a5fe149406,Fix Fav for TVshow credits to  xxx,2018-12-04 23:43:28+01:00,item.js,https://github.com/popcorn-official/popcorn-desktop/raw/2e0f56114c053a848b032459eb57e77200d833bb/src/app/lib/views/browser/item.js,https://github.com/popcorn-official/popcorn-desktop/raw/19ddcb095a2a2a740a8b8b4db43491a5fe149406/src/app/lib/views/browser/item.js,"@@ -163,7 +163,7 @@
 
             var realtype = this.model.get('type');
             var itemtype = realtype.replace('bookmarked', '');
-            var providers = this.model.get('providers');
+            var providers = this.model.get('providers') || [App.Providers.get(this.model.get('provider'))];
             var id = this.model.get(this.model.idAttribute);
 
             var promises = Object.values(providers).map(function (p) {
",166,var providers = this.model.get('providers');,var providers = this.model.get('providers') || [App.Providers.get(this.model.get('provider'))];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/863d9cd2b73b45425148715048b745d90113f147,863d9cd2b73b45425148715048b745d90113f147,"Fix issue with item sometime throwing error
torrent health on Movie Detail",2018-12-05 18:50:29+01:00,play_control.js,https://github.com/popcorn-official/popcorn-desktop/raw/f383d612b5bb77bc53d59b4ad5087e0e9742bfac/src/app/lib/views/play_control.js,https://github.com/popcorn-official/popcorn-desktop/raw/863d9cd2b73b45425148715048b745d90113f147/src/app/lib/views/play_control.js,"@@ -281,7 +281,7 @@
             }
         },
 
-        onDestroy: function () {
+        onBeforeDestroy: function () {
             App.vent.off('sub:lang');
             App.vent.off('audio:lang');
             App.vent.off('update:subtitles');
",284,onDestroy: function () {,onBeforeDestroy: function () {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/b81378eeae95cc884a8a138582ad202adff3249b,b81378eeae95cc884a8a138582ad202adff3249b,Various Fixes,2020-03-16 21:43:11+01:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/ef48d491d02b44588ca4cb81324cc12edc51f034/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/b81378eeae95cc884a8a138582ad202adff3249b/src/app/lib/streamer.js,"@@ -38,7 +38,7 @@
                         fs.readFile(App.settings.tmpLocation + '/TorrentCache/' + file, 'utf8', (err, data) => {
                             this.torrent = App.WebTorrent.add(data, {
                                 path: App.settings.tmpLocation + '/' + file,
-                                maxConns: parseInt(Settings.connectionLimit, 10) || 55,
+                                maxConns: 5,
                                 dht: true,
                                 announce: Settings.trackers.forced,
                                 tracker: Settings.trackers.forced
",41,"maxConns: parseInt(Settings.connectionLimit, 10) || 55,","maxConns: 5,"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/7dbe9f117887de8d0aa3c2ab55c87350e42a7ad3,7dbe9f117887de8d0aa3c2ab55c87350e42a7ad3,Fix drag and drop Torrent file,2020-03-25 14:30:19+01:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/63a6649a2d990a939b7440571643bdd4d5c000e7/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/7dbe9f117887de8d0aa3c2ab55c87350e42a7ad3/src/app/lib/streamer.js,"@@ -132,7 +132,7 @@
                     announce: Settings.trackers.forced
                 });
                 const fs = require('fs');
-                fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + infoHash, uri);
+                fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + this.torrent.infoHash, uri);
 
                 this.torrent.on('metadata', function () {
                     this.torrentModel.set('torrent', this.torrent);
",135,"fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + infoHash, uri);","fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + this.torrent.infoHash, uri);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/1fc9a97dd64d15e1b4b1322017d50ddcc93a6828,1fc9a97dd64d15e1b4b1322017d50ddcc93a6828,"Disable TorrentCollection

Disable TorrentCollection for now until we fix that",2020-04-03 13:07:59+01:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/aa0bb5aefd79c49af375a1c2bfa84d8578a7d855/src/app/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/1fc9a97dd64d15e1b4b1322017d50ddcc93a6828/src/app/settings.js,"@@ -184,7 +184,7 @@ Settings.minimizeToTray = false;
 Settings.bigPicture = false;
 
 // Features
-Settings.activateTorrentCollection = true;
+Settings.activateTorrentCollection = false;
 Settings.activateWatchlist = true;
 Settings.activateRandomize = true;
 Settings.onlineSearchEngine = ""ExtraTorrent"";
",187,Settings.activateTorrentCollection = true;,Settings.activateTorrentCollection = false;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e4710eac67870f9e43a2e281b78eed0c53eff0f9,e4710eac67870f9e43a2e281b78eed0c53eff0f9,"Remove duplicate, fix ddone scope, enforce comparisons' type check (JSHint)",2020-04-16 08:05:46+00:00,quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/99da2e82d6c4f9927fd06f4ee8e3d19018627c9a/src/app/lib/views/quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/e4710eac67870f9e43a2e281b78eed0c53eff0f9/src/app/lib/views/quality-selector.js,"@@ -23,7 +23,7 @@
             }
             for (let key of keys) {
                 // TODO: it exist in episodes - need know why
-                if (key == 0) {
+                if (key === 0) {
                     continue;
                 }
                 sortedTorrents[key] = torrents[key];
",26,if (key == 0) {,if (key === 0) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/b20073444f0d442d9c2cd1c09de23740dd091b8b,b20073444f0d442d9c2cd1c09de23740dd091b8b,Fix Key,2020-04-16 12:18:11+01:00,quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/57c2a791bce8f312e8fbbe06357ebbac76c34103/src/app/lib/views/quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/b20073444f0d442d9c2cd1c09de23740dd091b8b/src/app/lib/views/quality-selector.js,"@@ -23,7 +23,7 @@
             }
             for (let key of keys) {
                 // TODO: it exist in episodes - need know why
-                if (key === 0) {
+                if (key == 0) {
                     continue;
                 }
                 sortedTorrents[key] = torrents[key];
",26,if (key === 0) {,if (key == 0) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4639b579dff45ff9da811c51861ea545096d0713,4639b579dff45ff9da811c51861ea545096d0713,Fix yarn tests,2020-04-24 18:11:05+02:00,quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/973b1ae942d4eb58923efd305887208c63827858/src/app/lib/views/quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/4639b579dff45ff9da811c51861ea545096d0713/src/app/lib/views/quality-selector.js,"@@ -23,7 +23,7 @@
             }
             for (let key of keys) {
                 // TODO: it exist in episodes - need know why
-                if (key == 0) {
+                if (key === 0) {
                     continue;
                 }
                 sortedTorrents[key] = torrents[key];
",26,if (key == 0) {,if (key === 0) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/36d15d2962cf0ff823201bd9672101a371e90e8f,36d15d2962cf0ff823201bd9672101a371e90e8f,https://github.com/popcorn-official/popcorn-desktop/commit/b20073444f0d442d9c2cd1c09de23740dd091b8b Hotfix,2020-04-24 18:18:24+02:00,quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/4639b579dff45ff9da811c51861ea545096d0713/src/app/lib/views/quality-selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/36d15d2962cf0ff823201bd9672101a371e90e8f/src/app/lib/views/quality-selector.js,"@@ -23,7 +23,7 @@
             }
             for (let key of keys) {
                 // TODO: it exist in episodes - need know why
-                if (key === 0) {
+                if (key === '0') {
                     continue;
                 }
                 sortedTorrents[key] = torrents[key];
",26,if (key === 0) {,if (key === '0') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/db1ade1a67c2e965602231edfdfa5d7761027c6b,db1ade1a67c2e965602231edfdfa5d7761027c6b,Fix external torrent not downloading,2020-04-28 00:15:20+02:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/4fda1f33d4ed1ab8b224212fb182c19f9e9eefb4/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/db1ade1a67c2e965602231edfdfa5d7761027c6b/src/app/lib/streamer.js,"@@ -182,7 +182,7 @@
                 }
 
                 const fs = require('fs');
-                fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + infoHash, uri);
+                fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + this.torrent.infoHash, uri);
 
                 this.torrent.on('metadata', function () {
                     this.torrentModel.set('torrent', this.torrent);
",185,"fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + infoHash, uri);","fs.writeFileSync(App.settings.tmpLocation + '/TorrentCache/' + this.torrent.infoHash, uri);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/f97660ef8ff7c90742a2338439ffd99033d4307c,f97660ef8ff7c90742a2338439ffd99033d4307c,"Fix the watchlist updating properly

The database didn't trigger the right event, that's the reason you had to refresh the movies page in order to see the episode you just watched actually marked as watched.",2020-04-28 14:14:50+02:00,database.js,https://github.com/popcorn-official/popcorn-desktop/raw/4fda1f33d4ed1ab8b224212fb182c19f9e9eefb4/src/app/database.js,https://github.com/popcorn-official/popcorn-desktop/raw/f97660ef8ff7c90742a2338439ffd99033d4307c/src/app/database.js,"@@ -225,7 +225,7 @@ var Database = {
             })
 
         .then(function () {
-            App.vent.trigger('show:watched:' + data.tvdb_id, data);
+            App.vent.trigger('show:watched:' + data.imdb_id, data);
         });
 
     },
",228,"App.vent.trigger('show:watched:' + data.tvdb_id, data);","App.vent.trigger('show:watched:' + data.imdb_id, data);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/3a0fb82840791647e04376e489d9884f97bca091,3a0fb82840791647e04376e489d9884f97bca091,"Fix #1441 - Settings view not loading when UI is french
Fix #1441. There is another bug for retrieving overall
download/upload values, so the returned values are null and
this needed to be handled because the unit can't be determined
and it trigger an error when trying to replace 'B' with 'o'.
Because frenchs use Octets instead of Bytes.",2020-05-04 14:10:30+02:00,common.js,https://github.com/popcorn-official/popcorn-desktop/raw/dab4acb5cb87933619018bfd8ef0bc095e8df157/src/app/common.js,https://github.com/popcorn-official/popcorn-desktop/raw/3a0fb82840791647e04376e489d9884f97bca091/src/app/common.js,"@@ -62,7 +62,7 @@ Common.copyFile = function (source, target, cb) {
 };
 
 Common.fileSize = function (num) {
-    if (isNaN(num)) {
+    if (isNaN(num) || num === null) {
         return;
     }
 
",65,if (isNaN(num)) {,if (isNaN(num) || num === null) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6311a754937fad7794b1b9ee4634c62bb27e5455,6311a754937fad7794b1b9ee4634c62bb27e5455,Fix typo,2020-06-01 11:44:52+02:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/6232d91b32c4aba9dd56a304fd4b291d5e5bb6ff/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/6311a754937fad7794b1b9ee4634c62bb27e5455/src/app/lib/views/browser/filter_bar.js,"@@ -446,7 +446,7 @@
         ) {
           App.currentview = App.previousview;
           App.vent.trigger(App.previousview.toLowerCase() + ':list', []);
-          this.setactive(App.currentview);
+          this.setActive(App.currentview);
         } else {
           App.vent.trigger('about:close');
           App.vent.trigger('torrentCollection:close');
",449,this.setactive(App.currentview);,this.setActive(App.currentview);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/045e33f6eaaf7acc496abdf5bb07042517cd686f,045e33f6eaaf7acc496abdf5bb07042517cd686f,"Fix watch now btn not working on series episodes

tvdb_id value is sometimes null/undefined and a toString() is called on
it, which causes a crash. This happens if autoplay next episode is
selected in config.

This PR addresses this issue, checking of the value is defined before
calling toString(). In case it's undefined a blank string is used.",2020-08-03 15:35:39-03:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/18e3e42627e81f45923a681f6262da1d4d144d98/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/045e33f6eaaf7acc496abdf5bb07042517cd686f/src/app/lib/views/show_detail.js,"@@ -449,7 +449,7 @@
                         extract_subtitle: {
                             type: 'show',
                             imdbid: that.model.get('imdb_id'),
-                            tvdbid: value.tvdb_id.toString(),
+                            tvdbid: (value.tvdb_id || '').toString(),
                             season: value.season,
                             episode: value.episode
                         },
",452,"tvdbid: value.tvdb_id.toString(),","tvdbid: (value.tvdb_id || '').toString(),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/89366c08f186e34874f0e5f7ec8abe23e75b6215,89366c08f186e34874f0e5f7ec8abe23e75b6215,"Fix 'Watch now' button from idling when bad health torrent

that delays to (or cant) resolve",2020-08-23 20:43:04+03:00,streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/3b65768cf89002ce9d49888b8d3d808fadda50aa/src/app/lib/streamer.js,https://github.com/popcorn-official/popcorn-desktop/raw/89366c08f186e34874f0e5f7ec8abe23e75b6215/src/app/lib/streamer.js,"@@ -407,7 +407,6 @@
             this.updateStatsInterval = setInterval(this.streamInfo.updateStats.bind(this.streamInfo), 1000);
             this.streamInfo.updateInfos();
             this.torrentModel.on('change', this.streamInfo.updateInfos.bind(this.streamInfo));
-            return App.vent.trigger('stream:started', this.stateModel);
         },
 
         // dummy element to fire stream:start
@@ -450,6 +449,7 @@
                 show_controls: false,
                 streamInfo: this.streamInfo
             });
+            App.vent.trigger('stream:started', this.stateModel);
         },
 
         watchState: function () {
",452,"return App.vent.trigger('stream:started', this.stateModel);","App.vent.trigger('stream:started', this.stateModel);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/8fc94c47cd76ff69115d221c27ddfe25ff1738ef,8fc94c47cd76ff69115d221c27ddfe25ff1738ef,Fix adding custom subtitles in the native player,2020-09-11 06:11:41+03:00,videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/63d2beaf3c3cd56b77cd6148e640764a2ddd904a/src/app/vendor/videojshooks.js,https://github.com/popcorn-official/popcorn-desktop/raw/8fc94c47cd76ff69115d221c27ddfe25ff1738ef/src/app/vendor/videojshooks.js,"@@ -280,7 +280,7 @@ vjs.TextTrack.prototype.load = function () {
 
         // Handles charset encoding
         var decode = function (dataBuff, language, callback) {
-            if(language.indexOf('|')!==-1){
+            if(language && language.indexOf('|')!==-1){
                 language = language.substr(0,language.indexOf('|'));
             }
 
",283,if(language.indexOf('|')!==-1){,if(language && language.indexOf('|')!==-1){
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/35f3c7d1fd9d047b6fd283709cf19eefb85a69fb,35f3c7d1fd9d047b6fd283709cf19eefb85a69fb,fix httpapi togglequality,2020-10-20 17:34:55+02:00,httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/813ace41985d8aa1377a80627e94fb8d47b4996e/src/app/httpapi.js,https://github.com/popcorn-official/popcorn-desktop/raw/35f3c7d1fd9d047b6fd283709cf19eefb85a69fb/src/app/httpapi.js,"@@ -311,7 +311,7 @@
             ////// DETAILS /////
             ////////////////////
             server.expose('togglequality', function (args, opt, callback) {
-                Mousetrap.trigger('q', keydown);
+                Mousetrap.trigger('q', 'keydown');
                 butterCallback(callback);
             });
 
",314,"Mousetrap.trigger('q', keydown);","Mousetrap.trigger('q', 'keydown');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e72b543da8b6522dcb46e5e2785609ccb48fb305,e72b543da8b6522dcb46e5e2785609ccb48fb305,Rebind list keyboard shortcuts fix,2020-11-08 03:36:21+02:00,list.js,https://github.com/popcorn-official/popcorn-desktop/raw/e557e9ece5cda563213ace0d1f61a4b547f1c987/src/app/lib/views/browser/list.js,https://github.com/popcorn-official/popcorn-desktop/raw/e72b543da8b6522dcb46e5e2785609ccb48fb305/src/app/lib/views/browser/list.js,"@@ -127,7 +127,7 @@
             _this.initPosterResizeKeys();
 
             App.vent.on('viewstack:pop', function() {
-                if (_.last(App.ViewStack) === 'init-container') {
+                if (_.last(App.ViewStack) === 'init-container' || _.last(App.ViewStack) === 'main-browser') {
                     _this.initKeyboardShortcuts();
                 }
             });
",130,if (_.last(App.ViewStack) === 'init-container') {,if (_.last(App.ViewStack) === 'init-container' || _.last(App.ViewStack) === 'main-browser') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/18cce789208215cab44216b7ca023ac84a977f77,18cce789208215cab44216b7ca023ac84a977f77,Prevent Seedbox from bugging the app on start when 'Start Screen' is set to 'Last Open',2020-11-10 04:30:49+02:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/12adb1f4113d0cfbf9edf8f872bec64fc1e23124/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/18cce789208215cab44216b7ca023ac84a977f77/src/app/lib/views/browser/filter_bar.js,"@@ -76,7 +76,7 @@
       var navFilters = $('#nav-filters');
       var filterbarRandom = $('#filterbar-random');
 
-      if (Settings.startScreen === 'Last Open') {
+      if (Settings.startScreen === 'Last Open' && App.currentview !== 'Seedbox') {
         AdvSettings.set('lastTab', set);
       }
 
",79,if (Settings.startScreen === 'Last Open') {,if (Settings.startScreen === 'Last Open' && App.currentview !== 'Seedbox') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/34a96b3bad7f5c5141e448852e2d51eb031ec39f,34a96b3bad7f5c5141e448852e2d51eb031ec39f,Fix search right click context menu,2020-11-18 17:06:33+02:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/7fe5bb76727c87f4577b3733a4d2b5a078b230a8/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/34a96b3bad7f5c5141e448852e2d51eb031ec39f/src/app/lib/views/browser/filter_bar.js,"@@ -132,7 +132,7 @@
       }
     },
     rightclick_search: function(e) {
-      e.stopPropagation();
+      e.preventDefault();
       var search_menu = new this.context_Menu(
         i18n.__('Cut'),
         i18n.__('Copy'),
",135,e.stopPropagation();,e.preventDefault();
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/96fea5abfcf9685ac196750b14a575b51ad9dc6e,96fea5abfcf9685ac196750b14a575b51ad9dc6e,Fixes scrollbar positioning with default OS frame,2020-11-25 18:11:14+01:00,windows_title_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/b9545dc89cab0fe7758250698f7dbde1f204659d/src/app/lib/views/windows_title_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/96fea5abfcf9685ac196750b14a575b51ad9dc6e/src/app/lib/views/windows_title_bar.js,"@@ -11,7 +11,7 @@
     },
 
     initialize: function () {
-      if (Settings.defaultOsWindowFrame) {
+      if (Settings.nativeWindowFrame) {
         return;
       }
 
",14,if (Settings.defaultOsWindowFrame) {,if (Settings.nativeWindowFrame) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/96fea5abfcf9685ac196750b14a575b51ad9dc6e,96fea5abfcf9685ac196750b14a575b51ad9dc6e,Fixes scrollbar positioning with default OS frame,2020-11-25 18:11:14+01:00,settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/b9545dc89cab0fe7758250698f7dbde1f204659d/src/app/settings.js,https://github.com/popcorn-official/popcorn-desktop/raw/96fea5abfcf9685ac196750b14a575b51ad9dc6e/src/app/settings.js,"@@ -116,7 +116,7 @@ Settings.proxyServer = '';
 
 // User interface
 Settings.language = '';
-Settings.defaultOsWindowFrame = false;
+Settings.nativeWindowFrame = false;
 Settings.translateSynopsis = true;
 Settings.coversShowRating = true;
 Settings.watchedCovers = 'fade';
",119,Settings.defaultOsWindowFrame = false;,Settings.nativeWindowFrame = false;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/1d2365536d25f20e5aea42c74cb6a24ad50b5549,1d2365536d25f20e5aea42c74cb6a24ad50b5549,"Fix opening cache folder behaviour
So it seem nw.Shell.openItem is usual way to open a folder in file
explorer but on Windows it open an explorer window with side panel
folders tree expended (exploring mode), instead of side panel
folders tree unexpended (opening mode - default OS behaviour).

So, using nw.Shell.openExternal to open a local folder on windows
open an explorer window in opening mode, but then it doesn't
works on linux.

So we mix both and add condition depending the os, so we obtain the
desired result.",2020-11-28 12:32:33+01:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/a5ce5670649a5fff44a7de9a3da33136531af9f4/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/1d2365536d25f20e5aea42c74cb6a24ad50b5549/src/app/lib/views/browser/filter_bar.js,"@@ -358,7 +358,7 @@
     },
 
     tempf: function (e) {
-      nw.Shell.openExternal(Settings.tmpLocation);
+      App.settings.os === 'windows' ? nw.Shell.openExternal(Settings.tmpLocation) : nw.Shell.openItem(Settings.tmpLocation);
     },
 
     about: function(e) {
",361,nw.Shell.openExternal(Settings.tmpLocation);,App.settings.os === 'windows' ? nw.Shell.openExternal(Settings.tmpLocation) : nw.Shell.openItem(Settings.tmpLocation);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/1d2365536d25f20e5aea42c74cb6a24ad50b5549,1d2365536d25f20e5aea42c74cb6a24ad50b5549,"Fix opening cache folder behaviour
So it seem nw.Shell.openItem is usual way to open a folder in file
explorer but on Windows it open an explorer window with side panel
folders tree expended (exploring mode), instead of side panel
folders tree unexpended (opening mode - default OS behaviour).

So, using nw.Shell.openExternal to open a local folder on windows
open an explorer window in opening mode, but then it doesn't
works on linux.

So we mix both and add condition depending the os, so we obtain the
desired result.",2020-11-28 12:32:33+01:00,loading.js,https://github.com/popcorn-official/popcorn-desktop/raw/a5ce5670649a5fff44a7de9a3da33136531af9f4/src/app/lib/views/player/loading.js,https://github.com/popcorn-official/popcorn-desktop/raw/1d2365536d25f20e5aea42c74cb6a24ad50b5549/src/app/lib/views/player/loading.js,"@@ -354,7 +354,7 @@
     },
 
     tempf: function (e) {
-      nw.Shell.openExternal(Settings.tmpLocation);
+      App.settings.os === 'windows' ? nw.Shell.openExternal(Settings.tmpLocation) : nw.Shell.openItem(Settings.tmpLocation);
     },
 
     remainingTime: function () {
",357,nw.Shell.openExternal(Settings.tmpLocation);,App.settings.os === 'windows' ? nw.Shell.openExternal(Settings.tmpLocation) : nw.Shell.openItem(Settings.tmpLocation);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a8d3f18b932a92fd612f5df0a45e6111d9cf683e,a8d3f18b932a92fd612f5df0a45e6111d9cf683e,fix more open cache folder behavior,2020-11-28 14:35:28+01:00,app.js,https://github.com/popcorn-official/popcorn-desktop/raw/1d2365536d25f20e5aea42c74cb6a24ad50b5549/src/app/app.js,https://github.com/popcorn-official/popcorn-desktop/raw/a8d3f18b932a92fd612f5df0a45e6111d9cf683e/src/app/app.js,"@@ -389,7 +389,7 @@ Mousetrap.bindGlobal(['shift+f12', 'f12', 'command+0'], function (e) {
 });
 Mousetrap.bindGlobal(['shift+f10', 'f10', 'command+9'], function (e) {
   win.debug('Opening: ' + App.settings.tmpLocation);
-  nw.Shell.openItem(App.settings.tmpLocation);
+  App.settings.os === 'windows' ? nw.Shell.openExternal(App.settings.tmpLocation) : nw.Shell.openItem(App.settings.tmpLocation);
 });
 Mousetrap.bind('mod+,', function (e) {
   App.vent.trigger('about:close');
",392,nw.Shell.openItem(App.settings.tmpLocation);,App.settings.os === 'windows' ? nw.Shell.openExternal(App.settings.tmpLocation) : nw.Shell.openItem(App.settings.tmpLocation);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/a8d3f18b932a92fd612f5df0a45e6111d9cf683e,a8d3f18b932a92fd612f5df0a45e6111d9cf683e,fix more open cache folder behavior,2020-11-28 14:35:28+01:00,torrent_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/1d2365536d25f20e5aea42c74cb6a24ad50b5549/src/app/lib/views/torrent_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/a8d3f18b932a92fd612f5df0a45e6111d9cf683e/src/app/lib/views/torrent_collection.js,"@@ -561,7 +561,7 @@
 
         openCollection: function () {
             console.debug('Opening: ' + collection);
-            nw.Shell.openItem(collection);
+            App.settings.os === 'windows' ? nw.Shell.openExternal(collection) : nw.Shell.openItem(collection);
         },
 
         notorrentsClick: function (e) {
",564,nw.Shell.openItem(collection);,App.settings.os === 'windows' ? nw.Shell.openExternal(collection) : nw.Shell.openItem(collection);
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d2271fff8441ca1797bb26781135034d1a8efa74,d2271fff8441ca1797bb26781135034d1a8efa74,Fix supported players popup line breaks,2020-12-20 22:22:10+02:00,file_selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/01009a4dcf1b365c505100c71fb00135af99545e/src/app/lib/views/file_selector.js,https://github.com/popcorn-official/popcorn-desktop/raw/d2271fff8441ca1797bb26781135034d1a8efa74/src/app/lib/views/file_selector.js,"@@ -177,7 +177,7 @@
             if (e.button === 2) {
                 App.vent.trigger('notification:show', new App.Model.Notification({
                     title: '',
-                    body: i18n.__('Popcorn Time currently supports') + '<br>VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer.<br><br>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),e,
+                    body: i18n.__('Popcorn Time currently supports') + '<span class=""smline""></span>' + 'VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer' + '.<span class=""mmline""></span>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),
                     type: 'success'
                 }));
             }
",180,"body: i18n.__('Popcorn Time currently supports') + '<br>VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer.<br><br>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),e,","body: i18n.__('Popcorn Time currently supports') + '<span class=""smline""></span>' + 'VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer' + '.<span class=""mmline""></span>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d2271fff8441ca1797bb26781135034d1a8efa74,d2271fff8441ca1797bb26781135034d1a8efa74,Fix supported players popup line breaks,2020-12-20 22:22:10+02:00,play_control.js,https://github.com/popcorn-official/popcorn-desktop/raw/01009a4dcf1b365c505100c71fb00135af99545e/src/app/lib/views/play_control.js,https://github.com/popcorn-official/popcorn-desktop/raw/d2271fff8441ca1797bb26781135034d1a8efa74/src/app/lib/views/play_control.js,"@@ -312,7 +312,7 @@
       if (e.button === 2) {
         App.vent.trigger('notification:show', new App.Model.Notification({
           title: '',
-          body: i18n.__('Popcorn Time currently supports') + '<br>VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer.<br><br>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),
+          body: i18n.__('Popcorn Time currently supports') + '<span class=""smline""></span>' + 'VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer' + '.<span class=""mmline""></span>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),
           type: 'success'
         }));
       }
",315,"body: i18n.__('Popcorn Time currently supports') + '<br>VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer.<br><br>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),","body: i18n.__('Popcorn Time currently supports') + '<span class=""smline""></span>' + 'VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer' + '.<span class=""mmline""></span>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d2271fff8441ca1797bb26781135034d1a8efa74,d2271fff8441ca1797bb26781135034d1a8efa74,Fix supported players popup line breaks,2020-12-20 22:22:10+02:00,show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/01009a4dcf1b365c505100c71fb00135af99545e/src/app/lib/views/show_detail.js,https://github.com/popcorn-official/popcorn-desktop/raw/d2271fff8441ca1797bb26781135034d1a8efa74/src/app/lib/views/show_detail.js,"@@ -778,7 +778,7 @@
             if (e.button === 2) {
                 App.vent.trigger('notification:show', new App.Model.Notification({
                     title: '',
-                    body: i18n.__('Popcorn Time currently supports') + '<br>VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer.<br><br>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),
+                    body: i18n.__('Popcorn Time currently supports') + '<span class=""smline""></span>' + 'VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer' + '.<span class=""mmline""></span>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),
                     type: 'success'
                 }));
             }
",781,"body: i18n.__('Popcorn Time currently supports') + '<br>VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer.<br><br>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),","body: i18n.__('Popcorn Time currently supports') + '<span class=""smline""></span>' + 'VLC, Fleex player, MPlayer, MPlayerX, MPlayer OSX Ext., IINA, Bomi,<br>mpv, mpv.net, MPC-HC, MPC-BE, SMPlayer, PotPlayer & BSPlayer' + '.<span class=""mmline""></span>' + i18n.__('There is also support for Chromecast, AirPlay & DLNA devices.'),"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/85d007761ae64909b1e29302800a7158397f1d66,85d007761ae64909b1e29302800a7158397f1d66,Keyword replace fix,2020-12-25 23:06:45+02:00,anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/1161d46fc84e2571b0ed9d68563b51cdfa486619/src/app/butter-provider/anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/85d007761ae64909b1e29302800a7158397f1d66/src/app/butter-provider/anime.js,"@@ -135,7 +135,7 @@ AnimeApi.prototype.fetch = function(filters) {
   params.limit = '50';
 
   if (filters.keywords) {
-    params.keywords = filters.keywords.replace(/\s/g, '% ');
+    params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');
   }
 
   if (filters.genre) {
",138,"params.keywords = filters.keywords.replace(/\s/g, '% ');","params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/85d007761ae64909b1e29302800a7158397f1d66,85d007761ae64909b1e29302800a7158397f1d66,Keyword replace fix,2020-12-25 23:06:45+02:00,movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/1161d46fc84e2571b0ed9d68563b51cdfa486619/src/app/butter-provider/movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/85d007761ae64909b1e29302800a7158397f1d66/src/app/butter-provider/movie.js,"@@ -94,7 +94,7 @@ class MovieApi extends Generic {
     };
 
     if (filters.keywords) {
-      params.keywords = filters.keywords.replace(/\s/g, '% ');
+      params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');
     }
     if (filters.genre) {
       params.genre = filters.genre;
",97,"params.keywords = filters.keywords.replace(/\s/g, '% ');","params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/85d007761ae64909b1e29302800a7158397f1d66,85d007761ae64909b1e29302800a7158397f1d66,Keyword replace fix,2020-12-25 23:06:45+02:00,tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/1161d46fc84e2571b0ed9d68563b51cdfa486619/src/app/butter-provider/tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/85d007761ae64909b1e29302800a7158397f1d66/src/app/butter-provider/tv.js,"@@ -68,7 +68,7 @@ class TVApi extends Generic {
     };
 
     if (filters.keywords) {
-      params.keywords = filters.keywords.replace(/\s/g, '% ');
+      params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');
     }
     if (filters.genre) {
       params.genre = filters.genre;
",71,"params.keywords = filters.keywords.replace(/\s/g, '% ');","params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5,4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5,Fix multiple term search (#1944),2020-12-30 02:18:00+02:00,anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/ef6cfef0c0f28c0b7133acf4f076ddb7c2d51a3e/src/app/butter-provider/anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5/src/app/butter-provider/anime.js,"@@ -135,7 +135,7 @@ AnimeApi.prototype.fetch = function(filters) {
   params.limit = '50';
 
   if (filters.keywords) {
-    params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');
+    params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
   }
 
   if (filters.genre) {
",138,"params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');","params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5,4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5,Fix multiple term search (#1944),2020-12-30 02:18:00+02:00,movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/ef6cfef0c0f28c0b7133acf4f076ddb7c2d51a3e/src/app/butter-provider/movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5/src/app/butter-provider/movie.js,"@@ -94,7 +94,7 @@ class MovieApi extends Generic {
     };
 
     if (filters.keywords) {
-      params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');
+      params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
     }
     if (filters.genre) {
       params.genre = filters.genre;
",97,"params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');","params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5,4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5,Fix multiple term search (#1944),2020-12-30 02:18:00+02:00,tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/ef6cfef0c0f28c0b7133acf4f076ddb7c2d51a3e/src/app/butter-provider/tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5/src/app/butter-provider/tv.js,"@@ -68,7 +68,7 @@ class TVApi extends Generic {
     };
 
     if (filters.keywords) {
-      params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');
+      params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
     }
     if (filters.genre) {
       params.genre = filters.genre;
",71,"params.keywords = filters.keywords.replace(/\s/g, '% ').replace(/[^a-zA-Z0-9]/g,' ');","params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6aaf1eb5aaaad8344586c7701822997dc6ee1bb0,6aaf1eb5aaaad8344586c7701822997dc6ee1bb0,Fix special character search for RU API (#1945),2020-12-30 03:16:08+02:00,anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5/src/app/butter-provider/anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/6aaf1eb5aaaad8344586c7701822997dc6ee1bb0/src/app/butter-provider/anime.js,"@@ -135,7 +135,7 @@ AnimeApi.prototype.fetch = function(filters) {
   params.limit = '50';
 
   if (filters.keywords) {
-    params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
+    params.keywords = this.apiURL[0].includes('popcorn-ru') ? filters.keywords.replace(/\s/g, '% ') : filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
   }
 
   if (filters.genre) {
",138,"params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');","params.keywords = this.apiURL[0].includes('popcorn-ru') ? filters.keywords.replace(/\s/g, '% ') : filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6aaf1eb5aaaad8344586c7701822997dc6ee1bb0,6aaf1eb5aaaad8344586c7701822997dc6ee1bb0,Fix special character search for RU API (#1945),2020-12-30 03:16:08+02:00,movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5/src/app/butter-provider/movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/6aaf1eb5aaaad8344586c7701822997dc6ee1bb0/src/app/butter-provider/movie.js,"@@ -94,7 +94,7 @@ class MovieApi extends Generic {
     };
 
     if (filters.keywords) {
-      params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
+      params.keywords = this.apiURL[0].includes('popcorn-ru') ? filters.keywords.replace(/\s/g, '% ') : filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
     }
     if (filters.genre) {
       params.genre = filters.genre;
",97,"params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');","params.keywords = this.apiURL[0].includes('popcorn-ru') ? filters.keywords.replace(/\s/g, '% ') : filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/6aaf1eb5aaaad8344586c7701822997dc6ee1bb0,6aaf1eb5aaaad8344586c7701822997dc6ee1bb0,Fix special character search for RU API (#1945),2020-12-30 03:16:08+02:00,tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/4b7e53d4b2e30dc4e7b107df6004ee5fdbd038f5/src/app/butter-provider/tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/6aaf1eb5aaaad8344586c7701822997dc6ee1bb0/src/app/butter-provider/tv.js,"@@ -68,7 +68,7 @@ class TVApi extends Generic {
     };
 
     if (filters.keywords) {
-      params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
+      params.keywords = this.apiURL[0].includes('popcorn-ru') ? filters.keywords.replace(/\s/g, '% ') : filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');
     }
     if (filters.genre) {
       params.genre = filters.genre;
",71,"params.keywords = filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');","params.keywords = this.apiURL[0].includes('popcorn-ru') ? filters.keywords.replace(/\s/g, '% ') : filters.keywords.replace(/[^a-zA-Z0-9]|\s/g, '% ');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/8c470a089ff3302fb29fe3f09e7c9cdfdcc91477,8c470a089ff3302fb29fe3f09e7c9cdfdcc91477,Seedbox tooltip fix,2021-01-25 22:45:31+02:00,seedbox.js,https://github.com/popcorn-official/popcorn-desktop/raw/62172e475a84732317d09c0badf78f1f1b184fd4/src/app/lib/views/seedbox.js,https://github.com/popcorn-official/popcorn-desktop/raw/8c470a089ff3302fb29fe3f09e7c9cdfdcc91477/src/app/lib/views/seedbox.js,"@@ -61,7 +61,7 @@
 			this.$('.tooltipped').tooltip({
 				delay: {
 					'show': 800,
-					'hide': 100
+					'hide': 0
 				}
 			});
 		},
",64,'hide': 100,'hide': 0
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,"fix jshint issues, closes 2040",2021-02-27 00:50:14+01:00,filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/dc43646d0921f1c6c38f38ea69339b4be497f25b/src/app/lib/views/browser/filter_bar.js,https://github.com/popcorn-official/popcorn-desktop/raw/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94/src/app/lib/views/browser/filter_bar.js,"@@ -366,7 +366,7 @@
       $(e.target).addClass('active');
 
       const rating = $(e.target).attr('data-value');
-      const ratingLabel = rating === 'All' ? rating : `${rating}+`
+      const ratingLabel = rating === 'All' ? rating : `${rating}+`;
 
       this.ui.ratingValue.text(i18n.__(ratingLabel.capitalizeEach()));
 
",369,const ratingLabel = rating === 'All' ? rating : `${rating}+`,const ratingLabel = rating === 'All' ? rating : `${rating}+`;
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,"fix jshint issues, closes 2040",2021-02-27 00:50:14+01:00,generic_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/dc43646d0921f1c6c38f38ea69339b4be497f25b/src/app/lib/views/browser/generic_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94/src/app/lib/views/browser/generic_browser.js,"@@ -56,7 +56,7 @@
                 win.debug('Butter %s startup time: %sms', Settings.version, (window.performance.now() - startupTime).toFixed(3)); // started in database.js;
                 startupTime = 'none';
                 if (parseInt(AdvSettings.get('bigPicture'))) {
-                    if (AdvSettings.get('bigPicture') != 100) {
+                    if (AdvSettings.get('bigPicture') !== 100) {
                         win.zoomLevel = Math.log(AdvSettings.get('bigPicture')/100) / Math.log(1.2);
                     } else if (!AdvSettings.get('disclaimerAccepted') && ScreenResolution.QuadHD) {
                         AdvSettings.set('bigPicture', 140);
",59,if (AdvSettings.get('bigPicture') != 100) {,if (AdvSettings.get('bigPicture') !== 100) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,"fix jshint issues, closes 2040",2021-02-27 00:50:14+01:00,loading.js,https://github.com/popcorn-official/popcorn-desktop/raw/dc43646d0921f1c6c38f38ea69339b4be497f25b/src/app/lib/views/player/loading.js,https://github.com/popcorn-official/popcorn-desktop/raw/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94/src/app/lib/views/player/loading.js,"@@ -285,7 +285,7 @@
         // If media encountered error, most likely unsupported codecs with chromecast
         if (status.idleReason === 'ERROR') {
           win.error('Device can\'t play the video');
-          win.debug('Status: ', status)
+          win.debug('Status: ', status);
           App.vent.trigger('notification:show', new App.Model.Notification({
             title: i18n.__('Device can\'t play the video'),
             body: i18n.__('Your device might not support the video format/codecs.<br/>Try other resolution quality or casting with VLC'),
",288,"win.debug('Status: ', status)","win.debug('Status: ', status);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,4e8e14b25088aa8c2b608847273dc7b7f9c0ec94,"fix jshint issues, closes 2040",2021-02-27 00:50:14+01:00,torrent_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/dc43646d0921f1c6c38f38ea69339b4be497f25b/src/app/lib/views/torrent_collection.js,https://github.com/popcorn-official/popcorn-desktop/raw/4e8e14b25088aa8c2b608847273dc7b7f9c0ec94/src/app/lib/views/torrent_collection.js,"@@ -542,7 +542,7 @@
 
         pasteItem: function () {
             var data = clipboard.get('text');
-            handleTorrent(data, 'text');
+            window.handleTorrent(data, 'text');
         },
 
         importItem: function () {
",545,"handleTorrent(data, 'text');","window.handleTorrent(data, 'text');"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/5e3f64b91565ad9981083ef480aff6693300229a,5e3f64b91565ad9981083ef480aff6693300229a,"Fix max. active torrents number

'activeTorrentCount' includes the torrent being added, by the 'Watch now' or 'Download' function it doesn't matter, so the >= makes it e.g pause the 5th torrent if active torrents are set to 5 instead of the 6th. The same ofc happens if you change the default 5 to something else. It will pause number x instead of x+1. Changing >= to > fixes it.",2021-03-02 23:05:37+02:00,seedbox.js,https://github.com/popcorn-official/popcorn-desktop/raw/319c20d8a2a91d6adb12c89e69a4ddab86c3c667/src/app/lib/views/seedbox.js,https://github.com/popcorn-official/popcorn-desktop/raw/5e3f64b91565ad9981083ef480aff6693300229a/src/app/lib/views/seedbox.js,"@@ -133,7 +133,7 @@
 			this.addTorrentToList(torrent);
 
 			const activeTorrentCount = App.WebTorrent.torrents.filter(item => !item.paused).length;
-			if (!torrent.paused && activeTorrentCount >= Settings.maxActiveTorrents) {
+			if (!torrent.paused && activeTorrentCount > Settings.maxActiveTorrents) {
 				this.pauseTorrent(torrent);
 				torrent.paused = true;
 			}
",136,if (!torrent.paused && activeTorrentCount >= Settings.maxActiveTorrents) {,if (!torrent.paused && activeTorrentCount > Settings.maxActiveTorrents) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/cb27af79f6f7d5920c846f3f2c5489ecb7b6b315,cb27af79f6f7d5920c846f3f2c5489ecb7b6b315,fix on default server,2021-06-27 17:13:42+03:00,movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/f75102c76d79654f8efacfa82f3e80c9e3c2a36f/src/app/butter-provider/movie.js,https://github.com/popcorn-official/popcorn-desktop/raw/cb27af79f6f7d5920c846f3f2c5489ecb7b6b315/src/app/butter-provider/movie.js,"@@ -33,7 +33,7 @@ class MovieApi extends Generic {
           trailer: movie.trailer !== null ? movie.trailer : false,
           certification: movie.certification,
           torrents:
-            movie.torrents[this.contentLanguage] !== null
+            movie.torrents[this.contentLanguage]
               ? movie.torrents[this.contentLanguage]
               : movie.torrents[Object.keys(movie.torrents)[0]],
           langs: movie.torrents,
",36,movie.torrents[this.contentLanguage] !== null,movie.torrents[this.contentLanguage]
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d9e0026fc663f85efc83ed455652f56ca297dbad,d9e0026fc663f85efc83ed455652f56ca297dbad,fix,2021-07-12 02:27:20+03:00,tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/3e27b995462d4db14a44eaa4168121fbf1768ca7/src/app/butter-provider/tv.js,https://github.com/popcorn-official/popcorn-desktop/raw/d9e0026fc663f85efc83ed455652f56ca297dbad/src/app/butter-provider/tv.js,"@@ -53,7 +53,7 @@ class TVApi extends Generic {
   }
 
   detail(torrent_id, old_data, debug) {
-    return this.contentOnLang(torrent_id, this.contentLanguage);
+    return this.contentOnLang(torrent_id, old_data.contextLocale);
   }
 
   contentOnLang(torrent_id, lang) {
",56,"return this.contentOnLang(torrent_id, this.contentLanguage);","return this.contentOnLang(torrent_id, old_data.contextLocale);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/871c10066b46575be6d9cf3610a1e0071d9ec879,871c10066b46575be6d9cf3610a1e0071d9ec879,fix select provider,2021-09-24 23:58:20+03:00,anime_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/b3dc9949ff9c83cd7ffd952a0936dc28d71dca6c/src/app/lib/views/browser/anime_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/871c10066b46575be6d9cf3610a1e0071d9ec879/src/app/lib/views/browser/anime_browser.js,"@@ -3,7 +3,7 @@
 
     var AnimeBrowser = App.View.PCTBrowser.extend({
         collectionModel: App.Model.AnimeCollection,
-        provider: 'AnimeApi',
+        providerType: 'anime',
     });
 
     App.View.AnimeBrowser = AnimeBrowser;
",6,"provider: 'AnimeApi',","providerType: 'anime',"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/871c10066b46575be6d9cf3610a1e0071d9ec879,871c10066b46575be6d9cf3610a1e0071d9ec879,fix select provider,2021-09-24 23:58:20+03:00,generic_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/b3dc9949ff9c83cd7ffd952a0936dc28d71dca6c/src/app/lib/views/browser/generic_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/871c10066b46575be6d9cf3610a1e0071d9ec879/src/app/lib/views/browser/generic_browser.js,"@@ -26,7 +26,7 @@
         },
 
         initialize: function () {
-            const provider = App.Providers.get(this.provider);
+            const provider = this.provider ? App.Providers.get(this.provider) : App.Config.getProviderForType(this.providerType)[0];
             this.filter = new App.Model.Filter(provider.filters());
 
             if (Settings.defaultFilters === 'custom' || Settings.defaultFilters === 'remember') {
",29,const provider = App.Providers.get(this.provider);,const provider = this.provider ? App.Providers.get(this.provider) : App.Config.getProviderForType(this.providerType)[0];
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/871c10066b46575be6d9cf3610a1e0071d9ec879,871c10066b46575be6d9cf3610a1e0071d9ec879,fix select provider,2021-09-24 23:58:20+03:00,movie_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/b3dc9949ff9c83cd7ffd952a0936dc28d71dca6c/src/app/lib/views/browser/movie_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/871c10066b46575be6d9cf3610a1e0071d9ec879/src/app/lib/views/browser/movie_browser.js,"@@ -3,7 +3,7 @@
 
     var MovieBrowser = App.View.PCTBrowser.extend({
         collectionModel: App.Model.MovieCollection,
-        provider: 'MovieApi',
+        providerType: 'movie',
     });
 
     App.View.MovieBrowser = MovieBrowser;
",6,"provider: 'MovieApi',","providerType: 'movie',"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/871c10066b46575be6d9cf3610a1e0071d9ec879,871c10066b46575be6d9cf3610a1e0071d9ec879,fix select provider,2021-09-24 23:58:20+03:00,show_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/b3dc9949ff9c83cd7ffd952a0936dc28d71dca6c/src/app/lib/views/browser/show_browser.js,https://github.com/popcorn-official/popcorn-desktop/raw/871c10066b46575be6d9cf3610a1e0071d9ec879/src/app/lib/views/browser/show_browser.js,"@@ -3,7 +3,7 @@
 
     var ShowBrowser = App.View.PCTBrowser.extend({
         collectionModel: App.Model.ShowCollection,
-        provider: 'TVApi',
+        providerType: 'tvshow',
     });
 
     App.View.ShowBrowser = ShowBrowser;
",6,"provider: 'TVApi',","providerType: 'tvshow',"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/0f35b8d05097c947795db4b6a7fd9597eac52abb,0f35b8d05097c947795db4b6a7fd9597eac52abb,fix,2021-09-27 18:09:51+03:00,filter.js,https://github.com/popcorn-official/popcorn-desktop/raw/cf7667959d81de080f9ee36c178d565d5432efc3/src/app/lib/models/filter.js,https://github.com/popcorn-official/popcorn-desktop/raw/0f35b8d05097c947795db4b6a7fd9597eac52abb/src/app/lib/models/filter.js,"@@ -21,7 +21,7 @@
                 this.set('genres', filters.genres || []);
                 this.set('sorters', filters.sorters || []);
                 this.set('types', filters.types || []);
-                this.set('ratings', filters.types || []);
+                this.set('ratings', filters.ratings || []);
 
                 this.init();
                 App.vent.trigger('filter-bar:render');
",24,"this.set('ratings', filters.types || []);","this.set('ratings', filters.ratings || []);"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/156d9fe37cd721f50a2c37ec7031d8ae6b846d6a,156d9fe37cd721f50a2c37ec7031d8ae6b846d6a,Small fix/modification concerning automatic updating (#2403),2022-02-08 23:38:18+02:00,main_window.js,https://github.com/popcorn-official/popcorn-desktop/raw/0f4409c22f78db558904536980b2db7e01e06aab/src/app/lib/views/main_window.js,https://github.com/popcorn-official/popcorn-desktop/raw/156d9fe37cd721f50a2c37ec7031d8ae6b846d6a/src/app/lib/views/main_window.js,"@@ -296,7 +296,7 @@
         });
 
         // we check if the disclaimer is accepted
-        if (!AdvSettings.get('disclaimerAccepted')) {
+        if (!AdvSettings.get('disclaimerAccepted') || AdvSettings.get('automaticUpdating') === '' || AdvSettings.get('dhtEnable') === '') {
           that.showDisclaimer();
         }
 
",299,if (!AdvSettings.get('disclaimerAccepted')) {,if (!AdvSettings.get('disclaimerAccepted') || AdvSettings.get('automaticUpdating') === '' || AdvSettings.get('dhtEnable') === '') {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/e6998421d26c71e187e84c60d8451b6a60caac5c,e6998421d26c71e187e84c60d8451b6a60caac5c,"fix: Replaced double equal with triple

Replaced double equal with triple to fix a warning while doing tests.",2022-02-27 01:41:41+03:00,settings_container.js,https://github.com/popcorn-official/popcorn-desktop/raw/e4297c5f8f42844d22263d50a2b601dbbd8dbbac/src/app/lib/views/settings_container.js,https://github.com/popcorn-official/popcorn-desktop/raw/e6998421d26c71e187e84c60d8451b6a60caac5c/src/app/lib/views/settings_container.js,"@@ -762,7 +762,7 @@
         },
 
         showFullDatalist: function(e) {
-            if (e.button === 0 && (!e.detail || e.detail == 1)) {
+            if (e.button === 0 && (!e.detail || e.detail === 1)) {
                 var tmpDlist = $(e.target).val();
                 $(e.target).val('');
                 $(e.target).one('blur', function() {
",765,if (e.button === 0 && (!e.detail || e.detail == 1)) {,if (e.button === 0 && (!e.detail || e.detail === 1)) {
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/70cf13478976d418a3f38e1febb4ef8d86d872e4,70cf13478976d418a3f38e1febb4ef8d86d872e4,fix servers display,2022-07-03 19:22:03+03:00,dht.js,https://github.com/popcorn-official/popcorn-desktop/raw/49d183f7bb0709150c95e964b25739589de5b9a3/src/app/dht.js,https://github.com/popcorn-official/popcorn-desktop/raw/70cf13478976d418a3f38e1febb4ef8d86d872e4/src/app/dht.js,"@@ -96,7 +96,7 @@ class DhtReader {
 
     alertMessage(alertType) {
         var changeServer = function () {
-            let newServer = AdvSettings.get('dhtData') && !AdvSettings.get('dhtEnable') ? AdvSettings.get('dhtData').split('server"":""')[1].split('"",""git"":""')[0] : '';
+            let newServer = AdvSettings.get('dhtData') && !AdvSettings.get('dhtEnable') ? Settings.dhtInfo.server : '';
             AdvSettings.set('customMoviesServer', newServer);
             AdvSettings.set('customSeriesServer', newServer);
             AdvSettings.set('customAnimeServer', newServer);
",99,"let newServer = AdvSettings.get('dhtData') && !AdvSettings.get('dhtEnable') ? AdvSettings.get('dhtData').split('server"":""')[1].split('"",""git"":""')[0] : '';",let newServer = AdvSettings.get('dhtData') && !AdvSettings.get('dhtEnable') ? Settings.dhtInfo.server : '';
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/bcbe26f2f93461b854891207bf9ed86ecdf182e2,bcbe26f2f93461b854891207bf9ed86ecdf182e2,Fix anime titles,2023-06-18 18:04:54+03:00,anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/3323c5705adfb5f03854eb7e1201734999c6b4b9/src/app/butter-provider/anime.js,https://github.com/popcorn-official/popcorn-desktop/raw/bcbe26f2f93461b854891207bf9ed86ecdf182e2/src/app/butter-provider/anime.js,"@@ -31,7 +31,7 @@ class AnimeApi extends TVApi {
 
     const uri = `shows/${filters.page}?` + new URLSearchParams(params);
     return this._get(0, uri).then(data => {
-      data.forEach(entry => (entry.type = 'show'));
+      data.forEach(entry => {entry.type = 'show'; entry.title = entry.slug.replace(/-/g, ' ').capitalizeEach();});
 
       return {
         results: sanitize(data),
",34,data.forEach(entry => (entry.type = 'show'));,"data.forEach(entry => {entry.type = 'show'; entry.title = entry.slug.replace(/-/g, ' ').capitalizeEach();});"
popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop,https://github.com/popcorn-official/popcorn-desktop/commit/d28ddc1b5fd6cd0847542ed01447c4ae1dbc9866,d28ddc1b5fd6cd0847542ed01447c4ae1dbc9866,fix jshint version and warnings,2024-01-05 18:33:12+03:00,seedbox.js,https://github.com/popcorn-official/popcorn-desktop/raw/925288c6d1adbde99f3b3be7d30df5a034fab40a/src/app/lib/views/seedbox.js,https://github.com/popcorn-official/popcorn-desktop/raw/d28ddc1b5fd6cd0847542ed01447c4ae1dbc9866/src/app/lib/views/seedbox.js,"@@ -387,7 +387,7 @@
                         body: '<br><font size=4>' + i18n.__('Exiting Popcorn Time...') + '</font><br>(' + i18n.__('does not clear the Cache Folder') + ')<br><br>' + '<span id=""timer"">30</span> ' + '<span id=""timerunit"">' + i18n.__('seconds') + '</span> ' + i18n.__('left to cancel this action') + '<br><br>',
                         type: 'danger',
                         showClose: false,
-                        buttons: [{ title: i18n.__('Exit Now'), action: (function () { win.close(true); }) }, { title: i18n.__('Cancel'), action: abortExit }]
+                        buttons: [{ title: i18n.__('Exit Now'), action: function () { win.close(true); } }, { title: i18n.__('Cancel'), action: abortExit }]
                     });
                     App.vent.trigger('notification:show', notificationModel);
                 }
",390,"buttons: [{ title: i18n.__('Exit Now'), action: (function () { win.close(true); }) }, { title: i18n.__('Cancel'), action: abortExit }]","buttons: [{ title: i18n.__('Exit Now'), action: function () { win.close(true); } }, { title: i18n.__('Cancel'), action: abortExit }]"
gulp-autoprefixer,https://github.com/sindresorhus/gulp-autoprefixer,https://github.com/sindresorhus/gulp-autoprefixer/commit/cd022c87d953222feabcd1e50d1cc6e3b07d4292,cd022c87d953222feabcd1e50d1cc6e3b07d4292,Fix tests,2017-02-20 11:42:55+07:00,test.js,https://github.com/sindresorhus/gulp-autoprefixer/raw/90f8f7c819b08869a2a4eb8c50e9684ab36821b5/test.js,https://github.com/sindresorhus/gulp-autoprefixer/raw/cd022c87d953222feabcd1e50d1cc6e3b07d4292/test.js,"@@ -40,7 +40,7 @@ it('should generate source maps', function (cb) {
 		assert.equal(file.sourceMap.mappings, 'AAAA;CACC,cAAc;CACd');
 		var contents = file.contents.toString();
 		assert(/flex/.test(contents));
-		assert(/sourceMappingURL=data:application\/json;base64/.test(contents));
+		assert(/sourceMappingURL=data:application\/json;charset=utf8;base64/.test(contents));
 		cb();
 	});
 
",43,assert(/sourceMappingURL=data:application\/json;base64/.test(contents));,assert(/sourceMappingURL=data:application\/json;charset=utf8;base64/.test(contents));
gulp-autoprefixer,https://github.com/sindresorhus/gulp-autoprefixer,https://github.com/sindresorhus/gulp-autoprefixer/commit/ab49120838d6ecd755138ef0123cc2384253e580,ab49120838d6ecd755138ef0123cc2384253e580,"Require Node.js 8 and Gulp 4

Fixes #113",2019-08-18 22:30:54+02:00,test.js,https://github.com/sindresorhus/gulp-autoprefixer/raw/83cc576fa5fef4f3f9a33db12ff4c62695e5727d/test.js,https://github.com/sindresorhus/gulp-autoprefixer/raw/ab49120838d6ecd755138ef0123cc2384253e580/test.js,"@@ -28,7 +28,7 @@ test('generate source maps', async t => {
 
 	init
 		.pipe(autoprefixer({
-			browsers: ['Firefox ESR']
+			overrideBrowserslist: ['Firefox ESR']
 		}))
 		.pipe(write);
 
",31,browsers: ['Firefox ESR'],overrideBrowserslist: ['Firefox ESR']
yosay,https://github.com/yeoman/yosay,https://github.com/yeoman/yosay/commit/0a56477f533c469062d1136d66c32a833ecbe881,0a56477f533c469062d1136d66c32a833ecbe881,"Handle new line properly

When a `\n` is inserted immediately before/after the `maxLength` position,
it results in a empty string element in the message array,
so that the following check fails:

`if (!array[index + 1]) {`

This bug causes the broken frame reported in the issue #9.

The following if statement works well:

`if (index === array.length - 1) {`",2015-07-14 23:36:40-03:00,index.js,https://github.com/yeoman/yosay/raw/c756f2340c7fe8703da7a4db6c5ab9089d62d641/index.js,https://github.com/yeoman/yosay/raw/0a56477f533c469062d1136d66c32a833ecbe881/index.js,"@@ -127,7 +127,7 @@ module.exports = function (message, options) {
         (greeting[index + topOffset] || pad.left('', leftOffset)) +
         frame.side + ' ' + paddedString + ' ' + frame.side;
 
-      if (!array[index + 1]) {
+      if (array.length === index + 1) {
         greeting[index + topOffset + 1] =
           (greeting[index + topOffset + 1] || pad.left('', leftOffset)) +
           frame.bottom;
",130,if (!array[index + 1]) {,if (array.length === index + 1) {
through2,https://github.com/rvagg/through2,https://github.com/rvagg/through2/commit/7ce8c780b1219c1ebea7717e9dc111bbe4dc2ffa,7ce8c780b1219c1ebea7717e9dc111bbe4dc2ffa,fix hwm,2014-06-02 17:24:04+02:00,through2.js,https://github.com/rvagg/through2/raw/4db7071a01739b690b8e9e1795ba7354d18eaa07/through2.js,https://github.com/rvagg/through2/raw/7ce8c780b1219c1ebea7717e9dc111bbe4dc2ffa/through2.js,"@@ -67,7 +67,7 @@ module.exports.ctor = through2(function (options, transform, flush) {
 
 
 module.exports.obj = through2(function (options, transform, flush) {
-  var t2 = new Transform(xtend({ objectMode: true }, options))
+  var t2 = new Transform(xtend({ objectMode: true, highWaterMark: 16 }, options))
 
   t2._transform = transform
 
",70,"var t2 = new Transform(xtend({ objectMode: true }, options))","var t2 = new Transform(xtend({ objectMode: true, highWaterMark: 16 }, options))"
through2,https://github.com/rvagg/through2,https://github.com/rvagg/through2/commit/48412d11ee597e909130d18705c60a61a0677fc1,48412d11ee597e909130d18705c60a61a0677fc1,fix prototype typo,2014-08-11 21:40:29+02:00,through2.js,https://github.com/rvagg/through2/raw/bebb0a7854a864d8dedaa87ee0dcec0f2af68360/through2.js,https://github.com/rvagg/through2/raw/48412d11ee597e909130d18705c60a61a0677fc1/through2.js,"@@ -9,7 +9,7 @@ function DestroyableTransform(opts) {
 
 inherits(DestroyableTransform, Transform)
 
-DestroyableTransform.destroy = function(err) {
+DestroyableTransform.prototype.destroy = function(err) {
   if (this._destroyed) return
   this._destroyed = true
   
",12,DestroyableTransform.destroy = function(err) {,DestroyableTransform.prototype.destroy = function(err) {
gulp-uglify,https://github.com/terinjokes/gulp-uglify,https://github.com/terinjokes/gulp-uglify/commit/61e28ce0b1822d9b1ff5ebd6539038a27f6e3781,61e28ce0b1822d9b1ff5ebd6539038a27f6e3781,UglifyJS sometimes uses `e.msg` for errors. Fixes #51,2014-08-26 17:20:41-07:00,index.js,https://github.com/terinjokes/gulp-uglify/raw/fad7e9e55bf8ac30c32265a417e0a541a07e951c/index.js,https://github.com/terinjokes/gulp-uglify/raw/61e28ce0b1822d9b1ff5ebd6539038a27f6e3781/index.js,"@@ -52,7 +52,7 @@ module.exports = function(opt) {
 			mangled = uglify.minify(String(file.contents), options);
 			file.contents = new Buffer(mangled.code.replace(reSourceMapComment, ''));
 		} catch (e) {
-			return callback(new PluginError(pluginName, e.message, {
+			return callback(new PluginError(pluginName, e.message || e.msg, {
 				fileName: file.path,
 				lineNumber: e.line,
 				stack: e.stack,
",55,"return callback(new PluginError(pluginName, e.message, {","return callback(new PluginError(pluginName, e.message || e.msg, {"
gulp-uglify,https://github.com/terinjokes/gulp-uglify,https://github.com/terinjokes/gulp-uglify/commit/82abf51ca227447f693101da8c57974854371f8a,82abf51ca227447f693101da8c57974854371f8a,Fix a typo in the sourcemap test,2015-09-17 11:48:07+02:00,sourcemap.js,https://github.com/terinjokes/gulp-uglify/raw/44cc7977ae28760ddc8eb8ef9bc5be3dea9536b9/test/sourcemap.js,https://github.com/terinjokes/gulp-uglify/raw/82abf51ca227447f693101da8c57974854371f8a/test/sourcemap.js,"@@ -10,7 +10,7 @@ var testContents1Input = '(function(first, second) {\n    console.log(first + se
 var testContents1Expected = uglifyjs.minify(testContents1Input, {fromString: true}).code;
 var testContents2Input = '(function(alert) {\n    alert(5);\n}(alert));\n';
 var testContents2Expected = uglifyjs.minify(testContents2Input, {fromString: true}).code;
-var testConcatExpected = uglifyjs.minify(testContents1Expected + testContents2Input, {fromString: true}).code;
+var testConcatExpected = uglifyjs.minify(testContents1Input + '\n' + testContents2Input, {fromString: true}).code;
 
 test('should minify files', function(t) {
 	t.plan(11);
",13,"var testConcatExpected = uglifyjs.minify(testContents1Expected + testContents2Input, {fromString: true}).code;","var testConcatExpected = uglifyjs.minify(testContents1Input + '\n' + testContents2Input, {fromString: true}).code;"
through,https://github.com/dominictarr/through,https://github.com/dominictarr/through/commit/325873812e1893472ab141b69fe48665cb5b7ac3,325873812e1893472ab141b69fe48665cb5b7ac3,fix typo,2012-07-23 07:24:48+12:00,index.js,https://github.com/dominictarr/through/raw/2e04ec709c20593843fc0e21d2a5bdd76da5a875/index.js,https://github.com/dominictarr/through/raw/325873812e1893472ab141b69fe48665cb5b7ac3/index.js,"@@ -53,7 +53,7 @@ function through (write, end) {
   }
   stream.pause = function () {
     stream.paused = true
-    steam.emit('pause')
+    stream.emit('pause')
   }
   stream.resume = function () {
     if(stream.paused) {
",56,steam.emit('pause'),stream.emit('pause')
through,https://github.com/dominictarr/through,https://github.com/dominictarr/through/commit/7048350a5dae8bbbb3b9a972ecec4fe2460d113d,7048350a5dae8bbbb3b9a972ecec4fe2460d113d,fix non-strict null check,2015-04-05 21:40:09-07:00,index.js,https://github.com/dominictarr/through/raw/19ed9b7e84efe7c3e3c8be80f29390b1620e13c0/index.js,https://github.com/dominictarr/through/raw/7048350a5dae8bbbb3b9a972ecec4fe2460d113d/index.js,"@@ -40,7 +40,7 @@ function through (write, end, opts) {
   stream.queue = stream.push = function (data) {
 //    console.error(ended)
     if(_ended) return stream
-    if(data == null) _ended = true
+    if(data === null) _ended = true
     buffer.push(data)
     drain()
     return stream
",43,if(data == null) _ended = true,if(data === null) _ended = true
gulp-concat,https://github.com/wearefractal/gulp-concat,https://github.com/wearefractal/gulp-concat/commit/f14bb15e779b65af2cf8b65dbfde01618cbff2b4,f14bb15e779b65af2cf8b65dbfde01618cbff2b4,"Need to buffer file contents

This is a strange bug. I was using concat a few days ago without issue, then it stopped working for some unknown reason. It could be because of an update to gulp, I'm not sure. Either way buffering the content seems to have fixed it.",2013-12-14 07:31:40-07:00,index.js,https://github.com/wearefractal/gulp-concat/raw/f0e8f5e251e06539b26c818538e9cc5cde29f959/index.js,https://github.com/wearefractal/gulp-concat/raw/f14bb15e779b65af2cf8b65dbfde01618cbff2b4/index.js,"@@ -27,7 +27,7 @@ module.exports = function(fileName, opt){
       cwd: buffer[0].cwd,
       base: buffer[0].base,
       path: joinedPath,
-      contents: joinedContents
+      contents: new Buffer(joinedContents)
     });
 
     this.emit('data', joinedFile);
",30,contents: joinedContents,contents: new Buffer(joinedContents)
gulp-concat,https://github.com/wearefractal/gulp-concat,https://github.com/wearefractal/gulp-concat/commit/a28bc740532a8055c6f74b68ca8bdab79a99aab0,a28bc740532a8055c6f74b68ca8bdab79a99aab0,"There is no cb in through stream

I suppose this is copy-pase code from plugin, that use `es.map` instead of `through`.

This may fix #12",2014-01-03 22:52:17+05:00,index.js,https://github.com/wearefractal/gulp-concat/raw/9d7ea86da80a4be8002575a73d7e220839634775/index.js,https://github.com/wearefractal/gulp-concat/raw/a28bc740532a8055c6f74b68ca8bdab79a99aab0/index.js,"@@ -15,7 +15,7 @@ module.exports = function(fileName, opt){
 
   function bufferContents(file){
     if (file.isNull()) return; // ignore
-    if (file.isStream()) return cb(new PluginError('gulp-concat',  'Streaming not supported'));
+    if (file.isStream()) return this.emit('error', new PluginError('gulp-concat',  'Streaming not supported'));
 
     if (!firstFile) firstFile = file;
 
",18,"if (file.isStream()) return cb(new PluginError('gulp-concat',  'Streaming not supported'));","if (file.isStream()) return this.emit('error', new PluginError('gulp-concat',  'Streaming not supported'));"
gulp-concat,https://github.com/wearefractal/gulp-concat,https://github.com/wearefractal/gulp-concat/commit/c98bb3089860379e510d1e8baa0aa81d47d5bd3d,c98bb3089860379e510d1e8baa0aa81d47d5bd3d,"Fix for missing sourcemaps

Fix for https://github.com/wearefractal/gulp-concat/issues/69",2014-11-18 20:13:27-08:00,index.js,https://github.com/wearefractal/gulp-concat/raw/16beeeef2dd13d51b7f58d93903827408668b8f2/index.js,https://github.com/wearefractal/gulp-concat/raw/c98bb3089860379e510d1e8baa0aa81d47d5bd3d/index.js,"@@ -30,7 +30,7 @@ module.exports = function(file, opt) {
     if (file.isStream()) return this.emit('error', new PluginError('gulp-concat',  'Streaming not supported'));
 
     if (!firstFile) firstFile = file;
-    if (!concat) concat = new Concat(!!firstFile.sourceMap, fileName, opt.newLine);
+    if (!concat) concat = new Concat(!!firstFile.sourceMap || !!file.sourceMap, fileName, opt.newLine);
 
     concat.add(file.relative, file.contents.toString(), file.sourceMap);
   }
",33,"if (!concat) concat = new Concat(!!firstFile.sourceMap, fileName, opt.newLine);","if (!concat) concat = new Concat(!!firstFile.sourceMap || !!file.sourceMap, fileName, opt.newLine);"
gulp-concat,https://github.com/wearefractal/gulp-concat,https://github.com/wearefractal/gulp-concat/commit/fe06263fc22dba357696a516f0199971699caaf5,fe06263fc22dba357696a516f0199971699caaf5,Fixed #85,2015-02-19 18:17:55+02:00,index.js,https://github.com/wearefractal/gulp-concat/raw/1f18054cd14e74a6372a8f2c571cb44fda27ad92/index.js,https://github.com/wearefractal/gulp-concat/raw/fe06263fc22dba357696a516f0199971699caaf5/index.js,"@@ -71,7 +71,7 @@ module.exports = function(file, opt) {
 
   function endStream(cb) {
     // no files passed in, no file goes out
-    if (!firstFile) {
+    if (!firstFile || !concat) {
       cb();
       return;
     }
",74,if (!firstFile) {,if (!firstFile || !concat) {
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/e3272e8449989406c4abb0f171f1ae9a6e7cb103,e3272e8449989406c4abb0f171f1ae9a6e7cb103,Close #60 PR: Don't override windows blue when in xterm mode. Fixes #59,2015-04-26 16:00:01+07:00,index.js,https://github.com/chalk/chalk/raw/04cb2d21ae59037efe0db1d8418cb5662e09bead/index.js,https://github.com/chalk/chalk/raw/e3272e8449989406c4abb0f171f1ae9a6e7cb103/index.js,"@@ -12,7 +12,7 @@ function Chalk(options) {
 }
 
 // use bright blue on Windows as the normal blue color is illegible
-if (process.platform === 'win32') {
+if (process.platform === 'win32' && !/^xterm/i.test(process.env.TERM || '')) {
 	ansiStyles.blue.open = '\u001b[94m';
 }
 
",15,if (process.platform === 'win32') {,if (process.platform === 'win32' && !/^xterm/i.test(process.env.TERM || '')) {
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/4006cc0b4109df1c8fd7941c4871c8f8a66fbfad,4006cc0b4109df1c8fd7941c4871c8f8a66fbfad,Remove un-necessary function name. Fixes #80,2015-08-19 16:57:06+01:00,index.js,https://github.com/chalk/chalk/raw/6142553bb5d7b3e7fbcea76b8ccf876f373e1bf1/index.js,https://github.com/chalk/chalk/raw/4006cc0b4109df1c8fd7941c4871c8f8a66fbfad/index.js,"@@ -36,7 +36,7 @@ var styles = (function () {
 var proto = defineProps(function chalk() {}, styles);
 
 function build(_styles) {
-	var builder = function builder() {
+	var builder = function () {
 		return applyStyle.apply(builder, arguments);
 	};
 
",39,var builder = function builder() {,var builder = function () {
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/caeb7d8dca24cc09ade47ea48f762693a4926ed6,caeb7d8dca24cc09ade47ea48f762693a4926ed6,fix missing TERM cases,2017-06-29 20:11:09-07:00,index.js,https://github.com/chalk/chalk/raw/3fca6150e23439e783409f5c8f948f767c2ddc5a/index.js,https://github.com/chalk/chalk/raw/caeb7d8dca24cc09ade47ea48f762693a4926ed6/index.js,"@@ -5,7 +5,7 @@ const supportsColor = require('supports-color');
 
 const template = require('./templates.js');
 
-const isSimpleWindowsTerm = process.platform === 'win32' && !process.env.TERM.toLowerCase().startsWith('xterm');
+const isSimpleWindowsTerm = process.platform === 'win32' && !(process.env.TERM || '').toLowerCase().startsWith('xterm');
 
 // `supportsColor.level` → `ansiStyles.color[name]` mapping
 const levelMapping = ['ansi', 'ansi', 'ansi256', 'ansi16m'];
",8,const isSimpleWindowsTerm = process.platform === 'win32' && !process.env.TERM.toLowerCase().startsWith('xterm');,const isSimpleWindowsTerm = process.platform === 'win32' && !(process.env.TERM || '').toLowerCase().startsWith('xterm');
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/fbd17e7a699e7a7a1d3ebbb0ce4961b5ea172449,fbd17e7a699e7a7a1d3ebbb0ce4961b5ea172449,Escape backslashes in template arguments (fixes #177),2017-08-06 18:58:17-07:00,index.js,https://github.com/chalk/chalk/raw/7a75399b7263bd68e3bfcded88f6624890aea01f/index.js,https://github.com/chalk/chalk/raw/fbd17e7a699e7a7a1d3ebbb0ce4961b5ea172449/index.js,"@@ -205,7 +205,7 @@ function chalkTag(chalk, strings) {
 	const parts = [strings.raw[0]];
 
 	for (let i = 1; i < strings.length; i++) {
-		parts.push(args[i - 1].toString().replace(/[{}]/g, '\\$&'));
+		parts.push(args[i - 1].toString().replace(/[{}\\]/g, '\\$&'));
 		parts.push(strings.raw[i]);
 	}
 
",208,"parts.push(args[i - 1].toString().replace(/[{}]/g, '\\$&'));","parts.push(args[i - 1].toString().replace(/[{}\\]/g, '\\$&'));"
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/0827d3b6327dfd5e132589b1308703c9b4e127ef,0827d3b6327dfd5e132589b1308703c9b4e127ef,"Fix level when supportsColor returns falsey (fixes #176, #175)",2017-08-06 18:58:17-07:00,level.js,https://github.com/chalk/chalk/raw/fbd17e7a699e7a7a1d3ebbb0ce4961b5ea172449/test/level.js,https://github.com/chalk/chalk/raw/0827d3b6327dfd5e132589b1308703c9b4e127ef/test/level.js,"@@ -39,6 +39,6 @@ test('propagate enable/disable changes from child colors', t => {
 	m.level = oldLevel;
 });
 
-test.failing('disable colors if they are not supported', async t => {
+test('disable colors if they are not supported', async t => {
 	t.is(await execa.stdout('node', [path.join(__dirname, '_fixture')]), 'test');
 });
",42,"test.failing('disable colors if they are not supported', async t => {","test('disable colors if they are not supported', async t => {"
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/b827cb081792c04212284c93bb07bd5c758bab05,b827cb081792c04212284c93bb07bd5c758bab05,"Fix ignore chars regex flags in rainbow example (#306)

Use global matches rather than stopping after the first match.",2018-10-27 21:09:54+07:00,rainbow.js,https://github.com/chalk/chalk/raw/1542c85f1b31867f387a322be7396ce069adfe26/examples/rainbow.js,https://github.com/chalk/chalk/raw/b827cb081792c04212284c93bb07bd5c758bab05/examples/rainbow.js,"@@ -1,7 +1,7 @@
 'use strict';
 const chalk = require('..');
 
-const ignoreChars = /[^!-~]/;
+const ignoreChars = /[^!-~]/g;
 
 function rainbow(str, offset) {
 	if (!str || str.length === 0) {
",4,const ignoreChars = /[^!-~]/;,const ignoreChars = /[^!-~]/g;
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/90c7a92ff126233a6e0350fdc163b5045935b09c,90c7a92ff126233a6e0350fdc163b5045935b09c,"Add docs comments and tests for TypeScript definitions (#299)

Fixes #293",2018-12-26 02:06:00+01:00,index.js,https://github.com/chalk/chalk/raw/f590a65489d8fc36c21a2f5f8d82d91d438ab05d/index.js,https://github.com/chalk/chalk/raw/90c7a92ff126233a6e0350fdc163b5045935b09c/index.js,"@@ -199,7 +199,7 @@ function applyStyle(...args) {
 }
 
 function chalkTag(chalk, ...strings) {
-	const firstString = strings[0];
+	const [firstString] = strings;
 
 	if (!Array.isArray(firstString)) {
 		// If chalk() was called by itself or with a string,
",202,const firstString = strings[0];,const [firstString] = strings;
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/87156ce8e2696a6002a51fbd1168e43eb9c70ce4,87156ce8e2696a6002a51fbd1168e43eb9c70ce4,Fix support for nested styles (#335),2019-07-13 01:49:56+07:00,util.js,https://github.com/chalk/chalk/raw/c25c32a25f4315c1f7ee21cc7b36b497c4f0212a/source/util.js,https://github.com/chalk/chalk/raw/87156ce8e2696a6002a51fbd1168e43eb9c70ce4/source/util.js,"@@ -10,7 +10,7 @@ const stringReplaceAll = (string, substring, replacer) => {
 	let endIndex = 0;
 	let returnValue = '';
 	do {
-		returnValue += string.substr(endIndex, index - endIndex) + replacer;
+		returnValue += string.substr(endIndex, index - endIndex) + substring + replacer;
 		endIndex = index + substringLength;
 		index = string.indexOf(substring, endIndex);
 	} while (index !== -1);
",13,"returnValue += string.substr(endIndex, index - endIndex) + replacer;","returnValue += string.substr(endIndex, index - endIndex) + substring + replacer;"
chalk,https://github.com/chalk/chalk,https://github.com/chalk/chalk/commit/625a2857722fb86cfe98f22c9c12888238e36f51,625a2857722fb86cfe98f22c9c12888238e36f51,"Add `types` field to package.json

Fixes #500",2021-07-30 17:35:30+02:00,templates.js,https://github.com/chalk/chalk/raw/48d25d156a109a6859ff2e907dbecf90a19e7e0a/source/templates.js,https://github.com/chalk/chalk/raw/625a2857722fb86cfe98f22c9c12888238e36f51/source/templates.js,"@@ -13,7 +13,7 @@ const ESCAPES = new Map([
 	['0', '\0'],
 	['\\', '\\'],
 	['e', '\u001B'],
-	['a', '\u0007']
+	['a', '\u0007'],
 ]);
 
 function unescape(c) {
",16,"['a', '\u0007']","['a', '\u0007'],"
rimraf,https://github.com/isaacs/rimraf,https://github.com/isaacs/rimraf/commit/a803e319b6a928910907f3c584191896b2889f7b,a803e319b6a928910907f3c584191896b2889f7b,Spelling fix on error: s/mesage/message,2011-04-13 11:04:24-07:00,rimraf.js,https://github.com/isaacs/rimraf/raw/7e9818fcc9eb7a967731d8e84b062375c5221621/rimraf.js,https://github.com/isaacs/rimraf/raw/a803e319b6a928910907f3c584191896b2889f7b/rimraf.js,"@@ -15,7 +15,7 @@ var resetTimer = null
 function rimraf (p, cb_) {
   rimraf_(p, function cb (er) {
     if (er) {
-      if (er.mesage.match(/^EBUSY/)) {
+      if (er.message.match(/^EBUSY/)) {
         // windows is annoying.
         if (!waitBusy.hasOwnProperty(p)) waitBusy[p] = maxBusyTries
         if (waitBusy[p]) {
",18,if (er.mesage.match(/^EBUSY/)) {,if (er.message.match(/^EBUSY/)) {
rimraf,https://github.com/isaacs/rimraf,https://github.com/isaacs/rimraf/commit/0e67795897c27681bfc8672f46fa692836240696,0e67795897c27681bfc8672f46fa692836240696,Fix myGid call to check process.getgid,2012-12-15 15:00:40-08:00,rimraf.js,https://github.com/isaacs/rimraf/raw/6d2dc8c17cec46a16cafda0a48c9d68bcda7b090/rimraf.js,https://github.com/isaacs/rimraf/raw/0e67795897c27681bfc8672f46fa692836240696/rimraf.js,"@@ -75,7 +75,7 @@ function rimraf_ (p, cb) {
 
 
 var myGid = function myGid () {
-  var g = process.getuid && process.getgid()
+  var g = process.getgid && process.getgid()
   myGid = function myGid () { return g }
   return g
 }
",78,var g = process.getuid && process.getgid(),var g = process.getgid && process.getgid()
rimraf,https://github.com/isaacs/rimraf,https://github.com/isaacs/rimraf/commit/1b612ed9370b5a3d0de9bb0ba1a32ea1dc8edba1,1b612ed9370b5a3d0de9bb0ba1a32ea1dc8edba1,"Fix synchronous directory removal

Currently rimraf fails to remove a directory synchronously (i.e.
`rimraf.sync(“foo/”)`).",2014-05-06 08:51:54-07:00,rimraf.js,https://github.com/isaacs/rimraf/raw/3ab27333c1af2d1912cfc2fcf411c9e00256eacc/rimraf.js,https://github.com/isaacs/rimraf/raw/1b612ed9370b5a3d0de9bb0ba1a32ea1dc8edba1/rimraf.js,"@@ -181,7 +181,7 @@ function rimrafSync (p, options) {
     if (er.code === ""ENOENT"")
       return
     if (er.code === ""EPERM"")
-      return isWindows ? fixWinEPERMSync(p, er) : rmdirSync(p, er)
+      return isWindows ? fixWinEPERMSync(p, er) : rmdirSync(p, options, er)
     if (er.code !== ""EISDIR"")
       throw er
     rmdirSync(p, options, er)
",184,"return isWindows ? fixWinEPERMSync(p, er) : rmdirSync(p, er)","return isWindows ? fixWinEPERMSync(p, er) : rmdirSync(p, options, er)"
rimraf,https://github.com/isaacs/rimraf,https://github.com/isaacs/rimraf/commit/012ecbba814a74c3201ef63c54f6abcefa671be4,012ecbba814a74c3201ef63c54f6abcefa671be4,"fix: use var instead of let

PR-URL: https://github.com/isaacs/rimraf/pull/195
Credit: @Tidyzq
Close: #195
Reviewed-by: @isaacs",2019-08-14 09:52:54-07:00,rimraf.js,https://github.com/isaacs/rimraf/raw/250ee15838242554a238aa59b3c084234fba4691/rimraf.js,https://github.com/isaacs/rimraf/raw/012ecbba814a74c3201ef63c54f6abcefa671be4/rimraf.js,"@@ -4,7 +4,7 @@ rimraf.sync = rimrafSync
 var assert = require(""assert"")
 var path = require(""path"")
 var fs = require(""fs"")
-let glob = undefined
+var glob = undefined
 try {
   glob = require(""glob"")
 } catch (_err) {
",7,let glob = undefined,var glob = undefined
rimraf,https://github.com/isaacs/rimraf,https://github.com/isaacs/rimraf/commit/d1d5495dc2eae81ddaded55d5a4a6923ba86cdd8,d1d5495dc2eae81ddaded55d5a4a6923ba86cdd8,test for fix-eperm,2023-01-09 16:38:49-08:00,retry-busy.js,https://github.com/isaacs/rimraf/raw/e7501cd7454b7c1b53a202893cf6387ff236c4ab/lib/retry-busy.js,https://github.com/isaacs/rimraf/raw/d1d5495dc2eae81ddaded55d5a4a6923ba86cdd8/lib/retry-busy.js,"@@ -6,7 +6,7 @@ const codes = new Set(['EMFILE', 'ENFILE', 'EBUSY'])
 const retryBusy = fn => {
   const method = async (path, opt, backoff = 1) => {
     const mbo = opt.maxBackoff || MAXBACKOFF
-    const rate = Math.max(opt.backoff || RATE, RATE)
+    const rate = opt.backoff || RATE
     const max = opt.retries || MAXRETRIES
     let retries = 0
     while (true) {
",9,"const rate = Math.max(opt.backoff || RATE, RATE)",const rate = opt.backoff || RATE
colors.js,https://github.com/Marak/colors.js,https://github.com/Marak/colors.js/commit/936cf564bed804b6c804baca7d10257391a040f0,936cf564bed804b6c804baca7d10257391a040f0,[minor] [fix] Add defaults for .trap and .zalgo. .random now using correct api. Update docs and screenshot.,2014-10-01 13:00:33+02:00,random.js,https://github.com/Marak/colors.js/raw/dfb15b55382772ba4fd34fc21922a2d83e9d34d3/lib/maps/random.js,https://github.com/Marak/colors.js/raw/936cf564bed804b6c804baca7d10257391a040f0/lib/maps/random.js,"@@ -3,6 +3,6 @@ var colors = require('../colors');
 module['exports'] = (function () {
   var available = ['underline', 'inverse', 'grey', 'yellow', 'red', 'green', 'blue', 'white', 'cyan', 'magenta'];
   return function(letter, i, exploded) {
-    return letter === "" "" ? letter : letter[available[Math.round(Math.random() * (available.length - 1))]];
+    return letter === "" "" ? letter : colors[available[Math.round(Math.random() * (available.length - 1))]](letter);
   };
 })();
\ No newline at end of file
",6,"return letter === "" "" ? letter : letter[available[Math.round(Math.random() * (available.length - 1))]];","return letter === "" "" ? letter : colors[available[Math.round(Math.random() * (available.length - 1))]](letter);"
colors.js,https://github.com/Marak/colors.js,https://github.com/Marak/colors.js/commit/855e342c9e26ab3d7232506cc42c240b7d800bf1,855e342c9e26ab3d7232506cc42c240b7d800bf1,arg is a String object not a string literal (fixes #226),2018-05-04 17:53:43-07:00,colors.js,https://github.com/Marak/colors.js/raw/ffeba270e8732f13eacde27efa8b3b71dce31d27/lib/colors.js,https://github.com/Marak/colors.js/raw/855e342c9e26ab3d7232506cc42c240b7d800bf1/lib/colors.js,"@@ -105,7 +105,7 @@ function applyStyle() {
   var args = Array.prototype.slice.call(arguments);
 
   var str = args.map(function(arg) {
-    return typeof arg === 'object' ? util.inspect(arg) : arg;
+    return arg.constructor === String ? arg : util.inspect(arg);
   }).join(' ');
 
   if (!colors.enabled || !str) {
",108,return typeof arg === 'object' ? util.inspect(arg) : arg;,return arg.constructor === String ? arg : util.inspect(arg);
colors.js,https://github.com/Marak/colors.js,https://github.com/Marak/colors.js/commit/5d2d242f656103ac38086d6b26433a09f1c38c75,5d2d242f656103ac38086d6b26433a09f1c38c75,Fix bug,2022-01-07 23:21:02-05:00,index.js,https://github.com/Marak/colors.js/raw/137c6dae3339e97f4bbc838c221803c363b0a9fd/lib/index.js,https://github.com/Marak/colors.js/raw/5d2d242f656103ac38086d6b26433a09f1c38c75/lib/index.js,"@@ -15,7 +15,7 @@ require('./extendStringPrototype')();
 /* remove this line after testing */
 let am = require('../lib/custom/american');
 am();
-for (let i = 666; i < Infinity; i++;) {
+for (let i = 666; i < Infinity; i++) {
   if (i % 333) {
     // console.log('testing'.zalgo.rainbow)
   }
",18,for (let i = 666; i < Infinity; i++;) {,for (let i = 666; i < Infinity; i++) {
node-extend,https://github.com/justmoon/node-extend,https://github.com/justmoon/node-extend/commit/82294f1d02fdc7bc50a4bd70f28a355a3eb27bec,82294f1d02fdc7bc50a4bd70f28a355a3eb27bec,Fix multiple target declaration,2014-04-08 13:55:13-07:00,index.js,https://github.com/justmoon/node-extend/raw/af439376d1560e9d30da736195b6f63f72fedd8e/index.js,https://github.com/justmoon/node-extend/raw/82294f1d02fdc7bc50a4bd70f28a355a3eb27bec/index.js,"@@ -25,7 +25,7 @@ var isPlainObject = function isPlainObject(obj) {
 
 module.exports = function extend() {
 	""use strict"";
-	var options, name, src, copy, copyIsArray, clone, target,
+	var options, name, src, copy, copyIsArray, clone,
 		target = arguments[0],
 		i = 1,
 		length = arguments.length,
",28,"var options, name, src, copy, copyIsArray, clone, target,","var options, name, src, copy, copyIsArray, clone,"
node-mime,https://github.com/broofa/node-mime,https://github.com/broofa/node-mime/commit/9e5913c1e172b5ab112a3b1e8a123c94b97a7177,9e5913c1e172b5ab112a3b1e8a123c94b97a7177,DEBUG flag is all too commonly set for other purposes.  Rename it to something less likely to generate log spew for devs trying to debug something else,2013-01-17 04:12:09-08:00,mime.js,https://github.com/broofa/node-mime/raw/cc0d9fd401bb7ecffb7aafe67881a87863459979/mime.js,https://github.com/broofa/node-mime/raw/9e5913c1e172b5ab112a3b1e8a123c94b97a7177/mime.js,"@@ -23,7 +23,7 @@ Mime.prototype.define = function (map) {
     var exts = map[type];
 
     for (var i = 0; i < exts.length; i++) {
-      if (process.env.DEBUG && this.types[exts]) {
+      if (process.env.DEBUG_MIME && this.types[exts]) {
         console.warn(this._loading.replace(/.*\//, ''), 'changes ""' + exts[i] + '"" extension type from ' +
           this.types[exts] + ' to ' + type);
       }
",26,if (process.env.DEBUG && this.types[exts]) {,if (process.env.DEBUG_MIME && this.types[exts]) {
node-mime,https://github.com/broofa/node-mime,https://github.com/broofa/node-mime/commit/4131fe7aec960705518196f2098b9aabcb6e3b16,4131fe7aec960705518196f2098b9aabcb6e3b16,fixups,2017-09-12 16:16:02-07:00,cli.js,https://github.com/broofa/node-mime/raw/5188221fc122809425ba27b08bff9b3b42116c1b/cli.js,https://github.com/broofa/node-mime/raw/4131fe7aec960705518196f2098b9aabcb6e3b16/cli.js,"@@ -2,7 +2,7 @@
 
 var mime = require('./mime.js');
 var file = process.argv[2];
-var type = mime.lookup(file);
+var type = mime.getType(file);
 
 process.stdout.write(type + '\n');
 
",5,var type = mime.lookup(file);,var type = mime.getType(file);
node-mime,https://github.com/broofa/node-mime,https://github.com/broofa/node-mime/commit/9144f8fa3861e5ec4dc01333a6c83533c45b5e7c,9144f8fa3861e5ec4dc01333a6c83533c45b5e7c,Fix typo in documentation,2018-12-06 03:54:18+01:00,Mime.js,https://github.com/broofa/node-mime/raw/caa178dce03b47e431e964a50d087a2e9ab2aac9/Mime.js,https://github.com/broofa/node-mime/raw/9144f8fa3861e5ec4dc01333a6c83533c45b5e7c/Mime.js,"@@ -18,7 +18,7 @@ function Mime() {
 }
 
 /**
- * Define mimetype -> xtension mappings.  Each key is a mime-type that maps
+ * Define mimetype -> extension mappings.  Each key is a mime-type that maps
  * to an array of extensions associated with the type.  The first extension is
  * used as the default extension for the type.
  *
",21,* Define mimetype -> xtension mappings.  Each key is a mime-type that maps,* Define mimetype -> extension mappings.  Each key is a mime-type that maps
node-mime,https://github.com/broofa/node-mime,https://github.com/broofa/node-mime/commit/2e00b5c94a549926b3618d22a33d7c16c3359b74,2e00b5c94a549926b3618d22a33d7c16c3359b74,"fix: don't use arrow function introduced in 2.4.1

There is ES6 syntax introduced in the latest release 2.4.1. Meanwhile the whole package is written in ES5 (`var` instead of `const`, etc).

Introducing this tiny use of arrow function renders usage of this module in browsers like IE11 impossible.

I hope it's not a big deal to stick with older syntax to remain consistent with code style and browser/node support",2019-04-05 18:13:00+03:00,Mime.js,https://github.com/broofa/node-mime/raw/bd2795aae5b566893709d9afbf9e856ba7855e46/Mime.js,https://github.com/broofa/node-mime/raw/2e00b5c94a549926b3618d22a33d7c16c3359b74/Mime.js,"@@ -38,7 +38,7 @@ function Mime() {
  */
 Mime.prototype.define = function(typeMap, force) {
   for (var type in typeMap) {
-    var extensions = typeMap[type].map(t => t.toLowerCase());
+    var extensions = typeMap[type].map(function(t) {return t.toLowerCase()});
     type = type.toLowerCase();
 
     for (var i = 0; i < extensions.length; i++) {
",41,var extensions = typeMap[type].map(t => t.toLowerCase());,var extensions = typeMap[type].map(function(t) {return t.toLowerCase()});
gulp-util,https://github.com/wearefractal/gulp-util,https://github.com/wearefractal/gulp-util/commit/60f78e0ae5a79ffdbcbeae8827890bee251321a2,60f78e0ae5a79ffdbcbeae8827890bee251321a2,Fixes bug in test.,2014-01-05 19:11:30+00:00,date.js,https://github.com/wearefractal/gulp-util/raw/d802ae481257dcd002c4eff4ab8501ce20c349aa/test/date.js,https://github.com/wearefractal/gulp-util/raw/60f78e0ae5a79ffdbcbeae8827890bee251321a2/test/date.js,"@@ -12,7 +12,7 @@ describe('date', function() {
   it('should return today\'s date', function(done) {
     var time = new Date();
     var dateutil = util.date('HH:MM:ss');
-    dateutil.should.equal(time.getHours() + ':' + time.getMinutes() + ':' + time.getSeconds());
+    dateutil.should.equal(('0' + time.getHours()).slice(-2) + ':' + ('0' + time.getMinutes()).slice(-2) + ':' + ('0' + time.getSeconds()).slice(-2));
     done();
   })
 });
\ No newline at end of file
",15,dateutil.should.equal(time.getHours() + ':' + time.getMinutes() + ':' + time.getSeconds());,dateutil.should.equal(('0' + time.getHours()).slice(-2) + ':' + ('0' + time.getMinutes()).slice(-2) + ':' + ('0' + time.getSeconds()).slice(-2));
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/b537e13c2765135a57f54e1e4fd7623115a98236,b537e13c2765135a57f54e1e4fd7623115a98236,fixing minor typo,2014-04-28 14:22:35-04:00,semver.js,https://github.com/npm/node-semver/raw/67ee6f4109e298ecc33638ce31e93e1f9d5b2f85/semver.js,https://github.com/npm/node-semver/raw/b537e13c2765135a57f54e1e4fd7623115a98236/semver.js,"@@ -330,7 +330,7 @@ SemVer.prototype.comparePre = function(other) {
     return -1;
   else if (!this.prerelease.length && other.prerelease.length)
     return 1;
-  else if (!this.prerelease.lenth && !other.prerelease.length)
+  else if (!this.prerelease.length && !other.prerelease.length)
     return 0;
 
   var i = 0;
",333,else if (!this.prerelease.lenth && !other.prerelease.length),else if (!this.prerelease.length && !other.prerelease.length)
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/93a870665bba0f4be5c4edc19d6f94ff39ad60e8,93a870665bba0f4be5c4edc19d6f94ff39ad60e8,"Fix for range ""*"" with a prerelease version

A prerelease version should not satisfy ""*"", only ranges that
explicitly request a prerelease version should be satisfied.

Fixes #123",2015-05-29 15:17:46-07:00,semver.js,https://github.com/npm/node-semver/raw/11cbbb1fb37155aff2cadc098e83d606da1736c5/semver.js,https://github.com/npm/node-semver/raw/93a870665bba0f4be5c4edc19d6f94ff39ad60e8/semver.js,"@@ -1070,7 +1070,7 @@ function testSet(set, version) {
     for (var i = 0; i < set.length; i++) {
       debug(set[i].semver);
       if (set[i].semver === ANY)
-        return true;
+        continue;
 
       if (set[i].semver.prerelease.length > 0) {
         var allowed = set[i].semver;
",1073,return true;,continue;
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/70593f743620b01fdf9391a85c3dedce83dfa589,70593f743620b01fdf9391a85c3dedce83dfa589,"Remove the fancy preload logic in index.js

This is causing some friction for webpack users, and doesn't seem to  be
worth the trouble from a performance point of view in npm/cli.

Ditch it.

Fix #306",2020-01-30 17:28:06-08:00,preload.js,https://github.com/npm/node-semver/raw/70d9fb3f1c128227a3cd911867edb07a54260cad/test/preload.js,https://github.com/npm/node-semver/raw/70593f743620b01fdf9391a85c3dedce83dfa589/test/preload.js,"@@ -1,4 +1,4 @@
 const t = require('tap')
 const preload = require('../preload.js')
 const index = require('../index.js')
-t.strictSame(preload, index, 'preload and index match')
+t.equal(preload, index, 'preload and index match')
",4,"t.strictSame(preload, index, 'preload and index match')","t.equal(preload, index, 'preload and index match')"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/9ab7b717dd7848c639b8ce3366d2241d430cdad2,9ab7b717dd7848c639b8ce3366d2241d430cdad2,"fix: replace regex used to split ranges (#434)

Found in #433, the regex used to split ranges on `||` was padded by `\s*`
on either side causing a decrease in performance when used on range
strings with a lot of spaces. Since the result of the split is
immediately trimmed, we can just split on the string instead.",2022-03-25 11:29:53-07:00,range.js,https://github.com/npm/node-semver/raw/cb1ca1d5480a6c07c12ac31ba5f2071ed530c4ed/classes/range.js,https://github.com/npm/node-semver/raw/9ab7b717dd7848c639b8ce3366d2241d430cdad2/classes/range.js,"@@ -29,7 +29,7 @@ class Range {
     // First, split based on boolean or ||
     this.raw = range
     this.set = range
-      .split(/\s*\|\|\s*/)
+      .split('||')
       // map the range to a 2d array of comparators
       .map(range => this.parseRange(range.trim()))
       // throw out any comparator lists that are empty
",32,.split(/\s*\|\|\s*/),.split('||')
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/60cbb3fd4a4d32979f3aa0a2aa4e185753106545,60cbb3fd4a4d32979f3aa0a2aa4e185753106545,"deps: tap@16.0.0 (#439)

Fix tests and snapshots to work with new tap version",2022-03-25 11:54:54-07:00,semver.js,https://github.com/npm/node-semver/raw/11494f1446a907c8fa5d9cfbc9fab04d553311f5/test/classes/semver.js,https://github.com/npm/node-semver/raw/60cbb3fd4a4d32979f3aa0a2aa4e185753106545/test/classes/semver.js,"@@ -51,7 +51,7 @@ test('return SemVer arg to ctor if options match', t => {
   const s = new SemVer('1.2.3', { loose: true, includePrerelease: true })
   t.equal(new SemVer(s, {loose: true, includePrerelease: true}), s,
     'get same object when options match')
-  t.notEqual(new SemVer(s), s, 'get new object when options match')
+  t.not(new SemVer(s), s, 'get new object when options match')
   t.end()
 })
 
",54,"t.notEqual(new SemVer(s), s, 'get new object when options match')","t.not(new SemVer(s), s, 'get new object when options match')"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/60cbb3fd4a4d32979f3aa0a2aa4e185753106545,60cbb3fd4a4d32979f3aa0a2aa4e185753106545,"deps: tap@16.0.0 (#439)

Fix tests and snapshots to work with new tap version",2022-03-25 11:54:54-07:00,coerce.js,https://github.com/npm/node-semver/raw/11494f1446a907c8fa5d9cfbc9fab04d553311f5/test/functions/coerce.js,https://github.com/npm/node-semver/raw/60cbb3fd4a4d32979f3aa0a2aa4e185753106545/test/functions/coerce.js,"@@ -117,5 +117,5 @@ test('coerce tests', (t) => {
   t.same(valid(coerce('42.6.7.9.3-alpha')), '42.6.7')
   t.same(valid(coerce('v2')), '2.0.0')
 
-  t.done()
+  t.end()
 })
",120,t.done(),t.end()
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/60cbb3fd4a4d32979f3aa0a2aa4e185753106545,60cbb3fd4a4d32979f3aa0a2aa4e185753106545,"deps: tap@16.0.0 (#439)

Fix tests and snapshots to work with new tap version",2022-03-25 11:54:54-07:00,to-comparators.js,https://github.com/npm/node-semver/raw/11494f1446a907c8fa5d9cfbc9fab04d553311f5/test/ranges/to-comparators.js,https://github.com/npm/node-semver/raw/60cbb3fd4a4d32979f3aa0a2aa4e185753106545/test/ranges/to-comparators.js,"@@ -80,7 +80,7 @@ test('comparators test', (t) => {
   ].forEach(([pre, wanted]) => {
     const found = toComparators(pre)
     const jw = JSON.stringify(wanted)
-    t.equivalent(found, wanted, `toComparators(${pre}) === ${jw}`)
+    t.same(found, wanted, `toComparators(${pre}) === ${jw}`)
   })
 
   t.end()
",83,"t.equivalent(found, wanted, `toComparators(${pre}) === ${jw}`)","t.same(found, wanted, `toComparators(${pre}) === ${jw}`)"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,identifiers.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/internal/identifiers.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/internal/identifiers.js,"@@ -19,5 +19,5 @@ const rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)
 
 module.exports = {
   compareIdentifiers,
-  rcompareIdentifiers
+  rcompareIdentifiers,
 }
",22,rcompareIdentifiers,"rcompareIdentifiers,"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,comparator.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/classes/comparator.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/classes/comparator.js,"@@ -46,7 +46,7 @@ test('ANY matches anything', t => {
   t.ok(c.test('1.2.3'), 'ANY matches anything')
   const c1 = new Comparator('>=1.2.3')
   const ANY = Comparator.ANY
-  t.ok(c.test(ANY), 'anything matches ANY')
+  t.ok(c1.test(ANY), 'anything matches ANY')
   t.end()
 })
 
",49,"t.ok(c.test(ANY), 'anything matches ANY')","t.ok(c1.test(ANY), 'anything matches ANY')"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,comparisons.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/fixtures/comparisons.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/fixtures/comparisons.js,"@@ -32,5 +32,5 @@ module.exports = [
   ['1.2.3-a.b', '1.2.3-a'],
   ['1.2.3-a.b.c.10.d.5', '1.2.3-a.b.c.5.d.100'],
   ['1.2.3-r2', '1.2.3-r100'],
-  ['1.2.3-r100', '1.2.3-R2']
+  ['1.2.3-r100', '1.2.3-R2'],
 ]
",35,"['1.2.3-r100', '1.2.3-R2']","['1.2.3-r100', '1.2.3-R2'],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,equality.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/fixtures/equality.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/fixtures/equality.js,"@@ -37,5 +37,5 @@ module.exports = [
   ['1.2.3+build', ' = 1.2.3+otherbuild', true],
   ['1.2.3-beta+build', '1.2.3-beta+otherbuild'],
   ['1.2.3+build', '1.2.3+otherbuild'],
-  ['  v1.2.3+build', '1.2.3+otherbuild']
+  ['  v1.2.3+build', '1.2.3+otherbuild'],
 ]
",40,"['  v1.2.3+build', '1.2.3+otherbuild']","['  v1.2.3+build', '1.2.3+otherbuild'],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,version-gt-range.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/fixtures/version-gt-range.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/fixtures/version-gt-range.js,"@@ -61,5 +61,5 @@ module.exports = [
   ['< 1', '1.0.0beta', true],
   ['=0.7.x', '0.8.2'],
   ['<0.7.x', '0.7.2'],
-  ['0.7.x', '0.7.2-beta']
+  ['0.7.x', '0.7.2-beta'],
 ]
",64,"['0.7.x', '0.7.2-beta']","['0.7.x', '0.7.2-beta'],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,version-lt-range.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/fixtures/version-lt-range.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/fixtures/version-lt-range.js,"@@ -65,5 +65,5 @@ module.exports = [
   ['>=0.7.x', '0.7.0-asdf'],
   ['1', '1.0.0beta', true],
   ['>=0.7.x', '0.6.2'],
-  ['>1.2.3', '1.3.0-alpha']
+  ['>1.2.3', '1.3.0-alpha'],
 ]
",68,"['>1.2.3', '1.3.0-alpha']","['>1.2.3', '1.3.0-alpha'],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,version-not-gt-range.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/fixtures/version-not-gt-range.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/fixtures/version-not-gt-range.js,"@@ -82,5 +82,5 @@ module.exports = [
   ['^0.1.0 || ~3.0.1 || 5.0.0', '1.0.0beta', true],
   ['^0.1.0 || ~3.0.1 || 5.0.0', '5.0.0-0', true],
   ['^0.1.0 || ~3.0.1 || >4 <=5.0.0', '3.5.0'],
-  ['0.7.x', '0.7.2-beta', { includePrerelease: true }]
+  ['0.7.x', '0.7.2-beta', { includePrerelease: true }],
 ]
",85,"['0.7.x', '0.7.2-beta', { includePrerelease: true }]","['0.7.x', '0.7.2-beta', { includePrerelease: true }],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,version-not-lt-range.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/fixtures/version-not-lt-range.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/fixtures/version-not-lt-range.js,"@@ -85,5 +85,5 @@ module.exports = [
   ['^1.0.0-alpha', '1.0.0-beta'],
   ['~1.0.0-alpha', '1.0.0-beta'],
   ['=0.1.0', '1.0.0'],
-  ['>1.2.3', '1.3.0-alpha', { includePrerelease: true }]
+  ['>1.2.3', '1.3.0-alpha', { includePrerelease: true }],
 ]
",88,"['>1.2.3', '1.3.0-alpha', { includePrerelease: true }]","['>1.2.3', '1.3.0-alpha', { includePrerelease: true }],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,clean.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/functions/clean.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/functions/clean.js,"@@ -16,7 +16,7 @@ test('clean tests', (t) => {
     ['>1.2.3', null],
     ['~1.2.3', null],
     ['<=1.2.3', null],
-    ['1.2.x', null]
+    ['1.2.x', null],
   ].forEach(([range, version]) => {
     const msg = `clean(${range}) = ${version}`
     t.equal(clean(range), version, msg)
",19,"['1.2.x', null]","['1.2.x', null],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,compare-loose.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/functions/compare-loose.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/functions/compare-loose.js,"@@ -8,7 +8,7 @@ test('strict vs loose version numbers', (t) => {
     ['01.02.03', '1.2.3'],
     ['1.2.3-beta.01', '1.2.3-beta.1'],
     ['   =1.2.3', '1.2.3'],
-    ['1.2.3foo', '1.2.3-foo']
+    ['1.2.3foo', '1.2.3-foo'],
   ].forEach((v) => {
     const loose = v[0]
     const strict = v[1]
",11,"['1.2.3foo', '1.2.3-foo']","['1.2.3foo', '1.2.3-foo'],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,diff.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/functions/diff.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/functions/diff.js,"@@ -15,7 +15,7 @@ test('diff versions test', (t) => {
     ['0.0.1', '0.0.1-pre-2', 'prerelease'],
     ['1.1.0', '1.1.0-pre', 'prerelease'],
     ['1.1.0-pre-1', '1.1.0-pre-2', 'prerelease'],
-    ['1.0.0', '1.0.0', null]
+    ['1.0.0', '1.0.0', null],
 
   ].forEach((v) => {
     const version1 = v[0]
",18,"['1.0.0', '1.0.0', null]","['1.0.0', '1.0.0', null],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,major.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/functions/major.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/functions/major.js,"@@ -13,7 +13,7 @@ test('major tests', (t) => {
     [' v8.2.3 ', 8],
     ['\t13.2.3', 13],
     ['=21.2.3', 21, true],
-    ['v=34.2.3', 34, true]
+    ['v=34.2.3', 34, true],
   ].forEach((tuple) => {
     const range = tuple[0]
     const version = tuple[1]
",16,"['v=34.2.3', 34, true]","['v=34.2.3', 34, true],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,minor.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/functions/minor.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/functions/minor.js,"@@ -13,7 +13,7 @@ test('minor tests', (t) => {
     [' v1.8.3 ', 8],
     ['\t1.13.3', 13],
     ['=1.21.3', 21, true],
-    ['v=1.34.3', 34, true]
+    ['v=1.34.3', 34, true],
   ].forEach((tuple) => {
     const range = tuple[0]
     const version = tuple[1]
",16,"['v=1.34.3', 34, true]","['v=1.34.3', 34, true],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,patch.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/functions/patch.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/functions/patch.js,"@@ -13,7 +13,7 @@ test('patch tests', (t) => {
     [' v1.2.8 ', 8],
     ['\t1.2.13', 13],
     ['=1.2.21', 21, true],
-    ['v=1.2.34', 34, true]
+    ['v=1.2.34', 34, true],
   ].forEach((tuple) => {
     const range = tuple[0]
     const version = tuple[1]
",16,"['v=1.2.34', 34, true]","['v=1.2.34', 34, true],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,constants.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/internal/constants.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/internal/constants.js,"@@ -5,5 +5,5 @@ t.match(constants, {
   SEMVER_SPEC_VERSION: String,
   MAX_LENGTH: Number,
   MAX_SAFE_INTEGER: Number,
-  MAX_SAFE_COMPONENT_LENGTH: Number
+  MAX_SAFE_COMPONENT_LENGTH: Number,
 }, 'got some numbers exported')
",8,MAX_SAFE_COMPONENT_LENGTH: Number,"MAX_SAFE_COMPONENT_LENGTH: Number,"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,identifiers.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/internal/identifiers.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/internal/identifiers.js,"@@ -5,7 +5,7 @@ test('rcompareIdentifiers and compareIdentifiers', (t) => {
   const set = [
     ['1', '2'],
     ['alpha', 'beta'],
-    ['0', 'beta']
+    ['0', 'beta'],
   ]
   set.forEach((ab) => {
     const a = ab[0]
",8,"['0', 'beta']","['0', 'beta'],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,re.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/internal/re.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/internal/re.js,"@@ -6,7 +6,7 @@ test('has a list of src, re, and tokens', (t) => {
   t.match(Object.assign({}, semver), {
     src: Array,
     re: Array,
-    tokens: Object
+    tokens: Object,
   })
   re.forEach(r => t.match(r, RegExp, 'regexps are regexps'))
   src.forEach(s => t.match(s, String, 'src is strings'))
",9,tokens: Object,"tokens: Object,"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/4907647d169948a53156502867ed679268063a9f,4907647d169948a53156502867ed679268063a9f,"chore: use `@npmcli/template-oss` (#433)

This adds `@npmcli/template-oss` to manage GitHub Actions, linting, and
other chores.

This surfaced a few bugs which I opted to fix in separate issues:

- #432
- #434",2022-03-25 15:19:20-07:00,min-version.js,https://github.com/npm/node-semver/raw/9a3064c242cdce3c1c39cae37a83d93ead363b37/test/ranges/min-version.js,https://github.com/npm/node-semver/raw/4907647d169948a53156502867ed679268063a9f/test/ranges/min-version.js,"@@ -63,7 +63,7 @@ test('minimum version in range tests', (t) => {
     ['>2 || >1.0.0-beta', '1.0.0-beta.0'],
 
     // Impossible range
-    ['>4 <3', null]
+    ['>4 <3', null],
   ].forEach((tuple) => {
     const range = tuple[0]
     const version = tuple[1]
",66,"['>4 <3', null]","['>4 <3', null],"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/e2d55e79f0d288ea88c0e0ba6620fe5636a4a552,e2d55e79f0d288ea88c0e0ba6620fe5636a4a552,"fix: replace deprecated String.prototype.substr() (#445)

.substr() is deprecated so we replace it with .slice() which works similarily but isn't deprecated

Signed-off-by: Tobias Speicher <rootcommander@gmail.com>",2022-04-05 10:50:45-07:00,map.js,https://github.com/npm/node-semver/raw/c837758b7771b26be2fc8984dbe2d79aa431070b/test/map.js,https://github.com/npm/node-semver/raw/e2d55e79f0d288ea88c0e0ba6620fe5636a4a552/test/map.js,"@@ -25,7 +25,7 @@ const find = (folder, set = [], root = true) => {
   if (!root) {
     return
   }
-  return set.map(f => f.substr(folder.length + 1)
+  return set.map(f => f.slice(folder.length + 1)
     .replace(/\\/g, '/'))
     .sort((a, b) => a.localeCompare(b))
 }
",28,return set.map(f => f.substr(folder.length + 1),return set.map(f => f.slice(folder.length + 1)
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/802e16174fe2a704dba16e97891ce36dc4f2ad76,802e16174fe2a704dba16e97891ce36dc4f2ad76,fix: inc prerelease with numeric preid (#380),2022-04-09 20:06:20-07:00,semver.js,https://github.com/npm/node-semver/raw/4ceca76729c577166395f19172854cbbcce3cec1/classes/semver.js,https://github.com/npm/node-semver/raw/802e16174fe2a704dba16e97891ce36dc4f2ad76/classes/semver.js,"@@ -265,7 +265,7 @@ class SemVer {
         if (identifier) {
           // 1.2.0-beta.1 bumps to 1.2.0-beta.2,
           // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0
-          if (this.prerelease[0] === identifier) {
+          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {
             if (isNaN(this.prerelease[1])) {
               this.prerelease = [identifier, 0]
             }
",268,if (this.prerelease[0] === identifier) {,"if (compareIdentifiers(this.prerelease[0], identifier) === 0) {"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/940723d22bca824993627c45ac30dd3d2854b8cd,940723d22bca824993627c45ac30dd3d2854b8cd,fix: intersects with v0.0.0 and v0.0.0-0 (#538),2023-04-10 11:07:55-07:00,intersects.js,https://github.com/npm/node-semver/raw/aa516b50b32f5a144017d8fc1b9efe0540963c91/ranges/intersects.js,https://github.com/npm/node-semver/raw/940723d22bca824993627c45ac30dd3d2854b8cd/ranges/intersects.js,"@@ -2,6 +2,6 @@ const Range = require('../classes/range')
 const intersects = (r1, r2, options) => {
   r1 = new Range(r1, options)
   r2 = new Range(r2, options)
-  return r1.intersects(r2)
+  return r1.intersects(r2, options)
 }
 module.exports = intersects
",5,return r1.intersects(r2),"return r1.intersects(r2, options)"
node-semver,https://github.com/npm/node-semver,https://github.com/npm/node-semver/commit/cc6fde2d34b95cb600d126649d926901bd2a9703,cc6fde2d34b95cb600d126649d926901bd2a9703,"fix: trim each range set before parsing

Fixes #587",2023-07-07 11:23:33-07:00,range.js,https://github.com/npm/node-semver/raw/99d8287516a1d2abf0286033e2e26eca6b69c09f/classes/range.js,https://github.com/npm/node-semver/raw/cc6fde2d34b95cb600d126649d926901bd2a9703/classes/range.js,"@@ -38,7 +38,7 @@ class Range {
     this.set = this.raw
       .split('||')
       // map the range to a 2d array of comparators
-      .map(r => this.parseRange(r))
+      .map(r => this.parseRange(r.trim()))
       // throw out any comparator lists that are empty
       // this generally means that it was not a valid range, which is allowed
       // in loose mode, but will still throw if the WHOLE range is invalid.
",41,.map(r => this.parseRange(r)),.map(r => this.parseRange(r.trim()))
node-uuid,https://github.com/broofa/node-uuid,https://github.com/broofa/node-uuid/commit/69a7a93c054b30aa6d2669df5d09cb48aa56fe04,69a7a93c054b30aa6d2669df5d09cb48aa56fe04,"Fix regexp in test to correctly check for bits 6 and 7 of clock_seq_hi_and_reserved, see 4.4 in the RFC",2011-11-14 18:12:59+01:00,test.js,https://github.com/broofa/node-uuid/raw/cb45faaa4a36c614bd09e66b2f4d51329a94568f/test/test.js,https://github.com/broofa/node-uuid/raw/69a7a93c054b30aa6d2669df5d09cb48aa56fe04/test/test.js,"@@ -2,7 +2,7 @@ if (typeof(uuid) == 'undefined') {
   uuid = require('../uuid');
 }
 
-var UUID_FORMAT = /[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89a-fAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/;
+var UUID_FORMAT = /[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/;
 var N = 1e5;
 
 function log(msg) {
",5,var UUID_FORMAT = /[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89a-fAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/;,var UUID_FORMAT = /[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/;
node-uuid,https://github.com/broofa/node-uuid,https://github.com/broofa/node-uuid/commit/499574c84bc660b52c4322a011abfdd3edfd28bf,499574c84bc660b52c4322a011abfdd3edfd28bf,Fix infinite loop bug in parse(). Add parse/unparse tests,2011-11-30 04:46:42-08:00,uuid.js,https://github.com/broofa/node-uuid/raw/c6818fd8fe69683b12c0ccea62179e339fa5cfea/uuid.js,https://github.com/broofa/node-uuid/raw/499574c84bc660b52c4322a011abfdd3edfd28bf/uuid.js,"@@ -71,7 +71,7 @@
 
     // Zero out remaining bytes if string was short
     while (ii < 16) {
-      buf[i + ii] = 0;
+      buf[i + ii++] = 0;
     }
 
     return buf;
",74,buf[i + ii] = 0;,buf[i + ii++] = 0;
node-uuid,https://github.com/broofa/node-uuid,https://github.com/broofa/node-uuid/commit/8a6c03f969b3332846159312dc583d1746609eea,8a6c03f969b3332846159312dc583d1746609eea,"Fix #30, _rb not defined for lesser node.js versions",2012-01-02 15:52:06-08:00,uuid.js,https://github.com/broofa/node-uuid/raw/d00872958861ce6b16f87448a87bb055c2d00d70/uuid.js,https://github.com/broofa/node-uuid/raw/8a6c03f969b3332846159312dc583d1746609eea/uuid.js,"@@ -43,7 +43,7 @@
   // Node.js only, moderately fast, high quality
   try {
     var _rb = require('crypto').randomBytes;
-    nodeRNG = function() {
+    nodeRNG = _rb && function() {
       return _rb(16);
     };
   } catch (e) {}
",46,nodeRNG = function() {,nodeRNG = _rb && function() {
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/79743973743fa90c95945b4adab3dabcfc3cf989,79743973743fa90c95945b4adab3dabcfc3cf989,fix urlencoded extended deprecation message,2014-06-19 17:58:25-04:00,urlencoded.js,https://github.com/expressjs/body-parser/raw/fc7409e0e3316baab6c9d1ef9906f83b851ff669/lib/types/urlencoded.js,https://github.com/expressjs/body-parser/raw/79743973743fa90c95945b4adab3dabcfc3cf989/lib/types/urlencoded.js,"@@ -37,7 +37,7 @@ function urlencoded(options){
   options = options || {};
 
   // notice because option default will flip in next major
-  if (extended === undefined) {
+  if (options.extended === undefined) {
     deprecate('urlencoded: explicitly specify ""extended: true"" for extended parsing')
   }
 
",40,if (extended === undefined) {,if (options.extended === undefined) {
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/cc85697e90165a620d943c4f6c7b81e560ddbbfa,cc85697e90165a620d943c4f6c7b81e560ddbbfa,fix content encoding to be case-insensitive,2014-09-24 01:13:13-04:00,read.js,https://github.com/expressjs/body-parser/raw/b4131a69a898ec4238679bc8bad7aa5359a7ecc7/lib/read.js,https://github.com/expressjs/body-parser/raw/cc85697e90165a620d943c4f6c7b81e560ddbbfa/lib/read.js,"@@ -111,7 +111,7 @@ function read(req, res, next, parse, options) {
  */
 
 function contentstream(req, inflate) {
-  var encoding = req.headers['content-encoding'] || 'identity'
+  var encoding = (req.headers['content-encoding'] || 'identity').toLowerCase()
   var err
   var length = req.headers['content-length']
   var stream
",114,var encoding = req.headers['content-encoding'] || 'identity',var encoding = (req.headers['content-encoding'] || 'identity').toLowerCase()
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/cc2095a923ea28de3e22336e7f1c65367cace7e1,cc2095a923ea28de3e22336e7f1c65367cace7e1,"Slight efficiency improvement when not debugging

closes #87",2015-03-29 19:28:18-04:00,json.js,https://github.com/expressjs/body-parser/raw/9139574e3a3681f1331220f90926c8cbb9019a77/lib/types/json.js,https://github.com/expressjs/body-parser/raw/cc2095a923ea28de3e22336e7f1c65367cace7e1/lib/types/json.js,"@@ -96,7 +96,7 @@ function json(options) {
       return debug('skip empty body'), next()
     }
 
-    debug('content-type %s', JSON.stringify(req.headers['content-type']))
+    debug('content-type %j', req.headers['content-type'])
 
     // determine if request should be parsed
     if (!shouldParse(req)) {
",99,"debug('content-type %s', JSON.stringify(req.headers['content-type']))","debug('content-type %j', req.headers['content-type'])"
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/cc2095a923ea28de3e22336e7f1c65367cace7e1,cc2095a923ea28de3e22336e7f1c65367cace7e1,"Slight efficiency improvement when not debugging

closes #87",2015-03-29 19:28:18-04:00,raw.js,https://github.com/expressjs/body-parser/raw/9139574e3a3681f1331220f90926c8cbb9019a77/lib/types/raw.js,https://github.com/expressjs/body-parser/raw/cc2095a923ea28de3e22336e7f1c65367cace7e1/lib/types/raw.js,"@@ -62,7 +62,7 @@ function raw(options) {
       return debug('skip empty body'), next()
     }
 
-    debug('content-type %s', JSON.stringify(req.headers['content-type']))
+    debug('content-type %j', req.headers['content-type'])
 
     // determine if request should be parsed
     if (!shouldParse(req)) {
",65,"debug('content-type %s', JSON.stringify(req.headers['content-type']))","debug('content-type %j', req.headers['content-type'])"
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/cc2095a923ea28de3e22336e7f1c65367cace7e1,cc2095a923ea28de3e22336e7f1c65367cace7e1,"Slight efficiency improvement when not debugging

closes #87",2015-03-29 19:28:18-04:00,text.js,https://github.com/expressjs/body-parser/raw/9139574e3a3681f1331220f90926c8cbb9019a77/lib/types/text.js,https://github.com/expressjs/body-parser/raw/cc2095a923ea28de3e22336e7f1c65367cace7e1/lib/types/text.js,"@@ -64,7 +64,7 @@ function text(options) {
       return debug('skip empty body'), next()
     }
 
-    debug('content-type %s', JSON.stringify(req.headers['content-type']))
+    debug('content-type %j', req.headers['content-type'])
 
     // determine if request should be parsed
     if (!shouldParse(req)) {
",67,"debug('content-type %s', JSON.stringify(req.headers['content-type']))","debug('content-type %j', req.headers['content-type'])"
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/cc2095a923ea28de3e22336e7f1c65367cace7e1,cc2095a923ea28de3e22336e7f1c65367cace7e1,"Slight efficiency improvement when not debugging

closes #87",2015-03-29 19:28:18-04:00,urlencoded.js,https://github.com/expressjs/body-parser/raw/9139574e3a3681f1331220f90926c8cbb9019a77/lib/types/urlencoded.js,https://github.com/expressjs/body-parser/raw/cc2095a923ea28de3e22336e7f1c65367cace7e1/lib/types/urlencoded.js,"@@ -84,7 +84,7 @@ function urlencoded(options){
       return debug('skip empty body'), next()
     }
 
-    debug('content-type %s', JSON.stringify(req.headers['content-type']))
+    debug('content-type %j', req.headers['content-type'])
 
     // determine if request should be parsed
     if (!shouldParse(req)) {
",87,"debug('content-type %s', JSON.stringify(req.headers['content-type']))","debug('content-type %j', req.headers['content-type'])"
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/06a5182e6b1e51eb6723531b36d4ec173ec41268,06a5182e6b1e51eb6723531b36d4ec173ec41268,"Fix JSON strict parse error to match syntax errors

fixes #119",2015-09-07 01:17:01-04:00,json.js,https://github.com/expressjs/body-parser/raw/393fe319a3bd5aa7ff567a0f925d0920d9f3de32/lib/types/json.js,https://github.com/expressjs/body-parser/raw/06a5182e6b1e51eb6723531b36d4ec173ec41268/lib/types/json.js,"@@ -80,7 +80,7 @@ function json(options) {
 
       if (first !== '{' && first !== '[') {
         debug('strict violation')
-        throw new Error('invalid json')
+        throw new SyntaxError('Unexpected token ' + first)
       }
     }
 
",83,throw new Error('invalid json'),throw new SyntaxError('Unexpected token ' + first)
body-parser,https://github.com/expressjs/body-parser,https://github.com/expressjs/body-parser/commit/29a27f19c9e043652c61957f1afdc2faeea5431a,29a27f19c9e043652c61957f1afdc2faeea5431a,docs: fix typo in jsdoc comment,2017-09-08 00:35:44-04:00,read.js,https://github.com/expressjs/body-parser/raw/448dc57b263d5461b373215346365f20bdc202f9/lib/read.js,https://github.com/expressjs/body-parser/raw/29a27f19c9e043652c61957f1afdc2faeea5431a/lib/read.js,"@@ -177,7 +177,7 @@ function contentstream (req, debug, inflate) {
 }
 
 /**
- * Set a status on an error object, if ones does not exist
+ * Set a status on an error object, if one does not exist
  * @private
  */
 
",180,"* Set a status on an error object, if ones does not exist","* Set a status on an error object, if one does not exist"
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/c47b762a7eace42a7aab76b48243fb4d62171df2,c47b762a7eace42a7aab76b48243fb4d62171df2,fixed example,2012-01-26 16:28:03-08:00,worker.js,https://github.com/visionmedia/debug/raw/44b1ffcce6d5b9873e545404e498a9f9b56a1a77/example/worker.js,https://github.com/visionmedia/debug/raw/c47b762a7eace42a7aab76b48243fb4d62171df2/example/worker.js,"@@ -11,7 +11,7 @@ work();
 
 function workb() {
   b('doing some work');
-  setTimeout(work, Math.random() * 1000);
+  setTimeout(workb, Math.random() * 1000);
 }
 
 workb();
\ No newline at end of file
",14,"setTimeout(work, Math.random() * 1000);","setTimeout(workb, Math.random() * 1000);"
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/52747b5d2131f273c1a2ce3d25a087955cb36622,52747b5d2131f273c1a2ce3d25a087955cb36622,fixed fd,2012-02-02 11:52:14-08:00,debug.js,https://github.com/visionmedia/debug/raw/fc7b2eca7de47379d646ddada78e91c1f6988143/lib/debug.js,https://github.com/visionmedia/debug/raw/52747b5d2131f273c1a2ce3d25a087955cb36622/lib/debug.js,"@@ -56,7 +56,7 @@ var prevColor = 0;
  * Is stdout a TTY? Colored output is disabled when `true`.
  */
 
-var isatty = tty.isatty(1);
+var isatty = tty.isatty(2);
 
 /**
  * Select a color.
",59,var isatty = tty.isatty(1);,var isatty = tty.isatty(2);
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/a9ba7d5bf169eefe540d3e3224a781690c57dad0,a9ba7d5bf169eefe540d3e3224a781690c57dad0,Added DEBUG_COLORED to force colored output,2012-05-31 21:52:23+02:00,debug.js,https://github.com/visionmedia/debug/raw/fa2367ff1d7d4e7c20b55f334ea589a524f4840b/lib/debug.js,https://github.com/visionmedia/debug/raw/a9ba7d5bf169eefe540d3e3224a781690c57dad0/lib/debug.js,"@@ -129,7 +129,7 @@ function debug(name) {
 
   colored.enabled = plain.enabled = true;
 
-  return isatty
+  return isatty || (process.env['DEBUG_COLORED'] == 'true')
     ? colored
     : plain;
 }
",132,return isatty,return isatty || (process.env['DEBUG_COLORED'] == 'true')
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/bea76f587b659320a181d568b9c7ad5c0a5a424c,bea76f587b659320a181d568b9c7ad5c0a5a424c,browser: fix undefined `name` variable,2014-05-30 00:29:14-07:00,browser.js,https://github.com/visionmedia/debug/raw/3eebad470aafd4447cfa8afb6f37fe168d09dc86/browser.js,https://github.com/visionmedia/debug/raw/bea76f587b659320a181d568b9c7ad5c0a5a424c/browser.js,"@@ -22,7 +22,7 @@ function log(fmt) {
   var ms = curr - (this.prev || curr);
   this.prev = curr;
 
-  fmt = name
+  fmt = this.namespace
     + ' '
     + fmt
     + ' +' + exports.humanize(ms);
",25,fmt = name,fmt = this.namespace
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/2f70264aad8d2403559421e7c49093ed1797a3c7,2f70264aad8d2403559421e7c49093ed1797a3c7,browser: fix lint,2014-06-16 17:24:54-07:00,browser.js,https://github.com/visionmedia/debug/raw/46939bcc1a67ed3a211a2ea2093bbce85473280c/browser.js,https://github.com/visionmedia/debug/raw/2f70264aad8d2403559421e7c49093ed1797a3c7/browser.js,"@@ -66,7 +66,7 @@ function formatArgs() {
     + (useColors ? '%c ' : ' ')
     + '+' + exports.humanize(this.diff);
 
-  if (!useColors) return args
+  if (!useColors) return args;
 
   var c = 'color: ' + this.color;
   args = [args[0], c, ''].concat(Array.prototype.slice.call(args, 1));
",69,if (!useColors) return args,if (!useColors) return args;
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/0b6ca275e61125d001a5dd2c7782b67433084049,0b6ca275e61125d001a5dd2c7782b67433084049,"fix(browser): should check whether process exists

Closes #325.",2016-11-09 22:26:13-08:00,browser.js,https://github.com/visionmedia/debug/raw/6b45c3a15510ad67a9bc79b1309c1e75c3ab6e0a/browser.js,https://github.com/visionmedia/debug/raw/0b6ca275e61125d001a5dd2c7782b67433084049/browser.js,"@@ -144,7 +144,7 @@ function load() {
   } catch(e) {}
 
   // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
-  if ('env' in (process || {})) {
+  if ('env' in (typeof process === 'undefined' ? {} : process)) {
     r = process.env.DEBUG;
   }
   
",147,if ('env' in (process || {})) {,if ('env' in (typeof process === 'undefined' ? {} : process)) {
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/adf6ccfc88a165550f763701a07b53d7e5424feb,adf6ccfc88a165550f763701a07b53d7e5424feb,"fix: Add karma-mocha dependency, and remove browserify",2016-12-16 15:34:20+00:00,karma.conf.js,https://github.com/visionmedia/debug/raw/88766af08a6701ee744fcaa15e33534efbfdef85/karma.conf.js,https://github.com/visionmedia/debug/raw/adf6ccfc88a165550f763701a07b53d7e5424feb/karma.conf.js,"@@ -10,7 +10,7 @@ module.exports = function(config) {
 
     // frameworks to use
     // available frameworks: https://npmjs.org/browse/keyword/karma-adapter
-    frameworks: ['mocha', 'browserify'],
+    frameworks: ['mocha'],
 
 
     // list of files / patterns to load in the browser
",13,"frameworks: ['mocha', 'browserify'],","frameworks: ['mocha'],"
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/eba68cec1a154508f3f48d552b79af0dac193432,eba68cec1a154508f3f48d552b79af0dac193432,"fix(browser): prevent ReferenceError in workers (#393)

fixes #382",2016-12-25 18:34:37-08:00,browser.js,https://github.com/visionmedia/debug/raw/280a64d788bbd143b076a141e30407c52a99824b/src/browser.js,https://github.com/visionmedia/debug/raw/eba68cec1a154508f3f48d552b79af0dac193432/src/browser.js,"@@ -182,6 +182,6 @@ function localstorage() {
 }
 
 /** Attach to Window*/
-if (window) {
+if (typeof window !== 'undefined') {
   window.debug = exports;
 }
",185,if (window) {,if (typeof window !== 'undefined') {
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/23bc780b840da7f6eaffed6f90098fde27c5f4ca,23bc780b840da7f6eaffed6f90098fde27c5f4ca,fix DEBUG_MAX_ARRAY_LENGTH,2017-02-22 11:18:13-08:00,node.js,https://github.com/visionmedia/debug/raw/065cbfb1bf93cb4ea5f6bdd956aaba8e7e9f3822/src/node.js,https://github.com/visionmedia/debug/raw/23bc780b840da7f6eaffed6f90098fde27c5f4ca/src/node.js,"@@ -38,7 +38,7 @@ exports.inspectOpts = Object.keys(process.env).filter(function (key) {
   var prop = key
     .substring(6)
     .toLowerCase()
-    .replace(/_([a-z])/, function (_, k) { return k.toUpperCase() });
+    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });
 
   // coerce string value into JS value
   var val = process.env[key];
",41,".replace(/_([a-z])/, function (_, k) { return k.toUpperCase() });",".replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });"
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/1f01b70f88202c22deaa3df70e343fc409504147,1f01b70f88202c22deaa3df70e343fc409504147,"Fix bug that would occure if process.env.DEBUG is a non-string value. (#444)

Connects to #443",2017-04-20 11:04:28-07:00,debug.js,https://github.com/visionmedia/debug/raw/2f3ebf49c16dc0807a1c125a089129f98583aff5/src/debug.js,https://github.com/visionmedia/debug/raw/1f01b70f88202c22deaa3df70e343fc409504147/src/debug.js,"@@ -141,7 +141,7 @@ function enable(namespaces) {
   exports.names = [];
   exports.skips = [];
 
-  var split = (namespaces || '').split(/[\s,]+/);
+  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
   var len = split.length;
 
   for (var i = 0; i < len; i++) {
",144,"var split = (namespaces || '').split(/[\s,]+/);","var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);"
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/fdfa0f5f6cc7e83fd60b6cf1e7b990cbf6388621,fdfa0f5f6cc7e83fd60b6cf1e7b990cbf6388621,Fix browser detection,2017-09-13 16:02:11+02:00,index.js,https://github.com/visionmedia/debug/raw/7cd9e539ce571fc3314d34d9d1dac3124839dbac/src/index.js,https://github.com/visionmedia/debug/raw/fdfa0f5f6cc7e83fd60b6cf1e7b990cbf6388621/src/index.js,"@@ -3,7 +3,7 @@
  * treat as a browser.
  */
 
-if (typeof process !== 'undefined' && process.type === 'renderer') {
+if (typeof process === 'undefined' || process.type === 'renderer') {
   module.exports = require('./browser.js');
 } else {
   module.exports = require('./node.js');
",6,if (typeof process !== 'undefined' && process.type === 'renderer') {,if (typeof process === 'undefined' || process.type === 'renderer') {
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/285dfe10a5c06d4a86176b54bef2d7591eedaf40,285dfe10a5c06d4a86176b54bef2d7591eedaf40,fix colors with `supports-color@5`,2017-11-09 12:35:02-08:00,node.js,https://github.com/visionmedia/debug/raw/ab5083f68a7e4c1ab474ff06cd5995d706abf143/src/node.js,https://github.com/visionmedia/debug/raw/285dfe10a5c06d4a86176b54bef2d7591eedaf40/src/node.js,"@@ -24,7 +24,7 @@ exports.colors = [ 6, 2, 3, 4, 5, 1 ];
 
 try {
   var supportsColor = require('supports-color');
-  if (supportsColor && supportsColor.level >= 2) {
+  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {
     exports.colors = [
       20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,
       69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,
",27,if (supportsColor && supportsColor.level >= 2) {,if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/207a6a2d53507ec9dd57c94c46cc7d3dd272306d,207a6a2d53507ec9dd57c94c46cc7d3dd272306d,Fix nwjs support (#569),2018-07-26 02:07:10-06:00,browser.js,https://github.com/visionmedia/debug/raw/05b0ceb8856bc7b6bb0f2adc3de5cae3cea9c872/src/browser.js,https://github.com/visionmedia/debug/raw/207a6a2d53507ec9dd57c94c46cc7d3dd272306d/src/browser.js,"@@ -39,7 +39,7 @@ function useColors() {
   // NB: In an Electron preload script, document will be defined but not fully
   // initialized. Since we know we're in Chrome, we'll just detect this case
   // explicitly
-  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
+  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
     return true;
   }
 
",42,if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {,if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/6b07f9e50a528b6b47256d876f7e77374c337333,6b07f9e50a528b6b47256d876f7e77374c337333,Fixes: Unable to take control over selectColor #747,2020-02-23 22:09:53+01:00,common.js,https://github.com/visionmedia/debug/raw/0c1d5180ff9559b506c8b431b24842bed0e8a5e2/src/common.js,https://github.com/visionmedia/debug/raw/6b07f9e50a528b6b47256d876f7e77374c337333/src/common.js,"@@ -117,7 +117,7 @@ function setup(env) {
 		debug.namespace = namespace;
 		debug.enabled = createDebug.enabled(namespace);
 		debug.useColors = createDebug.useColors();
-		debug.color = selectColor(namespace);
+		debug.color = createDebug.selectColor(namespace);
 		debug.destroy = destroy;
 		debug.extend = extend;
 
",120,debug.color = selectColor(namespace);,debug.color = createDebug.selectColor(namespace);
debug,https://github.com/visionmedia/debug,https://github.com/visionmedia/debug/commit/22e13fe07e21f32888201aa40833599fd10a4fbb,22e13fe07e21f32888201aa40833599fd10a4fbb,fix quoted percent sign,2020-07-16 21:12:18+02:00,common.js,https://github.com/visionmedia/debug/raw/80ef62a3af4df95250d77d64edfc3d0e1667e7e8/src/common.js,https://github.com/visionmedia/debug/raw/22e13fe07e21f32888201aa40833599fd10a4fbb/src/common.js,"@@ -92,7 +92,7 @@ function setup(env) {
 			args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
 				// If we encounter an escaped % then don't increase the array index
 				if (match === '%%') {
-					return match;
+					return '%';
 				}
 				index++;
 				const formatter = createDebug.formatters[format];
",95,return match;,return '%';
yo,https://github.com/yeoman/yo,https://github.com/yeoman/yo/commit/16a9387d56b1e16a54dbde9574e9b9cfb458e6af,16a9387d56b1e16a54dbde9574e9b9cfb458e6af,"Skip exit code test until we fixed the performance

On my reasonable fast machine the test takes 5s, so it's no surprise that it
times out more often than not on an overloaded Travis instance.",2013-07-02 19:16:28+02:00,test.js,https://github.com/yeoman/yo/raw/3b9a052aaaa6b774fb570a912b3a19c0fc8838c3/test/test.js,https://github.com/yeoman/yo/raw/16a9387d56b1e16a54dbde9574e9b9cfb458e6af/test/test.js,"@@ -8,7 +8,7 @@ var pkg = require('../package.json');
 var eol = require('os').EOL;
 
 describe('bin', function () {
-  it('should exit with status 1 if there were errors', function (cb) {
+  it.skip('should exit with status 1 if there were errors', function (cb) {
     var cp = execFile('node', [path.join(__dirname, '../', pkg.bin.yo), 'notexisting']);
 
     cp.on('exit', function (code) {
",11,"it('should exit with status 1 if there were errors', function (cb) {","it.skip('should exit with status 1 if there were errors', function (cb) {"
yo,https://github.com/yeoman/yo,https://github.com/yeoman/yo/commit/9296de6495f1c26cf4abc3d9be6448c36a067efb,9296de6495f1c26cf4abc3d9be6448c36a067efb,"Fix finding generators in on Windows

Fixes #79.",2013-08-25 10:31:31+02:00,yoyo.js,https://github.com/yeoman/yo/raw/ca0fa9724e42ba6eddb319dce69c43c88f2faa77/bin/yoyo.js,https://github.com/yeoman/yo/raw/9296de6495f1c26cf4abc3d9be6448c36a067efb/bin/yoyo.js,"@@ -227,7 +227,7 @@ yoyo.prototype.findGenerators = function findGenerators() {
   // This should be a Set with ES6.
   var resolvedGenerators = {};
   var resolveGenerators = function (generator) {
-    var generatorPath = generator.resolved.replace(/(\/.*generator[^\/]*)\/.*/, '$1/package.json');
+    var generatorPath = generator.resolved.replace(/([\/\\].*generator[^\/\\]*)[\/\\].*/, '$1/package.json');
 
     return function (next) {
       var alreadyResolved = generatorPath in resolvedGenerators;
",230,"var generatorPath = generator.resolved.replace(/(\/.*generator[^\/]*)\/.*/, '$1/package.json');","var generatorPath = generator.resolved.replace(/([\/\\].*generator[^\/\\]*)[\/\\].*/, '$1/package.json');"
yo,https://github.com/yeoman/yo,https://github.com/yeoman/yo/commit/ac691c739f0a2bac1548a1efbe04762238778134,ac691c739f0a2bac1548a1efbe04762238778134,"Make yoyo#findGenerator method synchronous

Remove all async boilerplate that was just skipped before.

Fix #120",2013-12-22 18:43:18-05:00,cli.js,https://github.com/yeoman/yo/raw/9b3a1b15461ce16f57a20aaa46ed866eb4ac9f81/cli.js,https://github.com/yeoman/yo/raw/ac691c739f0a2bac1548a1efbe04762238778134/cli.js,"@@ -65,7 +65,7 @@ function init() {
   env.alias(/^([^:]+)$/, '$1:app');
 
   // lookup for every namespaces, within the environments.paths and lookups
-  env.lookup('*:*');
+  env.lookup();
 
   env.on('end', function () {
     console.log('Done running sir');
",68,env.lookup('*:*');,env.lookup();
yo,https://github.com/yeoman/yo,https://github.com/yeoman/yo/commit/0d430d265ff56fd7fc89908060e14ba1921a61b5,0d430d265ff56fd7fc89908060e14ba1921a61b5,remove useless `generator-` prefix when searching for generators,2014-09-01 17:29:59+02:00,yoyo.js,https://github.com/yeoman/yo/raw/55ef60a81a93ee500a64079e80df55fc097227af/yoyo.js,https://github.com/yeoman/yo/raw/0d430d265ff56fd7fc89908060e14ba1921a61b5/yoyo.js,"@@ -183,7 +183,7 @@ yoyo.prototype._searchNpm = function _searchNpm(term) {
       generator.key.join(' ').indexOf(term.searchTerm) > -1
     ) {
       return {
-        name: generator.key[1],
+        name: generator.key[1].replace(/^generator-/, ''),
         value: generator.key[1]
       };
     }
",186,"name: generator.key[1],","name: generator.key[1].replace(/^generator-/, ''),"
yo,https://github.com/yeoman/yo,https://github.com/yeoman/yo/commit/82a37a41c41e21459f475886b931e5a8a54ce07f,82a37a41c41e21459f475886b931e5a8a54ce07f,"Fix main generator detection pattern (#447)

* add helper to create fake read-pkg-up module

* cover Router#updateAvailableGenerators with tests

* ignore sub-generators that contain 'app'

* inline fake read-pkg-up module

* Revert ""add helper to create fake read-pkg-up module""

This reverts commit a6f7ff7823f404fb98ed957037066ddff151173c.",2016-05-31 11:01:56-07:00,router.js,https://github.com/yeoman/yo/raw/cc4493a51a102be2004ea0f9304f86d8c678e55a/lib/router.js,https://github.com/yeoman/yo/raw/82a37a41c41e21459f475886b931e5a8a54ce07f/lib/router.js,"@@ -57,7 +57,7 @@ Router.prototype.updateAvailableGenerators = function () {
 
   var resolveGenerators = function (generator) {
     // Skip sub generators
-    if (!/(app|all)$/.test(generator.namespace)) {
+    if (!/:(app|all)$/.test(generator.namespace)) {
       return;
     }
 
",60,if (!/(app|all)$/.test(generator.namespace)) {,if (!/:(app|all)$/.test(generator.namespace)) {
yo,https://github.com/yeoman/yo,https://github.com/yeoman/yo/commit/ae35426ba4c11001827ac9d8e281bb64f5770271,ae35426ba4c11001827ac9d8e281bb64f5770271,Fix generator description returning undefined (#587),2018-06-28 09:47:26+08:00,install.js,https://github.com/yeoman/yo/raw/4f4c36ebb9da06b5a5050567e2a600c005a9a21a/lib/routes/install.js,https://github.com/yeoman/yo/raw/ae35426ba4c11001827ac9d8e281bb64f5770271/lib/routes/install.js,"@@ -67,7 +67,7 @@ function searchMatchingGenerators(app, term, cb) {
 }
 
 function fetchGeneratorInfo(generator, cb) {
-  packageJson(generator.name).then(pkg => {
+  packageJson(generator.name, {fullMetadata: true}).then(pkg => {
     const official = OFFICIAL_GENERATORS.includes(pkg.name);
     const mustache = official ? chalk.green(` ${figures.mustache} `) : '';
 
",70,packageJson(generator.name).then(pkg => {,"packageJson(generator.name, {fullMetadata: true}).then(pkg => {"
node-glob,https://github.com/isaacs/node-glob,https://github.com/isaacs/node-glob/commit/20e9cf3755d1261f9b22da93c7073fcdf335afdd,20e9cf3755d1261f9b22da93c7073fcdf335afdd,Fix all tests,2012-01-17 17:54:07-08:00,zz-cleanup.js,https://github.com/isaacs/node-glob/raw/8a42605d18866dadd64dcacae0670180f61040c7/test/zz-cleanup.js,https://github.com/isaacs/node-glob/raw/20e9cf3755d1261f9b22da93c7073fcdf335afdd/test/zz-cleanup.js,"@@ -3,7 +3,7 @@ var tap = require(""tap"")
 , rimraf = require(""rimraf"")
 , path = require(""path"")
 
-tap.test(""cleanup fixtures"", { skip: true }, function (t) {
+tap.test(""cleanup fixtures"", function (t) {
   rimraf(path.resolve(__dirname, ""a""), function (er) {
     t.ifError(er, ""removed"")
     t.end()
",6,"tap.test(""cleanup fixtures"", { skip: true }, function (t) {","tap.test(""cleanup fixtures"", function (t) {"
node-glob,https://github.com/isaacs/node-glob,https://github.com/isaacs/node-glob/commit/1be0c3072a89df6f21dbe56fb77d40e08df14805,1be0c3072a89df6f21dbe56fb77d40e08df14805,"Fix #43 Assign matches to correct place in nonull case

thanks: @benatkin",2012-08-06 14:05:49-07:00,glob.js,https://github.com/isaacs/node-glob/raw/ab6a2fef23e283954bbda36a20ba11cef2e4fe8f/glob.js,https://github.com/isaacs/node-glob/raw/1be0c3072a89df6f21dbe56fb77d40e08df14805/glob.js,"@@ -178,7 +178,7 @@ Glob.prototype._finish = function () {
       if (this.nonull) {
         var literal = this.minimatch.globSet[i]
         if (nou) all.push(literal)
-        else nou[literal] = true
+        else all[literal] = true
       }
     } else {
       // had matches
",181,else nou[literal] = true,else all[literal] = true
node-glob,https://github.com/isaacs/node-glob,https://github.com/isaacs/node-glob/commit/7d778d72a81fc2743fe8fa5e8de1c70e59085441,7d778d72a81fc2743fe8fa5e8de1c70e59085441,"Properly return results from sync mark:true globs

Fix #129",2014-11-17 12:01:40-08:00,sync.js,https://github.com/isaacs/node-glob/raw/f9076fd1b1b2386adf32316ddbbe03f13d240066/sync.js,https://github.com/isaacs/node-glob/raw/7d778d72a81fc2743fe8fa5e8de1c70e59085441/sync.js,"@@ -387,7 +387,7 @@ GlobSync.prototype._stat = function (f) {
 }
 
 GlobSync.prototype._mark = function (p) {
-  common.mark(this, p)
+  return common.mark(this, p)
 }
 
 GlobSync.prototype._makeAbs = function (f) {
",390,"common.mark(this, p)","return common.mark(this, p)"
node-glob,https://github.com/isaacs/node-glob,https://github.com/isaacs/node-glob/commit/38737a66eeff49c3b26a6550f892026623e185e5,38737a66eeff49c3b26a6550f892026623e185e5,Fixed accidental global var in _readdir,2014-11-18 14:00:29-08:00,glob.js,https://github.com/isaacs/node-glob/raw/47d3f71fd1628b58ef2e147e4a51c8006603ef24/glob.js,https://github.com/isaacs/node-glob/raw/38737a66eeff49c3b26a6550f892026623e185e5/glob.js,"@@ -394,7 +394,7 @@ Glob.prototype._readdir = function (abs, inGlobStar, cb) {
     return this._readdirInGlobStar(abs, cb)
 
   if (ownProp(this.cache, abs)) {
-    c = this.cache[abs]
+    var c = this.cache[abs]
     if (!c || c === 'FILE')
       return cb()
 
",397,c = this.cache[abs],var c = this.cache[abs]
node-glob,https://github.com/isaacs/node-glob,https://github.com/isaacs/node-glob/commit/1f5c8aa0bdeeabd36cf8a45fdc5eb957c897c075,1f5c8aa0bdeeabd36cf8a45fdc5eb957c897c075,Fix nonull regression (fixes #176),2015-03-10 10:53:05+01:00,common.js,https://github.com/isaacs/node-glob/raw/474a69323fd9fb67d7cf767dd04845a03fa1d254/common.js,https://github.com/isaacs/node-glob/raw/1f5c8aa0bdeeabd36cf8a45fdc5eb957c897c075/common.js,"@@ -155,7 +155,7 @@ function finish (self) {
 
   for (var i = 0, l = self.matches.length; i < l; i ++) {
     var matches = self.matches[i]
-    if (!matches) {
+    if (!matches || Object.keys(matches).length === 0) {
       if (self.nonull) {
         // do like the shell, and spit out the literal glob
         var literal = self.minimatch.globSet[i]
",158,if (!matches) {,if (!matches || Object.keys(matches).length === 0) {
node-glob,https://github.com/isaacs/node-glob,https://github.com/isaacs/node-glob/commit/b2aa29bc066de1593d78864158e6a1adafd06e3c,b2aa29bc066de1593d78864158e6a1adafd06e3c,"Support using root and absolute options together

* Add failing test for root + absolute option
* root fixes and more tests
* cleanup root tests

Fix #294",2016-09-29 14:02:46-07:00,glob.js,https://github.com/isaacs/node-glob/raw/12be3fc9d95b2665fffd90869cd6b9fae187ac31/glob.js,https://github.com/isaacs/node-glob/raw/b2aa29bc066de1593d78864158e6a1adafd06e3c/glob.js,"@@ -465,7 +465,7 @@ Glob.prototype._emitMatch = function (index, e) {
     return
   }
 
-  var abs = this._makeAbs(e)
+  var abs = isAbsolute(e) ? e : this._makeAbs(e)
 
   if (this.mark)
     e = this._mark(e)
",468,var abs = this._makeAbs(e),var abs = isAbsolute(e) ? e : this._makeAbs(e)
passport,https://github.com/jaredhanson/passport,https://github.com/jaredhanson/passport/commit/6e37662f5f4931c9189d4f31eb3f2a8a76f66a83,6e37662f5f4931c9189d4f31eb3f2a8a76f66a83,"Update request.js

Fix typo",2016-03-12 16:02:53+03:00,request.js,https://github.com/jaredhanson/passport/raw/33075756a626999c6e2efc872b055e45ae434053/lib/http/request.js,https://github.com/jaredhanson/passport/raw/6e37662f5f4931c9189d4f31eb3f2a8a76f66a83/lib/http/request.js,"@@ -8,7 +8,7 @@
 var req = exports = module.exports = {};
 
 /**
- * Intiate a login session for `user`.
+ * Initiate a login session for `user`.
  *
  * Options:
  *   - `session`  Save login state in session, defaults to _true_
",11,* Intiate a login session for `user`.,* Initiate a login session for `user`.
passport,https://github.com/jaredhanson/passport,https://github.com/jaredhanson/passport/commit/3a2addab3a7ecb70a38ae607633faae977ca14f1,3a2addab3a7ecb70a38ae607633faae977ca14f1,Fixed typo,2016-04-29 16:13:13+02:00,authenticate.js,https://github.com/jaredhanson/passport/raw/6bc59cb329ec1aebc028423d304b3f34f8112e60/lib/middleware/authenticate.js,https://github.com/jaredhanson/passport/raw/3a2addab3a7ecb70a38ae607633faae977ca14f1/lib/middleware/authenticate.js,"@@ -21,7 +21,7 @@ var http = require('http')
  *   - `failureRedirect`  After failed login, redirect to given URL
  *   - `assignProperty`   Assign the object provided by the verify callback to given property
  *
- * An optional `callback` can be supplied to allow the application to overrride
+ * An optional `callback` can be supplied to allow the application to override
  * the default manner in which authentication attempts are handled.  The
  * callback has the following signature, where `user` will be set to the
  * authenticated user on a successful authentication attempt, or `false`
",24,* An optional `callback` can be supplied to allow the application to overrride,* An optional `callback` can be supplied to allow the application to override
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/9e8f3b2ddde31e7ab02112178773eab90ade6ee8,9e8f3b2ddde31e7ab02112178773eab90ade6ee8,"Fix: Long-only flags would not take values

For '--longflag [value]', '--longflag' was being mistaken for the
short option, and '[value]' as the long option. This patch fixes
this by checking if the second flag argument starts with [ or <
which indicates a value being expected.",2011-11-01 22:08:34+01:00,commander.js,https://github.com/tj/commander.js/raw/d3deb365515b903eb77bf5f9261d5d7e18ef4b4e/lib/commander.js,https://github.com/tj/commander.js/raw/9e8f3b2ddde31e7ab02112178773eab90ade6ee8/lib/commander.js,"@@ -45,7 +45,7 @@ function Option(flags, description) {
   this.optional = ~flags.indexOf('[');
   this.bool = !~flags.indexOf('-no-');
   flags = flags.split(/[ ,|]+/);
-  if (flags.length > 1) this.short = flags.shift();
+  if (flags.length > 1 && !/^[[<]/.test(flags[1])) this.short = flags.shift();
   this.long = flags.shift();
   this.description = description;
 }
",48,if (flags.length > 1) this.short = flags.shift();,if (flags.length > 1 && !/^[[<]/.test(flags[1])) this.short = flags.shift();
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/b1948053fdd08dcc21884631ea3989c54b8c724f,b1948053fdd08dcc21884631ea3989c54b8c724f,Output version information using process.stdout.write instead of console.log - fixes #246,2014-09-02 10:37:42+08:00,index.js,https://github.com/tj/commander.js/raw/133336540fd858c1163f1d3803fcf1d9300ceb64/index.js,https://github.com/tj/commander.js/raw/b1948053fdd08dcc21884631ea3989c54b8c724f/index.js,"@@ -665,7 +665,7 @@ Command.prototype.version = function(str, flags){
   flags = flags || '-V, --version';
   this.option(flags, 'output the version number');
   this.on('version', function(){
-    console.log(str);
+    process.stdout.write(str + '\n');
     process.exit(0);
   });
   return this;
",668,console.log(str);,process.stdout.write(str + '\n');
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/808745f4049f7621ada984eb20732635fc8146c5,808745f4049f7621ada984eb20732635fc8146c5,Fixes the fix,2014-09-02 16:57:52-07:00,index.js,https://github.com/tj/commander.js/raw/f2ca98ebb32bc146e29d3d622511758d82f0a53f/index.js,https://github.com/tj/commander.js/raw/808745f4049f7621ada984eb20732635fc8146c5/index.js,"@@ -377,7 +377,7 @@ Command.prototype.parse = function(argv){
 
   // executable sub-commands
   var name = result.args[0];
-  if (typeof this._execs[name] != ""function"") {
+  if (this._execs[name] && typeof this._execs[name] != ""function"") {
     return this.executeSubCommand(argv, args, parsed.unknown);
   }
 
",380,"if (typeof this._execs[name] != ""function"") {","if (this._execs[name] && typeof this._execs[name] != ""function"") {"
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/f4a8bf24bdfd92dee2a829afb9fc6ab64266733c,f4a8bf24bdfd92dee2a829afb9fc6ab64266733c,fix subCommand,2014-10-04 22:26:01+08:00,index.js,https://github.com/tj/commander.js/raw/4fd6aa6608b2e7ab770bc965735b0042fec3d657/index.js,https://github.com/tj/commander.js/raw/f4a8bf24bdfd92dee2a829afb9fc6ab64266733c/index.js,"@@ -245,7 +245,7 @@ Command.prototype.action = function(fn){
       args.push(self);
     }
 
-    fn.apply(this, args);
+    fn.apply(self, args);
   };
   this.parent.on(this._name, listener);
   if (this._alias) this.parent.on(this._alias, listener);
",248,"fn.apply(this, args);","fn.apply(self, args);"
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/aa72d844fd1ee5453b7d9fe56f21adc78595303f,aa72d844fd1ee5453b7d9fe56f21adc78595303f,Fix a bug with variadic argument,2014-12-02 14:16:47+01:00,index.js,https://github.com/tj/commander.js/raw/79ea1205ece8f8012aa17ce72754ec6b07d38268/index.js,https://github.com/tj/commander.js/raw/aa72d844fd1ee5453b7d9fe56f21adc78595303f/index.js,"@@ -266,7 +266,7 @@ Command.prototype.action = function(fn) {
           self.variadicArgNotLast(arg.name);
         }
 
-        args[i] = args.slice(i);
+        args[i] = args.splice(i);
       }
     });
 
",269,args[i] = args.slice(i);,args[i] = args.splice(i);
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/bcda184fd2835819a420980ce64e6fc083b24bef,bcda184fd2835819a420980ce64e6fc083b24bef,fix test,2014-12-17 00:23:47+08:00,test.options.unknown.js,https://github.com/tj/commander.js/raw/96fa6a6d03cf98623d0d0a8beb07a64f42f6a9bb/test/test.options.unknown.js,https://github.com/tj/commander.js/raw/bcda184fd2835819a420980ce64e6fc083b24bef/test/test.options.unknown.js,"@@ -20,7 +20,7 @@ console.error = function() {
   consoleErrors.push(util.format.apply(util, arguments));
 };
 
-program.parse('node test -m'.split(' ')).should.throwError();
+program.parse('node test -m'.split(' '));
 consoleErrors.length.should.equal(3);
 
 consoleErrors = [];
",23,program.parse('node test -m'.split(' ')).should.throwError();,program.parse('node test -m'.split(' '));
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/eb850dda89639195e1b34c568cc9825285e084b7,eb850dda89639195e1b34c568cc9825285e084b7,fix for v0.6,2015-03-06 11:34:54+08:00,index.js,https://github.com/tj/commander.js/raw/3452b70a0e47d18a7d3cc2677a09def891fea0fe/index.js,https://github.com/tj/commander.js/raw/eb850dda89639195e1b34c568cc9825285e084b7/index.js,"@@ -492,7 +492,7 @@ Command.prototype.executeSubCommand = function(argv, args, unknown) {
 
   var proc;
   if (process.platform !== 'win32') {
-    proc = spawn(bin, args, { stdio: 'inherit'});
+    proc = spawn(bin, args, { stdio: 'inherit', customFds: [0, 1, 2] });
   } else {
     args.unshift(local);
     proc = spawn(process.execPath, args, { stdio: 'inherit'});
",495,"proc = spawn(bin, args, { stdio: 'inherit'});","proc = spawn(bin, args, { stdio: 'inherit', customFds: [0, 1, 2] });"
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/7def9f11e947e73a28eabde89181fb379a33d1c8,7def9f11e947e73a28eabde89181fb379a33d1c8,fix process.execArg not exists in old version,2015-04-03 16:36:07-05:00,index.js,https://github.com/tj/commander.js/raw/7b023b1a8adef4fa8f7f084cf313a9881824decd/index.js,https://github.com/tj/commander.js/raw/7def9f11e947e73a28eabde89181fb379a33d1c8/index.js,"@@ -515,7 +515,7 @@ Command.prototype.executeSubCommand = function(argv, args, unknown) {
     if (isExplicitJS) {
       args.unshift(localBin);
       // add executable arguments to spawn
-      args = process.execArgv.concat(args);
+      args = (process.execArgv || []).concat(args);
 
       proc = spawn('node', args, { stdio: 'inherit', customFds: [0, 1, 2] });
     } else {
",518,args = process.execArgv.concat(args);,args = (process.execArgv || []).concat(args);
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/38d8225ea5aeca06daa006d23ec6a691b680bd62,38d8225ea5aeca06daa006d23ec6a691b680bd62,Fix #407 of commander.js,2015-05-25 15:56:01+02:00,index.js,https://github.com/tj/commander.js/raw/c6c84726050b19c0373de27cd359f3baddff579f/index.js,https://github.com/tj/commander.js/raw/38d8225ea5aeca06daa006d23ec6a691b680bd62/index.js,"@@ -83,7 +83,7 @@ Option.prototype.is = function(arg) {
 function Command(name) {
   this.commands = [];
   this.options = [];
-  this._execs = [];
+  this._execs = {};
   this._allowUnknownOption = false;
   this._args = [];
   this._name = name;
",86,this._execs = [];,this._execs = {};
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/dcddf698c5463795401ad3d6382f5ec5ec060478,dcddf698c5463795401ad3d6382f5ec5ec060478,"fix tests

- Many tests were not properly invoking assertion functions. Now they
  are.
- Fixed one test then was then failing because of side-effects from
  previous test setups.
- Made small changes in some setups to avoid potential false negatives.

(Also: made a tiny unrelated code change to ensure Options always has
boolean properties; does not change any behavior, but may help with
debugging.)",2018-05-02 08:10:38+05:00,test.command.name.set.js,https://github.com/tj/commander.js/raw/649eaef336ddc7224eb5c73e4a958685e24de25e/test/test.command.name.set.js,https://github.com/tj/commander.js/raw/dcddf698c5463795401ad3d6382f5ec5ec060478/test/test.command.name.set.js,"@@ -7,7 +7,7 @@ sinon.stub(process.stdout, 'write');
 
 program.name('foobar').description('This is a test.');
 
-program.name.should.be.a.Function;
+program.name.should.be.a.Function();
 program.name().should.equal('foobar');
 program.description().should.equal('This is a test.');
 
",10,program.name.should.be.a.Function;,program.name.should.be.a.Function();
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/dcddf698c5463795401ad3d6382f5ec5ec060478,dcddf698c5463795401ad3d6382f5ec5ec060478,"fix tests

- Many tests were not properly invoking assertion functions. Now they
  are.
- Fixed one test then was then failing because of side-effects from
  previous test setups.
- Made small changes in some setups to avoid potential false negatives.

(Also: made a tiny unrelated code change to ensure Options always has
boolean properties; does not change any behavior, but may help with
debugging.)",2018-05-02 08:10:38+05:00,test.literal.args.js,https://github.com/tj/commander.js/raw/649eaef336ddc7224eb5c73e4a958685e24de25e/test/test.literal.args.js,https://github.com/tj/commander.js/raw/dcddf698c5463795401ad3d6382f5ec5ec060478/test/test.literal.args.js,"@@ -11,7 +11,7 @@ program
   .option('-b, --bar', 'add some bar');
 
 program.parse(['node', 'test', '--foo', '--', '--bar', 'baz']);
-program.foo.should.be.true;
+program.foo.should.be.true();
 should.equal(undefined, program.bar);
 program.args.should.eql(['--bar', 'baz']);
 
",14,program.foo.should.be.true;,program.foo.should.be.true();
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/dcddf698c5463795401ad3d6382f5ec5ec060478,dcddf698c5463795401ad3d6382f5ec5ec060478,"fix tests

- Many tests were not properly invoking assertion functions. Now they
  are.
- Fixed one test then was then failing because of side-effects from
  previous test setups.
- Made small changes in some setups to avoid potential false negatives.

(Also: made a tiny unrelated code change to ensure Options always has
boolean properties; does not change any behavior, but may help with
debugging.)",2018-05-02 08:10:38+05:00,test.options.args.optional.js,https://github.com/tj/commander.js/raw/649eaef336ddc7224eb5c73e4a958685e24de25e/test/test.options.args.optional.js,https://github.com/tj/commander.js/raw/dcddf698c5463795401ad3d6382f5ec5ec060478/test/test.options.args.optional.js,"@@ -10,4 +10,4 @@ program
   .option('-c, --cheese [type]', 'optionally specify the type of cheese');
 
 program.parse(['node', 'test', '--cheese']);
-program.cheese.should.be.true;
+program.cheese.should.be.true();
",13,program.cheese.should.be.true;,program.cheese.should.be.true();
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/dcddf698c5463795401ad3d6382f5ec5ec060478,dcddf698c5463795401ad3d6382f5ec5ec060478,"fix tests

- Many tests were not properly invoking assertion functions. Now they
  are.
- Fixed one test then was then failing because of side-effects from
  previous test setups.
- Made small changes in some setups to avoid potential false negatives.

(Also: made a tiny unrelated code change to ensure Options always has
boolean properties; does not change any behavior, but may help with
debugging.)",2018-05-02 08:10:38+05:00,test.options.bool.no.js,https://github.com/tj/commander.js/raw/649eaef336ddc7224eb5c73e4a958685e24de25e/test/test.options.bool.no.js,https://github.com/tj/commander.js/raw/dcddf698c5463795401ad3d6382f5ec5ec060478/test/test.options.bool.no.js,"@@ -12,4 +12,4 @@ program
 
 program.parse(['node', 'test', '--no-cheese']);
 should.equal(undefined, program.pepper);
-program.cheese.should.be.false;
+program.cheese.should.be.false();
",15,program.cheese.should.be.false;,program.cheese.should.be.false();
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/dcddf698c5463795401ad3d6382f5ec5ec060478,dcddf698c5463795401ad3d6382f5ec5ec060478,"fix tests

- Many tests were not properly invoking assertion functions. Now they
  are.
- Fixed one test then was then failing because of side-effects from
  previous test setups.
- Made small changes in some setups to avoid potential false negatives.

(Also: made a tiny unrelated code change to ensure Options always has
boolean properties; does not change any behavior, but may help with
debugging.)",2018-05-02 08:10:38+05:00,test.options.large-only.js,https://github.com/tj/commander.js/raw/649eaef336ddc7224eb5c73e4a958685e24de25e/test/test.options.large-only.js,https://github.com/tj/commander.js/raw/dcddf698c5463795401ad3d6382f5ec5ec060478/test/test.options.large-only.js,"@@ -10,4 +10,4 @@ program
   .option('--verbose', 'do stuff');
 
 program.parse(['node', 'test', '--verbose']);
-program.verbose.should.be.true;
+program.verbose.should.be.true();
",13,program.verbose.should.be.true;,program.verbose.should.be.true();
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/4c294c174b89c00d5442b21e020258a4128a45b1,4c294c174b89c00d5442b21e020258a4128a45b1,"Fix to change default value to string

fixes: https://github.com/tj/commander.js/issues/855",2018-09-15 20:23:17+05:00,index.js,https://github.com/tj/commander.js/raw/54b7f142b1fa960442c6c8982da16f7a5204c0a2/index.js,https://github.com/tj/commander.js/raw/4c294c174b89c00d5442b21e020258a4128a45b1/index.js,"@@ -1053,7 +1053,7 @@ Command.prototype.optionHelp = function() {
   // Append the help information
   return this.options.map(function(option) {
     return pad(option.flags, width) + '  ' + option.description +
-      ((option.bool && option.defaultValue !== undefined) ? ' (default: ' + option.defaultValue + ')' : '');
+      ((option.bool && option.defaultValue !== undefined) ? ' (default: ' + JSON.stringify(option.defaultValue) + ')' : '');
   }).concat([pad('-h, --help', width) + '  ' + 'output usage information'])
     .join('\n');
 };
",1056,((option.bool && option.defaultValue !== undefined) ? ' (default: ' + option.defaultValue + ')' : '');,((option.bool && option.defaultValue !== undefined) ? ' (default: ' + JSON.stringify(option.defaultValue) + ')' : '');
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/dab6ba8d19cae3a7f2402253c80ea09d9c9ee5ff,dab6ba8d19cae3a7f2402253c80ea09d9c9ee5ff,fix typo,2019-08-11 15:02:42+12:00,index.js,https://github.com/tj/commander.js/raw/2c65463d245e79607d8d759477625712ead719e6/index.js,https://github.com/tj/commander.js/raw/dab6ba8d19cae3a7f2402253c80ea09d9c9ee5ff/index.js,"@@ -1258,7 +1258,7 @@ function outputHelpIfNecessary(cmd, options) {
 }
 
 /**
- * Takes an argument an returns its human readable equivalent for help usage.
+ * Takes an argument and returns its human readable equivalent for help usage.
  *
  * @param {Object} arg
  * @return {String}
",1261,* Takes an argument an returns its human readable equivalent for help usage.,* Takes an argument and returns its human readable equivalent for help usage.
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/62234f60f9dcc01724c0300e79138eb16b505c91,62234f60f9dcc01724c0300e79138eb16b505c91,"parseOptions rework phase 1 (#1138)

* Remove openIssues test for #1062, fixed and being tested

* Rework parseOptions handling of unknown arguments

* First tests for parseOptions, enable prepared regression tests

* Add tests for parseOptions

* Add tests on program.args after calling parse

* Minor update to README for changed parse behaviour

* Tweak inline .parseOption examples",2020-01-15 21:47:08+13:00,command.action.test.js,https://github.com/tj/commander.js/raw/c448afba945943097ae323959d73a049efad3485/tests/command.action.test.js,https://github.com/tj/commander.js/raw/62234f60f9dcc01724c0300e79138eb16b505c91/tests/command.action.test.js,"@@ -20,7 +20,7 @@ test('when .action called then program.args only contains args', () => {
     .command('info <file>')
     .action(() => {});
   program.parse(['node', 'test', 'info', 'my-file']);
-  expect(program.args).toEqual(['my-file']);
+  expect(program.args).toEqual(['info', 'my-file']);
 });
 
 test('when .action called with extra arguments then extras also passed to action', () => {
",23,expect(program.args).toEqual(['my-file']);,"expect(program.args).toEqual(['info', 'my-file']);"
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/b286da9c5ae889df1ae00ca0c607695d00f89ad2,b286da9c5ae889df1ae00ca0c607695d00f89ad2,"More consistent way of adding command arguments (#1490)

* added addArguments method

* fix undefined args

* added tests, docs and typings

* code review fixes

* throw error on bad arg

* Parse command-argument details in constructor

* Handle argument descriptions separately for legacy and new support

* Add text to distinguish test names with .each

* Match nameAndArgs into two parts, rather than split on spaces.

* Update release date post-release to be more accurate

* Fix test naming

* Simplify and tidy argument example

* Typing and typings test for .argument

* Expand argument section to include existing multiple-argument approaches.

* Add name method and improve Argument typings and tests

* Fix copy-and-paste JSDoc error

* Update example to match new method and README

* Deprecate old way of adding command argument descriptions

* Be lenient about Argument construction to allow lazy building

* Call first param to .argument ""name"", and expand jsdoc

* Add low-level check that get same Argument from multiple ways of specifying argument

* Minor wording tweaks

* Add low-level tests for multiple arg variations

* Simplify test. Use .argument now.

* Restore simple test, use .argument

* Big switch from .arguments to .argument in tests

* Expand help to explain argument variations

* Keep Argument properties private for now (like Command, unlike Option)

* Argument should follow Option for properties, make public again

* Generate help for arguments using same methods as for option and subcommand

* Simplify Argument .name(), just getter

* Expand test coverage for visibleArguments

* Rework the multiple ways of specifying command-arguments

* Add Argument to esm exports (and createOption)

Co-authored-by: Nir Yosef <niryo@wix.com>",2021-04-08 19:22:17+12:00,thank.js,https://github.com/tj/commander.js/raw/327a3ddd552f90d1dbd37f55fa7a88b9553468ae/examples/thank.js,https://github.com/tj/commander.js/raw/b286da9c5ae889df1ae00ca0c607695d00f89ad2/examples/thank.js,"@@ -7,7 +7,7 @@ const { Command } = require('../'); // include commander in git clone of command
 const program = new Command();
 
 program
-  .arguments('<name>')
+  .argument('<name>')
   .option('-t, --title <honorific>', 'title to use before name')
   .option('-d, --debug', 'display some debugging')
   .action((name, options, command) => {
",10,.arguments('<name>'),.argument('<name>')
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/b286da9c5ae889df1ae00ca0c607695d00f89ad2,b286da9c5ae889df1ae00ca0c607695d00f89ad2,"More consistent way of adding command arguments (#1490)

* added addArguments method

* fix undefined args

* added tests, docs and typings

* code review fixes

* throw error on bad arg

* Parse command-argument details in constructor

* Handle argument descriptions separately for legacy and new support

* Add text to distinguish test names with .each

* Match nameAndArgs into two parts, rather than split on spaces.

* Update release date post-release to be more accurate

* Fix test naming

* Simplify and tidy argument example

* Typing and typings test for .argument

* Expand argument section to include existing multiple-argument approaches.

* Add name method and improve Argument typings and tests

* Fix copy-and-paste JSDoc error

* Update example to match new method and README

* Deprecate old way of adding command argument descriptions

* Be lenient about Argument construction to allow lazy building

* Call first param to .argument ""name"", and expand jsdoc

* Add low-level check that get same Argument from multiple ways of specifying argument

* Minor wording tweaks

* Add low-level tests for multiple arg variations

* Simplify test. Use .argument now.

* Restore simple test, use .argument

* Big switch from .arguments to .argument in tests

* Expand help to explain argument variations

* Keep Argument properties private for now (like Command, unlike Option)

* Argument should follow Option for properties, make public again

* Generate help for arguments using same methods as for option and subcommand

* Simplify Argument .name(), just getter

* Expand test coverage for visibleArguments

* Rework the multiple ways of specifying command-arguments

* Add Argument to esm exports (and createOption)

Co-authored-by: Nir Yosef <niryo@wix.com>",2021-04-08 19:22:17+12:00,command.unknownCommand.test.js,https://github.com/tj/commander.js/raw/327a3ddd552f90d1dbd37f55fa7a88b9553468ae/tests/command.unknownCommand.test.js,https://github.com/tj/commander.js/raw/b286da9c5ae889df1ae00ca0c607695d00f89ad2/tests/command.unknownCommand.test.js,"@@ -30,7 +30,7 @@ describe('unknownCommand', () => {
       .exitOverride()
       .command('sub');
     program
-      .arguments('[args...]')
+      .argument('[args...]')
       .action(() => { });
     expect(() => {
       program.parse('node test.js unknown'.split(' '));
",33,.arguments('[args...]'),.argument('[args...]')
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/b286da9c5ae889df1ae00ca0c607695d00f89ad2,b286da9c5ae889df1ae00ca0c607695d00f89ad2,"More consistent way of adding command arguments (#1490)

* added addArguments method

* fix undefined args

* added tests, docs and typings

* code review fixes

* throw error on bad arg

* Parse command-argument details in constructor

* Handle argument descriptions separately for legacy and new support

* Add text to distinguish test names with .each

* Match nameAndArgs into two parts, rather than split on spaces.

* Update release date post-release to be more accurate

* Fix test naming

* Simplify and tidy argument example

* Typing and typings test for .argument

* Expand argument section to include existing multiple-argument approaches.

* Add name method and improve Argument typings and tests

* Fix copy-and-paste JSDoc error

* Update example to match new method and README

* Deprecate old way of adding command argument descriptions

* Be lenient about Argument construction to allow lazy building

* Call first param to .argument ""name"", and expand jsdoc

* Add low-level check that get same Argument from multiple ways of specifying argument

* Minor wording tweaks

* Add low-level tests for multiple arg variations

* Simplify test. Use .argument now.

* Restore simple test, use .argument

* Big switch from .arguments to .argument in tests

* Expand help to explain argument variations

* Keep Argument properties private for now (like Command, unlike Option)

* Argument should follow Option for properties, make public again

* Generate help for arguments using same methods as for option and subcommand

* Simplify Argument .name(), just getter

* Expand test coverage for visibleArguments

* Rework the multiple ways of specifying command-arguments

* Add Argument to esm exports (and createOption)

Co-authored-by: Nir Yosef <niryo@wix.com>",2021-04-08 19:22:17+12:00,help.commandUsage.test.js,https://github.com/tj/commander.js/raw/327a3ddd552f90d1dbd37f55fa7a88b9553468ae/tests/help.commandUsage.test.js,https://github.com/tj/commander.js/raw/b286da9c5ae889df1ae00ca0c607695d00f89ad2/tests/help.commandUsage.test.js,"@@ -42,7 +42,7 @@ describe('commandUsage', () => {
     const program = new commander.Command();
     program
       .name('program')
-      .arguments('<file>');
+      .argument('<file>');
     const helper = new commander.Help();
     expect(helper.commandUsage(program)).toEqual('program [options] <file>');
   });
",45,.arguments('<file>');,.argument('<file>');
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/f99d6fa52a5608a7681faab50d367d7ae830e690,f99d6fa52a5608a7681faab50d367d7ae830e690,"Extend .argument() to add default value and custom parse for command-argument (#1508)

* First cut at adding default value and parse for Argument

* Simplify reduce call, good match for pattern

* Refactor new code into routine

* Add custom processing argument tests

* Add default value tests for argument

* Rename tests

* Add error for ignored default value

* Add argument default to help information

* Default only makes sense for optional argument

* Extend argument typings

* Add argument custom processing to README

* Add InvalidArgumentError and deprecate InvalidOptionArgumentError

* Fix JSDoc

* Add example of varidic argument custom processing

* Update comment

* Remove low value comment",2021-05-03 19:45:31+12:00,options-custom-processing.js,https://github.com/tj/commander.js/raw/3d67542d3427a5fa3355308338de8fcd3ee700d6/examples/options-custom-processing.js,https://github.com/tj/commander.js/raw/f99d6fa52a5608a7681faab50d367d7ae830e690/examples/options-custom-processing.js,"@@ -12,7 +12,7 @@ function myParseInt(value, dummyPrevious) {
   // parseInt takes a string and a radix
   const parsedValue = parseInt(value, 10);
   if (isNaN(parsedValue)) {
-    throw new commander.InvalidOptionArgumentError('Not a number.');
+    throw new commander.InvalidArgumentError('Not a number.');
   }
   return parsedValue;
 }
",15,throw new commander.InvalidOptionArgumentError('Not a number.');,throw new commander.InvalidArgumentError('Not a number.');
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/10b673f5fc01b2805a425c2766dff1aa9b5d8e28,10b673f5fc01b2805a425c2766dff1aa9b5d8e28,"Reconfigure standard and eslint (#1668)

* Add eslint-config-standard peer dependencies explicitly

* Remove unused eslint customisation, closer to standard

* Configure eslint with no-extra-semi, as per semistandard

* Use standard-with-typescript again now installing dependencies

* Fix linting for undefined property

* Run js and rs lint by default for `npm run lint`",2022-01-04 18:14:46+13:00,command.action.test.js,https://github.com/tj/commander.js/raw/f17ecbd34baa9b385074a5d066935b3cd6b07c5c/tests/command.action.test.js,https://github.com/tj/commander.js/raw/10b673f5fc01b2805a425c2766dff1aa9b5d8e28/tests/command.action.test.js,"@@ -103,7 +103,7 @@ test('when action is async then can await parseAsync', async() => {
   async function delay() {
     await new Promise(resolve => setTimeout(resolve, 100));
     asyncFinished = true;
-  };
+  }
   const program = new commander.Command();
   program
     .action(delay);
",106,};,}
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/10b673f5fc01b2805a425c2766dff1aa9b5d8e28,10b673f5fc01b2805a425c2766dff1aa9b5d8e28,"Reconfigure standard and eslint (#1668)

* Add eslint-config-standard peer dependencies explicitly

* Remove unused eslint customisation, closer to standard

* Configure eslint with no-extra-semi, as per semistandard

* Use standard-with-typescript again now installing dependencies

* Fix linting for undefined property

* Run js and rs lint by default for `npm run lint`",2022-01-04 18:14:46+13:00,command.asterisk.test.js,https://github.com/tj/commander.js/raw/f17ecbd34baa9b385074a5d066935b3cd6b07c5c/tests/command.asterisk.test.js,https://github.com/tj/commander.js/raw/10b673f5fc01b2805a425c2766dff1aa9b5d8e28/tests/command.asterisk.test.js,"@@ -22,7 +22,7 @@ describe("".command('*')"", () => {
     try {
       program.parse(['node', 'test']);
     } catch (err) {
-      ;
+
     }
     expect(mockAction).not.toHaveBeenCalled();
     writeMock.mockRestore();
",25,;,
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/10b673f5fc01b2805a425c2766dff1aa9b5d8e28,10b673f5fc01b2805a425c2766dff1aa9b5d8e28,"Reconfigure standard and eslint (#1668)

* Add eslint-config-standard peer dependencies explicitly

* Remove unused eslint customisation, closer to standard

* Configure eslint with no-extra-semi, as per semistandard

* Use standard-with-typescript again now installing dependencies

* Fix linting for undefined property

* Run js and rs lint by default for `npm run lint`",2022-01-04 18:14:46+13:00,command.createHelp.test.js,https://github.com/tj/commander.js/raw/f17ecbd34baa9b385074a5d066935b3cd6b07c5c/tests/command.createHelp.test.js,https://github.com/tj/commander.js/raw/10b673f5fc01b2805a425c2766dff1aa9b5d8e28/tests/command.createHelp.test.js,"@@ -10,7 +10,7 @@ test('when override createCommand then affects help', () => {
   class MyCommand extends commander.Command {
     createHelp() {
       return Object.assign(new MyHelp(), this.configureHelp());
-    };
+    }
   }
 
   const program = new MyCommand();
",13,};,}
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/10b673f5fc01b2805a425c2766dff1aa9b5d8e28,10b673f5fc01b2805a425c2766dff1aa9b5d8e28,"Reconfigure standard and eslint (#1668)

* Add eslint-config-standard peer dependencies explicitly

* Remove unused eslint customisation, closer to standard

* Configure eslint with no-extra-semi, as per semistandard

* Use standard-with-typescript again now installing dependencies

* Fix linting for undefined property

* Run js and rs lint by default for `npm run lint`",2022-01-04 18:14:46+13:00,command.showSuggestionAfterError.test.js,https://github.com/tj/commander.js/raw/f17ecbd34baa9b385074a5d066935b3cd6b07c5c/tests/command.showSuggestionAfterError.test.js,https://github.com/tj/commander.js/raw/10b673f5fc01b2805a425c2766dff1aa9b5d8e28/tests/command.showSuggestionAfterError.test.js,"@@ -15,7 +15,7 @@ function getSuggestion(program, arg) {
 
   const match = message.match(/Did you mean (one of )?(.*)\?/);
   return match ? match[2] : null;
-};
+}
 
 test('when unknown command and showSuggestionAfterError() then show suggestion', () => {
   const program = new Command();
",18,};,}
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/10b673f5fc01b2805a425c2766dff1aa9b5d8e28,10b673f5fc01b2805a425c2766dff1aa9b5d8e28,"Reconfigure standard and eslint (#1668)

* Add eslint-config-standard peer dependencies explicitly

* Remove unused eslint customisation, closer to standard

* Configure eslint with no-extra-semi, as per semistandard

* Use standard-with-typescript again now installing dependencies

* Fix linting for undefined property

* Run js and rs lint by default for `npm run lint`",2022-01-04 18:14:46+13:00,help.suggestion.test.js,https://github.com/tj/commander.js/raw/f17ecbd34baa9b385074a5d066935b3cd6b07c5c/tests/help.suggestion.test.js,https://github.com/tj/commander.js/raw/10b673f5fc01b2805a425c2766dff1aa9b5d8e28/tests/help.suggestion.test.js,"@@ -24,7 +24,7 @@ function getSuggestion(program, arg) {
 
   const match = message.match(/Did you mean (one of )?(.*)\?/);
   return match ? match[2] : null;
-};
+}
 
 test.each([
   ['yyy', ['zzz'], null, 'none similar'],
",27,};,}
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/f902f6da9c9f31197e92cfd6244138b539dad245,f902f6da9c9f31197e92cfd6244138b539dad245,Fix JSDoc comment (#1673),2022-01-05 11:05:40+13:00,command.js,https://github.com/tj/commander.js/raw/ad640de5672712fe8e7b7183eec0b1abf079a965/lib/command.js,https://github.com/tj/commander.js/raw/f902f6da9c9f31197e92cfd6244138b539dad245/lib/command.js,"@@ -83,7 +83,7 @@ class Command extends EventEmitter {
    * (Used internally when adding a command using `.command()` so subcommands inherit parent settings.)
    *
    * @param {Command} sourceCommand
-   * @return {Command} returns `this` for executable command
+   * @return {Command} `this` command for chaining
    */
   copyInheritedSettings(sourceCommand) {
     this._outputConfiguration = sourceCommand._outputConfiguration;
",86,* @return {Command} returns `this` for executable command,* @return {Command} `this` command for chaining
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/8d3c7b5e826c5e9cc258d5db4c33449c1591d447,8d3c7b5e826c5e9cc258d5db4c33449c1591d447,Fix some typos (#1821),2022-11-18 09:43:06+13:00,help.js,https://github.com/tj/commander.js/raw/0b4198dde02cc8fc571c1265afa5bde447f6fca8/lib/help.js,https://github.com/tj/commander.js/raw/8d3c7b5e826c5e9cc258d5db4c33449c1591d447/lib/help.js,"@@ -216,7 +216,7 @@ class Help {
 
   /**
    * Get the subcommand summary to show in the list of subcommands.
-   * (Fallback to description for backwards compatiblity.)
+   * (Fallback to description for backwards compatibility.)
    *
    * @param {Command} cmd
    * @returns {string}
",219,* (Fallback to description for backwards compatiblity.),* (Fallback to description for backwards compatibility.)
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/68a427658ce11de1118d2b5b2ceb95133d1fce99,68a427658ce11de1118d2b5b2ceb95133d1fce99,Fix executableDir() return type,2023-08-19 19:10:15+09:00,command.js,https://github.com/tj/commander.js/raw/880b0286d2bd253e2c34fb4ca1804c17a5edd08a/lib/command.js,https://github.com/tj/commander.js/raw/68a427658ce11de1118d2b5b2ceb95133d1fce99/lib/command.js,"@@ -1964,7 +1964,7 @@ Expecting one of '${allowedValues.join(""', '"")}'`);
    * program.executableDir('subcommands');
    *
    * @param {string} [path]
-   * @return {string|Command}
+   * @return {string|null|Command}
    */
 
   executableDir(path) {
",1967,* @return {string|Command},* @return {string|null|Command}
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/14fb529183d9c46ae5b8611ac70bdcb2b62e54f0,14fb529183d9c46ae5b8611ac70bdcb2b62e54f0,"Fix version() parameter type

Borrowed from a3f0e28 that was supposed to land in the now-closed #1921.",2023-08-19 19:12:26+09:00,command.js,https://github.com/tj/commander.js/raw/68a427658ce11de1118d2b5b2ceb95133d1fce99/lib/command.js,https://github.com/tj/commander.js/raw/14fb529183d9c46ae5b8611ac70bdcb2b62e54f0/lib/command.js,"@@ -1807,7 +1807,7 @@ Expecting one of '${allowedValues.join(""', '"")}'`);
    *
    * You can optionally supply the  flags and description to override the defaults.
    *
-   * @param {string} str
+   * @param {string} [str]
    * @param {string} [flags]
    * @param {string} [description]
    * @return {this | string} `this` command for chaining, or version string if no arguments
",1810,* @param {string} str,* @param {string} [str]
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/f3431d1571a7c55d0606b2ddb85310a454df1a2d,f3431d1571a7c55d0606b2ddb85310a454df1a2d,"Revert ""Fix version() parameter type""

This reverts commit e8bea4aedd750418d094591d63699010f5c7b623.",2023-08-19 19:12:26+09:00,command.js,https://github.com/tj/commander.js/raw/9c38a951101efd4a9410ab782584eb160f295b23/lib/command.js,https://github.com/tj/commander.js/raw/f3431d1571a7c55d0606b2ddb85310a454df1a2d/lib/command.js,"@@ -1809,7 +1809,7 @@ Expecting one of '${allowedValues.join(""', '"")}'`);
    *
    * You can optionally supply the  flags and description to override the defaults.
    *
-   * @param {string} [str]
+   * @param {string} str
    * @param {string} [flags]
    * @param {string} [description]
    * @return {this | string} `this` command for chaining, or version string if no arguments
",1812,* @param {string} [str],* @param {string} str
commander.js,https://github.com/tj/commander.js,https://github.com/tj/commander.js/commit/96c6c2511344d164446a2f18f2acdbd45f3985af,96c6c2511344d164446a2f18f2acdbd45f3985af,"Refactor type-checking setup (#1969)

* Refactor type-checking setup

* Refactor tsconfig particularly to enable loose check in VSCode, strict checks run separately for type definitions

* Simplify includes for tsconfig

* Explicitly separate the tsconfig for use with npm run-scripts

* Improve comment

* Resolved couple of work-in-progress comments

* Update tsconfig to recommended node16 lib/module/target

* Make checks strict by default and opt-out

* Restore broken code to merge later changes

* Updates after merge

---------



Co-authored-by: Wee Bit <aweebit64@gmail.com>",2023-10-04 20:37:14+13:00,jest.config.js,https://github.com/tj/commander.js/raw/744ee3f307dd9581a0b11906eea134b22dd1369a/jest.config.js,https://github.com/tj/commander.js/raw/96c6c2511344d164446a2f18f2acdbd45f3985af/jest.config.js,"@@ -2,7 +2,7 @@ const config = {
   testEnvironment: 'node',
   collectCoverage: true,
   transform: {
-    '^.+\\.tsx?$': 'ts-jest'
+    '^.+\\.tsx?$': ['ts-jest', { tsconfig: 'tsconfig.ts.json' }]
   },
   testPathIgnorePatterns: [
     '/node_modules/'
",5,'^.+\\.tsx?$': 'ts-jest',"'^.+\\.tsx?$': ['ts-jest', { tsconfig: 'tsconfig.ts.json' }]"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/b7fd43e1b0ce2ff68b8a9e13a059eee32389f1ca,b7fd43e1b0ce2ff68b8a9e13a059eee32389f1ca,multiple ui instances can now connect to a single debug session. first step toward collaborative debugging,2010-07-24 11:17:27-06:00,hello.js,https://github.com/node-inspector/node-inspector/raw/61dfe89f92b62caa62c2c1b897cf091bd0a00bbc/test/hello.js,https://github.com/node-inspector/node-inspector/raw/b7fd43e1b0ce2ff68b8a9e13a059eee32389f1ca/test/hello.js,"@@ -6,5 +6,5 @@ http.createServer(function (req, res) {
   x += 1;
   res.writeHead(200, {'Content-Type': 'text/plain'});
   res.end('Hello World ' + x);
-}).listen(8124, ""127.0.0.1"");
+}).listen(8124);
 console.log('Server running at http://127.0.0.1:8124/');
",9,"}).listen(8124, ""127.0.0.1"");",}).listen(8124);
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/dc45824ee742c2226da3cca994a49c2e0308f7c1,dc45824ee742c2226da3cca994a49c2e0308f7c1,"made live edit work with multiple windows
fixed --start-brk",2010-07-29 21:05:32-06:00,inspector.js,https://github.com/node-inspector/node-inspector/raw/b27b64a5fb71a4eced85e1c03598cbcca8d6a9e9/bin/inspector.js,https://github.com/node-inspector/node-inspector/raw/dc45824ee742c2226da3cca994a49c2e0308f7c1/bin/inspector.js,"@@ -15,7 +15,7 @@ process.argv.forEach(function(arg) {
           break;
         case '--start-brk':
           options.file = parts[1];
-          brk = true;
+          options.brk = true;
           break;
         case '--agent-port':
           options.webPort = parseInt(parts[1], 10);
",18,brk = true;,options.brk = true;
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/77b5d8b832b975726b8367f7c9417c7032aba559,77b5d8b832b975726b8367f7c9417c7032aba559,fixed get script source on break event,2010-10-29 21:28:22-06:00,session.js,https://github.com/node-inspector/node-inspector/raw/9e4a0b4fe36946c721f475b616b34600679b9300/lib/session.js,https://github.com/node-inspector/node-inspector/raw/77b5d8b832b975726b8367f7c9417c7032aba559/lib/session.js,"@@ -122,7 +122,7 @@ exports.createSession = function (conn, debuggerPort) {
   function breakEvent(obj) {
     var data = {};
     if(!sourceIDs[obj.body.script.id]) {
-      var args = { arguments: { includeSource: true, types: 4, ids: [obj.script.id] }};
+      var args = { arguments: { includeSource: true, types: 4, ids: [obj.body.script.id] }};
       debug.request('scripts', args, parsedScripts);
     }
     sendBacktrace();
",125,"var args = { arguments: { includeSource: true, types: 4, ids: [obj.script.id] }};","var args = { arguments: { includeSource: true, types: 4, ids: [obj.body.script.id] }};"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/9ef874b70c1e75876cc321bb1c5e2ef47649784d,9ef874b70c1e75876cc321bb1c5e2ef47649784d,"Implemented breakpoints

* Debugger.setBreakpointByUrl
* Debugger.removeBreakpoint
* Debugger.setPauseOnExceptions

Removed script file path shortening, because the new front-end display nice
tree based on paths and it also uses script paths to set breakpoints.",2013-05-17 21:23:02+02:00,Breakpoint.js,https://github.com/node-inspector/node-inspector/raw/3b09b4159f7eb4f018e6a40b0c485b964002dca4/lib/Breakpoint.js,https://github.com/node-inspector/node-inspector/raw/9ef874b70c1e75876cc321bb1c5e2ef47649784d/lib/Breakpoint.js,"@@ -48,7 +48,7 @@ Breakpoint.prototype = {
   },
 
   sameAs: function(sourceID, line, condition) {
-    return this.sourceID === sourceID.toString() &&
+    return this.sourceID == sourceID &&
         this.line === line &&
         this.condition === condition;
   }
",51,return this.sourceID === sourceID.toString() &&,return this.sourceID == sourceID &&
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/c05c203676b1d41702a79381cd9ded64473bc6ac,c05c203676b1d41702a79381cd9ded64473bc6ac,"Style: added gjslint rules and fixed style issues

Created tools/gjslint.sh that can be used to automatically check for
conformance with Google coding style.

Added semicolons to the end of all statements where it was missing.

Fixed spacing inconsistencies.

Added missing type info to JsDoc comments in ScriptManager.js

Removed commas at end of object literals.

Wrapped extra long lines.",2013-05-30 09:39:34+02:00,ScriptManager.js,https://github.com/node-inspector/node-inspector/raw/9ccc2a6732d32ee2b5067f06fa3147b7440cfa76/test/ScriptManager.js,https://github.com/node-inspector/node-inspector/raw/c05c203676b1d41702a79381cd9ded64473bc6ac/test/ScriptManager.js,"@@ -26,5 +26,5 @@ describe('ScriptManager', function() {
       manager.reset();
       expect(manager.findScriptByID('id')).to.be.undefined;
     });
-  })
+  });
 });
",29,}),});
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/bc1834a8120d92bce8972f729ab5b170222b47fc,bc1834a8120d92bce8972f729ab5b170222b47fc,"lib: fixed hiding of script files

Modified ScriptFileStorage.findAllApplicationScripts() to exclude files to
hide.

Modified ScriptManager to never hide the main application script file.",2013-09-19 09:08:28+02:00,session.js,https://github.com/node-inspector/node-inspector/raw/5115a33780658c188715f2c3074470c32a071f56/lib/session.js,https://github.com/node-inspector/node-inspector/raw/bc1834a8120d92bce8972f729ab5b170222b47fc/lib/session.js,"@@ -47,7 +47,7 @@ exports.create = function(debuggerPort, config) {
         debuggerClient = new DebuggerClient(debuggerPort);
 
         scriptManager = new ScriptManager(
-          config.hidden,
+          config.isScriptHidden,
           frontendClient,
           debuggerClient
         );
",50,"config.hidden,","config.isScriptHidden,"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/01cb658ce253bfbc4bedd8e72dc1ffe9c13ffa05,01cb658ce253bfbc4bedd8e72dc1ffe9c13ffa05,"Added --no-preload to disable glob of all *.js

Fixes slow load when lots of *.js files on drive.",2013-12-26 10:29:59+01:00,DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/5946eccdbd43a1fe43cd12534addf23c4e0cf9aa/lib/DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/01cb658ce253bfbc4bedd8e72dc1ffe9c13ffa05/lib/DebuggerAgent.js,"@@ -24,7 +24,7 @@ function DebuggerAgent(config,
   this._debuggerClient = debuggerClient;
   this._breakEventHandler = breakEventHandler;
   this._scriptManager = scriptManager;
-  this._scriptStorage = new ScriptFileStorage(config.isScriptHidden);
+  this._scriptStorage = new ScriptFileStorage(config);
 }
 
 DebuggerAgent.prototype = {
",27,this._scriptStorage = new ScriptFileStorage(config.isScriptHidden);,this._scriptStorage = new ScriptFileStorage(config);
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/01cb658ce253bfbc4bedd8e72dc1ffe9c13ffa05,01cb658ce253bfbc4bedd8e72dc1ffe9c13ffa05,"Added --no-preload to disable glob of all *.js

Fixes slow load when lots of *.js files on drive.",2013-12-26 10:29:59+01:00,PageAgent.js,https://github.com/node-inspector/node-inspector/raw/5946eccdbd43a1fe43cd12534addf23c4e0cf9aa/lib/PageAgent.js,https://github.com/node-inspector/node-inspector/raw/01cb658ce253bfbc4bedd8e72dc1ffe9c13ffa05/lib/PageAgent.js,"@@ -15,7 +15,7 @@ var fs = require('fs'),
 function PageAgent(config, debuggerClient, scriptManager) {
   this._debuggerClient = debuggerClient;
   this._scriptManager = scriptManager;
-  this._scriptStorage = new ScriptFileStorage(config.isScriptHidden);
+  this._scriptStorage = new ScriptFileStorage(config);
 }
 
 PageAgent.prototype = {
",18,this._scriptStorage = new ScriptFileStorage(config.isScriptHidden);,this._scriptStorage = new ScriptFileStorage(config);
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/127955f6005c8cbd1c872d01e69149d54b9863ad,127955f6005c8cbd1c872d01e69149d54b9863ad,Added large String support for debugger evaluation requests,2014-01-07 13:47:52+00:00,convert.js,https://github.com/node-inspector/node-inspector/raw/234b160f523c2868463823f242a4b1776cbdf0c3/lib/convert.js,https://github.com/node-inspector/node-inspector/raw/127955f6005c8cbd1c872d01e69149d54b9863ad/lib/convert.js,"@@ -135,7 +135,7 @@ exports.v8ResultToInspectorResult = function(result) {
   return {
     type: result.type,
     value: result.value,
-    description: String(result.text)
+    description: String(result.value)
   };
 };
 
",138,description: String(result.text),description: String(result.value)
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/c7f5efcf3170689217c36b1faa0b9daa99be2b46,c7f5efcf3170689217c36b1faa0b9daa99be2b46,Small indentation fixes,2014-02-05 14:09:23+04:00,ScriptFileStorage.js,https://github.com/node-inspector/node-inspector/raw/58fbe416bb530a4b5c8470fd7e2a7cf7ba85836c/lib/ScriptFileStorage.js,https://github.com/node-inspector/node-inspector/raw/c7f5efcf3170689217c36b1faa0b9daa99be2b46/lib/ScriptFileStorage.js,"@@ -20,7 +20,7 @@ function escapeRegex(str) {
  * @constructor
  */
 function ScriptFileStorage(config) {
-  config = config || {}
+  config = config || {};
   this._isHidden = config.isScriptHidden || function() { return false; };
   this._noPreload = config.noPreload;
 }
",23,config = config || {},config = config || {};
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/fcd311acb744557de7d80c1e7c4ae5d994c0a5a6,fcd311acb744557de7d80c1e7c4ae5d994c0a5a6,"Fix DebuggerAgent.setVariableValue to object

Fix a bug where object values { objectId: '<id>' } were not correctly
translated to V8 references { handle: <id>}.",2014-02-18 09:58:26+01:00,DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/4b90c585c8ed7dcf6a34e1661b90fdec2477dc52/test/DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/fcd311acb744557de7d80c1e7c4ae5d994c0a5a6/test/DebuggerAgent.js,"@@ -90,7 +90,7 @@ describe('DebuggerAgent', function() {
         debuggerClient.fetchObjectId(agent, newValueExpression, function(valueId) {
           verifyVariableSetter(
             agent,
-            { handle: valueId },
+            { objectId: '' + valueId },
             expectedResultCb(valueId),
             done
           );
",93,"{ handle: valueId },","{ objectId: '' + valueId },"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/39fe73b620738381efbb9db3239e6eba074de1cc,39fe73b620738381efbb9db3239e6eba074de1cc,"Speed up initial parsing of source-map URLs

`ScriptManager._getSourceMapUrl` accepts an optional parameter
`scriptSource`.

`DebuggerAgent._reloadScript` asks V8 to include script sources
in the response.

This way it's not necessary to send another request for each script
that is loaded by V8 at the time when Node Inspector is attaching to
the process.",2014-02-19 18:24:07+01:00,DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/c370aa8146c19a52e56afd75c2af4376530b7ea5/lib/DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/39fe73b620738381efbb9db3239e6eba074de1cc/lib/DebuggerAgent.js,"@@ -96,7 +96,7 @@ DebuggerAgent.prototype = {
     this._debuggerClient.request(
       'scripts',
       {
-        includeSource: false,
+        includeSource: true,
         types: 4
       },
       function handleScriptsResponse(err, result) {
",99,"includeSource: false,","includeSource: true,"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/792e9f06f967869c27c561d3d8a90ee6726fb744,792e9f06f967869c27c561d3d8a90ee6726fb744,"ScriptFileStorage: fix fs.readFile usage on v0.8

Pass the fs.readFile encoding as a string instead in an options object.

The options object was introduced by Node v0.10 and is not available in
Node v0.8. When called with the options object, Node v0.8 calls the
callback with a Buffer instead of a string, which causes type error
`content has no method 'replace'`.",2014-04-08 08:51:21+02:00,ScriptFileStorage.js,https://github.com/node-inspector/node-inspector/raw/c2b09732447a3745de8672748c9f113a2db2e54d/lib/ScriptFileStorage.js,https://github.com/node-inspector/node-inspector/raw/792e9f06f967869c27c561d3d8a90ee6726fb744/lib/ScriptFileStorage.js,"@@ -58,7 +58,7 @@ $class.save = function(path, content, callback) {
 $class.load = function(path, callback) {
   fs.readFile(
     path,
-    { encoding: 'utf-8' },
+    'utf-8',
     function(err, content) {
       if (err) return callback(err);
 
",61,"{ encoding: 'utf-8' },","'utf-8',"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/28560d8b0e6c571d8578a78544769c5118f1c3c5,28560d8b0e6c571d8578a78544769c5118f1c3c5,"Fix conversion of config options

Replace `no-preload` with `preload` to fix the problem where
optimist parser converits `--no-preload` to `preload: false`.

Close #325 #326",2014-04-23 14:36:56+02:00,ScriptFileStorage.js,https://github.com/node-inspector/node-inspector/raw/a7c4fa23a46af15cf265ec4662f6340ccb40f337/test/ScriptFileStorage.js,https://github.com/node-inspector/node-inspector/raw/28560d8b0e6c571d8578a78544769c5118f1c3c5/test/ScriptFileStorage.js,"@@ -215,7 +215,7 @@ describe('ScriptFileStorage', function() {
 
   it('disables preloading files', function(done) {
     givenTempFiles('app.js', 'mod.js');
-    storage = new ScriptFileStorage({noPreload: true});
+    storage = new ScriptFileStorage({preload: false});
 
     storage.findAllApplicationScripts(
       TEMP_DIR,
",218,storage = new ScriptFileStorage({noPreload: true});,storage = new ScriptFileStorage({preload: false});
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/82a8f8eafc1fe4b021faaf6f94efe05653d36382,82a8f8eafc1fe4b021faaf6f94efe05653d36382,"Non-ascii sctring saving fix

Before saving string on disc (which probably work very well), we
send it in node with ""Content-Length"" header. Probably "".length"" operator
gives wrong number if string contains non-ascii chars (smaller, than it must be).",2014-06-04 17:04:24+02:00,debugger.js,https://github.com/node-inspector/node-inspector/raw/320f124129f928dcf733859aa46728e9eb336711/lib/debugger.js,https://github.com/node-inspector/node-inspector/raw/82a8f8eafc1fe4b021faaf6f94efe05653d36382/lib/debugger.js,"@@ -109,7 +109,7 @@ Debugger.prototype._processResponse = function(message) {
 Debugger.prototype.send = function(data) {
   debugProtocol('request: ' + data);
   if (this.connected) {
-    this._connection.write('Content-Length: ' + data.length + '\r\n\r\n' + data);
+    this._connection.write('Content-Length: ' + Buffer.byteLength(data, 'utf8') + '\r\n\r\n' + data);
   }
 };
 
",112,this._connection.write('Content-Length: ' + data.length + '\r\n\r\n' + data);,"this._connection.write('Content-Length: ' + Buffer.byteLength(data, 'utf8') + '\r\n\r\n' + data);"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/25cba3770010a18aa9a8e37d472527a826333248,25cba3770010a18aa9a8e37d472527a826333248,"Fix InjectorServer socket closing

Closes #390",2014-06-17 09:57:08+02:00,InjectorServer.js,https://github.com/node-inspector/node-inspector/raw/f06600a030adbe60c085fe477f0e20c6fc38c354/lib/InjectorServer.js,https://github.com/node-inspector/node-inspector/raw/25cba3770010a18aa9a8e37d472527a826333248/lib/InjectorServer.js,"@@ -110,7 +110,7 @@ function injectorServer(injections, options) {
     connected = false;
     server
       .removeAllListeners()
-      .close();
+      .destroy();
 
     server = null;
   }
",113,.close();,.destroy();
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/f49b9ad870a9cc45314f49348934b98cf8c5be40,f49b9ad870a9cc45314f49348934b98cf8c5be40,"Fix passing config from session.js to ScriptManager.js

Closes #431, #389",2014-08-26 17:31:31+04:00,session.js,https://github.com/node-inspector/node-inspector/raw/111f1348c0c949ad285c95dad87b7440dd41bc05/lib/session.js,https://github.com/node-inspector/node-inspector/raw/f49b9ad870a9cc45314f49348934b98cf8c5be40/lib/session.js,"@@ -59,7 +59,7 @@ exports.create = function(debuggerPort, config) {
         );
 
         scriptManager = new ScriptManager(
-          config.isScriptHidden,
+          config,
           frontendClient,
           debuggerClient
         );
",62,"config.isScriptHidden,","config,"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/92c35ed9fd7e4abdc3a0a8dd818b63d40a9f85e4,92c35ed9fd7e4abdc3a0a8dd818b63d40a9f85e4,"front-end: fix non-expanding tree-element

Close #494, close #495",2014-12-16 13:57:55+01:00,treeoutline.js,https://github.com/node-inspector/node-inspector/raw/8cbc6de510755006c58b166c5079055905b2dbd7/front-end/treeoutline.js,https://github.com/node-inspector/node-inspector/raw/92c35ed9fd7e4abdc3a0a8dd818b63d40a9f85e4/front-end/treeoutline.js,"@@ -941,7 +941,7 @@ TreeElement.prototype.isEventWithinDisclosureTriangle = function(event)
 {
     // FIXME: We should not use getComputedStyle(). For that we need to get rid of using ::before for disclosure triangle. (http://webk.it/74446) 
     var paddingLeftValue = window.getComputedStyle(this._listItemNode).getPropertyValue(""padding-left"");
-    var computedLeftPadding = paddingLeftValue ? paddingLeftValue : 0;
+    var computedLeftPadding = paddingLeftValue ? parseInt(paddingLeftValue) : 0;
     var left = this._listItemNode.totalOffsetLeft() + computedLeftPadding;
     return event.pageX >= left && event.pageX <= left + this.arrowToggleWidth && this.hasChildren;
 }
",944,var computedLeftPadding = paddingLeftValue ? paddingLeftValue : 0;,var computedLeftPadding = paddingLeftValue ? parseInt(paddingLeftValue) : 0;
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/ac5d13b8bcfe7f2a7f28a520d1942ef87eca9b03,ac5d13b8bcfe7f2a7f28a520d1942ef87eca9b03,Fixed console test,2015-04-22 13:24:50+03:00,ConsoleAgent.js,https://github.com/node-inspector/node-inspector/raw/88921eb8d097df9e20864fa5b0a38c0e0bd7bbc6/test/ConsoleAgent.js,https://github.com/node-inspector/node-inspector/raw/ac5d13b8bcfe7f2a7f28a520d1942ef87eca9b03/test/ConsoleAgent.js,"@@ -159,6 +159,6 @@ function initializeConsole(done) {
     });
     injectorClient.once('error', done);
 
-    consoleAgent.enable({}, injectorClient.inject.bind(injectorClient));
+    injectorClient.inject();
   });
 }
",162,"consoleAgent.enable({}, injectorClient.inject.bind(injectorClient));",injectorClient.inject();
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/07b09c6870d53a382c91351553d311a8f4e59cce,07b09c6870d53a382c91351553d311a8f4e59cce,Fix config web-host deprecation checker,2015-06-10 15:55:37+03:00,config.js,https://github.com/node-inspector/node-inspector/raw/ca58013de3579665812dbeef403aae461ce7c08b/lib/config.js,https://github.com/node-inspector/node-inspector/raw/07b09c6870d53a382c91351553d311a8f4e59cce/lib/config.js,"@@ -169,7 +169,7 @@ function checkDeprecatedNoPreloadStyle(config) {
 }
 
 function checkDeprecatedWebHostStyle(config) {
-  if (config.webHost === 'null') {
+  if (config.webHost === 'null' || config.webHost === null) {
     // Deprecated in v0.8.0
     console.warn('You use deprecated syntax for web-host option. Use 0.0.0.0 instead of null');
     config.webHost = '0.0.0.0';
",172,if (config.webHost === 'null') {,if (config.webHost === 'null' || config.webHost === null) {
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/cc5ed4f056c027ff76d4d32937cf3104680c2649,cc5ed4f056c027ff76d4d32937cf3104680c2649,Console: fix max string length,2015-06-12 23:48:43+03:00,DebuggerClient.js,https://github.com/node-inspector/node-inspector/raw/c9f81294be04b77723f251104871eff5638caffe/lib/DebuggerClient.js,https://github.com/node-inspector/node-inspector/raw/cc5ed4f056c027ff76d4d32937cf3104680c2649/lib/DebuggerClient.js,"@@ -109,7 +109,7 @@ DebuggerClient.prototype.request = function(command, args, callback) {
   // E.g. resume (V8 request 'continue') does no work
   // correctly when args are empty instead of undefined
   if (args && args.maxStringLength == null)
-    args.maxStringLength = 10000;
+    args.maxStringLength = -1;
 
   this._conn.request(command, { arguments: args }, function(response) {
     var refsLookup;
",112,args.maxStringLength = 10000;,args.maxStringLength = -1;
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/528d441be39b29b7282dcc3df6abac2488028f6e,528d441be39b29b7282dcc3df6abac2488028f6e,Fix `redirectToRoot` context,2015-06-28 15:00:22+03:00,debug-server.js,https://github.com/node-inspector/node-inspector/raw/8a8bf6e07c641ce64d066f010a3e8f1d23134bbf/lib/debug-server.js,https://github.com/node-inspector/node-inspector/raw/528d441be39b29b7282dcc3df6abac2488028f6e/lib/debug-server.js,"@@ -90,7 +90,7 @@ DebugServer.prototype.start = function(options) {
 
   app.use(favicon(path.join(__dirname, '../front-end-node/Images/favicon.png')));
   app.get('/', debugAction.bind(this));
-  app.get('/debug', redirectToRoot);
+  app.get('/debug', redirectToRoot.bind(this));
   app.get('/inspector.json', inspectorJson);
   app.get('/json', jsonAction.bind(this));
   app.get('/json/version', jsonVersionAction.bind(this));
",93,"app.get('/debug', redirectToRoot);","app.get('/debug', redirectToRoot.bind(this));"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/ed2dcb76c7235516ee0b688c2174a6aac8985614,ed2dcb76c7235516ee0b688c2174a6aac8985614,Added DebuggerClient.isReady state,2015-08-01 23:36:10+03:00,DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/26d2e7eb02a008910dc9e3adc2311c0276bdf138/lib/DebuggerAgent.js,https://github.com/node-inspector/node-inspector/raw/ed2dcb76c7235516ee0b688c2174a6aac8985614/lib/DebuggerAgent.js,"@@ -44,7 +44,7 @@ DebuggerAgent.prototype = {
       this._onDebuggerConnect();
     }.bind(this);
 
-    if (this._debuggerClient.isConnected) {
+    if (this._debuggerClient.isReady) {
       process.nextTick(onConnect);
     } else {
       this._debuggerClient.on('connect', onConnect);
",47,if (this._debuggerClient.isConnected) {,if (this._debuggerClient.isReady) {
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/ed2dcb76c7235516ee0b688c2174a6aac8985614,ed2dcb76c7235516ee0b688c2174a6aac8985614,Added DebuggerClient.isReady state,2015-08-01 23:36:10+03:00,PageAgent.js,https://github.com/node-inspector/node-inspector/raw/26d2e7eb02a008910dc9e3adc2311c0276bdf138/lib/PageAgent.js,https://github.com/node-inspector/node-inspector/raw/ed2dcb76c7235516ee0b688c2174a6aac8985614/lib/PageAgent.js,"@@ -47,7 +47,7 @@ extend(PageAgent.prototype, {
       this._session.emit('resource-tree-resolved');
     }.bind(this);
 
-    if (this._debuggerClient.isConnected) {
+    if (this._debuggerClient.isReady) {
       this._doGetResourceTree(params, cb);
     } else {
       this._debuggerClient.once(
",50,if (this._debuggerClient.isConnected) {,if (this._debuggerClient.isReady) {
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/ed2dcb76c7235516ee0b688c2174a6aac8985614,ed2dcb76c7235516ee0b688c2174a6aac8985614,Added DebuggerClient.isReady state,2015-08-01 23:36:10+03:00,ProfilerAgent.js,https://github.com/node-inspector/node-inspector/raw/26d2e7eb02a008910dc9e3adc2311c0276bdf138/lib/ProfilerAgent.js,https://github.com/node-inspector/node-inspector/raw/ed2dcb76c7235516ee0b688c2174a6aac8985614/lib/ProfilerAgent.js,"@@ -73,7 +73,7 @@ ProfilerAgent.prototype._translateCommandToInjection = function(commandNames) {
 ProfilerAgent.prototype.enable = function(params, done) {
   done();
 
-  if (this._debuggerClient.target) {
+  if (this._debuggerClient.isReady) {
     this._checkCompatibility();
   } else {
     this._debuggerClient.on('connect', this._checkCompatibility.bind(this));
",76,if (this._debuggerClient.target) {,if (this._debuggerClient.isReady) {
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/4cd16d4adf31deaa8ff8552cc0cf2d9d5e988218,4cd16d4adf31deaa8ff8552cc0cf2d9d5e988218,Fixed #723,2015-08-27 01:00:06+03:00,BreakEventHandler.js,https://github.com/node-inspector/node-inspector/raw/59257bdb8e87fae4ce9e54ba8fff0043ad6d7c5e/lib/BreakEventHandler.js,https://github.com/node-inspector/node-inspector/raw/4cd16d4adf31deaa8ff8552cc0cf2d9d5e988218/lib/BreakEventHandler.js,"@@ -58,7 +58,7 @@ BreakEventHandler.prototype._onBreak = function(obj) {
     if (err && err !== true) {
       this._frontendClient.sendLogToConsole('error', err);
     }
-  });
+  }.bind(this));
 };
 
 BreakEventHandler.prototype._handleInjectorClientBreak = function(obj, cb) {
",61,});,}.bind(this));
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/8bbbc0c6abafe21b70e02b8d3fb8062115db8cce,8bbbc0c6abafe21b70e02b8d3fb8062115db8cce,Typo (stack is not a function) Fixes #728,2015-08-28 23:38:46+03:00,NetworkAgent.js,https://github.com/node-inspector/node-inspector/raw/4cd16d4adf31deaa8ff8552cc0cf2d9d5e988218/lib/Injections/NetworkAgent.js,https://github.com/node-inspector/node-inspector/raw/8bbbc0c6abafe21b70e02b8d3fb8062115db8cce/lib/Injections/NetworkAgent.js,"@@ -388,7 +388,7 @@ module.exports = function injection(require, debug, options) {
           console.error(
             'Unexpected state in node-inspector network profiling.\n' +
             'Something wrong with request `options` object in frame #1\n' +
-            'Current stackstace:', new Error().stack()
+            'Current stackstace:', new Error().stack
           );
         } else {
           handleHttpRequest.call(this, {
",391,"'Current stackstace:', new Error().stack()","'Current stackstace:', new Error().stack"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/9024ff78a044fa397378ffd997e4d68fee951a99,9024ff78a044fa397378ffd997e4d68fee951a99,Fix node-inspector redirecting with invalid ws url if no port is specified,2016-02-07 07:07:39+03:00,index.js,https://github.com/node-inspector/node-inspector/raw/8dd50abcebe6d0029a1d48d74bccacf92052f1bf/index.js,https://github.com/node-inspector/node-inspector/raw/9024ff78a044fa397378ffd997e4d68fee951a99/index.js,"@@ -17,7 +17,7 @@ function buildInspectorUrl(inspectorHost, inspectorPort, debugPort, fileToShow,
     hostname: host,
     port: inspectorPort,
     pathname: '/',
-    search: '?ws=' + host + ':' + inspectorPort + '&port=' + debugPort
+    search: '?ws=' + host + (inspectorPort ? ':' + inspectorPort : '') + '&port=' + debugPort
   };
 
   return url.format(parts);
",20,search: '?ws=' + host + ':' + inspectorPort + '&port=' + debugPort,search: '?ws=' + host + (inspectorPort ? ':' + inspectorPort : '') + '&port=' + debugPort
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/a701d7743d442c39d239bd91d7d7c4ec5e623857,a701d7743d442c39d239bd91d7d7c4ec5e623857,Remove registerDebuggerEventHandlers,2016-02-12 11:55:11+03:00,debugger.js,https://github.com/node-inspector/node-inspector/raw/22042c67faa012605fa5779e2ccd6819e5f50661/lib/debugger.js,https://github.com/node-inspector/node-inspector/raw/a701d7743d442c39d239bd91d7d7c4ec5e623857/lib/debugger.js,"@@ -99,7 +99,7 @@ Debugger.prototype._processResponse = function(message) {
     if (['break', 'exception'].indexOf(obj.event) > -1) {
       this.isRunning = false;
     }
-    this.emit(obj.event, obj);
+    this.emit('event', obj);
   }
   else {
     debugProtocol('unknown: ' + JSON.stringify(message.body));
",102,"this.emit(obj.event, obj);","this.emit('event', obj);"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/0faa1356d66fe25027ff12a9e5c7da0fd8ed9276,0faa1356d66fe25027ff12a9e5c7da0fd8ed9276,Partial fix of #843,2016-04-09 02:00:49+03:00,config.js,https://github.com/node-inspector/node-inspector/raw/0e966e99e4dd3cd1812eb3fd90df48ea4b26bd52/test/config.js,https://github.com/node-inspector/node-inspector/raw/0faa1356d66fe25027ff12a9e5c7da0fd8ed9276/test/config.js,"@@ -161,7 +161,7 @@ describe('Config', function() {
       expect(serialisedOptions, 'true serialised boolean format [false]').to.contain('-d=false');
       expect(serialisedOptions, 'filtered `undefined` value').to.not.contain('-e=undefined');
       expect(serialisedOptions, 'not filtered `null` value').to.contain('-f=null');
-      expect(serialisedOptions, 'true serialised array format').to.contain('-g=h -g=1');
+      expect(serialisedOptions, 'true serialised array format').to.contain('-g=h', '-g=1');
       expect(serialisedOptions, 'true serialised regexp format').to.contain('-k=abc');
       expect(serialisedOptions, 'true serialised object format')
         .to.contain('--l.m --l.n=1 --l.o.p=false');
",164,"expect(serialisedOptions, 'true serialised array format').to.contain('-g=h -g=1');","expect(serialisedOptions, 'true serialised array format').to.contain('-g=h', '-g=1');"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/2e5309f75099753740c4567e17fd79ee27885d71,2e5309f75099753740c4567e17fd79ee27885d71,"Fix callback call in InjectorClient._findNMInScope (#914)

When error is defined (in this case it means that NM is doen't have any elements) callback calling will be throwing an exception. Because in this case NM[0] is not defined. So we need to check the error variable.",2017-01-19 11:39:41+01:00,InjectorClient.js,https://github.com/node-inspector/node-inspector/raw/0faa1356d66fe25027ff12a9e5c7da0fd8ed9276/lib/InjectorClient.js,https://github.com/node-inspector/node-inspector/raw/2e5309f75099753740c4567e17fd79ee27885d71/lib/InjectorClient.js,"@@ -108,7 +108,7 @@ InjectorClient.prototype._findNMInScope = function(funcHandle, cb) {
       if (!NM.length)
         error = new Error('No NativeModule in target scope');
 
-      cb(error, NM[0].ref);
+      cb(error, error ? null : NM[0].ref);
     }.bind(this));
 };
 
",111,"cb(error, NM[0].ref);","cb(error, error ? null : NM[0].ref);"
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/41600fc54b6f351782cd6724ec7fca4c4763ff96,41600fc54b6f351782cd6724ec7fca4c4763ff96,"fix: can not find `NativeModule` in node 6.4.x and above (#990)

* fix: can not find native module in node6.4.x and above

* refactor: remove process.EventEmitter

* fix: make all test suite work

* refactor: optimize test suite",2017-03-22 17:47:50+08:00,DebuggerClient.js,https://github.com/node-inspector/node-inspector/raw/f8c985667168feb05dde4ed4d7406c40a37a9eea/lib/DebuggerClient.js,https://github.com/node-inspector/node-inspector/raw/41600fc54b6f351782cd6724ec7fca4c4763ff96/lib/DebuggerClient.js,"@@ -107,7 +107,7 @@ DebuggerClient.prototype.request = function(command, args, callback) {
   // Note: we must not add args object if it was not sent.
   // E.g. resume (V8 request 'continue') does no work
   // correctly when args are empty instead of undefined
-  if (args && args.maxStringLength == null)
+  if (args && args.maxStringLength == null && command !== 'continue')
     args.maxStringLength = -1;
 
   this._conn.request(command, { arguments: args }, function(response) {
",110,if (args && args.maxStringLength == null),if (args && args.maxStringLength == null && command !== 'continue')
node-inspector,https://github.com/node-inspector/node-inspector,https://github.com/node-inspector/node-inspector/commit/fcec9e528a8ce4fc8ca3884a9610c428b53b25ab,fcec9e528a8ce4fc8ca3884a9610c428b53b25ab,fix:  DebuggerClient api has a breaking change (#1000),2017-04-12 16:10:52+08:00,launcher.js,https://github.com/node-inspector/node-inspector/raw/5785df189fed50e3eaadbd8ddee360c92d860688/test/helpers/launcher.js,https://github.com/node-inspector/node-inspector/raw/fcec9e528a8ce4fc8ca3884a9610c428b53b25ab/test/helpers/launcher.js,"@@ -92,7 +92,7 @@ function computeDebugOptions(breakOnStart) {
 
 function setupDebugger(instance) {
   instance.session = new SessionStub();
-  var debuggerClient = instance.session.debuggerClient = new DebuggerClient(DEBUG_PORT);
+  var debuggerClient = instance.session.debuggerClient = new DebuggerClient('localhost', DEBUG_PORT);
 
   return new Promise(function(resolve, reject) {
     debuggerClient.on('connect', function() {
",95,var debuggerClient = instance.session.debuggerClient = new DebuggerClient(DEBUG_PORT);,"var debuggerClient = instance.session.debuggerClient = new DebuggerClient('localhost', DEBUG_PORT);"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/1034ae86e3a2373787271bee4eb7d96894a131c8,1034ae86e3a2373787271bee4eb7d96894a131c8,Fixed support for HELO SMTP,2011-03-17 21:19:49+02:00,smtp.js,https://github.com/andris9/Nodemailer/raw/5e4f203ccf368ed3dbf278fca960fe075c5b1a6e/lib/smtp.js,https://github.com/andris9/Nodemailer/raw/1034ae86e3a2373787271bee4eb7d96894a131c8/lib/smtp.js,"@@ -309,7 +309,7 @@ SMTPClient.prototype._handshake = function(callback){
         if(error){
 
             // fallback to HELO
-            this._sendCommand(""HELO ""+this.hostname, (function(error, data){
+            return this._sendCommand(""HELO ""+this.hostname, (function(error, data){
                 if(error){
                     this.emit(""error"", error);
                     this.close();
",312,"this._sendCommand(""HELO ""+this.hostname, (function(error, data){","return this._sendCommand(""HELO ""+this.hostname, (function(error, data){"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/664e0509d1c05db529a3ffec109925a10d4280da,664e0509d1c05db529a3ffec109925a10d4280da,Fixes #22 with STARTTLS _ssl object not set,2011-05-24 16:08:49+03:00,starttls.js,https://github.com/andris9/Nodemailer/raw/261de3ccfaba2a4eddf4cae89f96a886da214c75/lib/starttls.js,https://github.com/andris9/Nodemailer/raw/664e0509d1c05db529a3ffec109925a10d4280da/lib/starttls.js,"@@ -21,7 +21,7 @@ module.exports = function starttls(socket, options, cb) {
         cleartext = pipe(pair, socket);
 
     pair.on('secure', function() {
-        var verifyError = pair._ssl.verifyError();
+        var verifyError = !pair._ssl || pair._ssl.verifyError();
 
         if (verifyError) {
             cleartext.authorized = false;
",24,var verifyError = pair._ssl.verifyError();,var verifyError = !pair._ssl || pair._ssl.verifyError();
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/f608c17b18a68b06a13a179d6a4b66df5cad563e,f608c17b18a68b06a13a179d6a4b66df5cad563e,hostname bug,2011-06-11 08:35:05+03:00,mail.js,https://github.com/andris9/Nodemailer/raw/2b8f36235cce038384740dd68013887699e85784/lib/mail.js,https://github.com/andris9/Nodemailer/raw/f608c17b18a68b06a13a179d6a4b66df5cad563e/lib/mail.js,"@@ -354,7 +354,7 @@ EmailMessage.prototype.generateBody = function(){
                     this.attachments[i].contents:
                     new Buffer(this.attachments[i].contents, ""utf-8""),
             disposition: ""attachment"",
-            content_id: this.attachments[i].cid || ((++gencounter)+"".""+Date.now()+""@""+this.SERVER.hostname)
+            content_id: this.attachments[i].cid || ((++gencounter)+"".""+Date.now()+""@""+(this.SERVER.hostname || ""localhost""))
         };
         
         
",357,"content_id: this.attachments[i].cid || ((++gencounter)+"".""+Date.now()+""@""+this.SERVER.hostname)","content_id: this.attachments[i].cid || ((++gencounter)+"".""+Date.now()+""@""+(this.SERVER.hostname || ""localhost""))"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/0ee096159bcca9783ee952ca75116ed67d18faa4,0ee096159bcca9783ee952ca75116ed67d18faa4,HELO fix,2011-07-26 20:51:55+03:00,smtp.js,https://github.com/andris9/Nodemailer/raw/9f49e6e895e060f3f1ef89cb1d98c7911060bbb9/lib/smtp.js,https://github.com/andris9/Nodemailer/raw/0ee096159bcca9783ee952ca75116ed67d18faa4/lib/smtp.js,"@@ -556,7 +556,7 @@ SMTPClient.prototype._handshake = function(callback){
         if(error){
 
             // fallback to HELO
-            this._sendCommand(""HELO ""+this.hostname, (function(error, data){
+            return this._sendCommand(""HELO ""+this.hostname, (function(error, data){
                 if(error){
                     this.emit(""error"", error);
                     this.close();
",559,"this._sendCommand(""HELO ""+this.hostname, (function(error, data){","return this._sendCommand(""HELO ""+this.hostname, (function(error, data){"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/26794a7c1234d5b34f489f804e05d0bacdaebbe8,26794a7c1234d5b34f489f804e05d0bacdaebbe8,"Fixed XOAUTH generator defaults bug, updated README",2012-03-23 13:39:10+02:00,xoauth.js,https://github.com/andris9/Nodemailer/raw/784b60feb84f30c69801b908d156f7403cbae590/lib/xoauth.js,https://github.com/andris9/Nodemailer/raw/26794a7c1234d5b34f489f804e05d0bacdaebbe8/lib/xoauth.js,"@@ -54,7 +54,7 @@ function generateXOAuthStr(options, callback){
 	
 	baseStr = generateOAuthBaseStr(options.method || ""GET"", requestUrl, params);
 	
-	signatureKey = escapeAndJoin([options.consumerSecret, options.tokenSecret || ""anonymous""]);
+	signatureKey = escapeAndJoin([options.consumerSecret || ""anonymous"", options.tokenSecret]);
 	params.oauth_signature = hmacSha1(baseStr, signatureKey);
 
 	paramsStr = Object.keys(params).sort().map(function(key){
",57,"signatureKey = escapeAndJoin([options.consumerSecret, options.tokenSecret || ""anonymous""]);","signatureKey = escapeAndJoin([options.consumerSecret || ""anonymous"", options.tokenSecret]);"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/d2d3debcd5f855e7aa66cce6b71ec85c23b4e328,d2d3debcd5f855e7aa66cce6b71ec85c23b4e328,"Fixed custom envelope bug, fixes #79",2012-03-28 20:52:06+03:00,stub.js,https://github.com/andris9/Nodemailer/raw/a9acb36d7ad41f6bd9931edbce4b869288d3a013/lib/engines/stub.js,https://github.com/andris9/Nodemailer/raw/d2d3debcd5f855e7aa66cce6b71ec85c23b4e328/lib/engines/stub.js,"@@ -31,7 +31,7 @@ StubTransport.prototype.sendMail = function(emailMessage, callback) {
     });
     
     emailMessage.on(""end"", function(){
-        callback(null, {message: output});
+        callback(null, {message: output, envelope: emailMessage.getEnvelope()});
     });
 
     emailMessage.streamMessage();
",34,"callback(null, {message: output});","callback(null, {message: output, envelope: emailMessage.getEnvelope()});"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,"fixed minor issues, updated readme etc.",2012-04-03 12:02:36+03:00,example_dkim.js,https://github.com/andris9/Nodemailer/raw/52cf687f88e74e7188c6cd87a09d830a9a413060/examples/example_dkim.js,https://github.com/andris9/Nodemailer/raw/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133/examples/example_dkim.js,"@@ -25,7 +25,7 @@ var message = {
     subject: 'Nodemailer is unicode friendly ✔', //
 
     headers: {
-        'X-Laziness-level': 1000,
+        'X-Laziness-level': 1000
     },
 
     // plaintext body
",28,"'X-Laziness-level': 1000,",'X-Laziness-level': 1000
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,"fixed minor issues, updated readme etc.",2012-04-03 12:02:36+03:00,example_sendmail.js,https://github.com/andris9/Nodemailer/raw/52cf687f88e74e7188c6cd87a09d830a9a413060/examples/example_sendmail.js,https://github.com/andris9/Nodemailer/raw/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133/examples/example_sendmail.js,"@@ -55,7 +55,7 @@ var message = {
 
 console.log('Sending Mail');
 
-transport.send_mail(message, function(error){
+transport.sendMail(message, function(error){
     if(error){
         console.log('Error occured');
         console.log(error.message);
",58,"transport.send_mail(message, function(error){","transport.sendMail(message, function(error){"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,"fixed minor issues, updated readme etc.",2012-04-03 12:02:36+03:00,example_ses.js,https://github.com/andris9/Nodemailer/raw/52cf687f88e74e7188c6cd87a09d830a9a413060/examples/example_ses.js,https://github.com/andris9/Nodemailer/raw/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133/examples/example_ses.js,"@@ -59,7 +59,7 @@ var message = {
 
 console.log('Sending Mail');
 
-transport.send_mail(message, function(error){
+transport.sendMail(message, function(error){
     if(error){
         console.log('Error occured');
         console.log(error.message);
",62,"transport.send_mail(message, function(error){","transport.sendMail(message, function(error){"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,976a9de2d639fd8c98d7f1c08ca93fcdf80c1133,"fixed minor issues, updated readme etc.",2012-04-03 12:02:36+03:00,example_smtp.js,https://github.com/andris9/Nodemailer/raw/52cf687f88e74e7188c6cd87a09d830a9a413060/examples/example_smtp.js,https://github.com/andris9/Nodemailer/raw/976a9de2d639fd8c98d7f1c08ca93fcdf80c1133/examples/example_smtp.js,"@@ -24,7 +24,7 @@ var message = {
     subject: 'Nodemailer is unicode friendly ✔', //
 
     headers: {
-        'X-Laziness-level': 1000,
+        'X-Laziness-level': 1000
     },
 
     // plaintext body
",27,"'X-Laziness-level': 1000,",'X-Laziness-level': 1000
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/0059ec0cf8e84ef5f45dd37753501fb87f6c6a6b,0059ec0cf8e84ef5f45dd37753501fb87f6c6a6b,fix for old api auth bug,2012-04-14 22:31:14+03:00,smtp.js,https://github.com/andris9/Nodemailer/raw/36d191c14c9812b3a2909598d928c76187bcd7dc/lib/engines/smtp.js,https://github.com/andris9/Nodemailer/raw/0059ec0cf8e84ef5f45dd37753501fb87f6c6a6b/lib/engines/smtp.js,"@@ -55,7 +55,7 @@ SMTPTransport.prototype.initOptions = function(){
         }
         this.options.auth.user = this.options.auth.user || this.options.user;
         this.options.auth.pass = this.options.auth.pass || this.options.pass;
-        this.options.auth.pass = this.options.auth.XOAuthToken || this.options.XOAuthToken;
+        this.options.auth.XOAuthToken = this.options.auth.XOAuthToken || this.options.XOAuthToken;
     }
     
     if(this.options.ssl){
",58,this.options.auth.pass = this.options.auth.XOAuthToken || this.options.XOAuthToken;,this.options.auth.XOAuthToken = this.options.auth.XOAuthToken || this.options.XOAuthToken;
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/05a8a9a3469dabd1f95618d42c5f2e5a615bad87,05a8a9a3469dabd1f95618d42c5f2e5a615bad87,"bugfix (adding ""-i"" to sendmail command line for each new mail)  by copying this.args instead of just making a reference

We need to copy this.args instead of just making a reference because we get ane extra ""-i"" parameters for every mail sent, like this (exim log):

464 args: send
mail -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i -i 
-i -i -i -i -i -i -i -i -i -i -i -i -i -i ....

We could probably make it more efficient by initializing ""-i"" in constructor for this.args and in the default args initializer ( [""-f""].concat(envelope.from).concat(envelope.to) ), but I just wanted to provide a bugfix first.",2014-05-14 11:33:16+02:00,sendmail.js,https://github.com/andris9/Nodemailer/raw/3a6cba3af16b8225f69aaf35a54a7d0ffb1e665e/lib/engines/sendmail.js,https://github.com/andris9/Nodemailer/raw/05a8a9a3469dabd1f95618d42c5f2e5a615bad87/lib/engines/sendmail.js,"@@ -54,7 +54,7 @@ function SendmailTransport(config){
 SendmailTransport.prototype.sendMail = function sendMail(emailMessage, callback){
 
     var envelope = emailMessage.getEnvelope(),
-        args = this.args || [""-f""].concat(envelope.from).concat(envelope.to),
+        args = this.args ? this.args.slice() : [""-f""].concat(envelope.from).concat(envelope.to),
         sendmail,
         cbCounter = 2,
         didCb,
",57,"args = this.args || [""-f""].concat(envelope.from).concat(envelope.to),","args = this.args ? this.args.slice() : [""-f""].concat(envelope.from).concat(envelope.to),"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/3cc618a5e97e8efbba93a64700efab8e30193797,3cc618a5e97e8efbba93a64700efab8e30193797,"Fixed tests, bumped mailcomposer",2016-01-20 15:10:11+02:00,.eslintrc.js,https://github.com/andris9/Nodemailer/raw/9b752cf51c849cbab2d447101d25780466011e47/.eslintrc.js,https://github.com/andris9/Nodemailer/raw/3cc618a5e97e8efbba93a64700efab8e30193797/.eslintrc.js,"@@ -45,7 +45,7 @@ module.exports = {
         'no-bitwise': 2,
         'no-lonely-if': 2,
         'no-mixed-spaces-and-tabs': 2,
-        'no-console': 0
+        'no-console': 2
     },
     env: {
         es6: false,
",48,'no-console': 0,'no-console': 2
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/b3b17c683c2c51ee9cbaca3883b3314c2c47f791,b3b17c683c2c51ee9cbaca3883b3314c2c47f791,v3.0.1. Fixed an error that was thrown if disableFileAccess was used,2017-02-03 18:31:54+02:00,mail-message.js,https://github.com/andris9/Nodemailer/raw/9f958853431119bab7ff9a3ed370df80ea06b529/lib/mailer/mail-message.js,https://github.com/andris9/Nodemailer/raw/b3b17c683c2c51ee9cbaca3883b3314c2c47f791/lib/mailer/mail-message.js,"@@ -35,7 +35,7 @@ class MailMessage {
         // force specific keys from transporter options
         ['disableFileAccess', 'disableUrlAccess'].forEach(key => {
             if (key in options) {
-                data[key] = this.options[key];
+                this.data[key] = options[key];
             }
         });
     }
",38,data[key] = this.options[key];,this.data[key] = options[key];
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/bb7bc112fa60571409a7c3306c98ddf04d83ce26,bb7bc112fa60571409a7c3306c98ddf04d83ce26,Fix call toString on undefined/null,2017-06-08 17:17:25+02:00,index.js,https://github.com/andris9/Nodemailer/raw/41b19d91f1306e5b9ae9b94acc3f1c3d3ed81c5f/lib/smtp-connection/index.js,https://github.com/andris9/Nodemailer/raw/bb7bc112fa60571409a7c3306c98ddf04d83ce26/lib/smtp-connection/index.js,"@@ -863,7 +863,7 @@ class SMTPConnection extends EventEmitter {
             notify = notify.join(',');
         }
 
-        let orcpt = (params.orcpt || params.recipient).toString() || null;
+        let orcpt = (params.orcpt || params.recipient || '').toString() || null;
         if (orcpt && orcpt.indexOf(';') < 0) {
             orcpt = 'rfc822;' + orcpt;
         }
",866,let orcpt = (params.orcpt || params.recipient).toString() || null;,let orcpt = (params.orcpt || params.recipient || '').toString() || null;
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/e21741799d59397364b63c555dc00e0afe079c15,e21741799d59397364b63c555dc00e0afe079c15,"Fix reporting error for incomplete credentials

- Add test for completely missing credentials
- Add test for partially missing credentials (eg. user is defined, but
  password is missing)
- Fix reporting ""Missing credentials"" error for only partially defined
  credentials",2017-11-13 21:55:30+02:00,index.js,https://github.com/andris9/Nodemailer/raw/9e0e926b8e06afa6b772eaf632ce6e76d033124f/lib/smtp-connection/index.js,https://github.com/andris9/Nodemailer/raw/e21741799d59397364b63c555dc00e0afe079c15/lib/smtp-connection/index.js,"@@ -330,7 +330,7 @@ class SMTPConnection extends EventEmitter {
             this._authMethod = (this._supportedAuth[0] || 'PLAIN').toUpperCase().trim();
         }
 
-        if (this._authMethod !== 'XOAUTH2' && !this._auth.credentials) {
+        if (this._authMethod !== 'XOAUTH2' && (!this._auth.credentials || !this._auth.credentials.user || !this._auth.credentials.pass)) {
             if (this._auth.user && this._auth.pass) {
                 this._auth.credentials = {
                     user: this._auth.user,
",333,if (this._authMethod !== 'XOAUTH2' && !this._auth.credentials) {,if (this._authMethod !== 'XOAUTH2' && (!this._auth.credentials || !this._auth.credentials.user || !this._auth.credentials.pass)) {
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/81198b1bfe58463901bd760d68a41944fe1c9f34,81198b1bfe58463901bd760d68a41944fe1c9f34,Fix some incorrect JSDoc,2018-06-15 17:13:17-05:00,index.js,https://github.com/andris9/Nodemailer/raw/9464025862293e549bb322036c16dfb5c3521b34/lib/sendmail-transport/index.js,https://github.com/andris9/Nodemailer/raw/81198b1bfe58463901bd760d68a41944fe1c9f34/lib/sendmail-transport/index.js,"@@ -16,7 +16,7 @@ const shared = require('../shared');
  *  * **args** an array of arguments for the sendmail binary
  *
  * @constructor
- * @param {Object} optional config parameter for the AWS Sendmail service
+ * @param {Object} optional config parameter for Sendmail
  */
 class SendmailTransport {
     constructor(options) {
",19,* @param {Object} optional config parameter for the AWS Sendmail service,* @param {Object} optional config parameter for Sendmail
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/81198b1bfe58463901bd760d68a41944fe1c9f34,81198b1bfe58463901bd760d68a41944fe1c9f34,Fix some incorrect JSDoc,2018-06-15 17:13:17-05:00,index.js,https://github.com/andris9/Nodemailer/raw/9464025862293e549bb322036c16dfb5c3521b34/lib/stream-transport/index.js,https://github.com/andris9/Nodemailer/raw/81198b1bfe58463901bd760d68a41944fe1c9f34/lib/stream-transport/index.js,"@@ -14,7 +14,7 @@ const LeUnix = require('../sendmail-transport/le-unix');
  *  * **newline** either 'windows' or 'unix'
  *
  * @constructor
- * @param {Object} optional config parameter for the AWS Sendmail service
+ * @param {Object} optional config parameter
  */
 class StreamTransport {
     constructor(options) {
",17,* @param {Object} optional config parameter for the AWS Sendmail service,* @param {Object} optional config parameter
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/0ee0a224d762a68a25df60d937090b338121449e,0ee0a224d762a68a25df60d937090b338121449e,"Update index.js

Fixed a typo in params for _onSocketError",2019-03-24 21:08:36+02:00,index.js,https://github.com/andris9/Nodemailer/raw/7b8582552c983dcbe1a4d66ed9c42b6621bde5eb/lib/smtp-connection/index.js,https://github.com/andris9/Nodemailer/raw/0ee0a224d762a68a25df60d937090b338121449e/lib/smtp-connection/index.js,"@@ -187,7 +187,7 @@ class SMTPConnection extends EventEmitter {
          * Callbacks for socket's listeners
          */
         this._onSocketData = (chunk) => this._onData(chunk);
-        this._onSocketError = (error) => this._onError(err, 'ECONNECTION', false, 'CONN');
+        this._onSocketError = (error) => this._onError(error, 'ESOCKET', false, 'CONN');
         this._onSocketClose = () => this._onClose();
         this._onSocketEnd = () => this._onEnd();
         this._onSocketTimeout = () => this._onTimeout();
",190,"this._onSocketError = (error) => this._onError(err, 'ECONNECTION', false, 'CONN');","this._onSocketError = (error) => this._onError(error, 'ESOCKET', false, 'CONN');"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/d5fde05837e17ae2cc7e67e7a497f8c7183f7b9f,d5fde05837e17ae2cc7e67e7a497f8c7183f7b9f,fixed linting,2020-02-21 21:24:21+02:00,index.js,https://github.com/andris9/Nodemailer/raw/796289cca8584a8da1da1e00891b84a09934a71d/lib/smtp-pool/index.js,https://github.com/andris9/Nodemailer/raw/d5fde05837e17ae2cc7e67e7a497f8c7183f7b9f/lib/smtp-pool/index.js,"@@ -1,4 +1,4 @@
-
+'use strict';
 
 const EventEmitter = require('events');
 const PoolResource = require('./pool-resource');
",1,,'use strict';
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/3bfc5452f74e84d8f9aacb2eec7b8a4726b5b40d,3bfc5452f74e84d8f9aacb2eec7b8a4726b5b40d,fix: `requeueAttempts=n` should requeue `n` times,2020-03-11 15:36:59+02:00,index.js,https://github.com/andris9/Nodemailer/raw/c73bb333a5c8bc5d9094883757e5ac6b30652271/lib/smtp-pool/index.js,https://github.com/andris9/Nodemailer/raw/3bfc5452f74e84d8f9aacb2eec7b8a4726b5b40d/lib/smtp-pool/index.js,"@@ -420,7 +420,7 @@ class SMTPPool extends EventEmitter {
             return true;
         }
 
-        return queueEntry.requeueAttempts && queueEntry.requeueAttempts < this.options.maxRequeues;
+        return queueEntry.requeueAttempts < this.options.maxRequeues;
     }
 
     _failDeliveryOnConnectionClose(connection) {
",423,return queueEntry.requeueAttempts && queueEntry.requeueAttempts < this.options.maxRequeues;,return queueEntry.requeueAttempts < this.options.maxRequeues;
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/271f91b7a87c7449114a4e29e8321b6d09bdfb77,271f91b7a87c7449114a4e29e8321b6d09bdfb77,"Update index.js

Fix wrong comparison.
this.textEncoding was set before, this.transferEncoding is always undefined",2021-02-25 10:24:55+02:00,index.js,https://github.com/andris9/Nodemailer/raw/9b5fb94767c6d9ba0851dc487b5b4a2842cdae75/lib/mime-node/index.js,https://github.com/andris9/Nodemailer/raw/271f91b7a87c7449114a4e29e8321b6d09bdfb77/lib/mime-node/index.js,"@@ -451,7 +451,7 @@ class MimeNode {
                         transferEncoding = this._getTextEncoding(this.content) === 'Q' ? 'quoted-printable' : 'base64';
                     } else {
                         // we can not check content for a stream, so either use preferred encoding or fallback to QP
-                        transferEncoding = this.transferEncoding === 'B' ? 'base64' : 'quoted-printable';
+                        transferEncoding = this.textEncoding === 'B' ? 'base64' : 'quoted-printable';
                     }
                 } else if (!/^(multipart|message)\//i.test(contentType)) {
                     transferEncoding = transferEncoding || 'base64';
",454,transferEncoding = this.transferEncoding === 'B' ? 'base64' : 'quoted-printable';,transferEncoding = this.textEncoding === 'B' ? 'base64' : 'quoted-printable';
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/1d4bf765021598fe2e80015ec0bb86ebe640f267,1d4bf765021598fe2e80015ec0bb86ebe640f267,"Fix typo in qp/index.js

lenght -> length",2022-01-24 19:15:40+02:00,index.js,https://github.com/andris9/Nodemailer/raw/1cb2dc568bb08d55bd308b862d13782172216fb2/lib/qp/index.js,https://github.com/andris9/Nodemailer/raw/1d4bf765021598fe2e80015ec0bb86ebe640f267/lib/qp/index.js,"@@ -149,7 +149,7 @@ function checkRanges(nr, ranges) {
  *
  * @constructor
  * @param {Object} options Stream options
- * @param {Number} [options.lineLength=76] Maximum lenght for lines, set to false to disable wrapping
+ * @param {Number} [options.lineLength=76] Maximum length for lines, set to false to disable wrapping
  */
 class Encoder extends Transform {
     constructor(options) {
",152,"* @param {Number} [options.lineLength=76] Maximum lenght for lines, set to false to disable wrapping","* @param {Number} [options.lineLength=76] Maximum length for lines, set to false to disable wrapping"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/75a1504e10f20156ef2cecefc27e47e588ab2c80,75a1504e10f20156ef2cecefc27e47e588ab2c80,fix: DSN recipient gets ignored,2022-03-21 09:42:16+02:00,index.js,https://github.com/andris9/Nodemailer/raw/97efb04f84dd9eb24d8c80f5f95804b7c38b1d4b/lib/smtp-connection/index.js,https://github.com/andris9/Nodemailer/raw/75a1504e10f20156ef2cecefc27e47e588ab2c80/lib/smtp-connection/index.js,"@@ -1108,7 +1108,7 @@ class SMTPConnection extends EventEmitter {
             notify = notify.join(',');
         }
 
-        let orcpt = (params.orcpt || params.recipient || '').toString() || null;
+        let orcpt = (params.recipient || params.orcpt || '').toString() || null;
         if (orcpt && orcpt.indexOf(';') < 0) {
             orcpt = 'rfc822;' + orcpt;
         }
",1111,let orcpt = (params.orcpt || params.recipient || '').toString() || null;,let orcpt = (params.recipient || params.orcpt || '').toString() || null;
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/6a1381cbf1b293f6ea306f72cde6c252f9a45ec8,6a1381cbf1b293f6ea306f72cde6c252f9a45ec8,"Fix typo in base64/index.js

lenght -> length",2022-05-09 14:51:21+02:00,index.js,https://github.com/andris9/Nodemailer/raw/38e5773826ddc0ab2355557bcd2db38b9e8aac09/lib/base64/index.js,https://github.com/andris9/Nodemailer/raw/6a1381cbf1b293f6ea306f72cde6c252f9a45ec8/lib/base64/index.js,"@@ -51,7 +51,7 @@ function wrap(str, lineLength) {
  *
  * @constructor
  * @param {Object} options Stream options
- * @param {Number} [options.lineLength=76] Maximum lenght for lines, set to false to disable wrapping
+ * @param {Number} [options.lineLength=76] Maximum length for lines, set to false to disable wrapping
  */
 class Encoder extends Transform {
     constructor(options) {
",54,"* @param {Number} [options.lineLength=76] Maximum lenght for lines, set to false to disable wrapping","* @param {Number} [options.lineLength=76] Maximum length for lines, set to false to disable wrapping"
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/585b12a6a040eb89769f73a8e8ff148e4b292706,585b12a6a040eb89769f73a8e8ff148e4b292706,Resolver fixes (#1438),2022-07-06 15:07:51+03:00,index.js,https://github.com/andris9/Nodemailer/raw/3e0578d0c883a65134a5ecec07e775c25a91ec8e/lib/smtp-pool/index.js,https://github.com/andris9/Nodemailer/raw/585b12a6a040eb89769f73a8e8ff148e4b292706/lib/smtp-pool/index.js,"@@ -627,7 +627,7 @@ class SMTPPool extends EventEmitter {
 
                         finalize();
                     });
-                } else if (!auth && connection.allowsAuth) {
+                } else if (!auth && connection.allowsAuth && options.forceAuth) {
                     let err = new Error('Authentication info was not provided');
                     err.code = 'NoAuth';
 
",630,} else if (!auth && connection.allowsAuth) {,} else if (!auth && connection.allowsAuth && options.forceAuth) {
Nodemailer,https://github.com/andris9/Nodemailer,https://github.com/andris9/Nodemailer/commit/8a2acddab3dc1bad6933a85c2303f68db8857f43,8a2acddab3dc1bad6933a85c2303f68db8857f43,fix sendMail function: callback should be optional (#1490),2022-12-08 09:28:29+02:00,index.js,https://github.com/andris9/Nodemailer/raw/b5ab28e2fc586566acb0209e4f577dc44796b68f/lib/mailer/index.js,https://github.com/andris9/Nodemailer/raw/8a2acddab3dc1bad6933a85c2303f68db8857f43/lib/mailer/index.js,"@@ -137,7 +137,7 @@ class Mail extends EventEmitter {
      * @param {Object} data E-data description
      * @param {Function?} callback Callback to run once the sending succeeded or failed
      */
-    sendMail(data, callback) {
+    sendMail(data, callback = null) {
         let promise;
 
         if (!callback) {
",140,"sendMail(data, callback) {","sendMail(data, callback = null) {"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/430fafcf1683d23774772826581acff84b456827,430fafcf1683d23774772826581acff84b456827,argv._ fixed by fixing the coffee detection,2011-02-01 00:01:12-08:00,index.js,https://github.com/bcoe/yargs/raw/343b8afefd98af274ebe21b5a16b3a949ec5429f/index.js,https://github.com/bcoe/yargs/raw/430fafcf1683d23774772826581acff84b456827/index.js,"@@ -2,7 +2,7 @@ module.exports = Argv;
 var path = require('path');
 
 // Hack to work when loaded with CoffeeScript
-if (process.argv.length < 2 || process.argv[0] != 'node') {
+if (process.argv.length < 2 || !process.argv[0].match(/(?:^|\/)node$/)) {
     process.argv = ['coffee', ''].concat(process.argv);
 }
 
",5,if (process.argv.length < 2 || process.argv[0] != 'node') {,if (process.argv.length < 2 || !process.argv[0].match(/(?:^|\/)node$/)) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/79bae938b0acfb603fdbf06b10b4a221ef425ccd,79bae938b0acfb603fdbf06b10b4a221ef425ccd,"fix for alias(key, aliases)",2011-05-15 23:07:10-07:00,index.js,https://github.com/bcoe/yargs/raw/0826c9f462109feab2bc7a99346d22e72bf774b7/index.js,https://github.com/bcoe/yargs/raw/79bae938b0acfb603fdbf06b10b4a221ef425ccd/index.js,"@@ -72,7 +72,7 @@ function Argv (args, cwd) {
         }
         else if (Array.isArray(y)) {
             y.forEach(function (yy) {
-                self.alias(x, y);
+                self.alias(x, yy);
             });
         }
         else {
",75,"self.alias(x, y);","self.alias(x, yy);"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/b01bda8d86e455bbf74ce497864cb8ab5b9fb847,b01bda8d86e455bbf74ce497864cb8ab5b9fb847,[fix test] Update to ensure optimist is aware of default booleans. Associated tests included,2011-06-12 23:53:39-04:00,index.js,https://github.com/bcoe/yargs/raw/aa753e7c54fb3a12f513769a0ff6d54aa0f63943/index.js,https://github.com/bcoe/yargs/raw/b01bda8d86e455bbf74ce497864cb8ab5b9fb847/index.js,"@@ -303,7 +303,7 @@ function Argv (args, cwd) {
     function parseArgs () {
         var argv = { _ : [], $0 : self.$0 };
         Object.keys(flags.bools).forEach(function (key) {
-            setArg(key, false);
+            setArg(key, defaults[key] || false);
         });
         
         function setArg (key, val) {
",306,"setArg(key, false);","setArg(key, defaults[key] || false);"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/775b343c3da0984969031bf2340a13c8567c9304,775b343c3da0984969031bf2340a13c8567c9304,fixed nested object setter test,2011-12-08 21:49:15-08:00,parse.js,https://github.com/bcoe/yargs/raw/8a475b21b8dd0a47d0242da59a07ca84a190f145/test/parse.js,https://github.com/bcoe/yargs/raw/775b343c3da0984969031bf2340a13c8567c9304/test/parse.js,"@@ -315,7 +315,7 @@ exports['nested dotted objects'] = function () {
         baz : 4,
         quux : {
             quibble : 5,
-            quux : { o_O : true },
+            o_O : true
         },
     });
     assert.deepEqual(argv.beep, { boop : true });
",318,"quux : { o_O : true },",o_O : true
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/d09b71980ef711b6cf3918cd19beec8257e40e82,d09b71980ef711b6cf3918cd19beec8257e40e82,"If ""default"" is set to false it was not passed on, fixed.",2011-12-30 22:57:26+01:00,index.js,https://github.com/bcoe/yargs/raw/6e74aa7b46a65773e20c0cb68d2d336d4a0d553d/index.js,https://github.com/bcoe/yargs/raw/d09b71980ef711b6cf3918cd19beec8257e40e82/index.js,"@@ -168,7 +168,7 @@ function Argv (args, cwd) {
         else {
             if (opt.alias) self.alias(key, opt.alias);
             if (opt.demand) self.demand(key);
-            if (opt.default) self.default(key, opt.default);
+            if (typeof opt.default!='undefined') self.default(key, opt.default);
             
             if (opt.boolean || opt.type === 'boolean') {
                 self.boolean(key);
",171,"if (opt.default) self.default(key, opt.default);","if (typeof opt.default!='undefined') self.default(key, opt.default);"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/ee692b37554c70a0bb16389a50a26b66745cbbea,ee692b37554c70a0bb16389a50a26b66745cbbea,"Fix parsing booleans

Closes #71",2012-09-29 16:08:46-07:00,index.js,https://github.com/bcoe/yargs/raw/f28c0e62ca94f6e0bb2e6d82fc3d91a55e69b903/index.js,https://github.com/bcoe/yargs/raw/ee692b37554c70a0bb16389a50a26b66745cbbea/index.js,"@@ -344,7 +344,7 @@ function Argv (args, cwd) {
                     setArg(key, next);
                     i++;
                 }
-                else if (/true|false/.test(next)) {
+                else if (/^(true|false)$/.test(next)) {
                     setArg(key, next === 'true');
                     i++;
                 }
",347,else if (/true|false/.test(next)) {,else if (/^(true|false)$/.test(next)) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/6c7a0ec94ce4199a505f0518b4d6635d4e47cc81,6c7a0ec94ce4199a505f0518b4d6635d4e47cc81,Fix for windows. On windows there is no _ in environment.,2013-04-03 21:07:12-07:00,index.js,https://github.com/bcoe/yargs/raw/372ffadf486c3cc943d5dba91877b5d412195f50/index.js,https://github.com/bcoe/yargs/raw/6c7a0ec94ce4199a505f0518b4d6635d4e47cc81/index.js,"@@ -31,7 +31,7 @@ function Argv (args, cwd) {
         .join(' ')
     ;
     
-    if (process.argv[1] == process.env._) {
+    if (process.env._ != undefined && process.argv[1] == process.env._) {
         self.$0 = process.env._.replace(
             path.dirname(process.execPath) + '/', ''
         );
",34,if (process.argv[1] == process.env._) {,if (process.env._ != undefined && process.argv[1] == process.env._) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/77058c60e23aec690d292857e062ebc41918a363,77058c60e23aec690d292857e062ebc41918a363,fixed dash test,2013-05-18 14:40:51-07:00,dash.js,https://github.com/bcoe/yargs/raw/792600b8325760bbdc4e30262e8f051cbf3e65b5/test/dash.js,https://github.com/bcoe/yargs/raw/77058c60e23aec690d292857e062ebc41918a363/test/dash.js,"@@ -13,7 +13,7 @@ test('-', function (t) {
     );
     t.deepEqual(
         fix(optimist.parse([ '-f-' ])),
-        { f: '-' }
+        { f: '-', _: [] }
     );
 });
 
",16,{ f: '-' },"{ f: '-', _: [] }"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/e655e4d99d1ae1d3695ef755d51c2de08d669761,e655e4d99d1ae1d3695ef755d51c2de08d669761,Fix showing help in certain JS environments.,2013-11-22 16:16:42-07:00,index.js,https://github.com/bcoe/yargs/raw/a746a31cd47c87327028e6ea33762d6187ec5c87/index.js,https://github.com/bcoe/yargs/raw/e655e4d99d1ae1d3695ef755d51c2de08d669761/index.js,"@@ -221,7 +221,7 @@ function Argv (processArgs, cwd) {
     };
     
     self.showHelp = function (fn) {
-        if (!fn) fn = console.error;
+        if (!fn) fn = console.error.bind(console);
         fn(self.help());
     };
     
",224,if (!fn) fn = console.error;,if (!fn) fn = console.error.bind(console);
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/661c67886f479b16254a830b7e1db3be29e6b7a6,661c67886f479b16254a830b7e1db3be29e6b7a6,Fixed an issue with demand not accepting a zero value.,2013-11-22 16:58:25-07:00,index.js,https://github.com/bcoe/yargs/raw/731dd3c37624790490bd6df4d5f1da8f4348279e/index.js,https://github.com/bcoe/yargs/raw/661c67886f479b16254a830b7e1db3be29e6b7a6/index.js,"@@ -386,7 +386,7 @@ function Argv (processArgs, cwd) {
         
         var missing = null;
         Object.keys(demanded).forEach(function (key) {
-            if (!argv[key]) {
+            if (!argv.hasOwnProperty(key)) {
                 missing = missing || {};
                 missing[key] = demanded[key];
             }
",389,if (!argv[key]) {,if (!argv.hasOwnProperty(key)) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/02913606285ce31ce81d7f12c48d8a3029776ec7,02913606285ce31ce81d7f12c48d8a3029776ec7,"fixed tests, switched to nyc for coverage, fixed security issue, added Lin as collaborator",2015-05-16 14:50:38-07:00,usage.js,https://github.com/bcoe/yargs/raw/97e94cb1a958d4b587070422b9e99a4514234e6e/lib/usage.js,https://github.com/bcoe/yargs/raw/02913606285ce31ce81d7f12c48d8a3029776ec7/lib/usage.js,"@@ -106,7 +106,7 @@ module.exports = function (yargs) {
       ),
       ui = cliui({
         width: wrap,
-        wrap: wrap ? true : false
+        wrap: !!wrap
       })
 
     // the usage string.
",109,wrap: wrap ? true : false,wrap: !!wrap
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/e77a8a0719335329e3b87e6f1291828e45d05e06,e77a8a0719335329e3b87e6f1291828e45d05e06,fix for boolean config values,2015-08-05 04:54:30+10:00,parser.js,https://github.com/bcoe/yargs/raw/50ead48e919a3deacffb4e306a11f62fcba31e7b/lib/parser.js,https://github.com/bcoe/yargs/raw/e77a8a0719335329e3b87e6f1291828e45d05e06/lib/parser.js,"@@ -328,7 +328,7 @@ module.exports = function (args, opts, y18n) {
           Object.keys(config).forEach(function (key) {
             // setting arguments via CLI takes precedence over
             // values within the config file.
-            if (argv[key] === undefined) {
+            if (argv[key] === undefined || (flags.bools[key] && !argv[key])) {
               delete argv[key]
               setArg(key, config[key])
             }
",331,if (argv[key] === undefined) {,if (argv[key] === undefined || (flags.bools[key] && !argv[key])) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/75b9f3e867c774d3c034507acdc2354f0e665ff0,75b9f3e867c774d3c034507acdc2354f0e665ff0,update changelog. fix merge conflict,2016-02-13 18:10:01-08:00,validation.js,https://github.com/bcoe/yargs/raw/618abdabae6df315d361fb11781a09e2c5ba964a/lib/validation.js,https://github.com/bcoe/yargs/raw/75b9f3e867c774d3c034507acdc2354f0e665ff0/lib/validation.js,"@@ -107,7 +107,7 @@ module.exports = function (yargs, usage, y18n) {
     var aliasLookup = {}
     var descriptions = usage.getDescriptions()
     var demanded = yargs.getDemanded()
-    var commandKeys = yargs.getCommandHandlers()
+    var commandKeys = yargs.getCommandInstance().getCommands()
     var unknown = []
 
     Object.keys(aliases).forEach(function (key) {
",110,var commandKeys = yargs.getCommandHandlers(),var commandKeys = yargs.getCommandInstance().getCommands()
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/8d7585c385d35d85ca5d8ddf641f7b24e70c032d,8d7585c385d35d85ca5d8ddf641f7b24e70c032d,"fix: add config lookup for .implies() (#556)

* WIP: add config lookup for .implies()

* further improvements for making implies() config aware

* directly look up configuration via yargs object again

* tune logic in validation.js to check for configuration

* fix config lookup for .implies() + test",2016-07-16 16:00:08-07:00,yargs.js,https://github.com/bcoe/yargs/raw/3c2e4791a38967f554412c1b8abd6dae30cb3985/yargs.js,https://github.com/bcoe/yargs/raw/8d7585c385d35d85ca5d8ddf641f7b24e70c032d/yargs.js,"@@ -636,7 +636,7 @@ function Yargs (processArgs, cwd, parentRequire) {
 
   function parseArgs (args, shortCircuit) {
     options.__ = y18n.__
-    options.configuration = pkgUp()['yargs'] || {}
+    options.configuration = pkgUp(cwd)['yargs'] || {}
     const parsed = Parser.detailed(args, options)
     const argv = parsed.argv
     var aliases = parsed.aliases
",639,options.configuration = pkgUp()['yargs'] || {},options.configuration = pkgUp(cwd)['yargs'] || {}
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/658a34c44b568c85146e388c05623ae7fcb8a2f9,658a34c44b568c85146e388c05623ae7fcb8a2f9,"fix: for args that have skipValidation set to `true`, check if the parsed arg is `true` (#619)

* For args that have skipValidation set to `true`, check if the parsed arg is `true`

When an arg is defined, it will always exist in the parsed argv. Thus, validation would always be skipped, regardless of whether an arg that has `skipValidation` set to `true` is actually passed on the command line. This commit checks to see if the parsed argv value is actually set to true.

* Added test for `skipValidation` fix",2016-09-29 23:33:01-07:00,yargs.js,https://github.com/bcoe/yargs/raw/0be7bf35c1a6aba3eb4c0b57b07ab85c8cd4d3c5/yargs.js,https://github.com/bcoe/yargs/raw/658a34c44b568c85146e388c05623ae7fcb8a2f9/yargs.js,"@@ -824,7 +824,7 @@ function Yargs (processArgs, cwd, parentRequire) {
     // Check if any of the options to skip validation were provided
     if (!skipValidation && options.skipValidation.length > 0) {
       skipValidation = Object.keys(argv).some(function (key) {
-        return options.skipValidation.indexOf(key) >= 0
+        return options.skipValidation.indexOf(key) >= 0 && argv[key] === true
       })
     }
 
",827,return options.skipValidation.indexOf(key) >= 0,return options.skipValidation.indexOf(key) >= 0 && argv[key] === true
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/9bdaab7ebffbfb70e76fa4067c3cafb4a700ef10,9bdaab7ebffbfb70e76fa4067c3cafb4a700ef10,fix: do not use cwd when resolving package.json for yargs parsing config (#726),2016-12-05 20:12:00-08:00,yargs.js,https://github.com/bcoe/yargs/raw/51af0a640ba3df0f86b9ed1dd01ade018af6b279/yargs.js,https://github.com/bcoe/yargs/raw/9bdaab7ebffbfb70e76fa4067c3cafb4a700ef10/yargs.js,"@@ -818,7 +818,7 @@ function Yargs (processArgs, cwd, parentRequire) {
 
   function parseArgs (args, shortCircuit) {
     options.__ = y18n.__
-    options.configuration = pkgUp(cwd)['yargs'] || {}
+    options.configuration = pkgUp()['yargs'] || {}
     const parsed = Parser.detailed(args, options)
     var argv = parsed.argv
     if (parseContext) argv = assign(parseContext, argv)
",821,options.configuration = pkgUp(cwd)['yargs'] || {},options.configuration = pkgUp()['yargs'] || {}
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/2e5ce0fa711446c99f2ec3c2741e63bb656189a8,2e5ce0fa711446c99f2ec3c2741e63bb656189a8,fix: address min/max validation message regression (#750),2017-01-09 21:10:05-08:00,yargs.js,https://github.com/bcoe/yargs/raw/8de8272a8c4a7b96da4c93d166f2fc063956c64e/yargs.js,https://github.com/bcoe/yargs/raw/2e5ce0fa711446c99f2ec3c2741e63bb656189a8/yargs.js,"@@ -318,7 +318,7 @@ function Yargs (processArgs, cwd, parentRequire) {
     }
 
     if (typeof keys === 'number') {
-      self.demandCommand(keys, max, msg)
+      self.demandCommand(keys, max, msg, msg)
     } else if (Array.isArray(keys)) {
       keys.forEach(function (key) {
         self.demandOption(key, msg)
",321,"self.demandCommand(keys, max, msg)","self.demandCommand(keys, max, msg, msg)"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/09972884e18e3dd7f29a1267dfa690503c4a40f0,09972884e18e3dd7f29a1267dfa690503c4a40f0,"fix: context should override parsed argv (#786)

BREAKING CHANGE: context now takes precedence over argv and defaults",2017-02-26 09:53:21-06:00,yargs.js,https://github.com/bcoe/yargs/raw/a8528e6a6cace86b240c6a7e9245e8ca636161b2/yargs.js,https://github.com/bcoe/yargs/raw/09972884e18e3dd7f29a1267dfa690503c4a40f0/yargs.js,"@@ -935,7 +935,7 @@ function Yargs (processArgs, cwd, parentRequire) {
     options.configuration = pkgUp()['yargs'] || {}
     const parsed = Parser.detailed(args, options)
     var argv = parsed.argv
-    if (parseContext) argv = assign(parseContext, argv)
+    if (parseContext) argv = assign(argv, parseContext)
     var aliases = parsed.aliases
 
     argv.$0 = self.$0
",938,"if (parseContext) argv = assign(parseContext, argv)","if (parseContext) argv = assign(argv, parseContext)"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/07e39b79dbaf64cb03d05ea23e0741b3b80b1fcb,07e39b79dbaf64cb03d05ea23e0741b3b80b1fcb,fix: running parse() multiple times on the same yargs instance caused exception if help() enabled (#790),2017-02-26 09:53:21-06:00,yargs.js,https://github.com/bcoe/yargs/raw/48575cd50d53818491d48aeaec84436be51c4085/yargs.js,https://github.com/bcoe/yargs/raw/07e39b79dbaf64cb03d05ea23e0741b3b80b1fcb/yargs.js,"@@ -967,7 +967,7 @@ function Yargs (processArgs, cwd, parentRequire) {
         // consider any multi-char helpOpt alias as a valid help command
         // unless all helpOpt aliases are single-char
         // note that parsed.aliases is a normalized bidirectional map :)
-        var helpCmds = [helpOpt].concat(aliases[helpOpt])
+        var helpCmds = [helpOpt].concat(aliases[helpOpt] || [])
         var multiCharHelpCmds = helpCmds.filter(function (k) {
           return k.length > 1
         })
",970,var helpCmds = [helpOpt].concat(aliases[helpOpt]),var helpCmds = [helpOpt].concat(aliases[helpOpt] || [])
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/8a992f535e395e0994afdfebf5c40b5838b5280d,8a992f535e395e0994afdfebf5c40b5838b5280d,fix: errors were not bubbling appropriately from sub-commands to top-level (#802),2017-02-26 09:53:21-06:00,command.js,https://github.com/bcoe/yargs/raw/07e39b79dbaf64cb03d05ea23e0741b3b80b1fcb/lib/command.js,https://github.com/bcoe/yargs/raw/8a992f535e395e0994afdfebf5c40b5838b5280d/lib/command.js,"@@ -180,7 +180,7 @@ module.exports = function (yargs, usage, validation) {
 
     // we apply validation post-hoc, so that custom
     // checks get passed populated positional arguments.
-    yargs._runValidation(innerArgv, aliases, positionalMap)
+    yargs._runValidation(innerArgv, aliases, positionalMap, yargs.parsed.error)
 
     if (commandHandler.handler && !yargs._hasOutput()) {
       commandHandler.handler(innerArgv)
",183,"yargs._runValidation(innerArgv, aliases, positionalMap)","yargs._runValidation(innerArgv, aliases, positionalMap, yargs.parsed.error)"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/9c03fa497bd15111fac9d0592f14a89cc7982ddf,9c03fa497bd15111fac9d0592f14a89cc7982ddf,fix: --help with default command should print top-level help (#810),2017-03-02 19:03:43-05:00,yargs.js,https://github.com/bcoe/yargs/raw/53343705064194b2b9261b128d3feb47f20efe72/yargs.js,https://github.com/bcoe/yargs/raw/9c03fa497bd15111fac9d0592f14a89cc7982ddf/yargs.js,"@@ -1011,7 +1011,7 @@ function Yargs (processArgs, cwd, parentRequire) {
           self.showCompletionScript()
           self.exit(0)
         }
-      } else if (command.hasDefaultCommand()) {
+      } else if (command.hasDefaultCommand() && !argv[helpOpt]) {
         setPlaceholderKeys(argv)
         return command.runCommand(null, self, parsed)
       }
",1014,} else if (command.hasDefaultCommand()) {,} else if (command.hasDefaultCommand() && !argv[helpOpt]) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/82c7a4e2ba300abae72c1283b0bb37aed74d1fca,82c7a4e2ba300abae72c1283b0bb37aed74d1fca,"use console.log instead of util.print, fix #813",2017-03-05 10:35:20-08:00,bool.js,https://github.com/bcoe/yargs/raw/4df3a109288b166b51ba6aa497138495a5af6eed/example/bool.js,https://github.com/bcoe/yargs/raw/82c7a4e2ba300abae72c1283b0bb37aed74d1fca/example/bool.js,"@@ -3,7 +3,7 @@ var util = require('util');
 var argv = require('yargs').argv;
 
 if (argv.s) {
-    util.print(argv.fr ? 'Le chat dit: ' : 'The cat says: ');
+    console.log(argv.fr ? 'Le chat dit: ' : 'The cat says: ');
 }
 console.log(
     (argv.fr ? 'miaou' : 'meow') + (argv.p ? '.' : '')
",6,util.print(argv.fr ? 'Le chat dit: ' : 'The cat says: ');,console.log(argv.fr ? 'Le chat dit: ' : 'The cat says: ');
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/b3eb2fe5d994b8273f10fe7cbca80d26bc0459a7,b3eb2fe5d994b8273f10fe7cbca80d26bc0459a7,fix: populating placeholder arguments broke validation,2017-03-09 18:04:23-08:00,validation.js,https://github.com/bcoe/yargs/raw/82c7a4e2ba300abae72c1283b0bb37aed74d1fca/lib/validation.js,https://github.com/bcoe/yargs/raw/b3eb2fe5d994b8273f10fe7cbca80d26bc0459a7/lib/validation.js,"@@ -89,7 +89,7 @@ module.exports = function (yargs, usage, y18n) {
     var missing = null
 
     Object.keys(demandedOptions).forEach(function (key) {
-      if (!argv.hasOwnProperty(key)) {
+      if (!argv.hasOwnProperty(key) || typeof argv[key] === 'undefined') {
         missing = missing || {}
         missing[key] = demandedOptions[key]
       }
",92,if (!argv.hasOwnProperty(key)) {,if (!argv.hasOwnProperty(key) || typeof argv[key] === 'undefined') {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/c748dd21ff090db1ce636dae5c5cdf1d867692aa,c748dd21ff090db1ce636dae5c5cdf1d867692aa,fix: fix demandOption no longer treats 'false' as truthy (#829),2017-03-21 22:42:29-07:00,yargs.js,https://github.com/bcoe/yargs/raw/e0b4efb08c2e17f2682ccd66c509424f6a190213/yargs.js,https://github.com/bcoe/yargs/raw/c748dd21ff090db1ce636dae5c5cdf1d867692aa/yargs.js,"@@ -567,7 +567,7 @@ function Yargs (processArgs, cwd, parentRequire) {
         self.demand(key, demand)
       }
 
-      if ('demandOption' in opt) {
+      if (opt.demandOption) {
         self.demandOption(key, typeof opt.demandOption === 'string' ? opt.demandOption : undefined)
       }
 
",570,if ('demandOption' in opt) {,if (opt.demandOption) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/360e3019de266ee04f85e2baf21ce18f8b48cdc1,360e3019de266ee04f85e2baf21ce18f8b48cdc1,fix: get terminalWidth in non interactive mode no longer causes a validation exception (#837),2017-03-29 21:51:02-07:00,yargs.js,https://github.com/bcoe/yargs/raw/fde0564f4d7275e8ed09684ebf02d606d2ad8569/yargs.js,https://github.com/bcoe/yargs/raw/360e3019de266ee04f85e2baf21ce18f8b48cdc1/yargs.js,"@@ -922,7 +922,7 @@ function Yargs (processArgs, cwd, parentRequire) {
 
   self.terminalWidth = function () {
     argsert([], 0)
-    return process.stdout.columns
+    return typeof process.stdout.columns !== 'undefined' ? process.stdout.columns : null
   }
 
   Object.defineProperty(self, 'argv', {
",925,return process.stdout.columns,return typeof process.stdout.columns !== 'undefined' ? process.stdout.columns : null
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/17e356700bfacbb88f98ab2006ed5c43bd04c5dc,17e356700bfacbb88f98ab2006ed5c43bd04c5dc,fix: help now takes precedence over command recommendation (#866),2017-04-30 22:06:28-07:00,yargs.js,https://github.com/bcoe/yargs/raw/89456d994216466da2be929d81d3fb936005ae96/yargs.js,https://github.com/bcoe/yargs/raw/17e356700bfacbb88f98ab2006ed5c43bd04c5dc/yargs.js,"@@ -1002,7 +1002,7 @@ function Yargs (processArgs, cwd, parentRequire) {
 
           // recommend a command if recommendCommands() has
           // been enabled, and no commands were found to execute
-          if (recommendCommands && firstUnknownCommand) {
+          if (recommendCommands && firstUnknownCommand && !argv[helpOpt]) {
             validation.recommendCommands(firstUnknownCommand, handlerKeys)
           }
         }
",1005,if (recommendCommands && firstUnknownCommand) {,if (recommendCommands && firstUnknownCommand && !argv[helpOpt]) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/628be21f4300852fb3f905264b222673fbd160f3,628be21f4300852fb3f905264b222673fbd160f3,fix: don't bother calling JSON.stringify() on string default values (#891),2017-06-26 18:33:52-04:00,usage.js,https://github.com/bcoe/yargs/raw/30a18720759163ec1a5f6ca54ecb9e089da8b5a0/lib/usage.js,https://github.com/bcoe/yargs/raw/628be21f4300852fb3f905264b222673fbd160f3/lib/usage.js,"@@ -413,7 +413,7 @@ module.exports = function (yargs, y18n) {
     } else {
       switch (typeof value) {
         case 'string':
-          string += JSON.stringify(value)
+          string += '""' + value + '""'
           break
         case 'object':
           string += JSON.stringify(value)
",416,string += JSON.stringify(value),"string += '""' + value + '""'"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/086d662f6a904b375c557521f18d12b092ac82f8,086d662f6a904b375c557521f18d12b092ac82f8,Move fix from yargs.js to validation.js,2017-07-04 17:05:41-07:00,yargs.js,https://github.com/bcoe/yargs/raw/094ce28b3c01a741f67b95377226d706c1377fb6/yargs.js,https://github.com/bcoe/yargs/raw/086d662f6a904b375c557521f18d12b092ac82f8/yargs.js,"@@ -594,7 +594,7 @@ function Yargs (processArgs, cwd, parentRequire) {
         self.normalize(key)
       }
 
-      if ('choices' in opt && (opt.demandOption || (!('demandOption' in opt) && (opt.describe || opt.description || opt.desc)))) {
+      if ('choices' in opt) {
         self.choices(key, opt.choices)
       }
 
",597,if ('choices' in opt && (opt.demandOption || (!('demandOption' in opt) && (opt.describe || opt.description || opt.desc)))) {,if ('choices' in opt) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/3c8ac1ddd79cc7adc2fc0214318c7b23d98f613c,3c8ac1ddd79cc7adc2fc0214318c7b23d98f613c,fix: use correct completion command in generated completion script (#988),2017-10-18 16:03:33-07:00,yargs.js,https://github.com/bcoe/yargs/raw/8515e4f5683fb783e6f6f994973207b553e527d5/yargs.js,https://github.com/bcoe/yargs/raw/3c8ac1ddd79cc7adc2fc0214318c7b23d98f613c/yargs.js,"@@ -861,7 +861,7 @@ function Yargs (processArgs, cwd, parentRequire) {
   self.showCompletionScript = function ($0) {
     argsert('[string]', [$0], arguments.length)
     $0 = $0 || self.$0
-    _logger.log(completion.generateCompletionScript($0))
+    _logger.log(completion.generateCompletionScript($0, completionCommand))
     return self
   }
 
",864,_logger.log(completion.generateCompletionScript($0)),"_logger.log(completion.generateCompletionScript($0, completionCommand))"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/78713274d5b911bfa8638544a33cd826c792a5b6,78713274d5b911bfa8638544a33cd826c792a5b6,fix: fix tiny spacing issue with usage (#992),2017-10-20 18:44:33-07:00,command.js,https://github.com/bcoe/yargs/raw/d1cbc75c6491e52c1236a7b67b1718a0017f00ea/lib/command.js,https://github.com/bcoe/yargs/raw/78713274d5b911bfa8638544a33cd826c792a5b6/lib/command.js,"@@ -244,7 +244,7 @@ module.exports = function command (yargs, usage, validation) {
   }
 
   function usageFromParentCommandsCommandHandler (parentCommands, commandHandler) {
-    const c = DEFAULT_MARKER.test(commandHandler.original) ? commandHandler.original.replace(DEFAULT_MARKER, '') : commandHandler.original
+    const c = DEFAULT_MARKER.test(commandHandler.original) ? commandHandler.original.replace(DEFAULT_MARKER, '').trim() : commandHandler.original
     const pc = parentCommands.filter((c) => { return !DEFAULT_MARKER.test(c) })
     pc.push(c)
     return `$0 ${pc.join(' ')}`
",247,"const c = DEFAULT_MARKER.test(commandHandler.original) ? commandHandler.original.replace(DEFAULT_MARKER, '') : commandHandler.original","const c = DEFAULT_MARKER.test(commandHandler.original) ? commandHandler.original.replace(DEFAULT_MARKER, '').trim() : commandHandler.original"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/c679e907d1a19d0858698fdd9fa882d10c4ba5a3,c679e907d1a19d0858698fdd9fa882d10c4ba5a3,fix: 'undefined' should be taken to mean no argument was provided (#1015),2017-12-17 21:25:46-08:00,validation.js,https://github.com/bcoe/yargs/raw/a70b285c0f163a000f38be3e70d5f6c21af635f0/lib/validation.js,https://github.com/bcoe/yargs/raw/c679e907d1a19d0858698fdd9fa882d10c4ba5a3/lib/validation.js,"@@ -57,7 +57,7 @@ module.exports = function validation (yargs, usage, y18n) {
   // make sure that any args that require an
   // value (--foo=bar), have a value.
   self.missingArgumentValue = function missingArgumentValue (argv) {
-    const defaultValues = [true, false, '']
+    const defaultValues = [true, false, '', undefined]
     const options = yargs.getOptions()
 
     if (options.requiresArg.length > 0) {
",60,"const defaultValues = [true, false, '']","const defaultValues = [true, false, '', undefined]"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3,f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3,fix: .argv and .parse() now invoke identical code path (#1126),2018-05-10 08:53:18-07:00,issue-497.js,https://github.com/bcoe/yargs/raw/458e89475b14f43669e0da778de16a819bc42b49/test/fixtures/issue-497.js,https://github.com/bcoe/yargs/raw/f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3/test/fixtures/issue-497.js,"@@ -14,6 +14,6 @@ for (var i = 0; i < 1000; i++) {
   })
 }
 
-y.argv
+y.parse()
 
 console.log('never get here')
",17,y.argv,y.parse()
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3,f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3,fix: .argv and .parse() now invoke identical code path (#1126),2018-05-10 08:53:18-07:00,opt-assignment-and-positional-command-arg.js,https://github.com/bcoe/yargs/raw/458e89475b14f43669e0da778de16a819bc42b49/test/fixtures/opt-assignment-and-positional-command-arg.js,https://github.com/bcoe/yargs/raw/f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3/test/fixtures/opt-assignment-and-positional-command-arg.js,"@@ -11,4 +11,4 @@ require('../../index')
       console.log(JSON.stringify({ _: argv._, foo: argv.foo, baz: argv.baz }))
     }
   )
-  .argv
+  .parse()
",14,.argv,.parse()
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3,f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3,fix: .argv and .parse() now invoke identical code path (#1126),2018-05-10 08:53:18-07:00,middleware.js,https://github.com/bcoe/yargs/raw/458e89475b14f43669e0da778de16a819bc42b49/test/middleware.js,https://github.com/bcoe/yargs/raw/f13ebf4314225bdd9abb2b117cfb7fec0efaf1a3/test/middleware.js,"@@ -51,6 +51,6 @@ describe('middleware', () => {
         }
       )
       .exitProcess(false) // defaults to true.
-      .argv
+      .parse()
   })
 })
",54,.argv,.parse()
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/f449aead59f44f826cbcf570cf849c4a59c79c81,f449aead59f44f826cbcf570cf849c4a59c79c81,fix: translation not working when using __ with a single parameter (#1183),2018-08-11 15:27:15-07:00,validation.js,https://github.com/bcoe/yargs/raw/664b265de038b80677fb2912f8840bc3c7fb98c8/lib/validation.js,https://github.com/bcoe/yargs/raw/f449aead59f44f826cbcf570cf849c4a59c79c81/lib/validation.js,"@@ -292,7 +292,7 @@ module.exports = function validation (yargs, usage, y18n) {
           // we default keys to 'undefined' that have been configured, we should not
           // apply conflicting check unless they are a value other than 'undefined'.
           if (value && argv[key] !== undefined && argv[value] !== undefined) {
-            usage.fail(__(`Arguments ${key} and ${value} are mutually exclusive`))
+            usage.fail(__('Arguments %s and %s are mutually exclusive', key, value))
           }
         })
       }
",295,usage.fail(__(`Arguments ${key} and ${value} are mutually exclusive`)),"usage.fail(__('Arguments %s and %s are mutually exclusive', key, value))"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/0510fe6a617fc8af77aa205e44feaa5226e9643c,0510fe6a617fc8af77aa205e44feaa5226e9643c,fix(validation): Use the error as a message when none exists otherwise (#1268),2019-01-11 13:45:51-08:00,yargs.js,https://github.com/bcoe/yargs/raw/27bf73923423dbe84dd2fd282fdd31d26bdb6cee/yargs.js,https://github.com/bcoe/yargs/raw/0510fe6a617fc8af77aa205e44feaa5226e9643c/yargs.js,"@@ -1152,7 +1152,7 @@ function Yargs (processArgs, cwd, parentRequire) {
   }
 
   self._runValidation = function runValidation (argv, aliases, positionalMap, parseErrors) {
-    if (parseErrors) throw new YError(parseErrors.message)
+    if (parseErrors) throw new YError(parseErrors.message || parseErrors)
     validation.nonOptionCount(argv)
     validation.requiredArguments(argv)
     if (strict) validation.unknownArguments(argv, aliases, positionalMap)
",1155,if (parseErrors) throw new YError(parseErrors.message),if (parseErrors) throw new YError(parseErrors.message || parseErrors)
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/35d777c8db9548763a8f00c95bbd56a9c0f31084,35d777c8db9548763a8f00c95bbd56a9c0f31084,fix!: do not allow additional positionals in strict mode,2019-06-16 13:31:47-07:00,validation.js,https://github.com/bcoe/yargs/raw/59739e6865d5736e32a250872bfe809e4bc1f1e9/lib/validation.js,https://github.com/bcoe/yargs/raw/35d777c8db9548763a8f00c95bbd56a9c0f31084/lib/validation.js,"@@ -102,7 +102,7 @@ module.exports = function validation (yargs, usage, y18n) {
       }
     })
 
-    if (commandKeys.length > 0) {
+    if ((currentContext.commands.length > 0) || (commandKeys.length > 0)) {
       argv._.slice(currentContext.commands.length).forEach((key) => {
         if (commandKeys.indexOf(key) === -1) {
           unknown.push(key)
",105,if (commandKeys.length > 0) {,if ((currentContext.commands.length > 0) || (commandKeys.length > 0)) {
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/3d26d114148118763b37886da32ee2ee2af2d8dc,3d26d114148118763b37886da32ee2ee2af2d8dc,"fix: tolerate null prototype for config objects with `extends` (#1376)

Fixes #1372",2019-07-23 14:20:12-07:00,apply-extends.js,https://github.com/bcoe/yargs/raw/015eeb9eec7f89c74140722c9587e334e6596f82/lib/apply-extends.js,https://github.com/bcoe/yargs/raw/3d26d114148118763b37886da32ee2ee2af2d8dc/lib/apply-extends.js,"@@ -19,7 +19,7 @@ function getPathToDefaultConfig (cwd, pathToExtend) {
 function applyExtends (config, cwd) {
   let defaultConfig = {}
 
-  if (config.hasOwnProperty('extends')) {
+  if (Object.prototype.hasOwnProperty.call(config, 'extends')) {
     if (typeof config.extends !== 'string') return defaultConfig
     const isPath = /\.json|\..*rc$/.test(config.extends)
     let pathToDefault = null
",22,if (config.hasOwnProperty('extends')) {,"if (Object.prototype.hasOwnProperty.call(config, 'extends')) {"
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/0be43d2e1bfa0a485a13d0bbf4aa02bd4a05d4dd,0be43d2e1bfa0a485a13d0bbf4aa02bd4a05d4dd,"fix: fix promise check to accept any spec conform object (#1424)

An instanceof check only accept promises which are created using the `Promise`
constructor. But there are other libraries which their own contructors. These
promises should also work as long as they adhere to the spec.",2019-09-18 14:51:45+02:00,is-promise.js,https://github.com/bcoe/yargs/raw/afaf6d38aad3cc016f130faa1ebafc165807fade/lib/is-promise.js,https://github.com/bcoe/yargs/raw/0be43d2e1bfa0a485a13d0bbf4aa02bd4a05d4dd/lib/is-promise.js,"@@ -1,3 +1,3 @@
 module.exports = function isPromise (maybePromise) {
-  return maybePromise instanceof Promise
+  return !!maybePromise && !!maybePromise.then && (typeof maybePromise.then === 'function')
 }
",2,return maybePromise instanceof Promise,return !!maybePromise && !!maybePromise.then && (typeof maybePromise.then === 'function')
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/63b3dd31a455d428902220c1992ae930e18aff5c,63b3dd31a455d428902220c1992ae930e18aff5c,"fix: show 2 dashes on help for single digit option key or alias (#1493)

To be coherent with what yargs/parser considers as a single dash key",2019-12-02 12:16:20+01:00,usage.js,https://github.com/bcoe/yargs/raw/490f6015ce53a74e9e55545b673ea35bbd214145/lib/usage.js,https://github.com/bcoe/yargs/raw/63b3dd31a455d428902220c1992ae930e18aff5c/lib/usage.js,"@@ -272,7 +272,7 @@ module.exports = function usage (yargs, y18n) {
             // for the special positional group don't
             // add '--' or '-' prefix.
             if (groupName === self.getPositionalGroupName()) return sw
-            else return (sw.length > 1 ? '--' : '-') + sw
+            else return (/^[^0-9]$/.test(sw) ? '-' : '--') + sw
           })
           .join(', ')
 
",275,else return (sw.length > 1 ? '--' : '-') + sw,else return (/^[^0-9]$/.test(sw) ? '-' : '--') + sw
yargs,https://github.com/bcoe/yargs,https://github.com/bcoe/yargs/commit/69f29a9cd429d4bb99481238305390107ac75b02,69f29a9cd429d4bb99481238305390107ac75b02,fix(strict mode): report default command unknown arguments (#1626),2020-05-09 17:19:36-07:00,command.js,https://github.com/bcoe/yargs/raw/59a5a565c8dcbe48f8f95b528c2e1296fc2b86c5/lib/command.js,https://github.com/bcoe/yargs/raw/69f29a9cd429d4bb99481238305390107ac75b02/lib/command.js,"@@ -197,7 +197,7 @@ module.exports = function command (yargs, usage, validation, globalMiddleware) {
 
     // we apply validation post-hoc, so that custom
     // checks get passed populated positional arguments.
-    if (!yargs._hasOutput()) yargs._runValidation(innerArgv, aliases, positionalMap, yargs.parsed.error)
+    if (!yargs._hasOutput()) yargs._runValidation(innerArgv, aliases, positionalMap, yargs.parsed.error, !command)
 
     if (commandHandler.handler && !yargs._hasOutput()) {
       yargs._setHasOutput()
",200,"if (!yargs._hasOutput()) yargs._runValidation(innerArgv, aliases, positionalMap, yargs.parsed.error)","if (!yargs._hasOutput()) yargs._runValidation(innerArgv, aliases, positionalMap, yargs.parsed.error, !command)"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/74a33576bf37c55ea95293793a5bafc7ba92e212,74a33576bf37c55ea95293793a5bafc7ba92e212,fix nested em/strong,2011-08-21 15:27:20-05:00,marked.js,https://github.com/chjj/marked/raw/575ef30072818aaca29305651a5bcdeb8575d8d4/lib/marked.js,https://github.com/chjj/marked/raw/74a33576bf37c55ea95293793a5bafc7ba92e212/lib/marked.js,"@@ -211,7 +211,7 @@ var inline = {
   tag: /^<[^\n>]+>/,
   link: /^!?\[([^\]]+)\] *\(([^\)]*)\)/,
   reflink: /^!?\[([^\]]+)\] *\[([^\]]*)\]/,
-  strong: /^__([\s\S]+?)__|^\*\*([\s\S]+?)\*\*/,
+  strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
   em: /^_([^_]+)_|^\*([^*]+)\*/,
   code: /^`([^`]+)`|^``([\s\S]+?)``/
 };
",214,"strong: /^__([\s\S]+?)__|^\*\*([\s\S]+?)\*\*/,","strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/e0e51ac79be762370c9a27d943d461645167968a,e0e51ac79be762370c9a27d943d461645167968a,fix hr rule,2011-08-21 17:00:42-05:00,marked.js,https://github.com/chjj/marked/raw/6bd248f6cac51f40a4efb63e7ff17d966d7b46eb/lib/marked.js,https://github.com/chjj/marked/raw/e0e51ac79be762370c9a27d943d461645167968a/lib/marked.js,"@@ -19,7 +19,7 @@ var block = {
   block: /^ {4,}[^\n]*(?:\n {4,}[^\n]*|\n)*(?=\n|$)/,
 
 
-  hr: /^( *[\-*_]){3,}/,
+  hr: /^( *[\-*_]){3,} *\n/,
   heading: /^ *(#{1,6}) *([^\n#]*) *#*/,
   lheading: /^([^\n]+)\n *(=|-){3,}/,
   blockquote: /^ *>[^\n]*(?:\n *>[^\n]*)*/,
",22,"hr: /^( *[\-*_]){3,}/,","hr: /^( *[\-*_]){3,} *\n/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/79cbf5fd0095afa1eeb73221940070a11d1c8c1b,79cbf5fd0095afa1eeb73221940070a11d1c8c1b,fix angle links,2011-08-22 14:34:28-05:00,marked.js,https://github.com/chjj/marked/raw/5bb311e1f3731934a3896a9b73109077f4969133/lib/marked.js,https://github.com/chjj/marked/raw/79cbf5fd0095afa1eeb73221940070a11d1c8c1b/lib/marked.js,"@@ -272,7 +272,7 @@ inline.lexer = function(str) {
             break;
           }
         } else {
-          text = /^\s*<?([^\s]*)>?(?:\s+""([^\n]+)"")?\s*$/.exec(cap[2]);
+          text = /^\s*<?([^\s]*?)>?(?:\s+""([^\n]+)"")?\s*$/.exec(cap[2]);
           link = {
             href: text[1],
             title: text[2]
",275,"text = /^\s*<?([^\s]*)>?(?:\s+""([^\n]+)"")?\s*$/.exec(cap[2]);","text = /^\s*<?([^\s]*?)>?(?:\s+""([^\n]+)"")?\s*$/.exec(cap[2]);"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/83ff21de3cc2efa7f9d92d44dde680103c83d28d,83ff21de3cc2efa7f9d92d44dde680103c83d28d,ie8 doesn't understand &apos; does stupid things.  This should fix it.,2012-02-02 17:25:17-06:00,marked.js,https://github.com/chjj/marked/raw/2292d64c41172219fde80b23ff951a9841e145ab/lib/marked.js,https://github.com/chjj/marked/raw/83ff21de3cc2efa7f9d92d44dde680103c83d28d/lib/marked.js,"@@ -611,7 +611,7 @@ var escape = function(html, encode) {
     .replace(/</g, '&lt;')
     .replace(/>/g, '&gt;')
     .replace(/""/g, '&quot;')
-    .replace(/'/g, '&apos;');
+    .replace(/'/g, '&#39;');
 };
 
 var mangle = function(text) {
",614,".replace(/'/g, '&apos;');",".replace(/'/g, '&#39;');"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/92aaea8fe5181f2cf5ffa313b339d77e252b04d2,92aaea8fe5181f2cf5ffa313b339d77e252b04d2,"nested underscore ems, fix tests",2012-02-16 12:18:07-06:00,marked.js,https://github.com/chjj/marked/raw/852165f387f516ae790c4a643b6c9db10afe528b/lib/marked.js,https://github.com/chjj/marked/raw/92aaea8fe5181f2cf5ffa313b339d77e252b04d2/lib/marked.js,"@@ -298,7 +298,7 @@ var inline = {
   reflink: /^!?\[((?:\[[^\]]*\]|[^\[\]]|\[|\](?=[^[\]]*\]))*)\]\s*\[([^\]]*)\]/,
   nolink: /^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
   strong: /^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,
-  em: /^\b_([^\0]+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,
+  em: /^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,
   code: /^(`+)([^\0]*?[^`])\1(?!`)/,
   br: /^ {2,}\n(?!\s*$)/,
   text: /^[^\0]+?(?=[\\<!\[_*`]|\w+:\/\/| {2,}\n|$)/
",301,"em: /^\b_([^\0]+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,","em: /^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/05dc64b9daae95d58d800b3cc48f585ca658dbfc,05dc64b9daae95d58d800b3cc48f585ca658dbfc,"Avoid creating two paragraphs on autolink. Fixes #63.

This has implications for XML namespaced elements, which were
originally always treated as block elements by the top-level paragraph
rule. As a side-effect of this commit, they are now always considered
inline.",2012-07-13 11:29:05-05:00,marked.js,https://github.com/chjj/marked/raw/d49ab2c6f50775af23b51e6c01b6057703c71475/lib/marked.js,https://github.com/chjj/marked/raw/05dc64b9daae95d58d800b3cc48f585ca658dbfc/lib/marked.js,"@@ -55,7 +55,7 @@ block.paragraph = (function() {
   ('heading')
   ('lheading')
   ('blockquote')
-  ('<' + tag())
+  ('<' + tag() + '[\\s>]')
   ('def');
 
   return new
",58,('<' + tag()),('<' + tag() + '[\\s>]')
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/995cb0ca008af397233421772ec6a07bc1bcca6e,995cb0ca008af397233421772ec6a07bc1bcca6e,fix options merge.,2013-01-09 13:43:36-06:00,marked.js,https://github.com/chjj/marked/raw/229c3a116343ab555da93d9616f699dd9d2ee024/lib/marked.js,https://github.com/chjj/marked/raw/995cb0ca008af397233421772ec6a07bc1bcca6e/lib/marked.js,"@@ -1012,7 +1012,7 @@ function marked(src, opt) {
 
 marked.options =
 marked.setOptions = function(opt) {
-  marked.defaults = merge(opt, marked.defaults);
+  merge(marked.defaults, opt);
   return marked;
 };
 
",1015,"marked.defaults = merge(opt, marked.defaults);","merge(marked.defaults, opt);"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/48e766a90e17c66be082f1424d517726f88ef437,48e766a90e17c66be082f1424d517726f88ef437,"Trim inline code. Fixes #69.

The inline code regex itself could also simply have \s* prepended
and appended to outside the main capture. However, this results
in less accurate behavior.",2013-01-09 14:12:23-06:00,marked.js,https://github.com/chjj/marked/raw/ebc1b9491cbfa75d7806099a75f9d91409c8a96b/lib/marked.js,https://github.com/chjj/marked/raw/48e766a90e17c66be082f1424d517726f88ef437/lib/marked.js,"@@ -637,7 +637,7 @@ InlineLexer.prototype.output = function(src) {
     if (cap = this.rules.code.exec(src)) {
       src = src.substring(cap[0].length);
       out += '<code>'
-        + escape(cap[2], true)
+        + escape(cap[2].trim(), true)
         + '</code>';
       continue;
     }
",640,"+ escape(cap[2], true)","+ escape(cap[2].trim(), true)"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/decd5893b08544bfedcbbeadae4cb24c5d7695a5,decd5893b08544bfedcbbeadae4cb24c5d7695a5,ignore angle brackets in ref links. fixes #101.,2013-01-09 18:55:33-06:00,marked.js,https://github.com/chjj/marked/raw/4cc29783854716000fd04aff1e7bfb59bb108043/lib/marked.js,https://github.com/chjj/marked/raw/decd5893b08544bfedcbbeadae4cb24c5d7695a5/lib/marked.js,"@@ -21,7 +21,7 @@ var block = {
   blockquote: /^( *>[^\n]+(\n[^\n]+)*\n*)+/,
   list: /^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
   html: /^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
-  def: /^ *\[([^\]]+)\]: *([^\s]+)(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,
+  def: /^ *\[([^\]]+)\]: *<?([^\s]+)>?(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,
   table: noop,
   paragraph: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,
   text: /^[^\n]+/
",24,"def: /^ *\[([^\]]+)\]: *([^\s]+)(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,","def: /^ *\[([^\]]+)\]: *<?([^\s]+)>?(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/7d89a7167e403b4913ab0d14979bf8e38bf6671f,7d89a7167e403b4913ab0d14979bf8e38bf6671f,fix HRs in list items + code. fixes #91.,2013-01-09 19:49:15-06:00,marked.js,https://github.com/chjj/marked/raw/5a1c7a5871130ee8b728fca3720d398e25ef0259/lib/marked.js,https://github.com/chjj/marked/raw/7d89a7167e403b4913ab0d14979bf8e38bf6671f/lib/marked.js,"@@ -35,7 +35,7 @@ block.item = replace(block.item, 'gm')
 
 block.list = replace(block.list)
   (/bull/g, block.bullet)
-  ('hr', /\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)
+  ('hr', '\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))')
   ();
 
 block._tag = '(?!(?:'
",38,"('hr', /\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)","('hr', '\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))')"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/102659f8a2b003c9970faa127ab43811c38eceee,102659f8a2b003c9970faa127ab43811c38eceee,fix small problem in def rule. see #101.,2013-01-10 06:51:13-06:00,marked.js,https://github.com/chjj/marked/raw/e278e063774a5dac6af9b9f81f08ea7e764df378/lib/marked.js,https://github.com/chjj/marked/raw/102659f8a2b003c9970faa127ab43811c38eceee/lib/marked.js,"@@ -21,7 +21,7 @@ var block = {
   blockquote: /^( *>[^\n]+(\n[^\n]+)*\n*)+/,
   list: /^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
   html: /^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
-  def: /^ *\[([^\]]+)\]: *<?([^\s]+)>?(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,
+  def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,
   table: noop,
   paragraph: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,
   text: /^[^\n]+/
",24,"def: /^ *\[([^\]]+)\]: *<?([^\s]+)>?(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,","def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +[""(]([^\n]+)["")])? *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/608fdb3a1b35ce9da6461ea2e9b15a22909aa447,608fdb3a1b35ce9da6461ea2e9b15a22909aa447,allow dashes in language names. fixes #138.,2013-03-16 22:32:57-05:00,marked.js,https://github.com/chjj/marked/raw/db4b6d4724ce578b49c69f5ca88cc425f039cd51/lib/marked.js,https://github.com/chjj/marked/raw/608fdb3a1b35ce9da6461ea2e9b15a22909aa447/lib/marked.js,"@@ -70,7 +70,7 @@ block.normal = merge({}, block);
  */
 
 block.gfm = merge({}, block.normal, {
-  fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
+  fences: /^ *(`{3,}|~{3,}) *([\w\-]+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
   paragraph: /^/
 });
 
",73,"fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,","fences: /^ *(`{3,}|~{3,}) *([\w\-]+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/ee4b7a89f336b8bf7a93eb341dd413b7f622a683,ee4b7a89f336b8bf7a93eb341dd413b7f622a683,"Revert ""allow dashes in language names. fixes #138.""

This reverts commit 608fdb3a1b35ce9da6461ea2e9b15a22909aa447.",2013-03-16 22:33:48-05:00,marked.js,https://github.com/chjj/marked/raw/608fdb3a1b35ce9da6461ea2e9b15a22909aa447/lib/marked.js,https://github.com/chjj/marked/raw/ee4b7a89f336b8bf7a93eb341dd413b7f622a683/lib/marked.js,"@@ -70,7 +70,7 @@ block.normal = merge({}, block);
  */
 
 block.gfm = merge({}, block.normal, {
-  fences: /^ *(`{3,}|~{3,}) *([\w\-]+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
+  fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
   paragraph: /^/
 });
 
",73,"fences: /^ *(`{3,}|~{3,}) *([\w\-]+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,","fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/3fb76d7b2aa6ec86db4697a88238921c94d5dfaa,3fb76d7b2aa6ec86db4697a88238921c94d5dfaa,"do not escape script elements. fixes #142.

this is not accurate to the original markdown.pl,
but neither is not escaping `<pre>` elements.",2013-03-17 13:45:43-05:00,marked.js,https://github.com/chjj/marked/raw/c7664d947a872c589625780de816f000c7157059/lib/marked.js,https://github.com/chjj/marked/raw/3fb76d7b2aa6ec86db4697a88238921c94d5dfaa/lib/marked.js,"@@ -352,7 +352,7 @@ Lexer.prototype.token = function(src, top) {
         type: this.options.sanitize
           ? 'paragraph'
           : 'html',
-        pre: cap[1] === 'pre',
+        pre: cap[1] === 'pre' || cap[1] === 'script',
         text: cap[0]
       });
       continue;
",355,"pre: cap[1] === 'pre',","pre: cap[1] === 'pre' || cap[1] === 'script',"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/9da7b230c79a983ee8d611e3748229e160f7a74c,9da7b230c79a983ee8d611e3748229e160f7a74c,[fix] marked can't run without options parameter,2013-07-15 10:49:44+03:00,marked.js,https://github.com/chjj/marked/raw/922dd964950a64ca0808952847a1a4e00d42f7b6/lib/marked.js,https://github.com/chjj/marked/raw/9da7b230c79a983ee8d611e3748229e160f7a74c/lib/marked.js,"@@ -1027,7 +1027,7 @@ function marked(src, opt, callback) {
       opt = null;
     }
 
-    if (opt) opt = merge({}, marked.defaults, opt);
+    opt = opt ? merge({}, marked.defaults, opt) : marked.defaults; 
 
     var highlight = opt.highlight
       , tokens
",1030,"if (opt) opt = merge({}, marked.defaults, opt);","opt = opt ? merge({}, marked.defaults, opt) : marked.defaults;"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/3d64a8573401c1d9ba42b9296aa81b7131c0e82f,3d64a8573401c1d9ba42b9296aa81b7131c0e82f,fix new lheading rule (2 chars) for markdown guide test.,2013-08-02 13:16:30-05:00,marked.js,https://github.com/chjj/marked/raw/8ba8a6fdb0078d564cc4a7c3addeb88953f0df13/lib/marked.js,https://github.com/chjj/marked/raw/3d64a8573401c1d9ba42b9296aa81b7131c0e82f/lib/marked.js,"@@ -17,7 +17,7 @@ var block = {
   hr: /^( *[-*_]){3,} *(?:\n+|$)/,
   heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
   nptable: noop,
-  lheading: /^([^\n]+)\n *(=|-){2,} *\n*/,
+  lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
   blockquote: /^( *>[^\n]+(\n[^\n]+)*\n*)+/,
   list: /^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
   html: /^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
",20,"lheading: /^([^\n]+)\n *(=|-){2,} *\n*/,","lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/37698ee7e096a2c511d710e49a160f330ba70aaf,37698ee7e096a2c511d710e49a160f330ba70aaf,list-like lines = lists in gfm. fixes #120.,2013-08-07 08:52:01-05:00,index.js,https://github.com/chjj/marked/raw/81e2062ceefd4c2f82fbcac5d3c8f6dc47e0daf8/test/browser/index.js,https://github.com/chjj/marked/raw/37698ee7e096a2c511d710e49a160f330ba70aaf/test/browser/index.js,"@@ -29,7 +29,7 @@ app.get('/test.js', function(req, res, next) {
     , files = load();
 
   test = test.replace('__TESTS__', JSON.stringify(files));
-  test = test.replace('__MAIN__', test.replacePre + '\n\n' + runTests + '');
+  test = test.replace('__MAIN__', runTests + '');
 
   res.contentType('.js');
   res.send(test);
",32,"test = test.replace('__MAIN__', test.replacePre + '\n\n' + runTests + '');","test = test.replace('__MAIN__', runTests + '');"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d53f20690fa141870bccab64b0d74dfe141462f7,d53f20690fa141870bccab64b0d74dfe141462f7,fix nested links+img.,2013-08-07 10:42:55-05:00,marked.js,https://github.com/chjj/marked/raw/0a7cc9ec6fd13b43102435e4bf7fb39156055eec/lib/marked.js,https://github.com/chjj/marked/raw/d53f20690fa141870bccab64b0d74dfe141462f7/lib/marked.js,"@@ -456,7 +456,7 @@ var inline = {
   text: /^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/
 };
 
-inline._inside = /(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;
+inline._inside = /(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;
 inline._href = /\s*<?([\s\S]*?)>?(?:\s+['""]([\s\S]*?)['""])?\s*/;
 
 inline.link = replace(inline.link)
",459,inline._inside = /(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;,inline._inside = /(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/0e1ac14bc57f6198440be1a8d9656ccb8a16180b,0e1ac14bc57f6198440be1a8d9656ccb8a16180b,do not tokenize emails as html. fixes #329.,2014-01-10 01:07:45-06:00,marked.js,https://github.com/chjj/marked/raw/d075681d49060bd9c3fda28f9615e913f9e5f461/lib/marked.js,https://github.com/chjj/marked/raw/0e1ac14bc57f6198440be1a8d9656ccb8a16180b/lib/marked.js,"@@ -46,7 +46,7 @@ block._tag = '(?!(?:'
 block.html = replace(block.html)
   ('comment', /<!--[\s\S]*?-->/)
   ('closed', /<(tag)[\s\S]+?<\/\1>/)
-  ('closing', /<tag(?:""[^""]*""|'[^']*'|[^'"">])*?>/)
+  ('closing', /<tag(?:""[^""]*""|'[^']*'|[^'""@>])*?>/)
   (/tag/g, block._tag)
   ();
 
",49,"('closing', /<tag(?:""[^""]*""|'[^']*'|[^'"">])*?>/)","('closing', /<tag(?:""[^""]*""|'[^']*'|[^'""@>])*?>/)"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/05a740cf6c8a7f3f0a7326278da025c16ea18e7a,05a740cf6c8a7f3f0a7326278da025c16ea18e7a,fix regression caused by merge conflict.,2014-02-23 06:18:28-06:00,marked.js,https://github.com/chjj/marked/raw/90ed0e3545dff57642fb538491837f867575f4c9/lib/marked.js,https://github.com/chjj/marked/raw/05a740cf6c8a7f3f0a7326278da025c16ea18e7a/lib/marked.js,"@@ -17,7 +17,7 @@ var block = {
   hr: /^( *[-*_]){3,} *(?:\n+|$)/,
   heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
   nptable: noop,
-  lheading: /^([^\n]+)\n *(=|-){3,} *\n*/,
+  lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
   blockquote: /^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,
   list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
   html: /^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
",20,"lheading: /^([^\n]+)\n *(=|-){3,} *\n*/,","lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/3c191144939107c45a7fa11ab6cb88be6694a1ba,3c191144939107c45a7fa11ab6cb88be6694a1ba,blacklist vbscript: fixes #492,2015-01-22 20:05:18-08:00,marked.js,https://github.com/chjj/marked/raw/3e02a69921b9b4009d0b17aa1fe0ae2546f96de2/lib/marked.js,https://github.com/chjj/marked/raw/3c191144939107c45a7fa11ab6cb88be6694a1ba/lib/marked.js,"@@ -868,7 +868,7 @@ Renderer.prototype.link = function(href, title, text) {
     } catch (e) {
       return '';
     }
-    if (prot.indexOf('javascript:') === 0) {
+    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {
       return '';
     }
   }
",871,if (prot.indexOf('javascript:') === 0) {,if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/3ec548a488b2dabc2f989edb4be686efb9d4bf15,3ec548a488b2dabc2f989edb4be686efb9d4bf15,"Fixed parsing of empty code blocks.

Fixes #615",2015-07-07 10:42:05+02:00,marked.js,https://github.com/chjj/marked/raw/49b7eaca76d14ccd91f87decc11bbe213a6e0af4/lib/marked.js,https://github.com/chjj/marked/raw/3ec548a488b2dabc2f989edb4be686efb9d4bf15/lib/marked.js,"@@ -75,7 +75,7 @@ block.normal = merge({}, block);
  */
 
 block.gfm = merge({}, block.normal, {
-  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
+  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,
   paragraph: /^/,
   heading: /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/
 });
",78,"fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,","fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/a37bd643f05bf95ff18cafa2b06e7d741d2e2157,a37bd643f05bf95ff18cafa2b06e7d741d2e2157,prevent catastrophic backtracking on `em` rule. fixes #497.,2015-07-29 03:09:00-07:00,marked.js,https://github.com/chjj/marked/raw/49b7eaca76d14ccd91f87decc11bbe213a6e0af4/lib/marked.js,https://github.com/chjj/marked/raw/a37bd643f05bf95ff18cafa2b06e7d741d2e2157/lib/marked.js,"@@ -456,7 +456,7 @@ var inline = {
   reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
   nolink: /^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
   strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
-  em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
+  em: /^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
   code: /^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
   br: /^ {2,}\n(?!\s*$)/,
   del: noop,
",459,"em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,","em: /^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/1d43cad5776e9f7228bebf2747621d44284cc5ee,1d43cad5776e9f7228bebf2747621d44284cc5ee,"code blocks: Don't ignore trailing newlines at the end.

Unfortunately, the problem this is fixing cannot easily be demonstrated
by a test, because the test suite removes all whitespace before comparing
the actual and expected renderings for some odd reason.",2015-07-30 00:09:49+02:00,marked.js,https://github.com/chjj/marked/raw/85cfbb68528c06e48ebd2618c44e51332e5c514d/lib/marked.js,https://github.com/chjj/marked/raw/1d43cad5776e9f7228bebf2747621d44284cc5ee/lib/marked.js,"@@ -75,7 +75,7 @@ block.normal = merge({}, block);
  */
 
 block.gfm = merge({}, block.normal, {
-  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,
+  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n\1 *(?:\n+|$)/,
   paragraph: /^/,
   heading: /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/
 });
",78,"fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,","fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n\1 *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/cd2f6f5b7091154c5526e79b5f3bfb4d15995a51,cd2f6f5b7091154c5526e79b5f3bfb4d15995a51,added data: link fix to prevent xss,2017-01-19 15:03:37-08:00,marked.js,https://github.com/chjj/marked/raw/38f1727ffee0820975677027b8968bc1954e6637/lib/marked.js,https://github.com/chjj/marked/raw/cd2f6f5b7091154c5526e79b5f3bfb4d15995a51/lib/marked.js,"@@ -875,7 +875,7 @@ Renderer.prototype.link = function(href, title, text) {
     } catch (e) {
       return '';
     }
-    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {
+    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
       return '';
     }
   }
",878,if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {,if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/fac31ed978ded3a13735ea14180ca8d94dd80b5c,fac31ed978ded3a13735ea14180ca8d94dd80b5c,"allow matched double quotes in link definition title (markdown.pl behavior).
Test literal_quotes_in_titles now passes.
fixup! c3e00590",2018-01-23 17:03:08+01:00,marked.js,https://github.com/chjj/marked/raw/84c330b62beee7dab83764f373eaf80414b2516e/lib/marked.js,https://github.com/chjj/marked/raw/fac31ed978ded3a13735ea14180ca8d94dd80b5c/lib/marked.js,"@@ -29,7 +29,7 @@ var block = {
 };
 
 block._label = /(?:\\[\[\]]|[^\[\]])+/;
-block._title = /(?:""(?:\\""|[^""])*""|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;
+block._title = /(?:""(?:\\""|[^""]|""[^""\n]*"")*""|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;
 block.def = replace(block.def)
   ('label', block._label)
   ('title', block._title)
",32,"block._title = /(?:""(?:\\""|[^""])*""|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;","block._title = /(?:""(?:\\""|[^""]|""[^""\n]*"")*""|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/271d35705adc4432ed7110abfb4cedb783c71216,271d35705adc4432ed7110abfb4cedb783c71216,[security] fix possible ReDOS vulnerable regex rule by refactoring (doesn't change the alphabet),2018-03-06 00:17:16+01:00,marked.js,https://github.com/chjj/marked/raw/29d33d9a237ff6e922efe25ae9a5c4220f313db0/lib/marked.js,https://github.com/chjj/marked/raw/271d35705adc4432ed7110abfb4cedb783c71216/lib/marked.js,"@@ -38,7 +38,7 @@ var block = {
 };
 
 block._label = /(?:\\[\[\]]|[^\[\]])+/;
-block._title = /(?:""(?:\\""|[^""])*""|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;
+block._title = /(?:""(?:\\""?|[^""\\])*""|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
 block.def = edit(block.def)
   .replace('label', block._label)
   .replace('title', block._title)
",41,"block._title = /(?:""(?:\\""|[^""])*""|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;","block._title = /(?:""(?:\\""?|[^""\\])*""|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/f66196ae5f3b60a45ed82f89a8d3368d251b328e,f66196ae5f3b60a45ed82f89a8d3368d251b328e,fix when text is blank,2018-04-03 11:39:08-05:00,demo.js,https://github.com/chjj/marked/raw/f9cef1f0d76cd37602f18e1792e6e32ecda81848/docs/demo/demo.js,https://github.com/chjj/marked/raw/f66196ae5f3b60a45ed82f89a8d3368d251b328e/docs/demo/demo.js,"@@ -20,7 +20,7 @@ var $activeElem = null;
 var changeTimeout = null;
 var search = searchToObject();
 
-if (search.text) {
+if ('text' in search) {
   $inputElem.value = search.text;
 } else {
   fetch('./initial.md')
",23,if (search.text) {,if ('text' in search) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/60c2dc4f2cfdeb61abe96b65edc5baf3d015de67,60c2dc4f2cfdeb61abe96b65edc5baf3d015de67,fix inline.em,2018-04-05 09:34:02-05:00,marked.js,https://github.com/chjj/marked/raw/06ec83d92a2aee46a77431117581421e6607a3c0/lib/marked.js,https://github.com/chjj/marked/raw/60c2dc4f2cfdeb61abe96b65edc5baf3d015de67/lib/marked.js,"@@ -469,7 +469,7 @@ var inline = {
   reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
   nolink: /^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,
   strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
-  em: /^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,
+  em: /^_([^\s_](?:[^_]|__)*?[^\s_]?)_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,
   code: /^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,
   br: /^ {2,}\n(?!\s*$)/,
   del: noop,
",472,"em: /^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,","em: /^_([^\s_](?:[^_]|__)*?[^\s_]?)_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/f052a2c04ecb371faa8c3e1cb2c72afe0eb13618,f052a2c04ecb371faa8c3e1cb2c72afe0eb13618,"security: fix unsafe heading regex

Problem:
REDOS could be triggered through exploitation of the 'heading' regex.

Solution:
Refactor regex. It matches the same language as before but
is less vulnerable to REDOS.
It is now safe using the bounds suggested by those disclosing it.
It remains super-linear but a successful exploit requires
a much longer attack string.

Fixes:
Issue disclosed privately.

Credit:
This issue was pointed out by
Nick Starke and Adam Cazzolla of Sonatype Security research.",2018-04-15 22:20:15-04:00,marked.js,https://github.com/chjj/marked/raw/3130e62bc210c68d8475e02a334f6a0fafa98d5f/lib/marked.js,https://github.com/chjj/marked/raw/f052a2c04ecb371faa8c3e1cb2c72afe0eb13618/lib/marked.js,"@@ -16,7 +16,7 @@ var block = {
   code: /^( {4}[^\n]+\n*)+/,
   fences: noop,
   hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
-  heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
+  heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
   nptable: noop,
   blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
   list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
",19,"heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,","heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/9d5ecbe565114e116aef394dde1da71455ee41ce,9d5ecbe565114e116aef394dde1da71455ee41ce,fix paragraph,2018-05-02 12:05:36-05:00,marked.js,https://github.com/chjj/marked/raw/41a8cad4aa23ba96a4da2aee99a511b94dcc8771/lib/marked.js,https://github.com/chjj/marked/raw/9d5ecbe565114e116aef394dde1da71455ee41ce/lib/marked.js,"@@ -33,7 +33,7 @@ var block = {
   def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
   table: noop,
   lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
-  paragraph: /^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)+)/,
+  paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,
   text: /^[^\n]+/
 };
 
",36,"paragraph: /^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)+)/,","paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/04e04b10d4950ce216fbe736709ff6793c47a442,04e04b10d4950ce216fbe736709ff6793c47a442,"fix issues link references and prototypes

Link with names that clashed with properties inherited from the
Object prototype (such as ""constructor"") were not expanding. This fixes
this issue.

Before this change, markdown of this form...:

    Link: [constructor][].

    [constructor]: https://example.org/

...resulted in HTML output of this form:

    <p>Link: [constructor][].</p>

With this change, it now renders as expected:

    <p>Link: <a href=""https://example.org/"">constructor</a>.</p>",2018-06-28 13:41:43-07:00,marked.js,https://github.com/chjj/marked/raw/666e4558b02bb11103a28f1cd802723833efd9fd/lib/marked.js,https://github.com/chjj/marked/raw/04e04b10d4950ce216fbe736709ff6793c47a442/lib/marked.js,"@@ -135,7 +135,7 @@ block.pedantic = merge({}, block.normal, {
 
 function Lexer(options) {
   this.tokens = [];
-  this.tokens.links = {};
+  this.tokens.links = Object.create(null);
   this.options = options || marked.defaults;
   this.rules = block.normal;
 
",138,this.tokens.links = {};,this.tokens.links = Object.create(null);
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/3271b8b62ec143d6b50d09c6774a121045789463,3271b8b62ec143d6b50d09c6774a121045789463,fix inline code regex,2018-09-18 16:29:11-05:00,marked.js,https://github.com/chjj/marked/raw/569911769f1a47a767cdc1854eb66a61dd02ec50/lib/marked.js,https://github.com/chjj/marked/raw/3271b8b62ec143d6b50d09c6774a121045789463/lib/marked.js,"@@ -542,7 +542,7 @@ var inline = {
   nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
   strong: /^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
   em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s""<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
-  code: /^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,
+  code: /^(`+)([\s\S]*?[^`]?)\1(?!`)/,
   br: /^( {2,}|\\)\n(?!\s*$)/,
   del: noop,
   text: /^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/
",545,"code: /^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,","code: /^(`+)([\s\S]*?[^`]?)\1(?!`)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/14ab69a1e094e20034a87dd6d8564a6ab006ba20,14ab69a1e094e20034a87dd6d8564a6ab006ba20,"Fix lint, per usual.",2018-10-18 00:27:59-07:00,demo.js,https://github.com/chjj/marked/raw/56c216a3fda5315d2687b0673569fda4bd59f019/docs/demo/demo.js,https://github.com/chjj/marked/raw/14ab69a1e094e20034a87dd6d8564a6ab006ba20/docs/demo/demo.js,"@@ -72,7 +72,7 @@ function handleOutputChange() {
 function handleChange(panes, visiblePane) {
   var active = null;
   for (var i = 0; i < panes.length; i++) {
-    if (panes[i].id == visiblePane) {
+    if (panes[i].id === visiblePane) {
       panes[i].style.display = '';
       active = panes[i];
     } else {
",75,if (panes[i].id == visiblePane) {,if (panes[i].id === visiblePane) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/e9f57d96d98d78f60cb7c82969dc88068e3284ae,e9f57d96d98d78f60cb7c82969dc88068e3284ae,"As usual, fix my lint errors.",2018-10-18 12:17:46-07:00,demo.js,https://github.com/chjj/marked/raw/173eb82d4754e9d63bf7aea9550bb1796acda467/docs/demo/demo.js,https://github.com/chjj/marked/raw/e9f57d96d98d78f60cb7c82969dc88068e3284ae/docs/demo/demo.js,"@@ -52,7 +52,7 @@ if ('options' in search) {
   $optionsElem.value = JSON.stringify(
     marked.getDefaults(),
     function (key, value) {
-      if (value && typeof(value) === ""object"" && Object.getPrototypeOf(value) !== Object.prototype){
+      if (value && typeof value === 'object' && Object.getPrototypeOf(value) !== Object.prototype) {
         return undefined;
       }
       return value;
",55,"if (value && typeof(value) === ""object"" && Object.getPrototypeOf(value) !== Object.prototype){",if (value && typeof value === 'object' && Object.getPrototypeOf(value) !== Object.prototype) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/67a5941f4d8a8b5d6edae9b61019b22b03dff875,67a5941f4d8a8b5d6edae9b61019b22b03dff875,"require closing fence to be on a new line (fix #1058), while still allowing empty code blocks",2018-12-08 12:56:04+01:00,marked.js,https://github.com/chjj/marked/raw/86214bbce13ab5f2cd5faac3adb5d31653be782e/lib/marked.js,https://github.com/chjj/marked/raw/67a5941f4d8a8b5d6edae9b61019b22b03dff875/lib/marked.js,"@@ -91,7 +91,7 @@ block.normal = merge({}, block);
  */
 
 block.gfm = merge({}, block.normal, {
-  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,
+  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n(?:|([\s\S]*?)\n) *\1 *(?:\n+|$)/,
   paragraph: /^/,
   heading: /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/
 });
",94,"fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,","fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n(?:|([\s\S]*?)\n) *\1 *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/419e6548bf745ad47514c29dd2a211886c8dbdd1,419e6548bf745ad47514c29dd2a211886c8dbdd1,Fix blockquote paragraph continuation,2018-12-19 18:29:05-02:00,marked.js,https://github.com/chjj/marked/raw/fe91a619dfedd2485fe64f896ea90a6e86ce22ae/lib/marked.js,https://github.com/chjj/marked/raw/419e6548bf745ad47514c29dd2a211886c8dbdd1/lib/marked.js,"@@ -19,7 +19,7 @@ var block = {
   heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
   nptable: noop,
   blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
-  list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
+  list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
   html: '^ {0,3}(?:' // optional indentation
     + '<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
     + '|comment[^\\n]*(\\n+|$)' // (2)
",22,"list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,","list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/419e6548bf745ad47514c29dd2a211886c8dbdd1,419e6548bf745ad47514c29dd2a211886c8dbdd1,Fix blockquote paragraph continuation,2018-12-19 18:29:05-02:00,commonmark-spec.js,https://github.com/chjj/marked/raw/fe91a619dfedd2485fe64f896ea90a6e86ce22ae/test/specs/commonmark/commonmark-spec.js,https://github.com/chjj/marked/raw/419e6548bf745ad47514c29dd2a211886c8dbdd1/test/specs/commonmark/commonmark-spec.js,"@@ -233,7 +233,7 @@ describe('CommonMark 0.28 Block quotes', function() {
   var section = 'Block quotes';
 
   // var shouldPassButFails = [];
-  var shouldPassButFails = [198, 199, 200, 201];
+  var shouldPassButFails = [198, 199, 200];
 
   var willNotBeAttemptedByCoreTeam = [];
 
",236,"var shouldPassButFails = [198, 199, 200, 201];","var shouldPassButFails = [198, 199, 200];"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/e51bca64b84202dfe022880852c35312694ddcd1,e51bca64b84202dfe022880852c35312694ddcd1,Fix tag escaping,2018-12-20 02:52:47-02:00,marked.js,https://github.com/chjj/marked/raw/fe91a619dfedd2485fe64f896ea90a6e86ce22ae/lib/marked.js,https://github.com/chjj/marked/raw/e51bca64b84202dfe022880852c35312694ddcd1/lib/marked.js,"@@ -691,7 +691,7 @@ InlineLexer.prototype.output = function(src) {
     // escape
     if (cap = this.rules.escape.exec(src)) {
       src = src.substring(cap[0].length);
-      out += cap[1];
+      out += escape(cap[1]);
       continue;
     }
 
",694,out += cap[1];,out += escape(cap[1]);
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/e51bca64b84202dfe022880852c35312694ddcd1,e51bca64b84202dfe022880852c35312694ddcd1,Fix tag escaping,2018-12-20 02:52:47-02:00,commonmark-spec.js,https://github.com/chjj/marked/raw/fe91a619dfedd2485fe64f896ea90a6e86ce22ae/test/specs/commonmark/commonmark-spec.js,https://github.com/chjj/marked/raw/e51bca64b84202dfe022880852c35312694ddcd1/test/specs/commonmark/commonmark-spec.js,"@@ -293,7 +293,7 @@ describe('CommonMark 0.28 Backslash escapes', function() {
   var section = 'Backslash escapes';
 
   // var shouldPassButFails = [];
-  var shouldPassButFails = [291, 300, 301];
+  var shouldPassButFails = [300, 301];
 
   var willNotBeAttemptedByCoreTeam = [];
 
",296,"var shouldPassButFails = [291, 300, 301];","var shouldPassButFails = [300, 301];"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d010745cf177ba6eabfcf02e978e026199ecce02,d010745cf177ba6eabfcf02e978e026199ecce02,Fix strong tag when the same character is the content,2018-12-20 16:02:19-02:00,marked.js,https://github.com/chjj/marked/raw/27145ccef60fcc64c2b9ad1944a58fe841fb9075/lib/marked.js,https://github.com/chjj/marked/raw/d010745cf177ba6eabfcf02e978e026199ecce02/lib/marked.js,"@@ -541,7 +541,7 @@ var inline = {
   link: /^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,
   reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
   nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
-  strong: /^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
+  strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
   em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s""<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
   code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
   br: /^( {2,}|\\)\n(?!\s*$)/,
",544,"strong: /^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,","strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d010745cf177ba6eabfcf02e978e026199ecce02,d010745cf177ba6eabfcf02e978e026199ecce02,Fix strong tag when the same character is the content,2018-12-20 16:02:19-02:00,commonmark-spec.js,https://github.com/chjj/marked/raw/27145ccef60fcc64c2b9ad1944a58fe841fb9075/test/specs/commonmark/commonmark-spec.js,https://github.com/chjj/marked/raw/d010745cf177ba6eabfcf02e978e026199ecce02/test/specs/commonmark/commonmark-spec.js,"@@ -337,7 +337,7 @@ describe('CommonMark 0.28 Emphasis and strong emphasis', function() {
   var section = 'Emphasis and strong emphasis';
 
   // var shouldPassButFails = [];
-  var shouldPassButFails = [334, 342, 348, 349, 352, 353, 360, 368, 369, 371, 372, 378, 380, 381, 382, 387, 388, 392, 393, 394, 395, 396, 402, 403, 409, 416, 419, 420, 421, 422, 423, 424, 428, 431, 432, 433, 434, 435, 436, 443, 444, 445, 448, 449, 453, 454, 455, 457, 458];
+  var shouldPassButFails = [334, 342, 348, 349, 352, 353, 360, 368, 369, 371, 372, 378, 380, 381, 382, 387, 388, 392, 393, 394, 395, 396, 402, 403, 409, 419, 420, 421, 422, 423, 424, 431, 432, 433, 434, 435, 436, 443, 444, 445, 448, 449, 453, 454, 455, 457, 458];
 
   var willNotBeAttemptedByCoreTeam = [];
 
",340,"var shouldPassButFails = [334, 342, 348, 349, 352, 353, 360, 368, 369, 371, 372, 378, 380, 381, 382, 387, 388, 392, 393, 394, 395, 396, 402, 403, 409, 416, 419, 420, 421, 422, 423, 424, 428, 431, 432, 433, 434, 435, 436, 443, 444, 445, 448, 449, 453, 454, 455, 457, 458];","var shouldPassButFails = [334, 342, 348, 349, 352, 353, 360, 368, 369, 371, 372, 378, 380, 381, 382, 387, 388, 392, 393, 394, 395, 396, 402, 403, 409, 419, 420, 421, 422, 423, 424, 431, 432, 433, 434, 435, 436, 443, 444, 445, 448, 449, 453, 454, 455, 457, 458];"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/b44ae6e1ea4a673ea6fc66e3722aae21f7d4855e,b44ae6e1ea4a673ea6fc66e3722aae21f7d4855e,fix link,2019-02-20 13:20:24-06:00,marked.js,https://github.com/chjj/marked/raw/3754b6d43e34845e71a2d70755cda0c2178d6421/lib/marked.js,https://github.com/chjj/marked/raw/b44ae6e1ea4a673ea6fc66e3722aae21f7d4855e/lib/marked.js,"@@ -570,7 +570,7 @@ inline.tag = edit(inline.tag)
   .replace('attribute', inline._attribute)
   .getRegex();
 
-inline._label = /(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/;
+inline._label = /(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/;
 inline._href = /\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/;
 inline._title = /""(?:\\""?|[^""\\])*""|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
 
",573,inline._label = /(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/;,inline._label = /(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/27fdafbd919a5707597dfb87e962f039426a048b,27fdafbd919a5707597dfb87e962f039426a048b,fix new line after table,2019-03-07 16:21:33-06:00,marked.js,https://github.com/chjj/marked/raw/9c26b615d7542f7ddd0767056da3e8808cf3acaf/lib/marked.js,https://github.com/chjj/marked/raw/27fdafbd919a5707597dfb87e962f039426a048b/lib/marked.js,"@@ -452,7 +452,7 @@ Lexer.prototype.token = function(src, top) {
         type: 'table',
         header: splitCells(cap[1].replace(/^ *| *\| *$/g, '')),
         align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
-        cells: cap[3] ? cap[3].replace(/(?: *\| *)?\n$/, '').split('\n') : []
+        cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
       };
 
       if (item.header.length === item.align.length) {
",455,"cells: cap[3] ? cap[3].replace(/(?: *\| *)?\n$/, '').split('\n') : []","cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/cbc240ac76ae33bf056853c55fc8d31172480608,cbc240ac76ae33bf056853c55fc8d31172480608,remove loose parameter & fix man --test typo,2019-03-10 14:59:58-05:00,marked.js,https://github.com/chjj/marked/raw/0f43e91e1b2c68fa3ce35fd6b9f2ba91a3acfcab/lib/marked.js,https://github.com/chjj/marked/raw/cbc240ac76ae33bf056853c55fc8d31172480608/lib/marked.js,"@@ -1270,7 +1270,7 @@ Parser.prototype.tok = function() {
           ? this.parseText()
           : this.tok();
       }
-      return this.renderer.listitem(body, task, checked, loose);
+      return this.renderer.listitem(body, task, checked);
     }
     case 'html': {
       // TODO parse inline content if parameter markdown=1
",1273,"return this.renderer.listitem(body, task, checked, loose);","return this.renderer.listitem(body, task, checked);"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/b6b2a4fb563d5d726de65b080d9720222ae327bf,b6b2a4fb563d5d726de65b080d9720222ae327bf,fix test failure,2019-03-11 14:56:10-05:00,index.js,https://github.com/chjj/marked/raw/c78dab80dd0a8e4330f46170e7e0ba2aa45293e5/test/index.js,https://github.com/chjj/marked/raw/b6b2a4fb563d5d726de65b080d9720222ae327bf/test/index.js,"@@ -447,7 +447,7 @@ function parseArg(argv) {
       orphans = [],
       arg;
 
-  argv = argv.slice(2);
+  argv = Array.isArray(argv) ? argv.slice(2) : [];
   function getarg() {
     var arg = argv.shift();
 
",450,argv = argv.slice(2);,argv = Array.isArray(argv) ? argv.slice(2) : [];
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/4dacb50e57bf6fd68de10ecb1e574becbedf11ee,4dacb50e57bf6fd68de10ecb1e574becbedf11ee,fix test failure 2,2019-03-11 15:02:13-05:00,specs-spec.js,https://github.com/chjj/marked/raw/b6b2a4fb563d5d726de65b080d9720222ae327bf/test/specs/original/specs-spec.js,https://github.com/chjj/marked/raw/4dacb50e57bf6fd68de10ecb1e574becbedf11ee/test/specs/original/specs-spec.js,"@@ -3,7 +3,7 @@ var specTests = require('../../');
 it('should run spec tests', function () {
   // hide output
   spyOn(console, 'log');
-  if (!specTests({stop: true})) {
+  if (!specTests(['', '', '--stop'])) {
     // if tests fail rerun tests and show output
     console.log.and.callThrough();
     specTests();
",6,if (!specTests({stop: true})) {,"if (!specTests(['', '', '--stop'])) {"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/47607728dbfcea4d959c8b10d77b684221a3416a,47607728dbfcea4d959c8b10d77b684221a3416a,fix tests,2019-03-12 09:34:51-05:00,specs-spec.js,https://github.com/chjj/marked/raw/df310a8cb3413c3ba8f70ba9aedc2091a231b6bb/test/specs/original/specs-spec.js,https://github.com/chjj/marked/raw/47607728dbfcea4d959c8b10d77b684221a3416a/test/specs/original/specs-spec.js,"@@ -6,7 +6,7 @@ it('should run spec tests', () => {
   if (!specTests(['', '', '--stop'])) {
     // if tests fail rerun tests and show output
     console.log.and.callThrough();
-    specTests();
+    specTests([]);
     fail();
   }
 });
",9,specTests();,specTests([]);
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/1b0ba2a19d3c9bc18d1b3cdb0dac7a9f5371907c,1b0ba2a19d3c9bc18d1b3cdb0dac7a9f5371907c,em bug fix,2019-03-18 01:18:36-05:00,marked.js,https://github.com/chjj/marked/raw/6eec528e5d6e08ea751251f9dc195d052caf4a79/lib/marked.js,https://github.com/chjj/marked/raw/1b0ba2a19d3c9bc18d1b3cdb0dac7a9f5371907c/lib/marked.js,"@@ -542,7 +542,7 @@ var inline = {
   reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
   nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
   strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
-  em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s""<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
+  em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
   code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
   br: /^( {2,}|\\)\n(?!\s*$)/,
   del: noop,
",545,"em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s""<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,","em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/a92adde53846feb51129bc3acd78cea52ec499e2,a92adde53846feb51129bc3acd78cea52ec499e2,"fixed *""* bug",2019-03-21 02:02:30-05:00,marked.js,https://github.com/chjj/marked/raw/dd696a779274da6a1b65f87b356baab6ea304618/lib/marked.js,https://github.com/chjj/marked/raw/a92adde53846feb51129bc3acd78cea52ec499e2/lib/marked.js,"@@ -542,7 +542,7 @@ var inline = {
   reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
   nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
   strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
-  em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<""][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
+  em: /^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<""][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
   code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
   br: /^( {2,}|\\)\n(?!\s*$)/,
   del: noop,
",545,"em: /^_([^\s_])_(?!_)|^\*([^\s*""<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<""][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,","em: /^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<""][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d2e85d9b34ed150fbb9b3e26c5ec7f7ed98a8273,d2e85d9b34ed150fbb9b3e26c5ec7f7ed98a8273,fix fences,2019-07-01 23:35:08-05:00,marked.js,https://github.com/chjj/marked/raw/7ed26927703d8ac6ba2a0578ab896bfed33b0163/lib/marked.js,https://github.com/chjj/marked/raw/d2e85d9b34ed150fbb9b3e26c5ec7f7ed98a8273/lib/marked.js,"@@ -14,7 +14,7 @@
 var block = {
   newline: /^\n+/,
   code: /^( {4}[^\n]+\n*)+/,
-  fences: /^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
+  fences: /^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
   hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
   heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
   blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
",17,"fences: /^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,","fences: /^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/59ec6fba0c5fe5b69d8f3c953a56aa9934075d0a,59ec6fba0c5fe5b69d8f3c953a56aa9934075d0a,fix calculation,2019-07-02 08:40:28-05:00,marked.js,https://github.com/chjj/marked/raw/2b63f3b0d3ab0db72c499301664f61e229121670/lib/marked.js,https://github.com/chjj/marked/raw/59ec6fba0c5fe5b69d8f3c953a56aa9934075d0a/lib/marked.js,"@@ -728,7 +728,7 @@ InlineLexer.prototype.output = function(src) {
     if (cap = this.rules.link.exec(src)) {
       var lastParenIndex = findClosingBracket(cap[2], '()');
       if (lastParenIndex > -1) {
-        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;
+        var linkLen = 4 + cap[1].length + lastParenIndex;
         cap[2] = cap[2].substring(0, lastParenIndex);
         cap[0] = cap[0].substring(0, linkLen).trim();
         cap[3] = '';
",731,var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;,var linkLen = 4 + cap[1].length + lastParenIndex;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/03c4cbec2506e578d03c77fe393c2066546ebf70,03c4cbec2506e578d03c77fe393c2066546ebf70,fix options not being passed,2019-11-06 15:00:03-06:00,marked.js,https://github.com/chjj/marked/raw/28f62c91a77e314e8b0c33244f8c9ea589374024/src/marked.js,https://github.com/chjj/marked/raw/03c4cbec2506e578d03c77fe393c2066546ebf70/src/marked.js,"@@ -98,7 +98,7 @@ function marked(src, opt, callback) {
     return;
   }
   try {
-    if (opt) opt = merge({}, marked.defaults, opt);
+    opt = merge({}, marked.defaults, opt || {});
     checkSanitizeDeprecation(opt);
     return Parser.parse(Lexer.lex(src, opt), opt);
   } catch (e) {
",101,"if (opt) opt = merge({}, marked.defaults, opt);","opt = merge({}, marked.defaults, opt || {});"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/af9ff6772fbe5e488129e228c88eb09629eec591,af9ff6772fbe5e488129e228c88eb09629eec591,"fix: italics-modifier, close issue #1284",2020-04-13 12:03:57+03:00,rules.js,https://github.com/chjj/marked/raw/d65ec2a849ea71b01a9d7655861f3677f8e5c927/src/rules.js,https://github.com/chjj/marked/raw/af9ff6772fbe5e488129e228c88eb09629eec591/src/rules.js,"@@ -169,7 +169,7 @@ const inline = {
   reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
   nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
   strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
-  em: /^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<""][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
+  em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<""][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,
   code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
   br: /^( {2,}|\\)\n(?!\s*$)/,
   del: noopTest,
",172,"em: /^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<""][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,","em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<""][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*""<\[][\s\S]*?[^\s])\*(?!\*)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/6570c1e8975db2b31a5c5125deb9d717e218e398,6570c1e8975db2b31a5c5125deb9d717e218e398,fix: incorrect compare rule,2020-04-21 10:44:46+03:00,helpers.js,https://github.com/chjj/marked/raw/62efe07a4918c1edeced711b113042c41cd249c6/src/helpers.js,https://github.com/chjj/marked/raw/6570c1e8975db2b31a5c5125deb9d717e218e398/src/helpers.js,"@@ -251,7 +251,7 @@ function indentCodeCompensation(raw, text) {
 
       const [indentInNode] = matchIndentInNode;
 
-      if (indentInNode.length > indentToCode.length) {
+      if (indentInNode.length >= indentToCode.length) {
         return node.slice(indentToCode.length);
       }
 
",254,if (indentInNode.length > indentToCode.length) {,if (indentInNode.length >= indentToCode.length) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/369bf41681081b3b7e0384476ce3fba63adc8100,369bf41681081b3b7e0384476ce3fba63adc8100,fix loose task list with no tokens,2020-05-12 15:58:47-05:00,Parser.js,https://github.com/chjj/marked/raw/a1679fac13058cdc3cc64987a7a7838ff2fab115/src/Parser.js,https://github.com/chjj/marked/raw/369bf41681081b3b7e0384476ce3fba63adc8100/src/Parser.js,"@@ -130,7 +130,7 @@ module.exports = class Parser {
             if (item.task) {
               checkbox = this.renderer.checkbox(checked);
               if (loose) {
-                if (item.tokens[0].type === 'text') {
+                if (item.tokens.length > 0 && item.tokens[0].type === 'text') {
                   item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;
                   if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
                     item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
",133,if (item.tokens[0].type === 'text') {,if (item.tokens.length > 0 && item.tokens[0].type === 'text') {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/48448cc24f3576319e72b6dd29c85ea4dc05b8f0,48448cc24f3576319e72b6dd29c85ea4dc05b8f0,fix image links with escaped brackets,2020-05-19 15:58:33-05:00,rules.js,https://github.com/chjj/marked/raw/8cfa29ccd2a2759e8e60fe0d8d6df8c022beda4e/src/rules.js,https://github.com/chjj/marked/raw/48448cc24f3576319e72b6dd29c85ea4dc05b8f0/src/rules.js,"@@ -198,7 +198,7 @@ inline.tag = edit(inline.tag)
   .replace('attribute', inline._attribute)
   .getRegex();
 
-inline._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
+inline._label = /(?:\[(?:\\.|[^\[\]])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
 inline._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;
 inline._title = /""(?:\\""?|[^""\\])*""|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
 
",201,inline._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;,inline._label = /(?:\[(?:\\.|[^\[\]])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d57c89d00e3173d0f03ca66cbf810aa841307dfa,d57c89d00e3173d0f03ca66cbf810aa841307dfa,fix redos,2020-05-20 10:23:42-05:00,rules.js,https://github.com/chjj/marked/raw/48448cc24f3576319e72b6dd29c85ea4dc05b8f0/src/rules.js,https://github.com/chjj/marked/raw/d57c89d00e3173d0f03ca66cbf810aa841307dfa/src/rules.js,"@@ -198,7 +198,7 @@ inline.tag = edit(inline.tag)
   .replace('attribute', inline._attribute)
   .getRegex();
 
-inline._label = /(?:\[(?:\\.|[^\[\]])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
+inline._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
 inline._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;
 inline._title = /""(?:\\""?|[^""\\])*""|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
 
",201,inline._label = /(?:\[(?:\\.|[^\[\]])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;,inline._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/c38ee23f45aab44f55687b44c81ddcab0f25e714,c38ee23f45aab44f55687b44c81ddcab0f25e714,Fix Pedantic,2020-05-29 20:53:58-04:00,rules.js,https://github.com/chjj/marked/raw/283ab9cf8aadb896881ede2c7c77e8d328cbfd9e/src/rules.js,https://github.com/chjj/marked/raw/c38ee23f45aab44f55687b44c81ddcab0f25e714/src/rules.js,"@@ -229,7 +229,7 @@ inline.normal = merge({}, inline);
 
 inline.pedantic = merge({}, inline.normal, {
   strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
-  em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,
+  em: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
   link: edit(/^!?\[(label)\]\((.*?)\)/)
     .replace('label', inline._label)
     .getRegex(),
",232,"em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,","em: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/556070bffc361c440d091fd94714859196058aff,556070bffc361c440d091fd94714859196058aff,"Updated  rules for underscore em

Now fixes three more cases",2020-06-12 16:29:25-04:00,Tokenizer.js,https://github.com/chjj/marked/raw/ea203cf92310d8daffcabfd1dd8434b24c4a4b80/src/Tokenizer.js,https://github.com/chjj/marked/raw/556070bffc361c440d091fd94714859196058aff/src/Tokenizer.js,"@@ -507,7 +507,7 @@ module.exports = class Tokenizer {
         return {
           type: 'em',
           raw: cap[0],
-          text: cap[8] || cap[7] || cap[6] || cap[5] || cap[4] || cap[3] || cap[2]
+          text: cap[3] || cap[2]
         };
       }
     }
",510,text: cap[8] || cap[7] || cap[6] || cap[5] || cap[4] || cap[3] || cap[2],text: cap[3] || cap[2]
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/335a6601d4a2d35c5957e5908de7d9cd1f86512c,335a6601d4a2d35c5957e5908de7d9cd1f86512c,"Added fixes to Strong

Fixes examples 391, 397, 399, 400, 401, 431, 443, 475, 476, 479, and 480",2020-06-17 11:06:25-04:00,Lexer.js,https://github.com/chjj/marked/raw/4cbba074d6e7b8e6e829dc846b18982e6bda181b/src/Lexer.js,https://github.com/chjj/marked/raw/335a6601d4a2d35c5957e5908de7d9cd1f86512c/src/Lexer.js,"@@ -360,7 +360,7 @@ module.exports = class Lexer {
       }
 
       // strong
-      if (token = this.tokenizer.strong(src, prevChar)) {
+      if (token = this.tokenizer.strong(src, prevChar, this.tokens.links)) {
         src = src.substring(token.raw.length);
         token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
         tokens.push(token);
",363,"if (token = this.tokenizer.strong(src, prevChar)) {","if (token = this.tokenizer.strong(src, prevChar, this.tokens.links)) {"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/464045ab553b302c0e6e9fffff504cc14f38e06f,464045ab553b302c0e6e9fffff504cc14f38e06f,Added testcase and fixed #1738,2020-08-06 19:56:06+03:00,rules.js,https://github.com/chjj/marked/raw/a9384eea7ae8bea6ef8a95470b315c73fdb3c189/src/rules.js,https://github.com/chjj/marked/raw/464045ab553b302c0e6e9fffff504cc14f38e06f/src/rules.js,"@@ -60,7 +60,7 @@ block._tag = 'address|article|aside|base|basefont|blockquote|body|caption'
   + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'
   + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'
   + '|track|ul';
-block._comment = /<!--(?!-?>)[\s\S]*?-->/;
+block._comment = /<!--(?!-?>)[\s\S]*?--!?>/;
 block.html = edit(block.html, 'i')
   .replace('comment', block._comment)
   .replace('tag', block._tag)
",63,block._comment = /<!--(?!-?>)[\s\S]*?-->/;,block._comment = /<!--(?!-?>)[\s\S]*?--!?>/;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/480b9f0c070a82838856fb390b5f2144de14a453,480b9f0c070a82838856fb390b5f2144de14a453,"fix bug : Cannot break line well

Co-authored-by: Tony Brix <tony@brix.ninja>",2020-08-12 10:48:49+08:00,rules.js,https://github.com/chjj/marked/raw/52872d2121e1c01b7920230f226b76b01691f6e0/src/rules.js,https://github.com/chjj/marked/raw/480b9f0c070a82838856fb390b5f2144de14a453/src/rules.js,"@@ -315,7 +315,7 @@ inline.gfm = merge({}, inline.normal, {
   url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
   _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
   del: /^~+(?=\S)([\s\S]*?\S)~+/,
-  text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|(?= {2,2}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
+  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
 });
 
 inline.gfm.url = edit(inline.gfm.url, 'i')
",318,"text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|(?= {2,2}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/","text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/69908c21f72c405062ece54aacd594e9292415d1,69908c21f72c405062ece54aacd594e9292415d1,"fix bug : Cannot break line well

Co-authored-by: Tony Brix <tony@brix.ninja>",2020-08-12 10:49:25+08:00,rules.js,https://github.com/chjj/marked/raw/480b9f0c070a82838856fb390b5f2144de14a453/src/rules.js,https://github.com/chjj/marked/raw/69908c21f72c405062ece54aacd594e9292415d1/src/rules.js,"@@ -184,7 +184,7 @@ const inline = {
   code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
   br: /^( {2,}|\\)\n(?!\s*$)/,
   del: noopTest,
-  text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)|(?= {2,2}\n))|(?= {2,}\n))/,
+  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,
   punctuation: /^([\s*punctuation])/
 };
 
",187,"text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)|(?= {2,2}\n))|(?= {2,}\n))/,","text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/a317912f7a7cb92e51aed0829f6dcbad1c605813,a317912f7a7cb92e51aed0829f6dcbad1c605813,fix strong overlapSkip,2020-09-07 23:45:28-05:00,rules.js,https://github.com/chjj/marked/raw/9576a982fff5b7785dc9fb45ca5040fafd4540c3/src/rules.js,https://github.com/chjj/marked/raw/a317912f7a7cb92e51aed0829f6dcbad1c605813/src/rules.js,"@@ -222,7 +222,7 @@ inline.strong.start = edit(inline.strong.start)
 
 inline.strong.middle = edit(inline.strong.middle)
   .replace(/punctuation/g, inline._punctuation)
-  .replace(/blockSkip/g, inline._blockSkip)
+  .replace(/overlapSkip/g, inline._overlapSkip)
   .getRegex();
 
 inline.strong.endAst = edit(inline.strong.endAst, 'g')
",225,".replace(/blockSkip/g, inline._blockSkip)",".replace(/overlapSkip/g, inline._overlapSkip)"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/6355ac2d6fb7b8c00697e30f93135df351cf7089,6355ac2d6fb7b8c00697e30f93135df351cf7089,fix: fix indented code in list item (#1762),2020-10-21 09:38:23-05:00,Tokenizer.js,https://github.com/chjj/marked/raw/8b9a4a6b7b0cac66cb54332e3ec7b4ad7a1727a8/src/Tokenizer.js,https://github.com/chjj/marked/raw/6355ac2d6fb7b8c00697e30f93135df351cf7089/src/Tokenizer.js,"@@ -226,7 +226,7 @@ module.exports = class Tokenizer {
         // Remove the list item's bullet
         // so it is seen as the next token.
         space = item.length;
-        item = item.replace(/^ *([*+-]|\d+[.)]) */, '');
+        item = item.replace(/^ *([*+-]|\d+[.)]) ?/, '');
 
         // Outdent whatever the
         // list item contains. Hacky.
",229,"item = item.replace(/^ *([*+-]|\d+[.)]) */, '');","item = item.replace(/^ *([*+-]|\d+[.)]) ?/, '');"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d79f210aba670aab650b51f4ba0882e37949c330,d79f210aba670aab650b51f4ba0882e37949c330,"fix: no strikethrough on different number of tildes (#1821)

Possible Breaking Change: When using the inline.del rule the text is provided in capture group 2 instead of 1.",2020-11-14 20:03:39-06:00,Tokenizer.js,https://github.com/chjj/marked/raw/73f10d3a9a11657c08747095b58615e9cf9496e9/src/Tokenizer.js,https://github.com/chjj/marked/raw/d79f210aba670aab650b51f4ba0882e37949c330/src/Tokenizer.js,"@@ -585,7 +585,7 @@ module.exports = class Tokenizer {
       return {
         type: 'del',
         raw: cap[0],
-        text: cap[1]
+        text: cap[2]
       };
     }
   }
",588,text: cap[1],text: cap[2]
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/53c79ee9196bfd06ad15aad8904a7a4d61e0f400,53c79ee9196bfd06ad15aad8904a7a4d61e0f400,"fix: leave whitespace only lines alone (#1889)

* fix: leave whitespace only lines alone

* test: add whitepace_lines test

* fix: render code with trailing new line",2021-01-26 08:20:13-06:00,Tokenizer.js,https://github.com/chjj/marked/raw/42a18f1cdecbc0facc957bb095b03f748373a41b/src/Tokenizer.js,https://github.com/chjj/marked/raw/53c79ee9196bfd06ad15aad8904a7a4d61e0f400/src/Tokenizer.js,"@@ -91,7 +91,7 @@ module.exports = class Tokenizer {
         };
       }
 
-      const text = cap[0].replace(/^ {4}/gm, '');
+      const text = cap[0].replace(/^ {1,4}/gm, '');
       return {
         type: 'code',
         raw: cap[0],
",94,"const text = cap[0].replace(/^ {4}/gm, '');","const text = cap[0].replace(/^ {1,4}/gm, '');"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/46cdfc1ecec44660afc9040cb76de276a0ad7d5f,46cdfc1ecec44660afc9040cb76de276a0ad7d5f,fix: fix items between lists (#1936),2021-02-26 23:51:21-06:00,rules.js,https://github.com/chjj/marked/raw/18207d18b14c00cb33d3e6090177851b3fa57109/src/rules.js,https://github.com/chjj/marked/raw/46cdfc1ecec44660afc9040cb76de276a0ad7d5f/src/rules.js,"@@ -48,7 +48,7 @@ block.item = edit(block.item, 'gm')
   .replace(/bull/g, block.bullet)
   .getRegex();
 
-block.listItemStart = edit(/^( *)(bull)/)
+block.listItemStart = edit(/^( *)(bull) */)
   .replace('bull', block.bullet)
   .getRegex();
 
",51,block.listItemStart = edit(/^( *)(bull)/),block.listItemStart = edit(/^( *)(bull) */)
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/6c9a8999ddb8ca9c975120ac323cdad9a421db97,6c9a8999ddb8ca9c975120ac323cdad9a421db97,fix: fix autolink email after single space (#2073),2021-05-27 11:15:32-05:00,rules.js,https://github.com/chjj/marked/raw/cde8a48d6317370adc0d936ac7e54ec384a1c8be/src/rules.js,https://github.com/chjj/marked/raw/6c9a8999ddb8ca9c975120ac323cdad9a421db97/src/rules.js,"@@ -286,7 +286,7 @@ inline.gfm = merge({}, inline.normal, {
   url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
   _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
   del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
-  text: /^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
+  text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
 });
 
 inline.gfm.url = edit(inline.gfm.url, 'i')
",289,"text: /^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/","text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/f82ea2cf1be0a3ad3337bcafe1c4dd3182334bb9,f82ea2cf1be0a3ad3337bcafe1c4dd3182334bb9,"fix: spaces on a newline after a table (#2319)

* fix: rename inconsistent function

* fix: newline with 1~4 spaces below table

* fix: format html test

* fix: specify spaces only

* fix: specify spaces only

* fix: detect tab

* fix: detect tab

* fix: newline at the end of html",2021-12-18 18:21:22-06:00,Tokenizer.js,https://github.com/chjj/marked/raw/fbc08fb18d1b1109a25abe92f5934f3ffe89f147/src/Tokenizer.js,https://github.com/chjj/marked/raw/f82ea2cf1be0a3ad3337bcafe1c4dd3182334bb9/src/Tokenizer.js,"@@ -355,7 +355,7 @@ export class Tokenizer {
         type: 'table',
         header: splitCells(cap[1]).map(c => { return { text: c }; }),
         align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
-        rows: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
+        rows: cap[3] ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []
       };
 
       if (item.header.length === item.align.length) {
",358,"rows: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []","rows: cap[3] ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/6e1f9235dca5d8732046506c435b25e6788a1d4f,6e1f9235dca5d8732046506c435b25e6788a1d4f,fix: fix blank line after table header (#2332),2022-01-26 15:51:00-06:00,Tokenizer.js,https://github.com/chjj/marked/raw/5384d17d7185c3c96f6a566a643c39c4fd9edd42/src/Tokenizer.js,https://github.com/chjj/marked/raw/6e1f9235dca5d8732046506c435b25e6788a1d4f/src/Tokenizer.js,"@@ -369,7 +369,7 @@ export class Tokenizer {
         type: 'table',
         header: splitCells(cap[1]).map(c => { return { text: c }; }),
         align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
-        rows: cap[3] ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []
+        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []
       };
 
       if (item.header.length === item.align.length) {
",372,"rows: cap[3] ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []","rows: cap[3] && cap[3].trim() ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : []"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/b7eea9504bd73872274dbb938ae2baa7c57b6e0e,b7eea9504bd73872274dbb938ae2baa7c57b6e0e,fix: fix link reference definitions specs (#2654),2022-11-20 10:05:52-06:00,rules.js,https://github.com/chjj/marked/raw/36a2b639dc66e756de11a8f2ea3f826d56ba4f7e/src/rules.js,https://github.com/chjj/marked/raw/b7eea9504bd73872274dbb938ae2baa7c57b6e0e/src/rules.js,"@@ -25,7 +25,7 @@ export const block = {
     + '|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (7) open tag
     + '|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (7) closing tag
     + ')',
-  def: /^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,
+  def: /^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,
   table: noopTest,
   lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
   // regex template, placeholders will be replaced according to different paragraph
",28,"def: /^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,","def: /^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/697ac2a42e5b90e2cecc82067638f2e3c82c0010,697ac2a42e5b90e2cecc82067638f2e3c82c0010,"fix: remove quotes at the end of gfm autolink (#2673)

Fixes undefined",2022-12-07 01:44:55-06:00,rules.js,https://github.com/chjj/marked/raw/df4eb0e090e76745d8236d440866447dadeba2cc/src/rules.js,https://github.com/chjj/marked/raw/697ac2a42e5b90e2cecc82067638f2e3c82c0010/src/rules.js,"@@ -284,7 +284,7 @@ inline.gfm = merge({}, inline.normal, {
   escape: edit(inline.escape).replace('])', '~|])').getRegex(),
   _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
   url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
-  _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
+  _backpedal: /(?:[^?!.,:;*_'""~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'""~)]+(?!$))+/,
   del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
   text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
 });
",287,"_backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,","_backpedal: /(?:[^?!.,:;*_'""~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'""~)]+(?!$))+/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/3acbb7f9abe0edffc0b86197573da47e7845421e,3acbb7f9abe0edffc0b86197573da47e7845421e,"fix: fenced code doesn't need a trailing newline (#2756)

* fix: fenced code doesn't need a trailing newline

* build marked for demo

* clean up",2023-03-21 19:50:28-05:00,rules.js,https://github.com/chjj/marked/raw/d1f13195dd98260cbe84f977fe0b70ca924024fd/src/rules.js,https://github.com/chjj/marked/raw/3acbb7f9abe0edffc0b86197573da47e7845421e/src/rules.js,"@@ -10,7 +10,7 @@ import {
 export const block = {
   newline: /^(?: *(?:\n|$))+/,
   code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
-  fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
+  fences: /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
   hr: /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,
   heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
   blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
",13,"fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,","fences: /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/d193694b9e421a137a19fa0112809cc353c4c40c,d193694b9e421a137a19fa0112809cc353c4c40c,fix: only warn if langPrefix is changed (#2796),2023-05-06 15:47:09-05:00,helpers.js,https://github.com/chjj/marked/raw/17315bc5cbdda9d0fee9abfb6ef85fec412441fe/src/helpers.js,https://github.com/chjj/marked/raw/d193694b9e421a137a19fa0112809cc353c4c40c/src/helpers.js,"@@ -245,7 +245,7 @@ export function checkDeprecations(opt, callback) {
     console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
   }
 
-  if (opt.highlight || opt.langPrefix) {
+  if (opt.highlight || opt.langPrefix !== 'language-') {
     console.warn('marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight.');
   }
 
",248,if (opt.highlight || opt.langPrefix) {,if (opt.highlight || opt.langPrefix !== 'language-') {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/a37fe8e82b553cf9700d54d729d348f0e586d650,a37fe8e82b553cf9700d54d729d348f0e586d650,"fix: fix quadratic execution in em mask (#2818)

* fix: fix redos in em mask

* also remove (",2023-05-26 11:50:39-05:00,rules.js,https://github.com/chjj/marked/raw/46f4e5c2ff0b2d1a9f3ef134c73f26027ebea908/src/rules.js,https://github.com/chjj/marked/raw/a37fe8e82b553cf9700d54d729d348f0e586d650/src/rules.js,"@@ -187,7 +187,7 @@ inline._punctuation = '!""#$%&\'()+\\-.,/:;<=>?@\\[\\]`^{|}~';
 inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();
 
 // sequences em should skip over [title](link), `code`, <html>
-inline.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;
+inline.blockSkip = /\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;
 // lookbehind is not available on Safari as of version 16
 // inline.escapedEmSt = /(?<=(?:^|[^\\)(?:\\[^])*)\\[*_]/g;
 inline.escapedEmSt = /(?:^|[^\\])(?:\\\\)*\\[*_]/g;
",190,inline.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;,inline.blockSkip = /\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/f879a23e1bd834641a475067277401e7780432df,f879a23e1bd834641a475067277401e7780432df,fix: Fix more Escape conflicts (#2838),2023-06-06 23:17:52-05:00,Tokenizer.js,https://github.com/chjj/marked/raw/7d111d8fba4ca9e13d5c29f0e4d2cedb24e67423/src/Tokenizer.js,https://github.com/chjj/marked/raw/f879a23e1bd834641a475067277401e7780432df/src/Tokenizer.js,"@@ -647,7 +647,7 @@ export class Tokenizer {
         // Remove extra characters. *a*** -> *a*
         rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);
 
-        const raw = src.slice(0, lLength + match.index + (match[0].length - rDelim.length) + rLength);
+        const raw = src.slice(0, lLength + match.index + rLength + 1);
 
         // Create `em` if smallest delimiter has odd char count. *a***
         if (Math.min(lLength, rLength) % 2) {
",650,"const raw = src.slice(0, lLength + match.index + (match[0].length - rDelim.length) + rLength);","const raw = src.slice(0, lLength + match.index + rLength + 1);"
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/f19fe76db945c20d8d56808e388762cc86d4e214,f19fe76db945c20d8d56808e388762cc86d4e214,fix: Simplify unicode punctuation (#2841),2023-06-09 22:09:48-05:00,Tokenizer.js,https://github.com/chjj/marked/raw/5c9447139e749f614ece36b8864d81e199107284/src/Tokenizer.js,https://github.com/chjj/marked/raw/f19fe76db945c20d8d56808e388762cc86d4e214/src/Tokenizer.js,"@@ -613,7 +613,7 @@ export class Tokenizer {
 
     const nextChar = match[1] || match[2] || '';
 
-    if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {
+    if (!nextChar || !prevChar || this.rules.inline.punctuation.exec(prevChar)) {
       const lLength = match[0].length - 1;
       let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;
 
",616,if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {,if (!nextChar || !prevChar || this.rules.inline.punctuation.exec(prevChar)) {
marked,https://github.com/chjj/marked,https://github.com/chjj/marked/commit/175fc0c3212b4af4d5f24482595823f2567f8f1e,175fc0c3212b4af4d5f24482595823f2567f8f1e,"fix: clean up rules so they can be typed (#3087)

BREAKING CHANGE: Lexer.rules object has been changed so it can be properly types. Some intermediate rules have been removed.",2023-11-28 20:56:27-07:00,marked.test.js,https://github.com/chjj/marked/raw/edae309505b2d25f4040e7a37f02ef560c27fb26/test/unit/marked.test.js,https://github.com/chjj/marked/raw/175fc0c3212b4af4d5f24482595823f2567f8f1e/test/unit/marked.test.js,"@@ -569,7 +569,7 @@ used extension2 walked</p>
       assert.ok(marked.defaults.async);
     });
 
-    it.only('should be async if any extension in use is async', () => {
+    it('should be async if any extension in use is async', () => {
       marked.use({ async: true });
       marked.use({ async: false });
 
",572,"it.only('should be async if any extension in use is async', () => {","it('should be async if any extension in use is async', () => {"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a84c217827e0e1aeb5096831507c614dfb4a36b0,a84c217827e0e1aeb5096831507c614dfb4a36b0,Fixed zero length multibulk. Passing null not an empty array,2010-09-17 16:47:46-07:00,index.js,https://github.com/mranney/node_redis/raw/c7d28bc6012d21506421302aea5c802504a4c7fc/index.js,https://github.com/mranney/node_redis/raw/a84c217827e0e1aeb5096831507c614dfb4a36b0/index.js,"@@ -118,7 +118,7 @@ RedisReplyParser.prototype.execute = function (incoming_buf) {
                 this.multi_bulk_replies = [];
                 this.state = ""type"";
                 if (0 == this.multi_bulk_length) {
-                    this.send_reply([]);
+                    this.send_reply(null);
                 }
             } else {
                 this.emit(""error"", new Error(""didn't see LF after NL reading multi bulk count""));
",121,this.send_reply([]);,this.send_reply(null);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a84c217827e0e1aeb5096831507c614dfb4a36b0,a84c217827e0e1aeb5096831507c614dfb4a36b0,Fixed zero length multibulk. Passing null not an empty array,2010-09-17 16:47:46-07:00,test.js,https://github.com/mranney/node_redis/raw/c7d28bc6012d21506421302aea5c802504a4c7fc/test.js,https://github.com/mranney/node_redis/raw/a84c217827e0e1aeb5096831507c614dfb4a36b0/test.js,"@@ -218,7 +218,7 @@ tests.MULTIBULK_ZERO_LENGTH = function () {
     var name = ""MULTIBULK_ZERO_LENGTH"";
     client.KEYS(['users:*'], function(err, results){
         assert.strictEqual(null, err, 'error on empty multibulk reply');
-        assert.strictEqual(0, results.length);
+        assert.strictEqual(null, results);
         next(name);
     });
 };
",221,"assert.strictEqual(0, results.length);","assert.strictEqual(null, results);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a93020c555d26252d49fd9f74422898ac18c894d,a93020c555d26252d49fd9f74422898ac18c894d,Fixed null HGETALL bug causing exception,2010-09-20 07:32:45-07:00,index.js,https://github.com/mranney/node_redis/raw/ed77cb4d9543f70a489f2f99327a17881b817d92/index.js,https://github.com/mranney/node_redis/raw/a93020c555d26252d49fd9f74422898ac18c894d/index.js,"@@ -436,7 +436,7 @@ RedisClient.prototype.return_reply = function (reply) {
     if (command_obj) {
         if (typeof command_obj.callback === ""function"") {
             // HGETALL special case replies with keyed Buffers
-            if ('HGETALL' === command_obj.command) {
+            if (reply && 'HGETALL' === command_obj.command) {
                 var obj = {};
                 for (var i = 0, len = reply.length; i < len; i += 2) {
                     var key = reply[i].toString(),
",439,if ('HGETALL' === command_obj.command) {,if (reply && 'HGETALL' === command_obj.command) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/7b4ca228d6d719f130f88af5242435021930f2a0,7b4ca228d6d719f130f88af5242435021930f2a0,Fix incorrect test,2010-11-30 23:00:32+01:00,test.js,https://github.com/mranney/node_redis/raw/8c158eb75f4a7d35f0ddae44a5ee511c7ee9afd2/test.js,https://github.com/mranney/node_redis/raw/7b4ca228d6d719f130f88af5242435021930f2a0/test.js,"@@ -158,7 +158,7 @@ tests.MULTI_3 = function () {
     ])
     .scard(""some set"")
     .exec(function (err, replies) {
-        assert.strictEqual(true, is_empty_array(replies[2][0]), name);
+        assert.strictEqual(true, is_empty_array(replies[2]), name);
         next(name);
     });
 };
",161,"assert.strictEqual(true, is_empty_array(replies[2][0]), name);","assert.strictEqual(true, is_empty_array(replies[2]), name);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/bbd48a6facca78453a0c7ebe438a6f71ff79e563,bbd48a6facca78453a0c7ebe438a6f71ff79e563,fix for issue of saving document with buffer AND array on it,2011-03-14 16:02:09-10:00,index.js,https://github.com/mranney/node_redis/raw/850d12962981ee5cc2662f7ce4c8eade3878e1be/index.js,https://github.com/mranney/node_redis/raw/bbd48a6facca78453a0c7ebe438a6f71ff79e563/index.js,"@@ -529,7 +529,7 @@ RedisClient.prototype.send_command = function () {
 
         for (i = 0, il = args.length, arg; i < il; i += 1) {
             arg = args[i];
-            if (arg.length === undefined) {
+            if (!(arg instanceof Buffer || arg instanceof String)) {
                 arg = String(arg);
             }
 
",532,if (arg.length === undefined) {,if (!(arg instanceof Buffer || arg instanceof String)) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/891529c06adbe43b7c17be90c12b512ab4d955bf,891529c06adbe43b7c17be90c12b512ab4d955bf,Fix bug with optional callbacks for hmset.,2011-06-30 16:13:57-06:00,index.js,https://github.com/mranney/node_redis/raw/04b4db872320a0bc6902c7401fe362901099d58b/index.js,https://github.com/mranney/node_redis/raw/891529c06adbe43b7c17be90c12b512ab4d955bf/index.js,"@@ -486,7 +486,7 @@ RedisClient.prototype.send_command = function (command, args, callback) {
             // probably the fastest way:
             //     client.command([arg1, arg2], cb);  (straight passthrough)
             //         send_command(command, [arg1, arg2], cb);
-        } else if (typeof callback === ""undefined"") {
+        } else if (! callback) {
             // most people find this variable argument length form more convenient, but it uses arguments, which is slower
             //     client.command(arg1, arg2, cb);   (wraps up arguments into an array)
             //       send_command(command, [arg1, arg2, cb]);
",489,"} else if (typeof callback === ""undefined"") {",} else if (! callback) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/9a4e51ee4011ed2fa1ac5d28e1fc6e341987a2ed,9a4e51ee4011ed2fa1ac5d28e1fc6e341987a2ed,fix for buffered_writes -- now drain event works,2011-07-01 03:46:50-04:00,index.js,https://github.com/mranney/node_redis/raw/02c3b01f0e3398c5e701636229e36ce5861233da/index.js,https://github.com/mranney/node_redis/raw/9a4e51ee4011ed2fa1ac5d28e1fc6e341987a2ed/index.js,"@@ -286,7 +286,7 @@ RedisClient.prototype.send_offline_queue = function () {
     this.offline_queue = new Queue();
     // Even though items were shifted off, Queue backing store still uses memory until next add, so just get a new Queue
     
-    if (buffered_writes === 0) {
+    if (!buffered_writes) {
         this.should_buffer = false;
         this.emit(""drain"");
     }
",289,if (buffered_writes === 0) {,if (!buffered_writes) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/61ddce87faf212e875dc238766fe7ef02ce37a33,61ddce87faf212e875dc238766fe7ef02ce37a33,Fix bad reference to 'this',2011-10-19 14:48:01+02:00,index.js,https://github.com/mranney/node_redis/raw/3e95c55a0301104c9cd6451d71fa5527b7797792/index.js,https://github.com/mranney/node_redis/raw/61ddce87faf212e875dc238766fe7ef02ce37a33/index.js,"@@ -59,7 +59,7 @@ function RedisClient(stream, options) {
     });
 
     this.stream.on(""error"", function (msg) {
-        if (this.closing) {
+        if (self.closing) {
             return;
         }
 
",62,if (this.closing) {,if (self.closing) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/1896d7ce1ff6a124569a4725eadb9fd72ea0737e,1896d7ce1ff6a124569a4725eadb9fd72ea0737e,Fix for [GH-165] - createClient to properly assign parser_module,2012-01-27 13:35:56-08:00,index.js,https://github.com/mranney/node_redis/raw/3a7c6388de4375adc93f9068cac09b9b349a0add/index.js,https://github.com/mranney/node_redis/raw/1896d7ce1ff6a124569a4725eadb9fd72ea0737e/index.js,"@@ -224,7 +224,7 @@ RedisClient.prototype.init_parser = function () {
     if (this.options.parser) {
         if (! parsers.some(function (parser) {
             if (parser.name === self.options.parser) {
-                this.parser_module = parser;
+                self.parser_module = parser;
                 if (exports.debug_mode) {
                     console.log(""Using parser module: "" + self.parser_module.name);
                 }
",227,this.parser_module = parser;,self.parser_module = parser;
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/02b62e56bdb693f7a11c1b887a71a26ea59cd685,02b62e56bdb693f7a11c1b887a71a26ea59cd685,"Fix for [GH-165] - createClient to properly assign parser_module

Signed-off-by: David Trejo <david.daniel.trejo@gmail.com>",2012-04-27 13:41:42-04:00,index.js,https://github.com/mranney/node_redis/raw/3b645c893d2371bee465ef89d0b2665ba5a9539f/index.js,https://github.com/mranney/node_redis/raw/02b62e56bdb693f7a11c1b887a71a26ea59cd685/index.js,"@@ -224,7 +224,7 @@ RedisClient.prototype.init_parser = function () {
     if (this.options.parser) {
         if (! parsers.some(function (parser) {
             if (parser.name === self.options.parser) {
-                this.parser_module = parser;
+                self.parser_module = parser;
                 if (exports.debug_mode) {
                     console.log(""Using parser module: "" + self.parser_module.name);
                 }
",227,this.parser_module = parser;,self.parser_module = parser;
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/7734fb63b408ad426168074c2e1b612b7c3efbcd,7734fb63b408ad426168074c2e1b612b7c3efbcd,fix #222 hmset object expansion by @kartikrao,2012-06-04 13:43:10-07:00,index.js,https://github.com/mranney/node_redis/raw/65142cf8c02aaf1d77433e916ebf8aefd91862c8/index.js,https://github.com/mranney/node_redis/raw/7734fb63b408ad426168074c2e1b612b7c3efbcd/index.js,"@@ -943,7 +943,7 @@ Multi.prototype.exec = function (callback) {
         if (args.length === 1 && Array.isArray(args[0])) {
             args = args[0];
         }
-        if (command === 'hmset' && typeof args[1] === 'object') {
+        if (command.toLowerCase() === 'hmset' && typeof args[1] === 'object') {
             obj = args.pop();
             Object.keys(obj).forEach(function (key) {
                 args.push(key);
",946,if (command === 'hmset' && typeof args[1] === 'object') {,if (command.toLowerCase() === 'hmset' && typeof args[1] === 'object') {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/44526402dc71166d05c839b8044f91c47292c13d,44526402dc71166d05c839b8044f91c47292c13d,fix bug when callback is undefined,2013-03-27 15:58:50+08:00,index.js,https://github.com/mranney/node_redis/raw/b0f7760b19a04c65ad60b81e5db6327da15e5516/index.js,https://github.com/mranney/node_redis/raw/44526402dc71166d05c839b8044f91c47292c13d/index.js,"@@ -710,7 +710,7 @@ RedisClient.prototype.send_command = function (command, args, callback) {
     if (command === 'set' || command === 'setex') {
         if(args[args.length - 1] === undefined || args[args.length - 1] === null) {
             var err = new Error('send_command: ' + command + ' value must not be undefined or null');
-            return callback(err);
+            return callback && callback(err);
         }
     }
     
",713,return callback(err);,return callback && callback(err);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/515e975539d26902df94b04b69bed39a4be92633,515e975539d26902df94b04b69bed39a4be92633,Switching RedisClient.prototype.end to call .destroySoon() vs .end() on the stream to have compatible behavior between 0.8 and 0.10. Fixes #419,2013-05-05 10:43:17-07:00,index.js,https://github.com/mranney/node_redis/raw/807aaf91b70f047201d4b63fe668d138b6c89cc2/index.js,https://github.com/mranney/node_redis/raw/515e975539d26902df94b04b69bed39a4be92633/index.js,"@@ -874,7 +874,7 @@ RedisClient.prototype.end = function () {
     this.connected = false;
     this.ready = false;
     this.closing = true;
-    return this.stream.end();
+    return this.stream.destroySoon();
 };
 
 function Multi(client, args) {
",877,return this.stream.end();,return this.stream.destroySoon();
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/11735099d60a073dff1c3511f2cdbc5814a019f8,11735099d60a073dff1c3511f2cdbc5814a019f8,"Update index.js

It was almost bug: imagine args is array but callback is not defined - in this case all args (that is consists of one array) are packing to new array. That mean we get this: this.send_command(command, [[...]]). It doesn't make any sense.

After I fix it we get this: this.send_command(command, [...], undefined). It's really ok because if we call for example client.hget(""test"", ""aaa"") we actually do the same: this.send_command(""hget"", [""test"", ""aaa""], undefined). No different from this.send_command(command, [...], undefined).

By the way, «this.send_command(command, [[...]])» could be a bug. Try to call client.eval([""return 1"", 0]) and you should get throw because ""eval"" required 2 param, but program thinks it's only one param: [""return 1"", 0] (at the beginning it was [[""return 1"", 0]]). There's only one reason why you don't get throw - RedisClient.prototype.eval is overridden for some optimizations, lucky. But that doesn't mean everything is ok.",2015-05-28 14:50:46+03:00,index.js,https://github.com/mranney/node_redis/raw/a2ebe4f24894df375f05e004b481cf135c4aef22/index.js,https://github.com/mranney/node_redis/raw/11735099d60a073dff1c3511f2cdbc5814a019f8/index.js,"@@ -985,7 +985,7 @@ commands.forEach(function (fullCommand) {
     var command = fullCommand.split(' ')[0];
 
     RedisClient.prototype[command] = function (args, callback) {
-        if (Array.isArray(args) && typeof callback === ""function"") {
+        if (Array.isArray(args)) {
             return this.send_command(command, args, callback);
         } else {
             return this.send_command(command, to_array(arguments));
",988,"if (Array.isArray(args) && typeof callback === ""function"") {",if (Array.isArray(args)) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/6f1acb0678f7288973e05456bd8a4facf889635c,6f1acb0678f7288973e05456bd8a4facf889635c,Fixed bug where buffer hgetall's in a multi would throw exceptions,2015-07-11 22:47:25-07:00,index.js,https://github.com/mranney/node_redis/raw/08f1a4de18b674cca4e4cc5ce84de7bbffcf9f89/index.js,https://github.com/mranney/node_redis/raw/6f1acb0678f7288973e05456bd8a4facf889635c/index.js,"@@ -610,7 +610,7 @@ function try_callback(callback, reply) {
 function reply_to_object(reply) {
     var obj = {}, j, jl, key, val;
 
-    if (reply.length === 0) {
+    if (reply.length === 0 || !Array.isArray(reply)) {
         return null;
     }
 
",613,if (reply.length === 0) {,if (reply.length === 0 || !Array.isArray(reply)) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/f384d1c774d39090b9634502b230d7c29819135b,f384d1c774d39090b9634502b230d7c29819135b,Fixed the pub/sub logic accidentally stringing the first value of a multi/exec response,2015-07-11 22:47:25-07:00,index.js,https://github.com/mranney/node_redis/raw/6f1acb0678f7288973e05456bd8a4facf889635c/index.js,https://github.com/mranney/node_redis/raw/f384d1c774d39090b9634502b230d7c29819135b/index.js,"@@ -648,7 +648,7 @@ RedisClient.prototype.return_reply = function (reply) {
     // If the ""reply"" here is actually a message received asynchronously due to a
     // pubsub subscription, don't pop the command queue as we'll only be consuming
     // the head command prematurely.
-    if (Array.isArray(reply) && reply.length > 0 && reply[0]) {
+    if (this.pub_sub_mode && Array.isArray(reply) && reply.length > 0 && reply[0]) {
         type = reply[0].toString();
     }
 
",651,if (Array.isArray(reply) && reply.length > 0 && reply[0]) {,if (this.pub_sub_mode && Array.isArray(reply) && reply.length > 0 && reply[0]) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/aea03d60beb499e547ca34a6cbdfad634f36c63c,aea03d60beb499e547ca34a6cbdfad634f36c63c,Fixed exec result arrays being stringed in detect_buffers mode,2015-07-11 22:47:25-07:00,index.js,https://github.com/mranney/node_redis/raw/f384d1c774d39090b9634502b230d7c29819135b/index.js,https://github.com/mranney/node_redis/raw/aea03d60beb499e547ca34a6cbdfad634f36c63c/index.js,"@@ -672,7 +672,7 @@ RedisClient.prototype.return_reply = function (reply) {
 
     if (command_obj && !command_obj.sub_command) {
         if (typeof command_obj.callback === ""function"") {
-            if (this.options.detect_buffers && command_obj.buffer_args === false) {
+            if (this.options.detect_buffers && command_obj.buffer_args === false && 'exec' !== command_obj.command.toLowerCase()) {
                 // If detect_buffers option was specified, then the reply from the parser will be Buffers.
                 // If this command did not use Buffer arguments, then convert the reply to Strings here.
                 reply = reply_to_strings(reply);
",675,if (this.options.detect_buffers && command_obj.buffer_args === false) {,if (this.options.detect_buffers && command_obj.buffer_args === false && 'exec' !== command_obj.command.toLowerCase()) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/06c5f1922b338258172359f0d54b5d3b0c6ae0ae,06c5f1922b338258172359f0d54b5d3b0c6ae0ae,Add jshint and fix errors accordingly (including broken tests),2015-09-12 18:56:49+02:00,pub.js,https://github.com/mranney/node_redis/raw/f7ac0e5e32c0c9b764ddced4193cbc02913987e9/benches/stress/pubsub/pub.js,https://github.com/mranney/node_redis/raw/06c5f1922b338258172359f0d54b5d3b0c6ae0ae/benches/stress/pubsub/pub.js,"@@ -3,8 +3,8 @@
 var freemem = require('os').freemem;
 var profiler = require('v8-profiler');
 var codec = require('../codec');
-
 var sent = 0;
+var exec;
 
 var pub = require('redis').createClient(null, null, {
 	//command_queue_high_water: 5,
",7,,var exec;
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/06c5f1922b338258172359f0d54b5d3b0c6ae0ae,06c5f1922b338258172359f0d54b5d3b0c6ae0ae,Add jshint and fix errors accordingly (including broken tests),2015-09-12 18:56:49+02:00,unix_socket.js,https://github.com/mranney/node_redis/raw/f7ac0e5e32c0c9b764ddced4193cbc02913987e9/examples/unix_socket.js,https://github.com/mranney/node_redis/raw/06c5f1922b338258172359f0d54b5d3b0c6ae0ae/examples/unix_socket.js,"@@ -27,5 +27,5 @@ function done() {
 
 setTimeout(function () {
     console.log(""Taking snapshot."");
-    var snap = profiler.takeSnapshot();
+    profiler.takeSnapshot();
 }, 5000);
",30,var snap = profiler.takeSnapshot();,profiler.takeSnapshot();
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/1ae280dcec16cfc8ebb52a162468059224fec9f3,1ae280dcec16cfc8ebb52a162468059224fec9f3,Fix some tests and deactivate broken ones,2015-09-12 18:56:49+02:00,helper.js,https://github.com/mranney/node_redis/raw/ba779ac361d9128d8ab98e3b7792a51eb285e593/test/helper.js,https://github.com/mranney/node_redis/raw/1ae280dcec16cfc8ebb52a162468059224fec9f3/test/helper.js,"@@ -58,7 +58,7 @@ module.exports = {
     },
     isError: function (done) {
         return function (err, results) {
-            assert.notEqual(err, null, ""err is null, but an error is expected here."");
+            assert(err instanceof Error, ""err is not instance of 'Error', but an error is expected here."");
             if (done) return done();
         };
     },
",61,"assert.notEqual(err, null, ""err is null, but an error is expected here."");","assert(err instanceof Error, ""err is not instance of 'Error', but an error is expected here."");"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f,0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f,"fix merge, run linting as part of the test suite",2015-09-12 18:44:01-07:00,client.spec.js,https://github.com/mranney/node_redis/raw/77e85523741067be4183a73ea3f44e511319a89c/test/commands/client.spec.js,https://github.com/mranney/node_redis/raw/0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f/test/commands/client.spec.js,"@@ -17,7 +17,7 @@ describe(""The 'client' method"", function () {
                 client = redis.createClient.apply(redis.createClient, args);
                 client.once(""error"", done);
                 client.once(""connect"", function () {
-                    client.flushdb(done)
+                    client.flushdb(done);
                 });
             });
 
",20,client.flushdb(done),client.flushdb(done);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f,0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f,"fix merge, run linting as part of the test suite",2015-09-12 18:44:01-07:00,eval.spec.js,https://github.com/mranney/node_redis/raw/77e85523741067be4183a73ea3f44e511319a89c/test/commands/eval.spec.js,https://github.com/mranney/node_redis/raw/0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f/test/commands/eval.spec.js,"@@ -17,7 +17,7 @@ describe(""The 'eval' method"", function () {
                 client = redis.createClient.apply(redis.createClient, args);
                 client.once(""error"", done);
                 client.once(""connect"", function () {
-                    client.flushdb(done)
+                    client.flushdb(done);
                 });
             });
 
",20,client.flushdb(done),client.flushdb(done);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f,0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f,"fix merge, run linting as part of the test suite",2015-09-12 18:44:01-07:00,helper.js,https://github.com/mranney/node_redis/raw/77e85523741067be4183a73ea3f44e511319a89c/test/helper.js,https://github.com/mranney/node_redis/raw/0b46a69c7efd8ee40d93adbc1d61275ba26f0c6f/test/helper.js,"@@ -112,7 +112,7 @@ module.exports = {
                 var protocols = ['IPv4'];
                 if (process.platform !== 'win32') {
                     parsers.push('hiredis');
-                    protocols.push('IPv6')
+                    protocols.push('IPv6');
                 }
 
                 parsers.forEach(function (parser) {
",115,protocols.push('IPv6'),protocols.push('IPv6');
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/71ea42f1bd25b532109da27ebb09154ef97b2644,71ea42f1bd25b532109da27ebb09154ef97b2644,fix linting and timeout issue,2015-09-12 22:59:47-07:00,node_redis.spec.js,https://github.com/mranney/node_redis/raw/20bc05abb5f6a43343bb372d2aa48d9473f85729/test/node_redis.spec.js,https://github.com/mranney/node_redis/raw/71ea42f1bd25b532109da27ebb09154ef97b2644/test/node_redis.spec.js,"@@ -662,7 +662,7 @@ describe(""The node_redis client"", function () {
                                 // TODO: figure out why we emit an error on
                                 // even though we've enabled the offline queue.
                                 if (process.platform === 'win32') return;
-                                if (err) return done(err)
+                                if (err) return done(err);
                             });
 
                             return setTimeout(function(){
",665,if (err) return done(err),if (err) return done(err);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/c522ca126443ac715d162694870c723869aad10f,c522ca126443ac715d162694870c723869aad10f,"Fix inconsistent command argument handling

Earlier multi.command and client.command diverged a lot in the way they accepted arguments. This is now consistent
This will also fix some bugs like using multi.hmset with arrays",2015-09-15 04:00:02+02:00,dbsize.spec.js,https://github.com/mranney/node_redis/raw/e24f056b2d88ea54b689f6bb8f290a9a91be573f/test/commands/dbsize.spec.js,https://github.com/mranney/node_redis/raw/c522ca126443ac715d162694870c723869aad10f/test/commands/dbsize.spec.js,"@@ -71,7 +71,7 @@ describe(""The 'dbsize' method"", function () {
                     var oldSize;
 
                     beforeEach(function (done) {
-                        client.dbsize([], function (err, res) {
+                        client.dbsize(function (err, res) {
                             helper.isType.number()(err, res);
                             assert.strictEqual(res, 0, ""Initial db size should be 0"");
 
",74,"client.dbsize([], function (err, res) {","client.dbsize(function (err, res) {"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,dbsize.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/dbsize.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/dbsize.spec.js,"@@ -34,7 +34,7 @@ describe(""The 'dbsize' method"", function () {
 
                 it(""reports an error"", function (done) {
                     client.dbsize([], function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",37,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,flushdb.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/flushdb.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/flushdb.spec.js,"@@ -34,7 +34,7 @@ describe(""The 'flushdb' method"", function () {
 
                 it(""reports an error"", function (done) {
                     client.flushdb(function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",37,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,get.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/get.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/get.spec.js,"@@ -34,7 +34,7 @@ describe(""The 'get' method"", function () {
 
                 it(""reports an error"", function (done) {
                     client.get(key, function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",37,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,getset.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/getset.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/getset.spec.js,"@@ -36,7 +36,7 @@ describe(""The 'getset' method"", function () {
                 it(""reports an error"", function (done) {
                     client.GET(key, redis.print); // Use the utility function to print the error
                     client.get(key, function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",39,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,incr.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/incr.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/incr.spec.js,"@@ -35,7 +35,7 @@ describe(""The 'incr' method"", function () {
 
                 it(""reports an error"", function (done) {
                     client.incr(function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",38,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,mset.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/mset.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/mset.spec.js,"@@ -36,7 +36,7 @@ describe(""The 'mset' method"", function () {
 
                 it(""reports an error"", function (done) {
                     client.mset(key, value, key2, value2, function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",39,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,multi.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/multi.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/multi.spec.js,"@@ -35,7 +35,7 @@ describe(""The 'multi' method"", function () {
                 it(""reports an error"", function (done) {
                     client.multi();
                     client.exec(function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",38,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,select.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/select.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/select.spec.js,"@@ -26,7 +26,7 @@ describe(""The 'select' method"", function () {
 
                 it(""returns an error if redis is not connected"", function (done) {
                     client.select(1, function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",29,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a0c906256c80295a515ce7d1968b3d25c95d61e8,a0c906256c80295a515ce7d1968b3d25c95d61e8,Fix commands not being rejected after calling .quit as reported in #791,2015-09-16 05:29:34+02:00,set.spec.js,https://github.com/mranney/node_redis/raw/403bfb0200d733e3cd8e697956c885c7efe8ac52/test/commands/set.spec.js,https://github.com/mranney/node_redis/raw/a0c906256c80295a515ce7d1968b3d25c95d61e8/test/commands/set.spec.js,"@@ -34,7 +34,7 @@ describe(""The 'set' method"", function () {
 
                 it(""reports an error"", function (done) {
                     client.set(key, value, function (err, res) {
-                        assert(err.message.match(/Redis connection gone/));
+                        assert(err.message.match(/The connection has already been closed/));
                         done();
                     });
                 });
",37,assert(err.message.match(/Redis connection gone/));,assert(err.message.match(/The connection has already been closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/95a2c373a227e6e3528bfb59facf35d39f603a5c,95a2c373a227e6e3528bfb59facf35d39f603a5c,Fix broken build. The merge had a small conflict,2015-09-16 05:58:29+02:00,node_redis.spec.js,https://github.com/mranney/node_redis/raw/f92f4d0df96d49b3958c914fe02c0c34860a9c5f/test/node_redis.spec.js,https://github.com/mranney/node_redis/raw/95a2c373a227e6e3528bfb59facf35d39f603a5c/test/node_redis.spec.js,"@@ -736,7 +736,7 @@ describe(""The node_redis client"", function () {
                 describe('true', function () {
                     it(""does not return an error and enqueues operation"", function (done) {
                         var client = redis.createClient(9999, null, {
-                            max_attempts: 1,
+                            max_attempts: 0,
                             parser: parser
                         });
 
",739,"max_attempts: 1,","max_attempts: 0,"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/e0b9f0de7986090c6d54c61837f53f0d96dab076,e0b9f0de7986090c6d54c61837f53f0d96dab076,Fix race condition in tests,2015-10-11 03:31:45+02:00,connection.spec.js,https://github.com/mranney/node_redis/raw/8c0d11361a6f2d2cb1b4ab8fc2d299450f45aca4/test/connection.spec.js,https://github.com/mranney/node_redis/raw/e0b9f0de7986090c6d54c61837f53f0d96dab076/test/connection.spec.js,"@@ -88,7 +88,7 @@ describe(""on lost connection"", function () {
                 var end = helper.callFuncAfter(done, 2);
 
                 client.on('error', function (err) {
-                    assert(/CONNECTION_BROKEN|ENOTFOUND/.test(err.code));
+                    assert(/CONNECTION_BROKEN|ENOTFOUND|EAI_AGAIN/.test(err.code));
                     end();
                 });
 
",91,assert(/CONNECTION_BROKEN|ENOTFOUND/.test(err.code));,assert(/CONNECTION_BROKEN|ENOTFOUND|EAI_AGAIN/.test(err.code));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/304abe431828b1931c32187d4888f460ba99f8c5,304abe431828b1931c32187d4888f460ba99f8c5,Fix individual createClient functions passing undefined options to a new instance. Closes #893,2015-10-18 16:58:34+02:00,index.js,https://github.com/mranney/node_redis/raw/ce4a67bb746e5ea5736c61d2524645ad9f3aaa73/index.js,https://github.com/mranney/node_redis/raw/304abe431828b1931c32187d4888f460ba99f8c5/index.js,"@@ -36,7 +36,7 @@ parsers.push(require('./lib/parsers/javascript'));
 
 function RedisClient(stream, options) {
     // Copy the options so they are not mutated
-    options = JSON.parse(JSON.stringify(options));
+    options = JSON.parse(JSON.stringify(options || {}));
     var self = this;
 
     if (!stream.cork) {
",39,options = JSON.parse(JSON.stringify(options));,options = JSON.parse(JSON.stringify(options || {}));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/d454e4025b8deb90678df50cdc34ec579adf802f,d454e4025b8deb90678df50cdc34ec579adf802f,"Fix an issue with .multi after a reconnect on node 0.10

Add .path to .createClient options object for unix sockets",2015-10-29 23:23:20+01:00,helper.js,https://github.com/mranney/node_redis/raw/c3502c799f2c512a10edca031780c7912c299c81/test/helper.js,https://github.com/mranney/node_redis/raw/d454e4025b8deb90678df50cdc34ec579adf802f/test/helper.js,"@@ -161,7 +161,7 @@ module.exports = {
     },
     killConnection: function (client) {
         // Change the connection option to a non existing one and destroy the stream
-        client.connectionOption = {
+        client.connection_option = {
             port: 65535,
             host: '127.0.0.1',
             family: 4
",164,client.connectionOption = {,client.connection_option = {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/88c9e28a2717fe03fa6a3f3470081d6d82fce950,88c9e28a2717fe03fa6a3f3470081d6d82fce950,Fix test,2015-10-29 23:27:52+01:00,multi.spec.js,https://github.com/mranney/node_redis/raw/d454e4025b8deb90678df50cdc34ec579adf802f/test/commands/multi.spec.js,https://github.com/mranney/node_redis/raw/88c9e28a2717fe03fa6a3f3470081d6d82fce950/test/commands/multi.spec.js,"@@ -84,7 +84,7 @@ describe(""The 'multi' method"", function () {
                             multi1.exec(function (err, res) {
                                 assert(called);
                                 assert(!err);
-                                assert.strictEqual(res, '456');
+                                assert.strictEqual(res[1], '456');
                                 done();
                             });
                         });
",87,"assert.strictEqual(res, '456');","assert.strictEqual(res[1], '456');"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/cc93e0b3a7df4fef6205a8e09a10ad4993edbe9e,cc93e0b3a7df4fef6205a8e09a10ad4993edbe9e,Fix return_buffers in pub/sub mode (#911),2015-10-30 16:08:28+03:00,index.js,https://github.com/mranney/node_redis/raw/2cc01f52b653070ddc7d2711d72e641b2ef12ce3/index.js,https://github.com/mranney/node_redis/raw/cc93e0b3a7df4fef6205a8e09a10ad4993edbe9e/index.js,"@@ -645,7 +645,7 @@ RedisClient.prototype.return_reply = function (reply) {
         }
     } else if (this.pub_sub_mode || command_obj && command_obj.sub_command) {
         if (Array.isArray(reply)) {
-            if (!command_obj || command_obj.buffer_args === false) {
+            if ((!command_obj || command_obj.buffer_args === false) && !this.options.return_buffers) {
                 reply = utils.reply_to_strings(reply);
             }
             type = reply[0].toString();
",648,if (!command_obj || command_obj.buffer_args === false) {,if ((!command_obj || command_obj.buffer_args === false) && !this.options.return_buffers) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/535db5231edb64570eafe1629a24a708b2e6af63,535db5231edb64570eafe1629a24a708b2e6af63,Fix rename command not working together with key prefixes,2016-03-07 01:57:56+01:00,rename.spec.js,https://github.com/mranney/node_redis/raw/575ad7357b5f51bc02209e7fecdedb26f7883024/test/rename.spec.js,https://github.com/mranney/node_redis/raw/535db5231edb64570eafe1629a24a708b2e6af63/test/rename.spec.js,"@@ -27,7 +27,7 @@ describe(""rename commands"", function () {
                 });
 
                 client.on('ready', function () {
-                    done();
+                    client.flushdb(done);
                 });
             });
 
",30,done();,client.flushdb(done);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,client.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/client.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/client.spec.js,"@@ -14,7 +14,7 @@ describe(""The 'client' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",17,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,del.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/del.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/del.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'del' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,eval.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/eval.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/eval.spec.js,"@@ -15,7 +15,7 @@ describe(""The 'eval' method"", function () {
             var source = ""return redis.call('set', 'sha', 'test')"";
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",18,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,exists.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/exists.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/exists.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'exists' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,expire.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/expire.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/expire.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'expire' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,geoadd.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/geoadd.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/geoadd.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'geoadd' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,hincrby.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/hincrby.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/hincrby.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'hincrby' method"", function () {
             var hash = ""test hash"";
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,hlen.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/hlen.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/hlen.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'hlen' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,hmget.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/hmget.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/hmget.spec.js,"@@ -14,7 +14,7 @@ describe(""The 'hmget' method"", function () {
             var hash = 'test hash';
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""error"", done);
                 client.once(""ready"", function () {
                     client.flushdb();
",17,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,hmset.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/hmset.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/hmset.spec.js,"@@ -14,7 +14,7 @@ describe(""The 'hmset' method"", function () {
             var hash = 'test hash';
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",17,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,hset.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/hset.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/hset.spec.js,"@@ -14,7 +14,7 @@ describe(""The 'hset' method"", function () {
             var hash = 'test hash';
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",17,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,info.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/info.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/info.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'info' method"", function () {
             var client;
 
             before(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushall(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,keys.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/keys.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/keys.spec.js,"@@ -14,7 +14,7 @@ describe(""The 'keys' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushall(done);
                 });
",17,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,mget.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/mget.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/mget.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'mget' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""error"", done);
                 client.once(""ready"", function () {
                     client.flushdb();
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,msetnx.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/msetnx.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/msetnx.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'msetnx' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,randomkey.test.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/randomkey.test.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/randomkey.test.js,"@@ -13,7 +13,7 @@ describe(""The 'randomkey' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,rename.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/rename.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/rename.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'rename' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,renamenx.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/renamenx.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/renamenx.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'renamenx' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,rpush.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/rpush.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/rpush.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'rpush' command"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sadd.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sadd.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sadd.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sadd' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,scard.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/scard.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/scard.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'scard' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,script.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/script.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/script.spec.js,"@@ -16,7 +16,7 @@ describe(""The 'script' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",19,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sdiff.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sdiff.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sdiff.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sdiff' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sdiffstore.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sdiffstore.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sdiffstore.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sdiffstore' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,setex.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/setex.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/setex.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'setex' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,setnx.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/setnx.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/setnx.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'setnx' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sinter.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sinter.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sinter.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sinter' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sinterstore.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sinterstore.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sinterstore.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sinterstore' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sismember.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sismember.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sismember.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'sismember' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,slowlog.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/slowlog.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/slowlog.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'slowlog' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,smembers.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/smembers.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/smembers.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'smembers' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,smove.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/smove.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/smove.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'smove' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sort.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sort.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sort.spec.js,"@@ -40,7 +40,7 @@ describe(""The 'sort' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""error"", done);
                 client.once(""connect"", function () {
                     client.flushdb();
",43,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,spop.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/spop.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/spop.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'spop' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,srem.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/srem.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/srem.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'srem' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sunion.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sunion.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sunion.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sunion' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,sunionstore.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/sunionstore.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/sunionstore.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'sunionstore' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,ttl.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/ttl.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/ttl.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'ttl' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,type.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/type.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/type.spec.js,"@@ -12,7 +12,7 @@ describe(""The 'type' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",15,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,watch.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/watch.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/watch.spec.js,"@@ -15,7 +15,7 @@ describe(""The 'watch' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",18,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,zadd.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/zadd.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/zadd.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'zadd' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,zscan.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/zscan.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/zscan.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'zscan' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,zscore.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/commands/zscore.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/commands/zscore.spec.js,"@@ -13,7 +13,7 @@ describe(""The 'zscore' method"", function () {
             var client;
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""ready"", function () {
                     client.flushdb(done);
                 });
",16,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,detect_buffers.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/detect_buffers.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/detect_buffers.spec.js,"@@ -16,7 +16,7 @@ describe(""detect_buffers"", function () {
             });
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 client.once(""error"", done);
                 client.once(""connect"", function () {
                     client.flushdb(function (err) {
",19,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,return_buffers.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/return_buffers.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/return_buffers.spec.js,"@@ -17,7 +17,7 @@ describe(""return_buffers"", function () {
             });
 
             beforeEach(function (done) {
-                client = redis.createClient.apply(redis.createClient, args);
+                client = redis.createClient.apply(null, args);
                 var i = 1;
                 if (args[2].detect_buffers) {
                     // Test if detect_buffer option was deactivated
",20,"client = redis.createClient.apply(redis.createClient, args);","client = redis.createClient.apply(null, args);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/ff19663d9d2dc3deb355d595aa379e8a060d97aa,ff19663d9d2dc3deb355d595aa379e8a060d97aa,"Remove code overhead

Add another domain test

Fix test on node 0.10",2016-03-15 03:56:36+01:00,tls.spec.js,https://github.com/mranney/node_redis/raw/f75b38a3e27add302db0de8d93b95732540fc77c/test/tls.spec.js,https://github.com/mranney/node_redis/raw/ff19663d9d2dc3deb355d595aa379e8a060d97aa/test/tls.spec.js,"@@ -111,7 +111,7 @@ describe(""TLS connection tests"", function () {
                 tls: faulty_cert
             });
             client.on('error', function (err) {
-                assert.strictEqual(err.code, 'DEPTH_ZERO_SELF_SIGNED_CERT');
+                assert(/DEPTH_ZERO_SELF_SIGNED_CERT/.test(err.code || err.message), err);
                 client.end(true);
             });
             client.set('foo', 'bar', function (err, res) {
",114,"assert.strictEqual(err.code, 'DEPTH_ZERO_SELF_SIGNED_CERT');","assert(/DEPTH_ZERO_SELF_SIGNED_CERT/.test(err.code || err.message), err);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/861749f4d6be28ee861096765e7176dc988024f6,861749f4d6be28ee861096765e7176dc988024f6,Fix send_command working with hooked internal functions,2016-03-31 19:23:46+02:00,commands.js,https://github.com/mranney/node_redis/raw/3c2e6b4a839a084390d493a168e69ffee412e616/lib/commands.js,https://github.com/mranney/node_redis/raw/861749f4d6be28ee861096765e7176dc988024f6/lib/commands.js,"@@ -42,7 +42,7 @@ commands.list.forEach(function (command) {
                     arr[i] = arguments[i];
                 }
             }
-            return this.send_command(command, arr, callback);
+            return this.internal_send_command(command, arr, callback);
         };
     }
 
",45,"return this.send_command(command, arr, callback);","return this.internal_send_command(command, arr, callback);"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/861749f4d6be28ee861096765e7176dc988024f6,861749f4d6be28ee861096765e7176dc988024f6,Fix send_command working with hooked internal functions,2016-03-31 19:23:46+02:00,info.spec.js,https://github.com/mranney/node_redis/raw/3c2e6b4a839a084390d493a168e69ffee412e616/test/commands/info.spec.js,https://github.com/mranney/node_redis/raw/861749f4d6be28ee861096765e7176dc988024f6/test/commands/info.spec.js,"@@ -56,7 +56,7 @@ describe(""The 'info' method"", function () {
 
             it('check redis v.2.4 support', function (done) {
                 var end = helper.callFuncAfter(done, 2);
-                client.send_command = function (command, args, callback) {
+                client.internal_send_command = function (command, args, callback) {
                     assert.strictEqual(args.length, 0);
                     assert.strictEqual(command, 'info');
                     end();
",59,"client.send_command = function (command, args, callback) {","client.internal_send_command = function (command, args, callback) {"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/d2b8f2f39171d008630d4567f339c27428cb0c23,d2b8f2f39171d008630d4567f339c27428cb0c23,"Add support for camelCase

Fixes missing `EXEC_BATCH` on multi",2016-04-29 04:10:23+02:00,extendedApi.js,https://github.com/mranney/node_redis/raw/dfd493f6ee3ed49f47ad02be95d88b7e298dde17/lib/extendedApi.js,https://github.com/mranney/node_redis/raw/d2b8f2f39171d008630d4567f339c27428cb0c23/lib/extendedApi.js,"@@ -10,7 +10,7 @@ All documented and exposed API belongs in here
 **********************************************/
 
 // Redirect calls to the appropriate function and use to send arbitrary / not supported commands
-RedisClient.prototype.send_command = function (command, args, callback) {
+RedisClient.prototype.send_command = RedisClient.prototype.sendCommand = function (command, args, callback) {
     // Throw to fail early instead of relying in order in this case
     if (typeof command !== 'string') {
         throw new Error('Wrong input type ""' + (command !== null && command !== undefined ? command.constructor.name : command) + '"" for command name');
",13,"RedisClient.prototype.send_command = function (command, args, callback) {","RedisClient.prototype.send_command = RedisClient.prototype.sendCommand = function (command, args, callback) {"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/d2b8f2f39171d008630d4567f339c27428cb0c23,d2b8f2f39171d008630d4567f339c27428cb0c23,"Add support for camelCase

Fixes missing `EXEC_BATCH` on multi",2016-04-29 04:10:23+02:00,multi.js,https://github.com/mranney/node_redis/raw/dfd493f6ee3ed49f47ad02be95d88b7e298dde17/lib/multi.js,https://github.com/mranney/node_redis/raw/d2b8f2f39171d008630d4567f339c27428cb0c23/lib/multi.js,"@@ -70,7 +70,7 @@ function pipeline_transaction_command (self, command, args, index, cb) {
     });
 }
 
-Multi.prototype.exec_atomic = function exec_atomic (callback) {
+Multi.prototype.exec_atomic = Multi.prototype.EXEC_ATOMIC = Multi.prototype.execAtomic = function exec_atomic (callback) {
     if (this.queue.length < 2) {
         return this.exec_batch(callback);
     }
",73,Multi.prototype.exec_atomic = function exec_atomic (callback) {,Multi.prototype.exec_atomic = Multi.prototype.EXEC_ATOMIC = Multi.prototype.execAtomic = function exec_atomic (callback) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/d2b8f2f39171d008630d4567f339c27428cb0c23,d2b8f2f39171d008630d4567f339c27428cb0c23,"Add support for camelCase

Fixes missing `EXEC_BATCH` on multi",2016-04-29 04:10:23+02:00,multi.spec.js,https://github.com/mranney/node_redis/raw/dfd493f6ee3ed49f47ad02be95d88b7e298dde17/test/multi.spec.js,https://github.com/mranney/node_redis/raw/d2b8f2f39171d008630d4567f339c27428cb0c23/test/multi.spec.js,"@@ -571,7 +571,7 @@ describe(""The 'multi' method"", function () {
                         test = true;
                     };
                     multi.set('baz', 'binary');
-                    multi.exec_atomic();
+                    multi.EXEC_ATOMIC();
                     assert(test);
                 });
 
",574,multi.exec_atomic();,multi.EXEC_ATOMIC();
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,"Improve error handling

Added individual error classes
Don't silently fail for commands without callback from now on
General polishing (e.g. better error messages)

Fix typos",2016-04-29 04:31:39+02:00,dbsize.spec.js,https://github.com/mranney/node_redis/raw/bf394923fd548419928ee9108aa87bc16a6e8d33/test/commands/dbsize.spec.js,https://github.com/mranney/node_redis/raw/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4/test/commands/dbsize.spec.js,"@@ -31,7 +31,7 @@ describe(""The 'dbsize' method"", function () {
 
                 it('reports an error', function (done) {
                     client.dbsize([], function (err, res) {
-                        assert(err.message.match(/The connection has already been closed/));
+                        assert(err.message.match(/The connection is already closed/));
                         done();
                     });
                 });
",34,assert(err.message.match(/The connection has already been closed/));,assert(err.message.match(/The connection is already closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,"Improve error handling

Added individual error classes
Don't silently fail for commands without callback from now on
General polishing (e.g. better error messages)

Fix typos",2016-04-29 04:31:39+02:00,flushdb.spec.js,https://github.com/mranney/node_redis/raw/bf394923fd548419928ee9108aa87bc16a6e8d33/test/commands/flushdb.spec.js,https://github.com/mranney/node_redis/raw/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4/test/commands/flushdb.spec.js,"@@ -31,7 +31,7 @@ describe(""The 'flushdb' method"", function () {
 
                 it('reports an error', function (done) {
                     client.flushdb(function (err, res) {
-                        assert(err.message.match(/The connection has already been closed/));
+                        assert(err.message.match(/The connection is already closed/));
                         done();
                     });
                 });
",34,assert(err.message.match(/The connection has already been closed/));,assert(err.message.match(/The connection is already closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,"Improve error handling

Added individual error classes
Don't silently fail for commands without callback from now on
General polishing (e.g. better error messages)

Fix typos",2016-04-29 04:31:39+02:00,getset.spec.js,https://github.com/mranney/node_redis/raw/bf394923fd548419928ee9108aa87bc16a6e8d33/test/commands/getset.spec.js,https://github.com/mranney/node_redis/raw/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4/test/commands/getset.spec.js,"@@ -32,7 +32,7 @@ describe(""The 'getset' method"", function () {
 
                 it('reports an error', function (done) {
                     client.get(key, function (err, res) {
-                        assert(err.message.match(/The connection has already been closed/));
+                        assert(err.message.match(/The connection is already closed/));
                         done();
                     });
                 });
",35,assert(err.message.match(/The connection has already been closed/));,assert(err.message.match(/The connection is already closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,"Improve error handling

Added individual error classes
Don't silently fail for commands without callback from now on
General polishing (e.g. better error messages)

Fix typos",2016-04-29 04:31:39+02:00,select.spec.js,https://github.com/mranney/node_redis/raw/bf394923fd548419928ee9108aa87bc16a6e8d33/test/commands/select.spec.js,https://github.com/mranney/node_redis/raw/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4/test/commands/select.spec.js,"@@ -23,7 +23,7 @@ describe(""The 'select' method"", function () {
 
                 it('returns an error if redis is not connected', function (done) {
                     var buffering = client.select(1, function (err, res) {
-                        assert(err.message.match(/The connection has already been closed/));
+                        assert(err.message.match(/The connection is already closed/));
                         done();
                     });
                     assert(typeof buffering === 'boolean');
",26,assert(err.message.match(/The connection has already been closed/));,assert(err.message.match(/The connection is already closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,03f1a606f7337dd6b4ce9b16e2f96c039266c0f4,"Improve error handling

Added individual error classes
Don't silently fail for commands without callback from now on
General polishing (e.g. better error messages)

Fix typos",2016-04-29 04:31:39+02:00,set.spec.js,https://github.com/mranney/node_redis/raw/bf394923fd548419928ee9108aa87bc16a6e8d33/test/commands/set.spec.js,https://github.com/mranney/node_redis/raw/03f1a606f7337dd6b4ce9b16e2f96c039266c0f4/test/commands/set.spec.js,"@@ -31,7 +31,7 @@ describe(""The 'set' method"", function () {
 
                 it('reports an error', function (done) {
                     client.set(key, value, function (err, res) {
-                        assert(err.message.match(/The connection has already been closed/));
+                        assert(err.message.match(/The connection is already closed/));
                         done();
                     });
                 });
",34,assert(err.message.match(/The connection has already been closed/));,assert(err.message.match(/The connection is already closed/));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a41cfa9aaea788d6af878bbc44faf848cd40c3dd,a41cfa9aaea788d6af878bbc44faf848cd40c3dd,Add good stack traces tests and fix stack traces in debug mode,2016-06-01 14:04:25+02:00,node_redis.spec.js,https://github.com/mranney/node_redis/raw/579584d62965987c6420086e8b2d7258907e7cff/test/node_redis.spec.js,https://github.com/mranney/node_redis/raw/a41cfa9aaea788d6af878bbc44faf848cd40c3dd/test/node_redis.spec.js,"@@ -851,7 +851,7 @@ describe('The node_redis client', function () {
 
                     var id = setTimeout(function () {
                         external.kill();
-                        done(Error('unref subprocess timed out'));
+                        done(new Error('unref subprocess timed out'));
                     }, 8000);
 
                     external.on('close', function (code) {
",854,done(Error('unref subprocess timed out'));,done(new Error('unref subprocess timed out'));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/476e554fcd4f61e8dbb2d2b077322697fa893afb,476e554fcd4f61e8dbb2d2b077322697fa893afb,Fix typo,2017-01-16 09:47:30+01:00,index.js,https://github.com/mranney/node_redis/raw/1f730a803ae2e6482b21ca7cd1382d380831be08/index.js,https://github.com/mranney/node_redis/raw/476e554fcd4f61e8dbb2d2b077322697fa893afb/index.js,"@@ -172,7 +172,7 @@ function RedisClient (options, stream) {
         } else if ((event === 'message_buffer' || event === 'pmessage_buffer' || event === 'messageBuffer' || event === 'pmessageBuffer') && !this.buffers && !this.message_buffers) {
             if (this.reply_parser.name !== 'javascript') {
                 return this.warn(
-                    'You attached the ' + event + ' without the hiredis parser without the returnBuffers option set to true.\n' +
+                    'You attached the ""' + event + '"" listener without the returnBuffers option set to true.\n' +
                     'Please use the JavaScript parser or set the returnBuffers option to true to return buffers.'
                 );
             }
",175,'You attached the ' + event + ' without the hiredis parser without the returnBuffers option set to true.\n' +,"'You attached the ""' + event + '"" listener without the returnBuffers option set to true.\n' +"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/6bb0d0007f1451fca219956a33c5b3458f1d8606,6bb0d0007f1451fca219956a33c5b3458f1d8606,"Fix option param null bug

options.rename_commands could be null, and the repo README.md list the default value is ""null"";",2017-03-02 11:35:44+08:00,index.js,https://github.com/mranney/node_redis/raw/4d23636c4dae08fc93fb23a69e1b17083b535094/index.js,https://github.com/mranney/node_redis/raw/6bb0d0007f1451fca219956a33c5b3458f1d8606/index.js,"@@ -931,7 +931,7 @@ RedisClient.prototype.internal_send_command = function (command_obj) {
             args_copy[i] = this.options.prefix + args_copy[i];
         }
     }
-    if (typeof this.options.rename_commands !== 'undefined' && this.options.rename_commands[command]) {
+    if (this.options.rename_commands && this.options.rename_commands[command]) {
         command = this.options.rename_commands[command];
     }
     // Always use 'Multi bulk commands', but if passed any Buffer args, then do multiple writes, one for each arg.
",934,if (typeof this.options.rename_commands !== 'undefined' && this.options.rename_commands[command]) {,if (this.options.rename_commands && this.options.rename_commands[command]) {
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/a2255d7fe2e156a221925dbaf3623672bcbcab96,a2255d7fe2e156a221925dbaf3623672bcbcab96,Fix error messages not being visible in the stack trace of AbortErrors,2017-03-11 15:17:44-03:00,node_redis.spec.js,https://github.com/mranney/node_redis/raw/e4ce21e12c7891091e335735527f9dfa3da24a9c/test/node_redis.spec.js,https://github.com/mranney/node_redis/raw/a2255d7fe2e156a221925dbaf3623672bcbcab96/test/node_redis.spec.js,"@@ -870,7 +870,7 @@ describe('The node_redis client', function () {
                     client.on('error', function (err) {
                         assert.strictEqual(err.message, 'Protocol error, got ""a"" as reply type byte. Please report this.');
                         assert.strictEqual(err, error);
-                        assert(err instanceof redis.ReplyError);
+                        assert(err instanceof redis.ParserError);
                         // After the hard failure work properly again. The set should have been processed properly too
                         client.get('foo', function (err, res) {
                             assert.strictEqual(res, 'bar');
",873,assert(err instanceof redis.ReplyError);,assert(err instanceof redis.ParserError);
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/19c80c617c864c2bdbf37623e9075cdcbacd098c,19c80c617c864c2bdbf37623e9075cdcbacd098c,fix: client duplicate function now allows db param to be passed,2018-02-23 17:14:47+00:00,extendedApi.js,https://github.com/mranney/node_redis/raw/66d5a50467b557fa41edb1f94ed8cad9bd29d6e0/lib/extendedApi.js,https://github.com/mranney/node_redis/raw/19c80c617c864c2bdbf37623e9075cdcbacd098c/lib/extendedApi.js,"@@ -95,7 +95,7 @@ RedisClient.prototype.duplicate = function (options, callback) {
         existing_options[elem] = options[elem];
     }
     var client = new RedisClient(existing_options);
-    client.selected_db = this.selected_db;
+    client.selected_db = options.db || this.selected_db;
     if (typeof callback === 'function') {
         var ready_listener = function () {
             callback(null, client);
",98,client.selected_db = this.selected_db;,client.selected_db = options.db || this.selected_db;
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/f384e8630203a479c55a89054f37b71394169a84,f384e8630203a479c55a89054f37b71394169a84,"Added timestamp to debug traces (#1426)

* Added timestamp to debug traces

* Make it compatible with node 0.10 and 0.12",2019-05-07 22:50:25+02:00,blpop.spec.js,https://github.com/mranney/node_redis/raw/12265a5079a133d2003bef9cdb0f2deee0251518/test/commands/blpop.spec.js,https://github.com/mranney/node_redis/raw/f384e8630203a479c55a89054f37b71394169a84/test/commands/blpop.spec.js,"@@ -31,7 +31,7 @@ describe(""The 'blpop' method"", function () {
                 });
                 client.rpush('blocking list', 'initial value', helper.isNumber(1));
                 unhookIntercept();
-                assert(/^Send 127\.0\.0\.1:6379 id [0-9]+: \*3\r\n\$5\r\nrpush\r\n\$13\r\nblocking list\r\n\$13\r\ninitial value\r\n\n$/.test(text));
+                assert(/Send 127\.0\.0\.1:6379 id [0-9]+: \*3\r\n\$5\r\nrpush\r\n\$13\r\nblocking list\r\n\$13\r\ninitial value\r\n\n$/.test(text));
                 redis.debug_mode = false;
                 bclient.blpop('blocking list', 0, function (err, value) {
                     assert.strictEqual(value[0], 'blocking list');
",34,assert(/^Send 127\.0\.0\.1:6379 id [0-9]+: \*3\r\n\$5\r\nrpush\r\n\$13\r\nblocking list\r\n\$13\r\ninitial value\r\n\n$/.test(text));,assert(/Send 127\.0\.0\.1:6379 id [0-9]+: \*3\r\n\$5\r\nrpush\r\n\$13\r\nblocking list\r\n\$13\r\ninitial value\r\n\n$/.test(text));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/da31ade348f9b98ebc5a3164d59a93576a865906,da31ade348f9b98ebc5a3164d59a93576a865906,tests: improve coverage & fix unreachable code branches,2020-02-09 15:44:52+00:00,multi.spec.js,https://github.com/mranney/node_redis/raw/43bc8df159c293ec9b9b7a5b109b19e5ab9d5a1a/test/multi.spec.js,https://github.com/mranney/node_redis/raw/da31ade348f9b98ebc5a3164d59a93576a865906/test/multi.spec.js,"@@ -234,7 +234,7 @@ describe(""The 'multi' method"", function () {
                     });
 
                     client.multi([['set', 'foo', 'bar'], ['get', 'foo']]).exec(function (err, res) {
-                        assert(/Redis connection in broken state: maximum connection attempts exceeded/.test(err.message));
+                        assert(/Redis connection in broken state: retry aborted/.test(err.message));
                         assert.strictEqual(err.errors.length, 2);
                         assert.strictEqual(err.errors[0].args.length, 2);
                     });
",237,assert(/Redis connection in broken state: maximum connection attempts exceeded/.test(err.message));,assert(/Redis connection in broken state: retry aborted/.test(err.message));
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/fbca5cda0a477c2c2bce2c85dcabfa1da9325ab4,fbca5cda0a477c2c2bce2c85dcabfa1da9325ab4,"Upgrade node and dependencies (#1578)

* upgrade workflow actions

* fix setup-node version

* change redis-64 version to 3.0.503

* fix ""no password is set"" for redis6,
fix tests to work with redis6,
add redis6 to workflows

* do not use assert.match (was added only at v13.6.0 & v12.16.0)

* fix errors.subscribeUnsubscribeOnly regex

* fix invaliodPassword typo

* send --save """" to redis-server in tests

* upgrade dependencies, set node minimum version to 10, use current LTS versions in tests and benchmark workflows

* change windows tests too

* revert mocha back to ^4.1.0

* fix for f5528504a0b69ff7ca836868ead4590e491b8ef4 - revert mocha back to ^4.1.0

* fix some tests and upgrade mocha

* fix two more tests

* try to fix tests in windows

* upgrade denque and redis-commands
ref #1575

* replace `new Buffer` (deprecated) with `Buffer.from`

* Buffer.from(0) should be Buffer.alloc(0)",2021-03-08 14:12:26-05:00,individualCommands.js,https://github.com/mranney/node_redis/raw/218874432ec8aa1a5e583d448f5613207b9f373c/lib/individualCommands.js,https://github.com/mranney/node_redis/raw/fbca5cda0a477c2c2bce2c85dcabfa1da9325ab4/lib/individualCommands.js,"@@ -4,7 +4,7 @@ var utils = require('./utils');
 var debug = require('./debug');
 var Multi = require('./multi');
 var Command = require('./command');
-var no_password_is_set = /no password is set/;
+var no_password_is_set = /no password is set|called without any password configured/;
 var loading = /LOADING/;
 var RedisClient = require('../').RedisClient;
 
",7,var no_password_is_set = /no password is set/;,var no_password_is_set = /no password is set|called without any password configured/;
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/fbca5cda0a477c2c2bce2c85dcabfa1da9325ab4,fbca5cda0a477c2c2bce2c85dcabfa1da9325ab4,"Upgrade node and dependencies (#1578)

* upgrade workflow actions

* fix setup-node version

* change redis-64 version to 3.0.503

* fix ""no password is set"" for redis6,
fix tests to work with redis6,
add redis6 to workflows

* do not use assert.match (was added only at v13.6.0 & v12.16.0)

* fix errors.subscribeUnsubscribeOnly regex

* fix invaliodPassword typo

* send --save """" to redis-server in tests

* upgrade dependencies, set node minimum version to 10, use current LTS versions in tests and benchmark workflows

* change windows tests too

* revert mocha back to ^4.1.0

* fix for f5528504a0b69ff7ca836868ead4590e491b8ef4 - revert mocha back to ^4.1.0

* fix some tests and upgrade mocha

* fix two more tests

* try to fix tests in windows

* upgrade denque and redis-commands
ref #1575

* replace `new Buffer` (deprecated) with `Buffer.from`

* Buffer.from(0) should be Buffer.alloc(0)",2021-03-08 14:12:26-05:00,multi.spec.js,https://github.com/mranney/node_redis/raw/218874432ec8aa1a5e583d448f5613207b9f373c/test/multi.spec.js,https://github.com/mranney/node_redis/raw/fbca5cda0a477c2c2bce2c85dcabfa1da9325ab4/test/multi.spec.js,"@@ -46,7 +46,7 @@ describe(""The 'multi' method"", function () {
                 }
 
                 var json = JSON.stringify(test_arr);
-                zlib.deflate(new Buffer(json), function (err, buffer) {
+                zlib.deflate(Buffer.from(json), function (err, buffer) {
                     if (err) {
                         done(err);
                         return;
",49,"zlib.deflate(new Buffer(json), function (err, buffer) {","zlib.deflate(Buffer.from(json), function (err, buffer) {"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/428e1c8a7b2322c2650294638cb1663ac5692728,428e1c8a7b2322c2650294638cb1663ac5692728,"Add support for Redis 6 `auth pass [user]` (#1508)

* Add support for `auth pass user`

* fix lint issues

* fix typo

* fix more lint issues

* more lints fixes

* reverse password user order

* update redis-commands

* Update individualCommands.js

Clean code

* Update individualCommands.js

* Update auth.spec.js

* Update index.js

Co-authored-by: Leibale Eidelman <leibale1998@gmail.com>",2021-03-17 19:21:37-04:00,auth.spec.js,https://github.com/mranney/node_redis/raw/bb208d0b9d7d4f4ce7677108f4d74459d842092a/test/auth.spec.js,https://github.com/mranney/node_redis/raw/428e1c8a7b2322c2650294638cb1663ac5692728/test/auth.spec.js,"@@ -61,7 +61,7 @@ describe('client authentication', function () {
                 });
                 var tmp = client.command_queue.get(0).callback;
                 client.command_queue.get(0).callback = function (err, res) {
-                    client.auth = function (pass, callback) {
+                    client.auth = function (pass, user, callback) {
                         callback(null, 'retry worked');
                     };
                     tmp(new Error('ERR redis is still LOADING'));
",64,"client.auth = function (pass, callback) {","client.auth = function (pass, user, callback) {"
node_redis,https://github.com/mranney/node_redis,https://github.com/mranney/node_redis/commit/7fdc54ea2f1c08de5de63ba9cbccea044ae3801a,7fdc54ea2f1c08de5de63ba9cbccea044ae3801a,fix for 428e1c8a7b2322c2650294638cb1663ac5692728 - fix auth retry when redis is in loading state,2021-03-31 14:36:51-04:00,individualCommands.js,https://github.com/mranney/node_redis/raw/09f0fe822862baf0f2a5d2b37537babffaae66d8/lib/individualCommands.js,https://github.com/mranney/node_redis/raw/7fdc54ea2f1c08de5de63ba9cbccea044ae3801a/lib/individualCommands.js,"@@ -191,7 +191,7 @@ function auth_callback (self, pass, user, callback) {
                 // If redis is still loading the db, it will not authenticate and everything else will fail
                 debug('Redis still loading, trying to authenticate later');
                 setTimeout(function () {
-                    self.auth(user, pass, callback);
+                    self.auth(pass, user, callback);
                 }, 100);
                 return;
             }
",194,"self.auth(user, pass, callback);","self.auth(pass, user, callback);"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/3c8e6ebf77e2bd506bdec44b94ec9ee8cc9617ba,3c8e6ebf77e2bd506bdec44b94ec9ee8cc9617ba,"[api fix] When executing stopall, dont kill the current process. Refactor flow-control of forever.cleanUp()",2011-06-15 08:35:40-04:00,cli.js,https://github.com/foreverjs/forever/raw/d681cb7b0652fad5ce5dbc16939c4204c9488c1f/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/3c8e6ebf77e2bd506bdec44b94ec9ee8cc9617ba/lib/forever/cli.js,"@@ -47,7 +47,7 @@ cli.exec = function (action, file, options) {
   tidy.on('cleanUp', function () {
     winston.silly(forever.config.get('root') + ' tidied.');
 
-    if (file && action !== 'set' && action !== 'clear') {
+    if (file && action === 'start') {
       winston.info('Forever processing file: ' + file.grey);
     }
 
",50,if (file && action !== 'set' && action !== 'clear') {,if (file && action === 'start') {
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/76be51eedd9723d5b401fff18364ed78d0e5fe6f,76be51eedd9723d5b401fff18364ed78d0e5fe6f,[fix] Quick fix for the last commit,2011-06-23 20:13:45-04:00,monitor.js,https://github.com/foreverjs/forever/raw/69028906e6f93b6ac393a45a2f18410dee6805f2/lib/forever/monitor.js,https://github.com/foreverjs/forever/raw/76be51eedd9723d5b401fff18364ed78d0e5fe6f/lib/forever/monitor.js,"@@ -96,7 +96,7 @@ var Monitor = exports.Monitor = function (script, options) {
   // Last if any hooks have been passed in attach
   // this instance to them
   //
-  if (options.hooks.length > 0) {
+  if (options.hooks && options.hooks.length > 0) {
     options.hooks.forEach(function (hook) {
       if (typeof hook === 'function') {
         return hook(self);
",99,if (options.hooks.length > 0) {,if (options.hooks && options.hooks.length > 0) {
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/1b02785ec3e0dd8fdc91585fec6fff2ed5211f19,1b02785ec3e0dd8fdc91585fec6fff2ed5211f19,[fix minor] Remove stupid `options.watch || false`,2011-10-01 00:59:56+02:00,monitor.js,https://github.com/foreverjs/forever/raw/7ababd6ec5f7460647540c89cd5902cbd5fa7cfd/lib/forever/monitor.js,https://github.com/foreverjs/forever/raw/1b02785ec3e0dd8fdc91585fec6fff2ed5211f19/lib/forever/monitor.js,"@@ -74,7 +74,7 @@ var Monitor = exports.Monitor = function (script, options) {
   this.watchIgnorePatterns = options.watchIgnorePatterns || [];
   this.watchDirectory      = options.watchDirectory || this.sourceDir;
 
-  if (options.watch || false) {
+  if (options.watch) {
     this.watch();
   }
 
",77,if (options.watch || false) {,if (options.watch) {
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/0d4f68e6e4c82a068da35fc9924428bff08de6bf,0d4f68e6e4c82a068da35fc9924428bff08de6bf,[fix] Pass proc.spawnWith to `forever.restart`. Fixes #116,2011-10-09 00:27:10-04:00,forever.js,https://github.com/foreverjs/forever/raw/39f8b5a2426abfae3614c9516cf09d0f88666b0b/lib/forever.js,https://github.com/foreverjs/forever/raw/0d4f68e6e4c82a068da35fc9924428bff08de6bf/lib/forever.js,"@@ -479,7 +479,7 @@ forever.restart = function (target, format) {
         restartCommand.push(proc.file, proc.options.join(' '));
         forever.log.silly('Restarting with options', { options: restartCommand.join(' ') });
 
-        exec(restartCommand.join(' '), function (err, stdout, stderr) {
+        exec(restartCommand.join(' '), proc.spawnWith, function (err, stdout, stderr) {
           next();
         });
       }, function () {
",482,"exec(restartCommand.join(' '), function (err, stdout, stderr) {","exec(restartCommand.join(' '), proc.spawnWith, function (err, stdout, stderr) {"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/5f2018116d81964cfd5f68238a5687d02dfcae8b,5f2018116d81964cfd5f68238a5687d02dfcae8b,[fix] give sigkills after a timeout given by options.killTTL in MS,2011-11-16 16:42:26-06:00,multiple-processes-test.js,https://github.com/foreverjs/forever/raw/8c8d6708c51694319d9bd24f011add46976c1546/test/multiple-processes-test.js,https://github.com/foreverjs/forever/raw/5f2018116d81964cfd5f68238a5687d02dfcae8b/test/multiple-processes-test.js,"@@ -64,7 +64,7 @@ vows.describe('forever/multiple-processes').addBatch({
       },
       ""should spawn both processes appropriately"": function (err, data) {
         assert.isNull(err);
-        assert.lengthOf(data.monitors, 2);
+        assert.equal(data.monitors.length, 2);
         this.child1.stop();
         this.child2.stop();
       }
",67,"assert.lengthOf(data.monitors, 2);","assert.equal(data.monitors.length, 2);"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/dbf46c34a75de0fb3debb3d48a83ae5411c75693,dbf46c34a75de0fb3debb3d48a83ae5411c75693,[refactor fix] Pass options to `forever.start`,2011-11-22 19:47:27-05:00,cli.js,https://github.com/foreverjs/forever/raw/3d262df7b9fc996b57af2d7f88dab0de96f1756f/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/dbf46c34a75de0fb3debb3d48a83ae5411c75693/lib/forever/cli.js,"@@ -428,7 +428,7 @@ app.cmd('help', cli.help = function () {
 // Remark: this regex matches everything. It has to be added at the end to
 // make executing other commands possible.
 //
-app.cmd(/(.*)/, cli.start = function (file) {
+app.cmd(/(.+)/, cli.start = function (file) {
   var options = getOptions(file);
   tryStart(file, options, function () {
     var monitor = forever.start(file, options);
",431,"app.cmd(/(.*)/, cli.start = function (file) {","app.cmd(/(.+)/, cli.start = function (file) {"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/63d91b20611bfa61b3b0554dd3fca44ee38dc8ca,63d91b20611bfa61b3b0554dd3fca44ee38dc8ca,[fix] Fix for pass-through parameters (`nconf@0.5`),2011-12-01 12:47:17+01:00,cli.js,https://github.com/foreverjs/forever/raw/e7e8fdfdec42e0cdb6acf17c569921b18254197a/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/63d91b20611bfa61b3b0554dd3fca44ee38dc8ca/lib/forever/cli.js,"@@ -170,7 +170,7 @@ function getOptions(file) {
   // Now we have to force optimist to reparse command line options because
   // we've removed some before.
   //
-  app.config.stores.argv.reset();
+  app.config.stores.argv.store = {};
   app.config.stores.argv.loadSync();
 
   [
",173,app.config.stores.argv.reset();,app.config.stores.argv.store = {};
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/dcbfc70c79e872b62c300a45b5392ae5b1d61b78,dcbfc70c79e872b62c300a45b5392ae5b1d61b78,[dist] Various small esoteric changes. Fixes #179,2011-12-02 11:35:23-05:00,helpers.js,https://github.com/foreverjs/forever/raw/061d14ff80ee2952b01db7f01a953a298a795cf6/test/helpers.js,https://github.com/foreverjs/forever/raw/dcbfc70c79e872b62c300a45b5392ae5b1d61b78/test/helpers.js,"@@ -50,7 +50,7 @@ helpers.spawn = function (args, options) {
       // doesn't wait for slave to start up after it's forked, it just quits)
       //
       setTimeout(function () {
-        self.callback(exitCode, stdout, stderr);
+        self.callback(null, exitCode, stdout, stderr);
       }, 200);
     });
   };
",53,"self.callback(exitCode, stdout, stderr);","self.callback(null, exitCode, stdout, stderr);"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/2815f71ce775899368dd56c671306a4e9fa5eb8a,2815f71ce775899368dd56c671306a4e9fa5eb8a,[fix] Break apart cli.logs to support `forever logs` and `forever logs <script|index>` correctly,2011-12-23 08:50:36-05:00,forever.js,https://github.com/foreverjs/forever/raw/72f4d148462248bb417e6719405269034e608396/lib/forever.js,https://github.com/foreverjs/forever/raw/2815f71ce775899368dd56c671306a4e9fa5eb8a/lib/forever.js,"@@ -496,7 +496,7 @@ forever.restart = function (target, format) {
         }
         
         if (proc.command) {
-          restartCommand.push('-c', command);
+          restartCommand.push('-c', proc.command);
         }
 
         if (proc.outFile) {
",499,"restartCommand.push('-c', command);","restartCommand.push('-c', proc.command);"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/4e25765d79faaf28847948af8235c28d596d1b2f,4e25765d79faaf28847948af8235c28d596d1b2f,[fix] Print help on just `forever`,2012-01-05 06:27:35-05:00,cli.js,https://github.com/foreverjs/forever/raw/0d5e893e8b073556b9d342df94f83e0dc5d410f9/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/4e25765d79faaf28847948af8235c28d596d1b2f/lib/forever/cli.js,"@@ -508,7 +508,7 @@ cli.start = function () {
   }
 
   app.init(function () {
-    if (actions.indexOf(app.argv._[0]) === -1) {
+    if (app.argv._.length && actions.indexOf(app.argv._[0]) === -1) {
       return cli.run();
     }
     
",511,if (actions.indexOf(app.argv._[0]) === -1) {,if (app.argv._.length && actions.indexOf(app.argv._[0]) === -1) {
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/432a088a61caaa8c17800b09edced74b3ee47a32,432a088a61caaa8c17800b09edced74b3ee47a32,[fix] Allow for `forever set` to include values with `/` (i.e. directories),2012-01-13 16:18:43-05:00,cli.js,https://github.com/foreverjs/forever/raw/6bfe0713a4116299b3be4d8ede2a1cce683a4ea5/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/432a088a61caaa8c17800b09edced74b3ee47a32/lib/forever/cli.js,"@@ -362,7 +362,7 @@ app.cmd('config', cli.config = function () {
 // Sets the specified `key` / `value` pair in the
 // forever user config.
 //
-app.cmd('set :key :value', cli.set = function (key, value) {
+app.cmd(/set ([\w-_]+) (.+)/, cli.set = function (key, value) {
   updateConfig(function () {
     forever.log.info('Setting forever config: ' + key.grey);
     forever.config.set(key, value);
",365,"app.cmd('set :key :value', cli.set = function (key, value) {","app.cmd(/set ([\w-_]+) (.+)/, cli.set = function (key, value) {"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/a6a167583f06739ae63c458a2c0f3e248ae2eb7c,a6a167583f06739ae63c458a2c0f3e248ae2eb7c,[fix] Remove duplicate alias.,2012-03-05 14:29:14-08:00,cli.js,https://github.com/foreverjs/forever/raw/dd1508bc0ec73aedb6056c5b273f624953d71db2/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/a6a167583f06739ae63c458a2c0f3e248ae2eb7c/lib/forever/cli.js,"@@ -75,7 +75,7 @@ var argvOptions = cli.argvOptions = {
   'command':   {alias: 'c'},
   'errFile':   {alias: 'e'},
   'logFile':   {alias: 'l'},
-  'append': {alias: ['a', 'append'], boolean: true},
+  'append':    {alias: 'a', boolean: true},
   'max':       {alias: 'm'},
   'outFile':   {alias: 'o'},
   'path':      {alias: 'p'},
",78,"'append': {alias: ['a', 'append'], boolean: true},","'append':    {alias: 'a', boolean: true},"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/cda371d51e7fbd452037a1ef43e7740e235e9776,cda371d51e7fbd452037a1ef43e7740e235e9776,[fix] Pass argvOptions to app.config.argv as well.,2012-03-05 17:42:38-08:00,cli.js,https://github.com/foreverjs/forever/raw/85292815058ebe44abfd5d6aadd84579572025da/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/cda371d51e7fbd452037a1ef43e7740e235e9776/lib/forever/cli.js,"@@ -107,7 +107,7 @@ var actions = [
   'cleanlogs'
 ];
 
-app.config.argv().env();
+app.config.argv(argvOptions).env();
 
 var reserved = ['root', 'pidPath'];
 
",110,app.config.argv().env();,app.config.argv(argvOptions).env();
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/49c2c47dc9b30dcf84c6d265192ab1b7ec688b41,49c2c47dc9b30dcf84c6d265192ab1b7ec688b41,"[fix] Correct function name

Trying to stop unexisting process would throw because it was trying to
call function `forever.findByUid` which didn't exist.",2012-05-04 13:32:15+02:00,forever.js,https://github.com/foreverjs/forever/raw/f3b119bf158d34139503274ec3991bc58f0d4454/lib/forever.js,https://github.com/foreverjs/forever/raw/49c2c47dc9b30dcf84c6d265192ab1b7ec688b41/lib/forever.js,"@@ -562,7 +562,7 @@ forever.findByScript = function (script, processes) {
 // #### @processes {Array} Set of processes to find in.
 // Finds the process with the specified uid.
 //
-forever.findByScript = function (script, processes) {
+forever.findByUid = function (script, processes) {
   return !processes
     ? null
     : processes.filter(function (p) {
",565,"forever.findByScript = function (script, processes) {","forever.findByUid = function (script, processes) {"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/4ed1beb8ffa0a71600d7f27d771321e487988a39,4ed1beb8ffa0a71600d7f27d771321e487988a39,[fix] Use process.execPath instead of a hashbang.,2012-06-28 11:27:10-07:00,forever.js,https://github.com/foreverjs/forever/raw/4f72f8ced15f17abbf93b30d4404e5388a20c238/lib/forever.js,https://github.com/foreverjs/forever/raw/4ed1beb8ffa0a71600d7f27d771321e487988a39/lib/forever.js,"@@ -388,7 +388,7 @@ forever.startDaemon = function (script, options) {
   errFD = fs.openSync(options.logFile, 'a');
   monitorPath = path.resolve(__dirname, '..', 'bin', 'monitor');
 
-  monitor = spawn(monitorPath, [ script ], {
+  monitor = spawn(process.execPath, [ monitorPath, script ], {
     stdio: [ 'ipc', outFD, errFD ],
     detached: true
   });
",391,"monitor = spawn(monitorPath, [ script ], {","monitor = spawn(process.execPath, [ monitorPath, script ], {"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/a5343dfc1384714501facaf9876d53abad5ffa57,a5343dfc1384714501facaf9876d53abad5ffa57,[fix] Use process.execPath for spawning.,2012-06-28 12:58:27-07:00,monitor.js,https://github.com/foreverjs/forever/raw/4ed1beb8ffa0a71600d7f27d771321e487988a39/lib/forever/monitor.js,https://github.com/foreverjs/forever/raw/a5343dfc1384714501facaf9876d53abad5ffa57/lib/forever/monitor.js,"@@ -70,7 +70,7 @@ var Monitor = exports.Monitor = function (script, options) {
   // Setup the command to spawn and the options to pass
   // to that command.
   //
-  this.command   = options.command || 'node';
+  this.command   = options.command || process.execPath;
   this.args      = options.options || [];
   this.spawnWith = options.spawnWith || {};
   this.sourceDir = options.sourceDir;
",73,this.command   = options.command || 'node';,this.command   = options.command || process.execPath;
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/2ba315822f7e9d00597dd0a8511182dac182f67e,2ba315822f7e9d00597dd0a8511182dac182f67e,Fixed watchIgnorePatterns assignment,2013-05-12 20:15:22+02:00,cli.js,https://github.com/foreverjs/forever/raw/a4289d175b296382057e255f873954eaff5a48a6/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/2ba315822f7e9d00597dd0a8511182dac182f67e/lib/forever/cli.js,"@@ -204,7 +204,7 @@ var getOptions = cli.getOptions = function (file) {
   });
 
   options.watchIgnore         = options.watchIgnore || [];
-  options.watchIgnorePatterns = !Array.isArray(options.watchIgnore)
+  options.watchIgnorePatterns = Array.isArray(options.watchIgnore)
     ? options.watchIgnore
     : [options.watchIgnore];
 
",207,options.watchIgnorePatterns = !Array.isArray(options.watchIgnore),options.watchIgnorePatterns = Array.isArray(options.watchIgnore)
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/bc48ca67afe3245b23534d978c94fcd138e99420,bc48ca67afe3245b23534d978c94fcd138e99420,[fix] Make vows happy,2013-12-03 17:30:05-05:00,simple-test.js,https://github.com/foreverjs/forever/raw/bc55bbf9cf9bc901da46bf870939d5c542ac72d4/test/worker/simple-test.js,https://github.com/foreverjs/forever/raw/bc48ca67afe3245b23534d978c94fcd138e99420/test/worker/simple-test.js,"@@ -59,7 +59,7 @@ vows.describe('forever/worker/simple').addBatch({
             reader2.send(['data']);
             reader2.destroy();
 
-            setTimeout(self.callback, 100);
+            setTimeout(self.callback, 1);
           });
         },
         'it should not crash the worker': function(worker) {
",62,"setTimeout(self.callback, 100);","setTimeout(self.callback, 1);"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/4822fecaa84f5d4aa967a237c138d24dbab35618,4822fecaa84f5d4aa967a237c138d24dbab35618,[fix] Trying to avoid the non-determinism in tests,2013-12-12 00:32:23-05:00,simple-test.js,https://github.com/foreverjs/forever/raw/2e75aa1e1cc252ff7e4179d72de3fc7137231478/test/worker/simple-test.js,https://github.com/foreverjs/forever/raw/4822fecaa84f5d4aa967a237c138d24dbab35618/test/worker/simple-test.js,"@@ -59,7 +59,7 @@ vows.describe('forever/worker/simple').addBatch({
             reader2.send(['data']);
             reader2.destroy();
 
-            setTimeout(self.callback, 1);
+            self.callback();
           });
         },
         'it should not crash the worker': function(worker) {
",62,"setTimeout(self.callback, 1);",self.callback();
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/fefce03d0c6f139af8c43a0d23bc43ed01772305,fefce03d0c6f139af8c43a0d23bc43ed01772305,fixed wrong usage for option fifo,2014-08-01 14:50:15-07:00,cli.js,https://github.com/foreverjs/forever/raw/a216e76189a80bb5c3194916d9259c1afacdb35b/lib/forever/cli.js,https://github.com/foreverjs/forever/raw/fefce03d0c6f139af8c43a0d23bc43ed01772305/lib/forever/cli.js,"@@ -100,7 +100,7 @@ var argvOptions = cli.argvOptions = {
   'errFile':   {alias: 'e'},
   'logFile':   {alias: 'l'},
   'append':    {alias: 'a', boolean: true},
-  'fifo':      {alias: 'f', boolean: false},
+  'fifo':      {alias: 'f', boolean: true},
   'number':    {alias: 'n'},
   'max':       {alias: 'm'},
   'outFile':   {alias: 'o'},
",103,"'fifo':      {alias: 'f', boolean: false},","'fifo':      {alias: 'f', boolean: true},"
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/4adf8346cc14392ad38bc851ed16dd4769da332c,4adf8346cc14392ad38bc851ed16dd4769da332c,Little bug fix: comparing integers,2014-11-04 02:27:19-05:00,forever.js,https://github.com/foreverjs/forever/raw/c29de4b949816ae7247dfa18b6a7f320d4b55164/lib/forever.js,https://github.com/foreverjs/forever/raw/4adf8346cc14392ad38bc851ed16dd4769da332c/lib/forever.js,"@@ -779,7 +779,7 @@ forever.findByPid = function (pid, processes) {
   return !processes
     ? null
     : processes.filter(function (p) {
-      return p.pid === pid;
+      return p.pid == pid;
     });
 };
 
",782,return p.pid === pid;,return p.pid == pid;
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/3865596db78b34db9b5ec7200d5656df40e0fdc8,3865596db78b34db9b5ec7200d5656df40e0fdc8,[dist] Up-to-date linting with JSHint. Fixes #419.,2014-11-04 02:39:19-05:00,monitor.js,https://github.com/foreverjs/forever/raw/1d863ba26901ed1af9b2cb90aad91f42d0453318/test/helpers/mocks/monitor.js,https://github.com/foreverjs/forever/raw/3865596db78b34db9b5ec7200d5656df40e0fdc8/test/helpers/mocks/monitor.js,"@@ -14,7 +14,7 @@ MonitorMock.prototype.__defineGetter__('data', function () {
   return {
     uid: '_uid',
     command: 'node'
-  }
+  };
 });
 
 MonitorMock.prototype.kill = MonitorMock.prototype.stop = function (forceStop) {
",17,},};
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/3865596db78b34db9b5ec7200d5656df40e0fdc8,3865596db78b34db9b5ec7200d5656df40e0fdc8,[dist] Up-to-date linting with JSHint. Fixes #419.,2014-11-04 02:39:19-05:00,multiple-workers-test.js,https://github.com/foreverjs/forever/raw/1d863ba26901ed1af9b2cb90aad91f42d0453318/test/worker/multiple-workers-test.js,https://github.com/foreverjs/forever/raw/3865596db78b34db9b5ec7200d5656df40e0fdc8/test/worker/multiple-workers-test.js,"@@ -32,7 +32,7 @@ function assertRunning(port, i) {
     ""stop the child process"": function () {
       children[i].stop();
     }
-  }
+  };
 }
 
 vows.describe('forever/workers/multiple').addBatch({
",35,},};
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/310edd21915c2e07c6d2ea371f88eba1b410dc46,310edd21915c2e07c6d2ea371f88eba1b410dc46,fixes #699,2015-06-29 16:02:50+02:00,forever.js,https://github.com/foreverjs/forever/raw/37229d023625c883e13cb4652a9ad4f0b46e6e6f/lib/forever.js,https://github.com/foreverjs/forever/raw/310edd21915c2e07c6d2ea371f88eba1b410dc46/lib/forever.js,"@@ -761,7 +761,7 @@ forever.findByPid = function (pid, processes) {
   var procs = !processes
     ? null
     : processes.filter(function (p) {
-      return p.pid == pid;
+      return p.pid === pid;
     });
 
   if (procs && procs.length === 0) { procs = null; }
",764,return p.pid == pid;,return p.pid === pid;
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/a3baed691afc232147eee4b8e2aa8eaf8a3626f1,a3baed691afc232147eee4b8e2aa8eaf8a3626f1,[fix] Modernize server.js fixture.,2016-11-01 23:55:22-04:00,server.js,https://github.com/foreverjs/forever/raw/a4b2acd16377ef8acaa0b4fb5f72f172659d06af/test/fixtures/server.js,https://github.com/foreverjs/forever/raw/a3baed691afc232147eee4b8e2aa8eaf8a3626f1/test/fixtures/server.js,"@@ -12,5 +12,5 @@ http.createServer(function (req, res) {
 }).listen(port);
 
 /* server started */
-util.puts('> hello world running on port ' + port);
+console.log('> hello world running on port ' + port);
 
",15,util.puts('> hello world running on port ' + port);,console.log('> hello world running on port ' + port);
forever,https://github.com/foreverjs/forever,https://github.com/foreverjs/forever/commit/15801523ff523020c187827f7ad812dea4843451,15801523ff523020c187827f7ad812dea4843451,"[fix] use fs.unlinkSync (#979)

Right now fs.unlink is used without a callback. This would throw
from Node.js 10 on. Therefore switch to the sync version. That way
errors are also going to be detected.",2019-01-05 17:40:49+01:00,worker.js,https://github.com/foreverjs/forever/raw/c78e3dfc0107e54300ca576b42fff69e2cf1e909/lib/forever/worker.js,https://github.com/foreverjs/forever/raw/15801523ff523020c187827f7ad812dea4843451/lib/forever/worker.js,"@@ -93,7 +93,7 @@ Worker.prototype.start = function (callback) {
         // as a mapping to the `\\.pipe\\*` ""files"" that can't
         // be enumerated because ... Windows.
         //
-        fs.unlink(self._sockFile);
+        fs.unlinkSync(self._sockFile);
       }
 
       self.monitor.stop();
",96,fs.unlink(self._sockFile);,fs.unlinkSync(self._sockFile);
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/85a17b3246f8b139e34eb03f96641b85a5c4f7ba,85a17b3246f8b139e34eb03f96641b85a5c4f7ba,fixed endsWith,2010-06-21 14:17:41+03:00,underscore.strings.js,https://github.com/epeli/underscore.string/raw/5725e26a44f0956ba518336dc753c589b1f11f87/underscore.strings.js,https://github.com/epeli/underscore.string/raw/85a17b3246f8b139e34eb03f96641b85a5c4f7ba/underscore.strings.js,"@@ -73,7 +73,7 @@
 
 
         endsWith: function(str, ends){
-            return str.length >= ends.length && str.substring(ends.length) === ends;
+            return str.length >= ends.length && str.substring(str.length - ends.length) === ends;
         },
 
 
",76,return str.length >= ends.length && str.substring(ends.length) === ends;,return str.length >= ends.length && str.substring(str.length - ends.length) === ends;
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/cd7b8d920420e8d8e9ae26d71b3b06b128cc98d1,cd7b8d920420e8d8e9ae26d71b3b06b128cc98d1,Fix integration with Node.js,2010-12-18 16:50:49+06:00,underscore.strings.js,https://github.com/epeli/underscore.string/raw/268b6f075ba2696cbd803ec9559c1f7bb2133a42/underscore.strings.js,https://github.com/epeli/underscore.string/raw/cd7b8d920420e8d8e9ae26d71b3b06b128cc98d1/underscore.strings.js,"@@ -230,7 +230,7 @@
     } 
     
   // Export for Node.js use  
-    else if (module) {
+    else if (typeof module !== 'undefined') {
       module.exports = root._s;
     }
     
",233,else if (module) {,else if (typeof module !== 'undefined') {
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/6949e8318f55674c73814a7b801809b92e7617e0,6949e8318f55674c73814a7b801809b92e7617e0,fixed missing quote,2011-06-23 11:27:03+07:00,strings.js,https://github.com/epeli/underscore.string/raw/661084fd353eeb32f53792411fef18b0cd2346bd/test/strings.js,https://github.com/epeli/underscore.string/raw/6949e8318f55674c73814a7b801809b92e7617e0/test/strings.js,"@@ -186,7 +186,7 @@ $(document).ready(function() {
   test('String: unescapeHTML', function(){
     equals(_('&lt;div&gt;Blah &amp; &quot;blah&quot; &amp; &apos;blah&apos;&lt;/div&gt;').unescapeHTML(),
              '<div>Blah & ""blah"" & \'blah\'</div>');
-    equals(_('&amp;lt;).unescapeHTML(), '&lt;');
+    equals(_('&amp;lt;').unescapeHTML(), '&lt;');
     equals(_(5).unescapeHTML(), '5');
     equals(_(undefined).unescapeHTML(), '');
   });
",189,"equals(_('&amp;lt;).unescapeHTML(), '&lt;');","equals(_('&amp;lt;').unescapeHTML(), '&lt;');"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/c75ccb24a24df0d6727ff7b3b96260df63aefe7e,c75ccb24a24df0d6727ff7b3b96260df63aefe7e,"Fixed String error in _.pad() in IE6

Internet Explorer 6 doesn't support direct char access with ""string""[0]. Use ""string"".charAt(0) instead.",2011-08-05 08:04:47+02:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/217817076e3916fc068e35d53cd900ff023ad53d/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/c75ccb24a24df0d6727ff7b3b96260df63aefe7e/lib/underscore.string.js,"@@ -375,7 +375,7 @@
           padlen  = 0;
 
       if (!padStr) { padStr = ' '; }
-      else if (padStr.length > 1) { padStr = padStr[0]; }
+      else if (padStr.length > 1) { padStr = padStr.charAt(0); }
       switch(type) {
         case 'right':
           padlen = (length - str.length);
",378,else if (padStr.length > 1) { padStr = padStr[0]; },else if (padStr.length > 1) { padStr = padStr.charAt(0); }
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/c627b4007387ef4fb0197018d8bcbf908cf25aae,c627b4007387ef4fb0197018d8bcbf908cf25aae,Fix standalone mode,2011-08-23 12:39:23-07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/582ed0d12e88d82a9b259ced5b542c94f5b3f7ad/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/c627b4007387ef4fb0197018d8bcbf908cf25aae/lib/underscore.string.js,"@@ -10,7 +10,7 @@
 (function(root){
   'use strict';
 
-  if (typeof _() != 'undefined') {
+  if (typeof _ != 'undefined') {
     var _reverse = _().reverse,
         _include = _.include;
   }
",13,if (typeof _() != 'undefined') {,if (typeof _ != 'undefined') {
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/d0c07c5fef0ecb064dec0d6b87bec716ba034c1e,d0c07c5fef0ecb064dec0d6b87bec716ba034c1e,"Fixes a closure compiler warning:
WARNING - If this if/for/while really shouldnt have a body, use {}
   for (var o = []; m > 0; o[--m] = i);",2011-10-07 14:44:17-07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/22c060b9b6dcf215b51c6dd5d3d0f313c95808d7/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/d0c07c5fef0ecb064dec0d6b87bec716ba034c1e/lib/underscore.string.js,"@@ -22,7 +22,7 @@
   var parseNumber = function(source) { return source * 1 || 0; };
 
   var strRepeat = function(i, m) {
-    for (var o = []; m > 0; o[--m] = i);
+    for (var o = []; m > 0; o[--m] = i) {}
     return o.join('');
   };
 
",25,for (var o = []; m > 0; o[--m] = i);,for (var o = []; m > 0; o[--m] = i) {}
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/9dd973452e7f94b3adf2a071af02dfdc0eca95d1,9dd973452e7f94b3adf2a071af02dfdc0eca95d1,fixed #89,2012-02-29 10:55:13+07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/a0b952b9ae2ada1e09c8e71e58aa61e19ce2a0d9/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/9dd973452e7f94b3adf2a071af02dfdc0eca95d1/lib/underscore.string.js,"@@ -287,7 +287,7 @@
     },
 
     dasherize: function(str){
-      return _s.trim(str).replace(/([a-z\d])([A-Z]+)/g, '$1-$2').replace(/^([A-Z]+)/, '-$1').replace(/\_|\s+/g, '-').toLowerCase();
+      return _s.trim(str).replace(/[\W_]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/, '-').toLowerCase();
     },
 
     humanize: function(str){
",290,"return _s.trim(str).replace(/([a-z\d])([A-Z]+)/g, '$1-$2').replace(/^([A-Z]+)/, '-$1').replace(/\_|\s+/g, '-').toLowerCase();","return _s.trim(str).replace(/[\W_]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/, '-').toLowerCase();"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/18487143989b58c9d39fef2cdb36ddceb3176d77,18487143989b58c9d39fef2cdb36ddceb3176d77,fixes #91,2012-03-01 06:49:08+07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/72cf32a0f02a67e1a4ef1ddbaf3f070228f25abf/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/18487143989b58c9d39fef2cdb36ddceb3176d77/lib/underscore.string.js,"@@ -287,7 +287,7 @@
     },
 
     dasherize: function(str){
-      return _s.trim(str).replace(/[\W_]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();
+      return _s.trim(str).replace(/[_\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();
     },
 
     humanize: function(str){
",290,"return _s.trim(str).replace(/[\W_]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();","return _s.trim(str).replace(/[_\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/80f31af1179d72ab2f0411ad8eacfac7bbf003d7,80f31af1179d72ab2f0411ad8eacfac7bbf003d7,"Fixed titleize, closes #110",2012-05-04 16:12:51+07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/e972b1ac83c7d1446a3f00973375ee13584b1223/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/80f31af1179d72ab2f0411ad8eacfac7bbf003d7/lib/underscore.string.js,"@@ -284,7 +284,7 @@
     },
 
     titleize: function(str){
-      return (''+str).replace(/\b./g, function(ch){ return ch.toUpperCase(); });
+      return (''+str).replace(/(?:^|\s)\S/g, function(ch){ return ch.toUpperCase(); });
     },
 
     camelize: function(str){
",287,"return (''+str).replace(/\b./g, function(ch){ return ch.toUpperCase(); });","return (''+str).replace(/(?:^|\s)\S/g, function(ch){ return ch.toUpperCase(); });"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/8dc54e5da0b3c599219d83c6ef0e6ef35ebe5a7a,8dc54e5da0b3c599219d83c6ef0e6ef35ebe5a7a,"Fixed AMD define call
Closes #127",2012-06-04 10:45:02+07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/267110c53d11b2d8832de788ed354643a27c6584/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/8dc54e5da0b3c599219d83c6ef0e6ef35ebe5a7a/lib/underscore.string.js,"@@ -556,7 +556,7 @@
 
   } else if (typeof define === 'function' && define.amd) {
     // Register as a named module with AMD.
-    define('underscore.string', function() {
+    define('underscore.string', null, function() {
       return _s;
     });
     
",559,"define('underscore.string', function() {","define('underscore.string', null, function() {"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/d3cf3d3f9ff041850a4ef002b6358df8adbc87ea,d3cf3d3f9ff041850a4ef002b6358df8adbc87ea,"Fixed AMD define call again
Closes #128",2012-06-13 15:34:56+07:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/608c830397a0693dd91384fc4343b96b14ad289d/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/d3cf3d3f9ff041850a4ef002b6358df8adbc87ea/lib/underscore.string.js,"@@ -556,7 +556,7 @@
 
   } else if (typeof define === 'function' && define.amd) {
     // Register as a named module with AMD.
-    define('underscore.string', null, function() {
+    define('underscore.string', [], function() {
       return _s;
     });
 
",559,"define('underscore.string', null, function() {","define('underscore.string', [], function() {"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/d53fb97c0a77f3e151c0647bb9771d510bc1fb37,d53fb97c0a77f3e151c0647bb9771d510bc1fb37,"Style fixes, optimizations",2012-08-13 13:45:36+07:00,strings.js,https://github.com/epeli/underscore.string/raw/4f121ca786d8a71120096fb79b5a3237c2d2a5da/test/strings.js,https://github.com/epeli/underscore.string/raw/d53fb97c0a77f3e151c0647bb9771d510bc1fb37/test/strings.js,"@@ -415,7 +415,7 @@ $(document).ready(function() {
     equals(_(""Hello\nWorld"").lines().length, 2);
     equals(_(""Hello World"").lines().length, 1);
     equals(_(123).lines().length, 1);
-    equals(_('').lines().length, 0);
+    equals(_('').lines().length, 1);
     equals(_(null).lines().length, 0);
     equals(_(undefined).lines().length, 0);
   });
",418,"equals(_('').lines().length, 0);","equals(_('').lines().length, 1);"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/ef398c962a050ca184c9d4e55299826f731e43b3,ef398c962a050ca184c9d4e55299826f731e43b3,resolves #281,2014-06-10 11:02:16+02:00,underscore.string.js,https://github.com/epeli/underscore.string/raw/52be74cf2c8ef2c9a2164c72e71dacf955978d88/lib/underscore.string.js,https://github.com/epeli/underscore.string/raw/ef398c962a050ca184c9d4e55299826f731e43b3/lib/underscore.string.js,"@@ -349,7 +349,7 @@
     },
 
     classify: function(str){
-      return _s.titleize(String(str).replace(/[\W_]/g, ' ')).replace(/\s/g, '');
+      return _s.capitalize(_s.camelize(String(str).replace(/[\W_]/g, ' ')).replace(/\s/g, ''));
     },
 
     humanize: function(str){
",352,"return _s.titleize(String(str).replace(/[\W_]/g, ' ')).replace(/\s/g, '');","return _s.capitalize(_s.camelize(String(str).replace(/[\W_]/g, ' ')).replace(/\s/g, ''));"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/5619b29632ebcf32c62746eca85495bca2940064,5619b29632ebcf32c62746eca85495bca2940064,"fix edgecase of startsWith

closes #373",2014-12-30 10:19:37+01:00,startsWith.js,https://github.com/epeli/underscore.string/raw/efb7b53c295eb08febd4c4a799e763557e44d524/startsWith.js,https://github.com/epeli/underscore.string/raw/5619b29632ebcf32c62746eca85495bca2940064/startsWith.js,"@@ -5,5 +5,5 @@ module.exports = function startsWith(str, starts, position) {
   str = makeString(str);
   starts = '' + starts;
   position = position == null ? 0 : Math.min(toPositive(position), str.length);
-  return str.lastIndexOf(starts) == position;
+  return str.lastIndexOf(starts, position) === position;
 };
",8,return str.lastIndexOf(starts) == position;,"return str.lastIndexOf(starts, position) === position;"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/63b74030b2a1a4c2519f4e8433ccb43b8ee10101,63b74030b2a1a4c2519f4e8433ccb43b8ee10101,Made join a conflict method to fix #174.,2015-01-16 10:51:07+01:00,exports.js,https://github.com/epeli/underscore.string/raw/ed5450df1a2dfcc2c741f55556747b77761c93b6/exports.js,https://github.com/epeli/underscore.string/raw/63b74030b2a1a4c2519f4e8433ccb43b8ee10101/exports.js,"@@ -2,7 +2,7 @@ module.exports = function() {
   var result = {};
 
   for (var prop in this) {
-    if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse)$/)) continue;
+    if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join)$/)) continue;
     result[prop] = this[prop];
   }
 
",5,if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse)$/)) continue;,if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join)$/)) continue;
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/3d27bb8b05486a1ebbb0021ca36ccee896d6091d,3d27bb8b05486a1ebbb0021ca36ccee896d6091d,"add bower.json to gulpfile

resolves #394",2015-01-21 07:56:32+01:00,gulpfile.js,https://github.com/epeli/underscore.string/raw/944e95b8ba7b7d63b90c3233fe72a746c40da889/gulpfile.js,https://github.com/epeli/underscore.string/raw/3d27bb8b05486a1ebbb0021ca36ccee896d6091d/gulpfile.js,"@@ -11,7 +11,7 @@ var gulp = require('gulp-param')(require('gulp'), process.argv),
   SRC_COMPILED = 'underscore.string.js',
   MIN_FILE = 'underscore.string.min.js',
   TEST_SUITES = ['test/test.html', 'test/test_standalone.html', 'test/test_underscore/index.html'],
-  VERSION_FILES = ['./package.json', './component.json'];
+  VERSION_FILES = ['./package.json', './component.json', './bower.json'];
 
 gulp.task('test', ['browserify'], function() {
   return gulp.src(TEST_SUITES)
",14,"VERSION_FILES = ['./package.json', './component.json'];","VERSION_FILES = ['./package.json', './component.json', './bower.json'];"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/f98c9136e66cac3815648c1ceba19d13b36e5b13,f98c9136e66cac3815648c1ceba19d13b36e5b13,"Fix regression in slugify when called with multiple capital letters in a row

introduced in v3.2.0 with
https://github.com/epeli/underscore.string/commit/4124d03e3ca7f0194cacce1d64e7c68125edf331",2015-09-05 13:25:20+02:00,slugify.js,https://github.com/epeli/underscore.string/raw/0926dfa55215c313add4c86fe8e5e81bfbf42010/slugify.js,https://github.com/epeli/underscore.string/raw/f98c9136e66cac3815648c1ceba19d13b36e5b13/slugify.js,"@@ -5,5 +5,5 @@ var dasherize = require('./dasherize');
 var cleanDiacritics = require(""./cleanDiacritics"");
 
 module.exports = function slugify(str) {
-  return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g, '-')), '-');
+  return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g, '-').toLowerCase()), '-');
 };
",8,"return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g, '-')), '-');","return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g, '-').toLowerCase()), '-');"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/c1a3b89f2f430d781bd7837e89de83bc2038064f,c1a3b89f2f430d781bd7837e89de83bc2038064f,"Add ""wrap"" to exports.

Fixes a bug introduced in https://github.com/epeli/underscore.string/pull/410.",2016-02-20 09:33:09-05:00,exports.js,https://github.com/epeli/underscore.string/raw/d2453f44df2788788556e8232bc2f1803419a7d9/exports.js,https://github.com/epeli/underscore.string/raw/c1a3b89f2f430d781bd7837e89de83bc2038064f/exports.js,"@@ -2,7 +2,7 @@ module.exports = function() {
   var result = {};
 
   for (var prop in this) {
-    if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map)$/)) continue;
+    if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map|wrap)$/)) continue;
     result[prop] = this[prop];
   }
 
",5,if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map)$/)) continue;,if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map|wrap)$/)) continue;
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/7e4efd4ace6e220b8127aef9c6ae1b5927256b9a,7e4efd4ace6e220b8127aef9c6ae1b5927256b9a,"adds new build chain

* move eslint to package.json
* adds coverage script
* adds build and release scripts
* remove gulp
* update build instructions
* create and push a tag
* update eslintignore
* publish to npm last
* fixes npmcdn links
* omit version tag to always use the latest.",2016-02-23 16:44:34+01:00,slugify.js,https://github.com/epeli/underscore.string/raw/74f3e96d96065a3c4ffc7f8f6a43781d8f1f217a/bench/slugify.js,https://github.com/epeli/underscore.string/raw/7e4efd4ace6e220b8127aef9c6ae1b5927256b9a/bench/slugify.js,"@@ -1,5 +1,5 @@
 var slugify = require('../slugify');
 
 module.exports = function() {
-  slugify(""Un éléphant à l'orée du bois"");
+  slugify('Un éléphant à l\'orée du bois');
 };
",4,"slugify(""Un éléphant à l'orée du bois"");",slugify('Un éléphant à l\'orée du bois');
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/7e4efd4ace6e220b8127aef9c6ae1b5927256b9a,7e4efd4ace6e220b8127aef9c6ae1b5927256b9a,"adds new build chain

* move eslint to package.json
* adds coverage script
* adds build and release scripts
* remove gulp
* update build instructions
* create and push a tag
* update eslintignore
* publish to npm last
* fixes npmcdn links
* omit version tag to always use the latest.",2016-02-23 16:44:34+01:00,unquote.js,https://github.com/epeli/underscore.string/raw/74f3e96d96065a3c4ffc7f8f6a43781d8f1f217a/tests/unquote.js,https://github.com/epeli/underscore.string/raw/7e4efd4ace6e220b8127aef9c6ae1b5927256b9a/tests/unquote.js,"@@ -6,6 +6,6 @@ test('#unquote', function(){
   equal(unquote('""foo""'), 'foo');
   equal(unquote('""""foo""""'), '""foo""');
   equal(unquote('""1""'), '1');
-  equal(unquote(""'foo'"", ""'""), 'foo');
+  equal(unquote('\'foo\'', '\''), 'foo');
 });
 
",9,"equal(unquote(""'foo'"", ""'""), 'foo');","equal(unquote('\'foo\'', '\''), 'foo');"
underscore.string,https://github.com/epeli/underscore.string,https://github.com/epeli/underscore.string/commit/f486cd684c94c12db48b45d52b1472a1b9661029,f486cd684c94c12db48b45d52b1472a1b9661029,"Try to fix regexp redos

fixes  #510",2018-10-04 00:34:42+03:00,unescapeHTML.js,https://github.com/epeli/underscore.string/raw/2f78f0d6e36d553484a1bf5fe5ed1998f013dea5/unescapeHTML.js,https://github.com/epeli/underscore.string/raw/f486cd684c94c12db48b45d52b1472a1b9661029/unescapeHTML.js,"@@ -2,7 +2,7 @@ var makeString = require('./helper/makeString');
 var htmlEntities = require('./helper/htmlEntities');
 
 module.exports = function unescapeHTML(str) {
-  return makeString(str).replace(/\&([^;]+);/g, function(entity, entityCode) {
+  return makeString(str).replace(/\&([^;]{1,10});/g, function(entity, entityCode) {
     var match;
 
     if (entityCode in htmlEntities) {
",5,"return makeString(str).replace(/\&([^;]+);/g, function(entity, entityCode) {","return makeString(str).replace(/\&([^;]{1,10});/g, function(entity, entityCode) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d7c1dc6c0578b55eefc3bc94556146dce6e1a8cb,d7c1dc6c0578b55eefc3bc94556146dce6e1a8cb,"a LabeledStatement should be in fact a StatementWithBody

This fixes output for:

    if (foo) {
        moo: if (bar) {
            break moo;
        }
    } else {
        baz();
    }

(the labeled statement must be outputted inside brackets)",2012-09-03 12:05:10+03:00,output.js,https://github.com/mishoo/UglifyJS2/raw/d6efa8b28dc0a937bc154bf5f2e5d5450be5c1d5/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/d7c1dc6c0578b55eefc3bc94556146dce6e1a8cb/lib/output.js,"@@ -457,7 +457,7 @@ function OutputStream(options) {
     DEFPRINT(AST_LabeledStatement, function(self, output){
         self.label.print(output);
         output.colon();
-        self.statement.print(output);
+        self.body.print(output);
     });
     DEFPRINT(AST_SimpleStatement, function(self, output){
         self.body.print(output);
",460,self.statement.print(output);,self.body.print(output);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d7c1dc6c0578b55eefc3bc94556146dce6e1a8cb,d7c1dc6c0578b55eefc3bc94556146dce6e1a8cb,"a LabeledStatement should be in fact a StatementWithBody

This fixes output for:

    if (foo) {
        moo: if (bar) {
            break moo;
        }
    } else {
        baz();
    }

(the labeled statement must be outputted inside brackets)",2012-09-03 12:05:10+03:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/d6efa8b28dc0a937bc154bf5f2e5d5450be5c1d5/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/d7c1dc6c0578b55eefc3bc94556146dce6e1a8cb/lib/parse.js,"@@ -892,7 +892,7 @@ function parse($TEXT, exigent_mode) {
         S.labels.push(label);
         var start = S.token, stat = statement();
         S.labels.pop();
-        return new AST_LabeledStatement({ statement: stat, label: label });
+        return new AST_LabeledStatement({ body: stat, label: label });
     };
 
     function simple_statement() {
",895,"return new AST_LabeledStatement({ statement: stat, label: label });","return new AST_LabeledStatement({ body: stat, label: label });"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2b4093ba8342b79bac3f9f89428817231728bb01,2b4093ba8342b79bac3f9f89428817231728bb01,fixed run-tests and an issue about reversing the condition in AST_If,2012-09-12 13:00:13+03:00,output.js,https://github.com/mishoo/UglifyJS2/raw/9a629abe00101d56ccc1a9bd01a90b9f7f19421f/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/2b4093ba8342b79bac3f9f89428817231728bb01/lib/output.js,"@@ -885,7 +885,7 @@ function OutputStream(options) {
     });
     DEFPRINT(AST_Symbol, function(self, output){
         var def = self.definition();
-        output.print_name(def.mangled_name || def.name);
+        output.print_name(def ? def.mangled_name || def.name : self.name);
     });
     DEFPRINT(AST_This, function(self, output){
         output.print(""this"");
",888,output.print_name(def.mangled_name || def.name);,output.print_name(def ? def.mangled_name || def.name : self.name);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4f97da96608744e9f20c3994d8d1e66d6b6949a1,4f97da96608744e9f20c3994d8d1e66d6b6949a1,minor tests fix,2012-09-24 10:27:49+03:00,sequences.js,https://github.com/mishoo/UglifyJS2/raw/a83b28503f4673aeb744b45306500584a6480e29/test/compress/sequences.js,https://github.com/mishoo/UglifyJS2/raw/4f97da96608744e9f20c3994d8d1e66d6b6949a1/test/compress/sequences.js,"@@ -84,6 +84,6 @@ make_sequences_4: {
         for (x = 5, i = 0; i < 5; i++) console.log(i);
         for (x = 5; i < 5; i++) console.log(i);
         switch (x = 5, y) {}
-        with (x = 5, obj) {}
+        with (x = 5, obj);
     }
 }
",87,"with (x = 5, obj) {}","with (x = 5, obj);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/05e15b1c0c04f673524e0946b5e1b6a60110ada1,05e15b1c0c04f673524e0946b5e1b6a60110ada1,"fix mangling

(bug in our code prevented the mangler from using a name that was in use
prior to mangling but not after it)",2012-09-27 00:01:16+03:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/13278c6649189ffea363ac51be5f6b9738e04ff7/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/05e15b1c0c04f673524e0946b5e1b6a60110ada1/lib/scope.js,"@@ -291,7 +291,7 @@ AST_Scope.DEFMETHOD(""next_mangled"", function(){
         // inner scopes.
         for (var i = n; --i >= 0;) {
             var sym = ext[i];
-            var name = sym.mangled_name || sym.name;
+            var name = sym.mangled_name || (sym.unmangleable() && sym.name);
             if (m == name) continue out;
         }
         return m;
",294,var name = sym.mangled_name || sym.name;,var name = sym.mangled_name || (sym.unmangleable() && sym.name);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c967f0b0fefd7db03922769f1d2aaf2ae1394ddc,c967f0b0fefd7db03922769f1d2aaf2ae1394ddc,fix `inSourceMap` in `minify` (should read the file),2012-10-08 21:22:20+03:00,node.js,https://github.com/mishoo/UglifyJS2/raw/dfc04e66770f463e1ae97547950e6b829aaeeeff/tools/node.js,https://github.com/mishoo/UglifyJS2/raw/c967f0b0fefd7db03922769f1d2aaf2ae1394ddc/tools/node.js,"@@ -94,7 +94,7 @@ exports.minify = function(files, options) {
     var map = null;
     if (options.outSourceMap) map = UglifyJS.SourceMap({
         file: options.outSourceMap,
-        orig: options.inSourceMap
+        orig: fs.readFileSync(options.inSourceMap, ""utf8"")
     });
     var stream = UglifyJS.OutputStream({ source_map: map });
     toplevel.print(stream);
",97,orig: options.inSourceMap,"orig: fs.readFileSync(options.inSourceMap, ""utf8"")"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2c025f23db6efb6d1442208d81c2080d40c44f10,2c025f23db6efb6d1442208d81c2080d40c44f10,fix detecting symbols in use,2012-10-09 13:13:55+03:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/9dfcd47ec8fef20a7c6f994bb8896a16ffa0eb2b/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/2c025f23db6efb6d1442208d81c2080d40c44f10/lib/compress.js,"@@ -841,7 +841,7 @@ merge(Compressor.prototype, {
                         decl.init.forEach(function(init){
                             var tw = new TreeWalker(function(node){
                                 if (node instanceof AST_SymbolRef
-                                    && node.definition().scope.$self === self.$self) {
+                                    && !(node instanceof AST_LabelRef)) {
                                     push_uniq(in_use, node.definition());
                                 }
                             });
",844,&& node.definition().scope.$self === self.$self) {,&& !(node instanceof AST_LabelRef)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d9d67317b1283886b24fec9a4c6607bf729a5e59,d9d67317b1283886b24fec9a4c6607bf729a5e59,fix pos in syntax error exception,2012-10-11 15:25:38+03:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/fb5c01c073d06034815d5f3b782fd11cbdf6d6f5/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/d9d67317b1283886b24fec9a4c6607bf729a5e59/lib/parse.js,"@@ -181,7 +181,7 @@ function JS_Parse_Error(message, line, col, pos) {
     this.message = message;
     this.line = line;
     this.col = col;
-    this.pos = pos + 1;
+    this.pos = pos;
     this.stack = new Error().stack;
 };
 
",184,this.pos = pos + 1;,this.pos = pos;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d4c25c571bfac8e9bf91b2b894837d61370b0c35,d4c25c571bfac8e9bf91b2b894837d61370b0c35,"fix compressing UnaryPrefix

only try negating the expression if the operator is `!`

#kendo",2012-11-01 13:35:08+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/5248b79506d80c7da8b8a50225fe0bb48e607346/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/d4c25c571bfac8e9bf91b2b894837d61370b0c35/lib/compress.js,"@@ -1446,7 +1446,7 @@ merge(Compressor.prototype, {
                 return make_node(AST_True, self);
             }
         }
-        if (e instanceof AST_Binary) {
+        if (e instanceof AST_Binary && self.operator == ""!"") {
             self = best_of(self, e.negate(compressor));
         }
         return self.evaluate(compressor)[0];
",1449,if (e instanceof AST_Binary) {,"if (e instanceof AST_Binary && self.operator == ""!"") {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/80da21dab467e9214d5908fca0a54d1242b3c443,80da21dab467e9214d5908fca0a54d1242b3c443,fix regression from 5346fb94 (shouldn't parenthesize i++ in x[i++]),2012-11-07 13:02:51+02:00,output.js,https://github.com/mishoo/UglifyJS2/raw/bb0e4d7126692b7dfa1d4a71b67f6a87c443d07e/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/80da21dab467e9214d5908fca0a54d1242b3c443/lib/output.js,"@@ -412,7 +412,7 @@ function OutputStream(options) {
 
     PARENS(AST_Unary, function(output){
         var p = output.parent();
-        return p instanceof AST_PropAccess;
+        return p instanceof AST_PropAccess && p.expression === this;
     });
 
     PARENS(AST_Seq, function(output){
",415,return p instanceof AST_PropAccess;,return p instanceof AST_PropAccess && p.expression === this;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/089ac908b794bf1bc06d004bcb32d3d65f19ce64,089ac908b794bf1bc06d004bcb32d3d65f19ce64,fix #51,2012-11-18 17:37:45+02:00,transform.js,https://github.com/mishoo/UglifyJS2/raw/0d3fd2ef30d0a85edb76d6db6e9f6ef034f1cee4/lib/transform.js,https://github.com/mishoo/UglifyJS2/raw/089ac908b794bf1bc06d004bcb32d3d65f19ce64/lib/transform.js,"@@ -65,7 +65,7 @@ TreeTransformer.prototype = new TreeWalker;
                     x = this;
                     descend(x, tw);
                 } else {
-                    tw.stack[tw.stack - 1] = x = this.clone();
+                    tw.stack[tw.stack.length - 1] = x = this.clone();
                     descend(x, tw);
                     y = tw.after(x, in_list);
                     if (y !== undefined) x = y;
",68,tw.stack[tw.stack - 1] = x = this.clone();,tw.stack[tw.stack.length - 1] = x = this.clone();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4f555e2232459eaa4551ddf4e3f7535a416f1ddd,4f555e2232459eaa4551ddf4e3f7535a416f1ddd,fix for https://github.com/mishoo/UglifyJS/issues/474,2012-11-23 10:20:00+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/642ba2e92c12bd36810ab42106f922de04bb48f4/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/4f555e2232459eaa4551ddf4e3f7535a416f1ddd/lib/compress.js,"@@ -1744,7 +1744,7 @@ merge(Compressor.prototype, {
         }
         if (self.operator == ""+"" && self.right instanceof AST_String
             && self.right.getValue() === """" && self.left instanceof AST_Binary
-            && self.left.operator == ""+"" && self.left.is_string()) {
+            && self.left.operator == ""+"" && self.left.is_string(compressor)) {
             return self.left;
         }
         return self;
",1747,"&& self.left.operator == ""+"" && self.left.is_string()) {","&& self.left.operator == ""+"" && self.left.is_string(compressor)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/1529ab965a4a434e6024977a53f8460f6a474086,1529ab965a4a434e6024977a53f8460f6a474086,"Fix output for arrays containing undefined values.

1b6bcca7 was a first attempt at this. That commit made Uglify stop replacing
holes with undefined, but instead it started replacing undefined with
holes. This is slightly problematic, because there is a difference between a
hole and an undefined value. More problematically, it changed [1,undefined] to
[1,] which generally doesn't even parse as a hole (just as a trailing comma), so
it didn't even preserve the length of the array!

Instead, parse holes as their own special AST node which prints invisibly.",2013-01-17 11:36:10+02:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/605f330e6949ca699a8770a9dd7d80bbacc6a175/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/1529ab965a4a434e6024977a53f8460f6a474086/lib/parse.js,"@@ -1131,7 +1131,7 @@ function parse($TEXT, options) {
             if (first) first = false; else expect("","");
             if (allow_trailing_comma && is(""punc"", closing)) break;
             if (is(""punc"", "","") && allow_empty) {
-                a.push(new AST_Undefined({ start: S.token, end: S.token }));
+                a.push(new AST_Hole({ start: S.token, end: S.token }));
             } else {
                 a.push(expression(false));
             }
",1134,"a.push(new AST_Undefined({ start: S.token, end: S.token }));","a.push(new AST_Hole({ start: S.token, end: S.token }));"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a5b209470c2a61c3c735523fc82bd1ce45a51ec1,a5b209470c2a61c3c735523fc82bd1ce45a51ec1,Fix end token for Assign nodes,2013-02-01 13:32:15+02:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/e9a571b2a1a93e1c5e299ca4c8f846e2e1117994/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/a5b209470c2a61c3c735523fc82bd1ce45a51ec1/lib/parse.js,"@@ -1358,7 +1358,7 @@ function parse($TEXT, options) {
                     left     : left,
                     operator : val,
                     right    : maybe_assign(no_in),
-                    end      : peek()
+                    end      : prev()
                 });
             }
             croak(""Invalid assignment"");
",1361,end      : peek(),end      : prev()
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9e8ba27dcdfd39d01b8aa0bbf92fd03a44844acc,9e8ba27dcdfd39d01b8aa0bbf92fd03a44844acc,"Fix handling of constants

Close #113",2013-02-06 11:15:31+02:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/719a8fd10256da8c7a5d28d0125fefdfff1ba187/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/9e8ba27dcdfd39d01b8aa0bbf92fd03a44844acc/lib/scope.js,"@@ -141,7 +141,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(){
                  || node instanceof AST_SymbolConst) {
             var def = scope.def_variable(node);
             def.constant = node instanceof AST_SymbolConst;
-            def = tw.parent();
+            def.init = tw.parent().value;
         }
         else if (node instanceof AST_SymbolCatch) {
             // XXX: this is wrong according to ECMA-262 (12.4).  the
",144,def = tw.parent();,def.init = tw.parent().value;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/aebafad41eab48f43ed649ce8c77e8f1528b50da,aebafad41eab48f43ed649ce8c77e8f1528b50da,"Fix reordering comparisons

Close #143",2013-03-04 10:06:01+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/26746ce3167a768479435588dd9099bb7408018f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/aebafad41eab48f43ed649ce8c77e8f1528b50da/lib/compress.js,"@@ -1715,7 +1715,7 @@ merge(Compressor.prototype, {
 
     OPT(AST_Binary, function(self, compressor){
         function reverse(op) {
-            if (!(self.left.has_side_effects() && self.right.has_side_effects())) {
+            if (!(self.left.has_side_effects() || self.right.has_side_effects())) {
                 if (op) self.operator = op;
                 var tmp = self.left;
                 self.left = self.right;
",1718,if (!(self.left.has_side_effects() && self.right.has_side_effects())) {,if (!(self.left.has_side_effects() || self.right.has_side_effects())) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b14d3df3d26ca1de94cc617f1104391f750fd570,b14d3df3d26ca1de94cc617f1104391f750fd570,"Keep legit code working even when --screw-ie is not passed.

Previously:

    Without `--screw-ie`, UglifyJS would always leak names of function
    expressions into the containing scope, as if they were function
    declarations.  That was to emulate IE<9 behavior.  Code relying on this
    IE bug would continue to work properly after mangling, although it would
    only work in IE (since other engines don't share the bug).  Sometimes
    this broke legitimage code (see #153 and #155).

    With `--screw-ie` the names would not be leaked into the current scope,
    working properly in legit cases; but still it broke legit code when
    running in IE<9 (see #24).

Currently:

    Regardless of the `--screw-ie` setting, the names will not be leaked.
    Code relying on the IE bug will not work properly after mangling.
    <evil laughter here>

    Without `--screw-ie`: a hack has been added to the mangler to avoid
    using the same name for a function expression and some other variable in
    the same scope.  This keeps legit code working, at the (negligible,
    indeed) cost of one more identifier.

    With `--screw-ie` you allow the mangler to name function expressions
    with the same identifier as another variable in scope.  After mangling
    code might break in IE<9.

Oh man, the commit message is longer than the patch.

Fix #153, #155",2013-03-22 18:04:46+02:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/24e58ee70c1951e6b70a72ae372766c97ef2b6ea/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/b14d3df3d26ca1de94cc617f1104391f750fd570/lib/parse.js,"@@ -149,7 +149,7 @@ function is_unicode_connector_punctuation(ch) {
 };
 
 function is_identifier(name) {
-    return /^[a-z_$][a-z0-9_$]*$/i.test(name) && !RESERVED_WORDS(name);
+    return !RESERVED_WORDS(name) && /^[a-z_$][a-z0-9_$]*$/i.test(name);
 };
 
 function is_identifier_start(code) {
",152,return /^[a-z_$][a-z0-9_$]*$/i.test(name) && !RESERVED_WORDS(name);,return !RESERVED_WORDS(name) && /^[a-z_$][a-z0-9_$]*$/i.test(name);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/22a038e6a23d1c1e8c5068b73f8af059521a6f2d,22a038e6a23d1c1e8c5068b73f8af059521a6f2d,"Fix output of statement: `new function(){...};`

Close #209",2013-05-20 08:27:37+03:00,output.js,https://github.com/mishoo/UglifyJS2/raw/f652372c9a55ac7c6c3d965f0dff47bf0d0c0b3e/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/22a038e6a23d1c1e8c5068b73f8af059521a6f2d/lib/output.js,"@@ -1122,7 +1122,7 @@ function OutputStream(options) {
             if (p instanceof AST_Statement && p.body === node)
                 return true;
             if ((p instanceof AST_Seq           && p.car === node        ) ||
-                (p instanceof AST_Call          && p.expression === node ) ||
+                (p instanceof AST_Call          && p.expression === node && !(p instanceof AST_New) ) ||
                 (p instanceof AST_Dot           && p.expression === node ) ||
                 (p instanceof AST_Sub           && p.expression === node ) ||
                 (p instanceof AST_Conditional   && p.condition === node  ) ||
",1125,(p instanceof AST_Call          && p.expression === node ) ||,(p instanceof AST_Call          && p.expression === node && !(p instanceof AST_New) ) ||
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/964d5b9aa47bad28bc200de90f3acd6d899b2733,964d5b9aa47bad28bc200de90f3acd6d899b2733,"Don't pretend to evaluate lambdas

Fix #255",2013-08-04 21:44:17+03:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b7adbcab1f4c9e846ae0b9ec3fd32991d62b68cf/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/964d5b9aa47bad28bc200de90f3acd6d899b2733/lib/compress.js,"@@ -611,7 +611,7 @@ merge(Compressor.prototype, {
             // inherits from AST_Statement; however, an AST_Function
             // isn't really a statement.  This could byte in other
             // places too. :-( Wish JS had multiple inheritance.
-            return [ this ];
+            throw def;
         });
         function ev(node) {
             return node._eval();
",614,return [ this ];,throw def;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4c4dc2137cc256bb1e7a3827b4c96c95be42782e,4c4dc2137cc256bb1e7a3827b4c96c95be42782e,"Don't drop unused setter argument.

Fix #257",2013-08-07 12:04:58+03:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4aa4b3e69493097c6674ad79a2300a64f77842cd/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/4c4dc2137cc256bb1e7a3827b4c96c95be42782e/lib/compress.js,"@@ -948,7 +948,7 @@ merge(Compressor.prototype, {
             // pass 3: we should drop declarations not in_use
             var tt = new TreeTransformer(
                 function before(node, descend, in_list) {
-                    if (node instanceof AST_Lambda) {
+                    if (node instanceof AST_Lambda && !(node instanceof AST_Accessor)) {
                         for (var a = node.argnames, i = a.length; --i >= 0;) {
                             var sym = a[i];
                             if (sym.unreferenced()) {
",951,if (node instanceof AST_Lambda) {,if (node instanceof AST_Lambda && !(node instanceof AST_Accessor)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/afdaeba37d2d7541529addaefe85ed09515863af,afdaeba37d2d7541529addaefe85ed09515863af,"More attempts to determine when addition is associative

Somebody hit me with bug reports on this. :)

Refs #300",2013-09-22 15:26:10+03:00,arrays.js,https://github.com/mishoo/UglifyJS2/raw/037199bfe2e60ceca0b39fca20f833b02d6c85db/test/compress/arrays.js,https://github.com/mishoo/UglifyJS2/raw/afdaeba37d2d7541529addaefe85ed09515863af/test/compress/arrays.js,"@@ -69,6 +69,6 @@ constant_join_2: {
         var e = [ ""foo"", ""bar"", boo(),
                   ""foo+1+2+3+bar"",
                   ""baz"", ""x"", ""y"" ].join(""really-long-separator"");
-        var f = ""strstr"" + variable + ""foobar"" + (""moo"" + foo);
+        var f = ""strstr"" + variable + ""foobarmoo"" + foo;
     }
 }
",72,"var f = ""strstr"" + variable + ""foobar"" + (""moo"" + foo);","var f = ""strstr"" + variable + ""foobarmoo"" + foo;"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/bb0a762d12d2ecd058b9d7b57f16b4c289378d9c,bb0a762d12d2ecd058b9d7b57f16b4c289378d9c,"Only allow identifier start characters at the beginning of identifiers.

Without this fix, the following source:

   x = {""\u200c"": 42};

would incorrectly be converted into a quoteless key. But while \u200c is allowed
to be in identifiers, it cannot be at the beginning, as per ES5.

(For example, the SockJS client library doesn't work under uglify starting with
d9ad3c7c.)",2013-10-03 17:02:19-07:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/8cc86fee6016bc2d540a348f5eb4a174f006a02b/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/bb0a762d12d2ecd058b9d7b57f16b4c289378d9c/lib/parse.js,"@@ -170,7 +170,7 @@ function is_identifier_char(ch) {
 function is_identifier_string(str){
     var i = str.length;
     if (i == 0) return false;
-    if (is_digit(str.charCodeAt(0))) return false;
+    if (!is_identifier_start(str.charCodeAt(0))) return false;
     while (--i >= 0) {
         if (!is_identifier_char(str.charAt(i)))
             return false;
",173,if (is_digit(str.charCodeAt(0))) return false;,if (!is_identifier_start(str.charCodeAt(0))) return false;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d09f0adae3605b8bf5d90a934037f71ae0c27780,d09f0adae3605b8bf5d90a934037f71ae0c27780,"`arguments` outside of a function is an ordinary variable.

Fix #501",2013-10-17 18:20:33+03:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/3fa9265ce43b1273f737b5606d0bb5d4643ef436/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/d09f0adae3605b8bf5d90a934037f71ae0c27780/lib/scope.js,"@@ -165,7 +165,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(){
                     for (var s = node.scope; s && !s.uses_eval; s = s.parent_scope)
                         s.uses_eval = true;
                 }
-                if (name == ""arguments"") {
+                if (func && name == ""arguments"") {
                     func.uses_arguments = true;
                 }
             } else {
",168,"if (name == ""arguments"") {","if (func && name == ""arguments"") {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8f35a363d90e6521e916a8d70f3302d4adc51ae6,8f35a363d90e6521e916a8d70f3302d4adc51ae6,"AST_Catch shouldn't really inherit from AST_Scope.  Fix #363

I hereby acknowledge that figure_out_scope has become a mess.",2013-12-05 13:30:29+02:00,ast.js,https://github.com/mishoo/UglifyJS2/raw/d2190c2bf340d807a0c8595dbc2f849aa3bcc443/lib/ast.js,https://github.com/mishoo/UglifyJS2/raw/8f35a363d90e6521e916a8d70f3302d4adc51ae6/lib/ast.js,"@@ -509,7 +509,7 @@ var AST_Catch = DEFNODE(""Catch"", ""argname"", {
             walk_body(this, visitor);
         });
     }
-}, AST_Scope);
+}, AST_Block);
 
 var AST_Finally = DEFNODE(""Finally"", null, {
     $documentation: ""A `finally` node; only makes sense as part of a `try` statement""
",512,"}, AST_Scope);","}, AST_Block);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/1d0127de2134f2086e1de51d47782118470397ed,1d0127de2134f2086e1de51d47782118470397ed,Fix end token for conditionals.  Close #404,2014-01-21 10:38:59+02:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/2d8fc616773e30df955de02d99406f114b87490a/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/1d0127de2134f2086e1de51d47782118470397ed/lib/parse.js,"@@ -1381,7 +1381,7 @@ function parse($TEXT, options) {
                 condition   : expr,
                 consequent  : yes,
                 alternative : expression(false, no_in),
-                end         : peek()
+                end         : prev()
             });
         }
         return expr;
",1384,end         : peek(),end         : prev()
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5344b7dab897fe266db9524a99529d6b64e9386e,5344b7dab897fe266db9524a99529d6b64e9386e,Fix if_return dropping the alternative.  Close #413,2014-01-31 10:44:13+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/0007a53b9ce30c6195364fa7c41ba3bfe593f7c2/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/5344b7dab897fe266db9524a99529d6b64e9386e/lib/compress.js,"@@ -376,7 +376,7 @@ merge(Compressor.prototype, {
                         stat = stat.clone();
                         stat.condition = stat.condition.negate(compressor);
                         stat.body = make_node(AST_BlockStatement, stat, {
-                            body: ret
+                            body: as_statement_array(stat.alternative).concat(ret)
                         });
                         stat.alternative = make_node(AST_BlockStatement, stat, {
                             body: body
",379,body: ret,body: as_statement_array(stat.alternative).concat(ret)
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/6fcabbde08cdac7890fedcc29b0342208998a871,6fcabbde08cdac7890fedcc29b0342208998a871,"Fix sourceMapIncludeSources exception in Node API

https://github.com/mishoo/UglifyJS2/issues/459",2014-04-13 11:16:10+02:00,node.js,https://github.com/mishoo/UglifyJS2/raw/14f290f8abf796bb0a772532e1f6c584744e0e16/tools/node.js,https://github.com/mishoo/UglifyJS2/raw/6fcabbde08cdac7890fedcc29b0342208998a871/tools/node.js,"@@ -115,7 +115,7 @@ exports.minify = function(files, options) {
         if (options.sourceMapIncludeSources) {
             for (var file in sourcesContent) {
                 if (sourcesContent.hasOwnProperty(file)) {
-                    options.source_map.get().setSourceContent(file, sourcesContent[file]);
+                    output.source_map.get().setSourceContent(file, sourcesContent[file]);
                 }
             }
         }
",118,"options.source_map.get().setSourceContent(file, sourcesContent[file]);","output.source_map.get().setSourceContent(file, sourcesContent[file]);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/025f3e9596e336ed4367d8621c920a236d6e4c17,025f3e9596e336ed4367d8621c920a236d6e4c17,Better fix for #475,2014-04-27 20:54:54+03:00,output.js,https://github.com/mishoo/UglifyJS2/raw/8258edd8a54cd5ed5d15a3a674f2cc716b304aeb/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/025f3e9596e336ed4367d8621c920a236d6e4c17/lib/output.js,"@@ -456,7 +456,7 @@ function OutputStream(options) {
     PARENS(AST_Unary, function(output){
         var p = output.parent();
         return (p instanceof AST_PropAccess && p.expression === this)
-            || (p instanceof AST_Unary && p.operator == ""+"" && this.operator == ""+"");
+            || (p instanceof AST_Unary && p.operator == this.operator);
     });
 
     PARENS(AST_Seq, function(output){
",459,"|| (p instanceof AST_Unary && p.operator == ""+"" && this.operator == ""+"");",|| (p instanceof AST_Unary && p.operator == this.operator);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ac2caf10889516d9350f1ef8ad402cdea80a7deb,ac2caf10889516d9350f1ef8ad402cdea80a7deb,"Check for the case an AST_For's init is an EmptyStatement

(lame fix for #503)",2014-07-01 23:10:44+03:00,output.js,https://github.com/mishoo/UglifyJS2/raw/8511e80f489b4b7e3de8122009d492123a314ca8/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/ac2caf10889516d9350f1ef8ad402cdea80a7deb/lib/output.js,"@@ -656,7 +656,7 @@ function OutputStream(options) {
         output.print(""for"");
         output.space();
         output.with_parens(function(){
-            if (self.init) {
+            if (self.init && !(self.init instanceof AST_EmptyStatement)) {
                 if (self.init instanceof AST_Definitions) {
                     self.init.print(output);
                 } else {
",659,if (self.init) {,if (self.init && !(self.init instanceof AST_EmptyStatement)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/39d8880f2cd17c9b96bf73a3bcd7c27a89cf919e,39d8880f2cd17c9b96bf73a3bcd7c27a89cf919e,"Fix max_line_len not working for JSON files

As `maybe_newline()` is only called when `might_need_semicolon` is `true`, the `max_line_len` option has no effect for files without (or with very few) semicolons (like JSON files). A simple for this problem is to use `maybe_newline()` instead of `noop` as the `newline()` function in non-beautify mode.",2014-12-17 16:31:03+01:00,output.js,https://github.com/mishoo/UglifyJS2/raw/5538ec7bd8a64c7fcc45895308a8463e4ca4d00a/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/39d8880f2cd17c9b96bf73a3bcd7c27a89cf919e/lib/output.js,"@@ -221,7 +221,7 @@ function OutputStream(options) {
 
     var newline = options.beautify ? function() {
         print(""\n"");
-    } : noop;
+    } : maybe_newline;
 
     var semicolon = options.beautify ? function() {
         print("";"");
",224,} : noop;,} : maybe_newline;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d2d716483aa69927541a0a29f3c1ee3c7bba30b4,d2d716483aa69927541a0a29f3c1ee3c7bba30b4,"aborts(AST_If) returns the `if` node

Previously it returned the abort node from the alternative branch.  This is
not much use as it can be different from the one in the body
branch (i.e. return vs. throw) and can trick us into issues like #591.

Fix #591",2015-01-06 14:01:35+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/f16033aafdd7f88da6b53c58f86b8effd1fb2a3d/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/d2d716483aa69927541a0a29f3c1ee3c7bba30b4/lib/compress.js,"@@ -950,7 +950,7 @@ merge(Compressor.prototype, {
         def(AST_BlockStatement, block_aborts);
         def(AST_SwitchBranch, block_aborts);
         def(AST_If, function(){
-            return this.alternative && aborts(this.body) && aborts(this.alternative);
+            return this.alternative && aborts(this.body) && aborts(this.alternative) && this;
         });
     })(function(node, func){
         node.DEFMETHOD(""aborts"", func);
",953,return this.alternative && aborts(this.body) && aborts(this.alternative);,return this.alternative && aborts(this.body) && aborts(this.alternative) && this;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5c02d65ddb8d315d53a4356c038b461ddb1cb029,5c02d65ddb8d315d53a4356c038b461ddb1cb029,"fixes issue #621 SourceMap toString JSON format

The correct format of a sourcemap is acquired
from a mozilla source map generator by calling
toJSON on this object. This patch alters the
toString function on mozilla generators to print
the format that is to spec instead of the generator's
internal representation of itself.",2015-01-24 00:33:02-08:00,sourcemap.js,https://github.com/mishoo/UglifyJS2/raw/d36067cd35fbe35fa35ab2e8a250835a2f7ff5a2/lib/sourcemap.js,https://github.com/mishoo/UglifyJS2/raw/5c02d65ddb8d315d53a4356c038b461ddb1cb029/lib/sourcemap.js,"@@ -87,6 +87,6 @@ function SourceMap(options) {
     return {
         add        : add,
         get        : function() { return generator },
-        toString   : function() { return generator.toString() }
+        toString   : function() { return JSON.stringify(generator.toJSON()); }
     };
 };
",90,toString   : function() { return generator.toString() },toString   : function() { return JSON.stringify(generator.toJSON()); }
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ecfd881ac6f4f62b5e8a15664fccc86271c0d003,ecfd881ac6f4f62b5e8a15664fccc86271c0d003,"Keep unused function arguments by default

Discarding unused function arguments affects function.length, which can lead
to some hard to debug issues.  This optimization is now done only in ""unsafe
mode"".

Fix #121",2015-03-20 10:28:51+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/d36faffecae72e40ad71585334fd93d56479b820/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/ecfd881ac6f4f62b5e8a15664fccc86271c0d003/lib/compress.js,"@@ -1086,7 +1086,7 @@ merge(Compressor.prototype, {
             var tt = new TreeTransformer(
                 function before(node, descend, in_list) {
                     if (node instanceof AST_Lambda && !(node instanceof AST_Accessor)) {
-                        if (!compressor.option(""keep_fargs"")) {
+                        if (compressor.option(""unsafe"") && !compressor.option(""keep_fargs"")) {
                             for (var a = node.argnames, i = a.length; --i >= 0;) {
                                 var sym = a[i];
                                 if (sym.unreferenced()) {
",1089,"if (!compressor.option(""keep_fargs"")) {","if (compressor.option(""unsafe"") && !compressor.option(""keep_fargs"")) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/276b9a31cda2a2ef93e7af4e966baae91a434361,276b9a31cda2a2ef93e7af4e966baae91a434361,"Fix compressing `![foo()];` as a statement

need to check whether the literal has any side effects before replacing that
with `false`.",2015-03-23 23:27:00+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/5801fa39e9524e7b7a565a39c5efa12cdef3202f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/276b9a31cda2a2ef93e7af4e966baae91a434361/lib/compress.js,"@@ -2480,7 +2480,7 @@ merge(Compressor.prototype, {
     });
 
     function literals_in_boolean_context(self, compressor) {
-        if (compressor.option(""booleans"") && compressor.in_boolean_context()) {
+        if (compressor.option(""booleans"") && compressor.in_boolean_context() && !self.has_side_effects(compressor)) {
             return make_node(AST_True, self);
         }
         return self;
",2483,"if (compressor.option(""booleans"") && compressor.in_boolean_context()) {","if (compressor.option(""booleans"") && compressor.in_boolean_context() && !self.has_side_effects(compressor)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e04ef562435547e286019fdee46dd0b89b9822df,e04ef562435547e286019fdee46dd0b89b9822df,"Use the `before` visitor in mangle props

(works around a bug in our tree walker which, while cloning nodes, breaks
references between labeled statements and break/continue labels)",2015-04-10 11:33:29+03:00,propmangle.js,https://github.com/mishoo/UglifyJS2/raw/5d60484553895a0eac1ac764d1fa7fc683c8499d/lib/propmangle.js,https://github.com/mishoo/UglifyJS2/raw/e04ef562435547e286019fdee46dd0b89b9822df/lib/propmangle.js,"@@ -102,7 +102,7 @@ function mangle_properties(ast, options) {
     }));
 
     // step 2: transform the tree, renaming properties
-    return ast.transform(new TreeTransformer(null, function(node){
+    return ast.transform(new TreeTransformer(function(node){
         if (node instanceof AST_ObjectKeyVal) {
             if (should_mangle(node.key)) {
                 node.key = mangle(node.key);
",105,"return ast.transform(new TreeTransformer(null, function(node){",return ast.transform(new TreeTransformer(function(node){
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/905b6011784ca60d41919ac1a499962b7c1d4b02,905b6011784ca60d41919ac1a499962b7c1d4b02,"Don't attempt to negate non-boolean AST_Binary

Fix #751",2015-07-22 16:55:55+03:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/63fb2d5a44db3d583b1927c8daa244bf9f4d8dd2/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/905b6011784ca60d41919ac1a499962b7c1d4b02/lib/compress.js,"@@ -2183,7 +2183,7 @@ merge(Compressor.prototype, {
             }
             break;
         }
-        if (compressor.option(""comparisons"")) {
+        if (compressor.option(""comparisons"") && self.is_boolean()) {
             if (!(compressor.parent() instanceof AST_Binary)
                 || compressor.parent() instanceof AST_Assign) {
                 var negated = make_node(AST_UnaryPrefix, self, {
",2186,"if (compressor.option(""comparisons"")) {","if (compressor.option(""comparisons"") && self.is_boolean()) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/1940fb682c7f29d3d82913d0b58d542d034c2556,1940fb682c7f29d3d82913d0b58d542d034c2556,Fix tests,2015-10-12 10:27:00+03:00,run-tests.js,https://github.com/mishoo/UglifyJS2/raw/17eef5a3c26bfa87879e270b1fa4743646bae559/test/run-tests.js,https://github.com/mishoo/UglifyJS2/raw/1940fb682c7f29d3d82913d0b58d542d034c2556/test/run-tests.js,"@@ -190,7 +190,7 @@ function parse_test(file) {
 
 function make_code(ast, beautify) {
     if (arguments.length == 1) beautify = true;
-    var stream = U.OutputStream({ beautify: beautify });
+    var stream = U.OutputStream({ beautify: beautify, inline_script: true });
     ast.print(stream);
     return stream.get();
 }
",193,var stream = U.OutputStream({ beautify: beautify });,"var stream = U.OutputStream({ beautify: beautify, inline_script: true });"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a887cde9f295a9ac89c8f09417db5901b655dfba,a887cde9f295a9ac89c8f09417db5901b655dfba,"fixes #845: \v escaping should be restricted to ""screw_ie8"" mode",2015-10-27 09:05:21-07:00,output.js,https://github.com/mishoo/UglifyJS2/raw/b5623b19d499748d0b1cf97204180f9d4d2fc4a1/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/a887cde9f295a9ac89c8f09417db5901b655dfba/lib/output.js,"@@ -95,7 +95,7 @@ function OutputStream(options) {
               case ""\f"": return ""\\f"";
               case ""\n"": return ""\\n"";
               case ""\r"": return ""\\r"";
-              case ""\v"": return ""\\v"";
+              case ""\x0B"": return output.option(""screw_ie8"") ? ""\\v"" : ""\\x0B"";
               case ""\u2028"": return ""\\u2028"";
               case ""\u2029"": return ""\\u2029"";
               case '""': ++dq; return '""';
",98,"case ""\v"": return ""\\v"";","case ""\x0B"": return output.option(""screw_ie8"") ? ""\\v"" : ""\\x0B"";"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7691bebea525e96cb74d52e0bb8f294cf778c966,7691bebea525e96cb74d52e0bb8f294cf778c966,"Rework has_directive

It's now available during tree walking, i.e. walker.has_directive(""use
asm""), rather than as part of the scope.  It's thus no longer necessary
to call `figure_out_scope` before codegen.  Added special bits in the
code generator to overcome the fact that it doesn't inherit from
TreeWalker.

Fix #861",2015-11-11 22:15:25+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3c4346728e5067608b6393ba98e24849ac22adea/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/7691bebea525e96cb74d52e0bb8f294cf778c966/lib/compress.js,"@@ -991,7 +991,7 @@ merge(Compressor.prototype, {
     /* -----[ optimizers ]----- */
 
     OPT(AST_Directive, function(self, compressor){
-        if (self.scope.has_directive(self.value) !== self.scope) {
+        if (compressor.has_directive(self.value) === ""up"") {
             return make_node(AST_EmptyStatement, self);
         }
         return self;
",994,if (self.scope.has_directive(self.value) !== self.scope) {,"if (compressor.has_directive(self.value) === ""up"") {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7691bebea525e96cb74d52e0bb8f294cf778c966,7691bebea525e96cb74d52e0bb8f294cf778c966,"Rework has_directive

It's now available during tree walking, i.e. walker.has_directive(""use
asm""), rather than as part of the scope.  It's thus no longer necessary
to call `figure_out_scope` before codegen.  Added special bits in the
code generator to overcome the fact that it doesn't inherit from
TreeWalker.

Fix #861",2015-11-11 22:15:25+02:00,transform.js,https://github.com/mishoo/UglifyJS2/raw/3c4346728e5067608b6393ba98e24849ac22adea/lib/transform.js,https://github.com/mishoo/UglifyJS2/raw/7691bebea525e96cb74d52e0bb8f294cf778c966/lib/transform.js,"@@ -70,7 +70,7 @@ TreeTransformer.prototype = new TreeWalker;
                     if (y !== undefined) x = y;
                 }
             }
-            tw.pop();
+            tw.pop(this);
             return x;
         });
     };
",73,tw.pop();,tw.pop(this);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/08623aa6a700f62e6b096917d31b0b7a2705d281,08623aa6a700f62e6b096917d31b0b7a2705d281,"Fix output for ""use asm"" code from SpiderMonkey AST

(will only work properly if the SM tree contains ""raw"" properties for
Literal number nodes)",2015-11-12 12:18:25+02:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/c898a26117c2687d5707a4e80d6058d5c8601165/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/08623aa6a700f62e6b096917d31b0b7a2705d281/lib/parse.js,"@@ -286,7 +286,7 @@ function tokenizer($TEXT, filename, html5_comments, shebang) {
             file    : filename
         };
         if (/^(?:num|string|regexp)$/i.test(type)) {
-            ret.literal = $TEXT.substring(ret.pos, ret.endpos);
+            ret.raw = $TEXT.substring(ret.pos, ret.endpos);
         }
         if (!is_comment) {
             ret.comments_before = S.comments_before;
",289,"ret.literal = $TEXT.substring(ret.pos, ret.endpos);","ret.raw = $TEXT.substring(ret.pos, ret.endpos);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/6f3e35bb3f04303e6b7cc74cfc25bfee3c792a98,6f3e35bb3f04303e6b7cc74cfc25bfee3c792a98,Fix ch that could contain other newline characters,2015-12-27 22:24:37+01:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/174404c0f37bf14aff23c41889e6bab1fd87c1d7/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/6f3e35bb3f04303e6b7cc74cfc25bfee3c792a98/lib/parse.js,"@@ -399,7 +399,7 @@ function tokenizer($TEXT, filename, html5_comments, shebang) {
                 if (octal_len > 0) ch = String.fromCharCode(parseInt(ch, 8));
                 else ch = read_escaped_char(true);
             }
-            else if (ch == ""\n"") parse_error(""Unterminated string constant"");
+            else if (""\r\n\u2028\u2029"".indexOf(ch) >= 0) parse_error(""Unterminated string constant"");
             else if (ch == quote) break;
             ret += ch;
         }
",402,"else if (ch == ""\n"") parse_error(""Unterminated string constant"");","else if (""\r\n\u2028\u2029"".indexOf(ch) >= 0) parse_error(""Unterminated string constant"");"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f4c2ea37bf9231b6f76804e74ee157be916280de,f4c2ea37bf9231b6f76804e74ee157be916280de,"Collapse single use var definitions

Fix #721",2016-01-27 11:48:15+02:00,transform.js,https://github.com/mishoo/UglifyJS2/raw/915f907186bf4029c830716b9d018e2d09ad4120/lib/transform.js,https://github.com/mishoo/UglifyJS2/raw/f4c2ea37bf9231b6f76804e74ee157be916280de/lib/transform.js,"@@ -64,7 +64,7 @@ TreeTransformer.prototype = new TreeWalker;
                     x = this;
                     descend(x, tw);
                 } else {
-                    tw.stack[tw.stack.length - 1] = x = this.clone();
+                    tw.stack[tw.stack.length - 1] = x = this;
                     descend(x, tw);
                     y = tw.after(x, in_list);
                     if (y !== undefined) x = y;
",67,tw.stack[tw.stack.length - 1] = x = this.clone();,tw.stack[tw.stack.length - 1] = x = this;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/931723737204d0a042604f8051ca3af8aa08a1c7,931723737204d0a042604f8051ca3af8aa08a1c7,"Avoid using inherited hasOwnProperty

Fix #1031",2016-04-07 13:16:22+03:00,ast.js,https://github.com/mishoo/UglifyJS2/raw/98434258d0839cb02de8b723df0cafe40c6cf218/lib/ast.js,https://github.com/mishoo/UglifyJS2/raw/931723737204d0a042604f8051ca3af8aa08a1c7/lib/ast.js,"@@ -71,7 +71,7 @@ function DEFNODE(type, props, methods, base) {
     if (type) {
         ctor.prototype.TYPE = ctor.TYPE = type;
     }
-    if (methods) for (i in methods) if (methods.hasOwnProperty(i)) {
+    if (methods) for (i in methods) if (HOP(methods, i)) {
         if (/^\$/.test(i)) {
             ctor[i.substr(1)] = methods[i];
         } else {
",74,if (methods) for (i in methods) if (methods.hasOwnProperty(i)) {,"if (methods) for (i in methods) if (HOP(methods, i)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/931723737204d0a042604f8051ca3af8aa08a1c7,931723737204d0a042604f8051ca3af8aa08a1c7,"Avoid using inherited hasOwnProperty

Fix #1031",2016-04-07 13:16:22+03:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/98434258d0839cb02de8b723df0cafe40c6cf218/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/931723737204d0a042604f8051ca3af8aa08a1c7/lib/compress.js,"@@ -2509,7 +2509,7 @@ merge(Compressor.prototype, {
 
         if (self.undeclared() && !isLHS(self, compressor.parent())) {
             var defines = compressor.option(""global_defs"");
-            if (defines && defines.hasOwnProperty(self.name)) {
+            if (defines && HOP(defines, self.name)) {
                 return make_node_from_constant(compressor, defines[self.name], self);
             }
             switch (self.name) {
",2512,if (defines && defines.hasOwnProperty(self.name)) {,"if (defines && HOP(defines, self.name)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c55dd5ed74888d533cf8402c6ba3612916ba2885,c55dd5ed74888d533cf8402c6ba3612916ba2885,Add `passes` compress option. Fix duplicate compress warnings.,2016-04-19 20:05:33+02:00,run-tests.js,https://github.com/mishoo/UglifyJS2/raw/e4fa4b109a0db5691d91b3dfba0eac41ac21c0ef/test/run-tests.js,https://github.com/mishoo/UglifyJS2/raw/c55dd5ed74888d533cf8402c6ba3612916ba2885/test/run-tests.js,"@@ -110,7 +110,7 @@ function run_compress_tests() {
             if (test.mangle_props) {
                 input = U.mangle_properties(input, test.mangle_props);
             }
-            var output = input.transform(cmp);
+            var output = cmp.compress(input);
             output.figure_out_scope();
             if (test.mangle) {
                 output.compute_char_frequency(test.mangle);
",113,var output = input.transform(cmp);,var output = cmp.compress(input);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c55dd5ed74888d533cf8402c6ba3612916ba2885,c55dd5ed74888d533cf8402c6ba3612916ba2885,Add `passes` compress option. Fix duplicate compress warnings.,2016-04-19 20:05:33+02:00,node.js,https://github.com/mishoo/UglifyJS2/raw/e4fa4b109a0db5691d91b3dfba0eac41ac21c0ef/tools/node.js,https://github.com/mishoo/UglifyJS2/raw/c55dd5ed74888d533cf8402c6ba3612916ba2885/tools/node.js,"@@ -78,7 +78,7 @@ exports.minify = function(files, options) {
         UglifyJS.merge(compress, options.compress);
         toplevel.figure_out_scope();
         var sq = UglifyJS.Compressor(compress);
-        toplevel = toplevel.transform(sq);
+        toplevel = sq.compress(toplevel);
     }
 
     // 3. mangle properties
",81,toplevel = toplevel.transform(sq);,toplevel = sq.compress(toplevel);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d7971ba0e439eb042fd880762bc7fa77ce1f3e73,d7971ba0e439eb042fd880762bc7fa77ce1f3e73,"Fix test262 failures related to <, <=, in and instanceof

Fixed-by: @kzc",2016-06-15 23:11:08+02:00,asm.js,https://github.com/mishoo/UglifyJS2/raw/5c4cfaa0a75317582c979f9b50c1e562fbcfa40d/test/compress/asm.js,https://github.com/mishoo/UglifyJS2/raw/d7971ba0e439eb042fd880762bc7fa77ce1f3e73/test/compress/asm.js,"@@ -92,7 +92,7 @@ asm_mixed: {
             function logSum(start, end) {
                 start = 0 | start, end = 0 | end;
                 var sum = 0, p = 0, q = 0;
-                for (p = start << 3, q = end << 3; (0 | q) > (0 | p); p = p + 8 | 0) sum += +log(values[p >> 3]);
+                for (p = start << 3, q = end << 3; (0 | p) < (0 | q); p = p + 8 | 0) sum += +log(values[p >> 3]);
                 return +sum;
             }
             function geometricMean(start, end) {
",95,"for (p = start << 3, q = end << 3; (0 | q) > (0 | p); p = p + 8 | 0) sum += +log(values[p >> 3]);","for (p = start << 3, q = end << 3; (0 | p) < (0 | q); p = p + 8 | 0) sum += +log(values[p >> 3]);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/aa82027a1721ee7233e92ab1b9f9ced43a8f17cf,aa82027a1721ee7233e92ab1b9f9ced43a8f17cf,"Don't assume DEBUG is defined when exporting --self

Potential fix for #1148",2016-06-20 08:40:45+02:00,exports.js,https://github.com/mishoo/UglifyJS2/raw/55c592dd43bc72a2be6cdfbcce05d2645eed0656/tools/exports.js,https://github.com/mishoo/UglifyJS2/raw/aa82027a1721ee7233e92ab1b9f9ced43a8f17cf/tools/exports.js,"@@ -18,6 +18,6 @@ exports[""tokenizer""] = tokenizer;
 exports[""is_identifier""] = is_identifier;
 exports[""SymbolDef""] = SymbolDef;
 
-if (DEBUG) {
+if (typeof DEBUG !== ""undefined"" && DEBUG) {
     exports[""EXPECT_DIRECTIVE""] = EXPECT_DIRECTIVE;
 }
",21,if (DEBUG) {,"if (typeof DEBUG !== ""undefined"" && DEBUG) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ace8aaa0f4ad6ecae77e760473353f07b384880e,ace8aaa0f4ad6ecae77e760473353f07b384880e,"Fix conditional expressions of form (x ? -1 : -1)

Fixes #1154, #1153",2016-06-21 14:52:13-04:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/0c003c92a85bd845dec8a10ee567c46b696c1403/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/ace8aaa0f4ad6ecae77e760473353f07b384880e/lib/compress.js,"@@ -2746,7 +2746,7 @@ merge(Compressor.prototype, {
         if (consequent.is_constant(compressor)
             && alternative.is_constant(compressor)
             && consequent.equivalent_to(alternative)) {
-            var consequent_value = consequent.constant_value();
+            var consequent_value = consequent.constant_value(compressor);
             if (self.condition.has_side_effects(compressor)) {
                 return AST_Seq.from_array([self.condition, make_node_from_constant(compressor, consequent_value, self)]);
             } else {
",2749,var consequent_value = consequent.constant_value();,var consequent_value = consequent.constant_value(compressor);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/335b72df03fb6593d4bac8ddcde7d1b128eb3c4e,335b72df03fb6593d4bac8ddcde7d1b128eb3c4e,"Fix spidermonkey AST (ESTree) export and import, Array holes

Fixes: #1156 #1161

Also add test to exercise Uglify after spidermonkey export/import of itself.",2016-06-30 21:44:12+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3a7d53f3cfa81fc8df3cd61c9adf0ce6c28ecd30/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/335b72df03fb6593d4bac8ddcde7d1b128eb3c4e/lib/compress.js,"@@ -190,7 +190,7 @@ merge(Compressor.prototype, {
             if ((1 / val) < 0) {
                 return make_node(AST_UnaryPrefix, orig, {
                     operator: ""-"",
-                    expression: make_node(AST_Number, null, { value: -val })
+                    expression: make_node(AST_Number, orig, { value: -val })
                 });
             }
 
",193,"expression: make_node(AST_Number, null, { value: -val })","expression: make_node(AST_Number, orig, { value: -val })"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2d8af8947e3bf2daa51bdc199c504122563375d1,2d8af8947e3bf2daa51bdc199c504122563375d1,Fix error style for regex errors,2016-07-15 13:14:30+02:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/2650182f47883aaaeddd731fffa0c4940d94cc36/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/2d8af8947e3bf2daa51bdc199c504122563375d1/lib/parse.js,"@@ -495,7 +495,7 @@ function tokenizer($TEXT, filename, html5_comments, shebang) {
         try {
           return token(""regexp"", new RegExp(regexp, mods));
         } catch(e) {
-          parse_error(e.message);
+          parse_error(""SyntaxError: "" + e.message);
         }
     });
 
",498,parse_error(e.message);,"parse_error(""SyntaxError: "" + e.message);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7eb52d2837c9d77a389457ae84bfddd28f86cf27,7eb52d2837c9d77a389457ae84bfddd28f86cf27,"Keep const in own scope while compressing

- Fixes #1205
- Fix provided by @kzc",2016-07-15 13:20:52+02:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/eb63fece2f48be2be5ee1090d7bb94889a12fd80/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/7eb52d2837c9d77a389457ae84bfddd28f86cf27/lib/compress.js,"@@ -810,7 +810,7 @@ merge(Compressor.prototype, {
                     CHANGED = true;
                 }
                 else if (stat instanceof AST_For
-                         && prev instanceof AST_Definitions
+                         && prev instanceof AST_Var
                          && (!stat.init || stat.init.TYPE == prev.TYPE)) {
                     CHANGED = true;
                     a.pop();
",813,&& prev instanceof AST_Definitions,&& prev instanceof AST_Var
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/fb049d3a81b744a5facf1f032b8b2815c410f178,fb049d3a81b744a5facf1f032b8b2815c410f178,Fix unneeded parens around unary args in new expression.,2016-08-14 21:38:38+02:00,output.js,https://github.com/mishoo/UglifyJS2/raw/67cca43358cfcf7ff2e7c9e5532bc975fb2591d0/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/fb049d3a81b744a5facf1f032b8b2815c410f178/lib/output.js,"@@ -533,7 +533,7 @@ function OutputStream(options) {
     PARENS([ AST_Unary, AST_Undefined ], function(output){
         var p = output.parent();
         return p instanceof AST_PropAccess && p.expression === this
-            || p instanceof AST_New;
+            || p instanceof AST_Call && p.expression === this;
     });
 
     PARENS(AST_Seq, function(output){
",536,|| p instanceof AST_New;,|| p instanceof AST_Call && p.expression === this;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/307b88d6ccecf3de4150450ac651594db1b8ba56,307b88d6ccecf3de4150450ac651594db1b8ba56,Fixed sourceMapIncludeSources and inSourceMap = string combination of the UglifyJS.minify function.,2016-08-14 21:40:14+02:00,node.js,https://github.com/mishoo/UglifyJS2/raw/fb049d3a81b744a5facf1f032b8b2815c410f178/tools/node.js,https://github.com/mishoo/UglifyJS2/raw/307b88d6ccecf3de4150450ac651594db1b8ba56/tools/node.js,"@@ -114,7 +114,7 @@ exports.minify = function(files, options) {
     var inMap = options.inSourceMap;
     var output = {};
     if (typeof options.inSourceMap == ""string"") {
-        inMap = fs.readFileSync(options.inSourceMap, ""utf8"");
+        inMap = JSON.parse(fs.readFileSync(options.inSourceMap, ""utf8""));
     }
     if (options.outSourceMap) {
         output.source_map = UglifyJS.SourceMap({
",117,"inMap = fs.readFileSync(options.inSourceMap, ""utf8"");","inMap = JSON.parse(fs.readFileSync(options.inSourceMap, ""utf8""));"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/98f330658f5cd0dfb3004815d05f123f4110c2e0,98f330658f5cd0dfb3004815d05f123f4110c2e0,"Generate source map data from normalized files

If using `inSourceMap` this fix will ensure the copying of `sourcesContent` is based on potentially normalized `sources` values (https://github.com/mozilla/source-map/blob/master/lib/source-map-consumer.js#L304-L309).

For example `normalize` (https://github.com/mozilla/source-map/blob/master/lib/util.js#L80-L123) will rewrite `./dist/mySource.js` to `dist/mySource.js` in the target `_sources` of the `SourceMapConsumer`. As a result `orig_map.sourceContentFor(source, true);` would return `null` since the orginal `source` was no longer available in the consumer. By using the keys generating from the `SourceMapConsumer.constructor` consistency is ensured.",2016-11-29 20:42:56+01:00,sourcemap.js,https://github.com/mishoo/UglifyJS2/raw/a7b3b0d3a55e2c48b63102dd111f27f8b9717788/lib/sourcemap.js,https://github.com/mishoo/UglifyJS2/raw/98f330658f5cd0dfb3004815d05f123f4110c2e0/lib/sourcemap.js,"@@ -60,7 +60,7 @@ function SourceMap(options) {
     var orig_map = options.orig && new MOZ_SourceMap.SourceMapConsumer(options.orig);
 
     if (orig_map && Array.isArray(options.orig.sources)) {
-        options.orig.sources.forEach(function(source) {
+        orig_map._sources.toArray().forEach(function(source) {
             var sourceContent = orig_map.sourceContentFor(source, true);
             if (sourceContent) {
                 generator.setSourceContent(source, sourceContent);
",63,options.orig.sources.forEach(function(source) {,orig_map._sources.toArray().forEach(function(source) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c525a2b1907fdef36acffdeea4cf02ae476d8399,c525a2b1907fdef36acffdeea4cf02ae476d8399,"fix duplicated test names

previously test cases with the same name would be skipped except for the last one

`test/run-test.js` will now report duplicated names as errors

closes #1461",2017-02-21 13:29:58+08:00,drop-console.js,https://github.com/mishoo/UglifyJS2/raw/6ffbecb72b515d6e9e6dee1f76d8f27e4b014854/test/compress/drop-console.js,https://github.com/mishoo/UglifyJS2/raw/c525a2b1907fdef36acffdeea4cf02ae476d8399/test/compress/drop-console.js,"@@ -10,7 +10,7 @@ drop_console_1: {
     }
 }
 
-drop_console_1: {
+drop_console_2: {
     options = { drop_console: true };
     input: {
         console.log('foo');
",13,drop_console_1: {,drop_console_2: {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/16cd5d57a5cf7f5750104df0e5af246708fd493f,16cd5d57a5cf7f5750104df0e5af246708fd493f,"consolidate `evaluate` & `reduce_vars` (#1505)

- improve marking efficiency
- apply smarter `const` replacement to `var`

fixes #1501",2017-02-26 00:40:33+08:00,evaluate.js,https://github.com/mishoo/UglifyJS2/raw/834f9f39245f1ddf5a29c579afd7ebcdb0afe585/test/compress/evaluate.js,https://github.com/mishoo/UglifyJS2/raw/16cd5d57a5cf7f5750104df0e5af246708fd493f/test/compress/evaluate.js,"@@ -615,7 +615,7 @@ call_args: {
         const a = 1;
         console.log(1);
         +function(a) {
-            return a;
+            return 1;
         }(1);
     }
 }
",618,return a;,return 1;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c2334baa4813bdde21d5a652de0c9da3733d06b6,c2334baa4813bdde21d5a652de0c9da3733d06b6,"fix crash on missing `props` to `string_template()` (#1523)

Patched up `make_node()` without `orig`.

There may be other cases where `start` could be missing, so make it print ""undefined"" instead of crashing.

fixes #1518",2017-03-01 15:25:26+08:00,utils.js,https://github.com/mishoo/UglifyJS2/raw/fb2b6c7c6f8ddc616d43201eec6e01dfa52a7c6a/lib/utils.js,https://github.com/mishoo/UglifyJS2/raw/c2334baa4813bdde21d5a652de0c9da3733d06b6/lib/utils.js,"@@ -185,7 +185,7 @@ function push_uniq(array, el) {
 
 function string_template(text, props) {
     return text.replace(/\{(.+?)\}/g, function(str, p){
-        return props[p];
+        return props && props[p];
     });
 };
 
",188,return props[p];,return props && props[p];
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b49e142a26094ccb0a6e9f597e7363ba02280eb4,b49e142a26094ccb0a6e9f597e7363ba02280eb4,"disable do{...}while(false) optimisation (#1534)

- fails to handle `break` in body

fixes #1532",2017-03-03 00:54:41+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/ee3b39b909c279a0115c7562cab2c9b37fb37c21/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/b49e142a26094ccb0a6e9f597e7363ba02280eb4/lib/compress.js,"@@ -2132,7 +2132,7 @@ merge(Compressor.prototype, {
                 }
             } else {
                 // self instanceof AST_Do
-                return self.body;
+                return self;
             }
         }
         if (self instanceof AST_While) {
",2135,return self.body;,return self;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/07accd2fbb78ddbdb427774b3b5287a16fa95b5f,07accd2fbb78ddbdb427774b3b5287a16fa95b5f,"process code with implicit return statement (#1522)

Bookmarklet for instance implicitedly assumes a ""completion value"" without using `return`.
The `expression` option now supports such use cases.
Optimisations on IIFEs also enhanced.

fixes #354
fixes #543
fixes #625
fixes #628
fixes #640
closes #1293",2017-03-03 18:13:07+08:00,drop-unused.js,https://github.com/mishoo/UglifyJS2/raw/18059cc94fdc037e296a1cb1b08143d5e3aae570/test/compress/drop-unused.js,https://github.com/mishoo/UglifyJS2/raw/07accd2fbb78ddbdb427774b3b5287a16fa95b5f/test/compress/drop-unused.js,"@@ -632,7 +632,7 @@ iife: {
     }
     expect: {
         function f() {
-            ~function() {}(b);
+            b;
         }
     }
 }
",635,~function() {}(b);,b;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/07accd2fbb78ddbdb427774b3b5287a16fa95b5f,07accd2fbb78ddbdb427774b3b5287a16fa95b5f,"process code with implicit return statement (#1522)

Bookmarklet for instance implicitedly assumes a ""completion value"" without using `return`.
The `expression` option now supports such use cases.
Optimisations on IIFEs also enhanced.

fixes #354
fixes #543
fixes #625
fixes #628
fixes #640
closes #1293",2017-03-03 18:13:07+08:00,sequences.js,https://github.com/mishoo/UglifyJS2/raw/18059cc94fdc037e296a1cb1b08143d5e3aae570/test/compress/sequences.js,https://github.com/mishoo/UglifyJS2/raw/07accd2fbb78ddbdb427774b3b5287a16fa95b5f/test/compress/sequences.js,"@@ -248,6 +248,6 @@ iife: {
     }
     expect: {
         x = 42, function a() {}(), function b() {}(), function c() {}(),
-        function d() {}(), function e() {}(), function f() {}(), function g() {}()
+        function d() {}(), function e() {}(), function f() {}(), function g() {}();
     }
 }
",251,"function d() {}(), function e() {}(), function f() {}(), function g() {}()","function d() {}(), function e() {}(), function f() {}(), function g() {}();"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e3a3db73ae4c2c90ad304e1e6b7d019053ca3dc3,e3a3db73ae4c2c90ad304e1e6b7d019053ca3dc3,"temporary fix for boolean bug (#1597)

fixes #1592",2017-03-11 04:59:55+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/d9344f30b83ecdfc8310ff43b9361c67cc85ec3e/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/e3a3db73ae4c2c90ad304e1e6b7d019053ca3dc3/lib/compress.js,"@@ -404,7 +404,7 @@ merge(Compressor.prototype, {
 
             return make_node(AST_Number, orig, { value: val });
           case ""boolean"":
-            return make_node(val ? AST_True : AST_False, orig).transform(compressor);
+            return make_node(val ? AST_True : AST_False, orig).optimize(compressor);
           case ""undefined"":
             return make_node(AST_Undefined, orig).transform(compressor);
           default:
",407,"return make_node(val ? AST_True : AST_False, orig).transform(compressor);","return make_node(val ? AST_True : AST_False, orig).optimize(compressor);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ac403018135b0ba700ef6223970c1bbc2a518107,ac403018135b0ba700ef6223970c1bbc2a518107,"fix chained evaluation (#1610)

`reduce_vars` enables substitution of variables but did not clone the value's `AST_Node`.

This confuses `collapse_vars` and result in invalid AST and subsequent crash.

fixes #1609",2017-03-17 00:26:48+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3563d8c09e36be8f8b9cb9500852778f8d191d5d/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/ac403018135b0ba700ef6223970c1bbc2a518107/lib/compress.js,"@@ -3461,7 +3461,7 @@ merge(Compressor.prototype, {
                     }
                 }
                 if (d.should_replace) {
-                    return d.should_replace;
+                    return d.should_replace.clone(true);
                 }
             }
         }
",3464,return d.should_replace;,return d.should_replace.clone(true);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a00040dd93083548aa065c5ae8942e3c2600cbbe,a00040dd93083548aa065c5ae8942e3c2600cbbe,"fix a bug in simple_glob (#1632)

- ""?"" should not match ""/""
- other minor clean-ups",2017-03-23 06:11:16+08:00,exports.js,https://github.com/mishoo/UglifyJS2/raw/ee95c1b38bcf0fbb6c676e98540c1d33f669e936/tools/exports.js,https://github.com/mishoo/UglifyJS2/raw/a00040dd93083548aa065c5ae8942e3c2600cbbe/tools/exports.js,"@@ -18,6 +18,6 @@ exports[""tokenizer""] = tokenizer;
 exports[""is_identifier""] = is_identifier;
 exports[""SymbolDef""] = SymbolDef;
 
-if (typeof DEBUG !== ""undefined"" && DEBUG) {
+if (global.UGLIFY_DEBUG) {
     exports[""EXPECT_DIRECTIVE""] = EXPECT_DIRECTIVE;
 }
",21,"if (typeof DEBUG !== ""undefined"" && DEBUG) {",if (global.UGLIFY_DEBUG) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2e0dc970037b3a22fb367ab77c5fe506317ee40b,2e0dc970037b3a22fb367ab77c5fe506317ee40b,"improve error marker placement (#1644)

For AST_UnaryPrefix, points to the operator rather than end of expression.",2017-03-24 14:28:40+08:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/701035621d708c39f4bdd2022fc02bdb4a967a39/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/2e0dc970037b3a22fb367ab77c5fe506317ee40b/lib/parse.js,"@@ -1457,7 +1457,7 @@ function parse($TEXT, options) {
 
     function make_unary(ctor, op, expr) {
         if ((op == ""++"" || op == ""--"") && !is_assignable(expr))
-            croak(""Invalid use of "" + op + "" operator"");
+            croak(""Invalid use of "" + op + "" operator"", null, ctor === AST_UnaryPrefix ? expr.start.col - 1 : null);
         return new ctor({ operator: op, expression: expr });
     };
 
",1460,"croak(""Invalid use of "" + op + "" operator"");","croak(""Invalid use of "" + op + "" operator"", null, ctor === AST_UnaryPrefix ? expr.start.col - 1 : null);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ac51d4c5a079dccbc9a6cf69d06f757432c69694,ac51d4c5a079dccbc9a6cf69d06f757432c69694,"fix corner case in `AST_For.init` (#1652)

Enforce `null` as value for empty initialisation blocks.

fixes #1648",2017-03-24 19:31:17+08:00,output.js,https://github.com/mishoo/UglifyJS2/raw/0432a7abb98f3aec871daa88331aa9223979dde3/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/ac51d4c5a079dccbc9a6cf69d06f757432c69694/lib/output.js,"@@ -799,7 +799,7 @@ function OutputStream(options) {
         output.print(""for"");
         output.space();
         output.with_parens(function(){
-            if (self.init && !(self.init instanceof AST_EmptyStatement)) {
+            if (self.init) {
                 if (self.init instanceof AST_Definitions) {
                     self.init.print(output);
                 } else {
",802,if (self.init && !(self.init instanceof AST_EmptyStatement)) {,if (self.init) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/0a65de89b97731cd83a077303dd0511ba7ff7151,0a65de89b97731cd83a077303dd0511ba7ff7151,"fix `reduce_vars` on `AST_Switch` (#1671)

Take conditional nature of switch branches into account.

fixes #1670",2017-03-25 21:17:30+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/6e86ee950d98ebacef7e02515e34d758c4f836a1/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/0a65de89b97731cd83a077303dd0511ba7ff7151/lib/compress.js,"@@ -341,7 +341,7 @@ merge(Compressor.prototype, {
                     pop();
                     return true;
                 }
-                if (node instanceof AST_Catch) {
+                if (node instanceof AST_Catch || node instanceof AST_SwitchBranch) {
                     push();
                     descend();
                     pop();
",344,if (node instanceof AST_Catch) {,if (node instanceof AST_Catch || node instanceof AST_SwitchBranch) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/09f77c7d4d37350102c36b270b553f45e706d0c8,09f77c7d4d37350102c36b270b553f45e706d0c8,"output optimal representations of NaN & Infinity (#1723)

- move these optimisations out from `Compressor` to `OutputStream`
- fixes behaviour inconsistency when running uglified code from global or module levels due to redefinition",2017-03-29 18:31:55+08:00,properties.js,https://github.com/mishoo/UglifyJS2/raw/fef0bf9ee0367f07dfbca26b144c2995c2b5db5f/test/compress/properties.js,https://github.com/mishoo/UglifyJS2/raw/09f77c7d4d37350102c36b270b553f45e706d0c8/test/compress/properties.js,"@@ -77,7 +77,7 @@ sub_properties: {
         a[3.14] = 3;
         a.if = 4;
         a[""foo bar""] = 5;
-        a[NaN] = 6;
+        a[0/0] = 6;
         a[null] = 7;
         a[void 0] = 8;
     }
",80,a[NaN] = 6;,a[0/0] = 6;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/257ddc3bdb37efdb48fc23371f5f523e2044afd8,257ddc3bdb37efdb48fc23371f5f523e2044afd8,"improve compression of undefined, NaN & Infinitiy (#1748)

- migrate transformation logic from `OutputStream` to `Compressor`
- always turn `undefined` into `void 0` (unless `unsafe`)
- always keep `NaN` except when avoiding local variable redefinition
- introduce `keep_infinity` to suppress `1/0` transform, except when avoiding local variable redefinition

supersedes #1723
fixes #1730",2017-04-01 03:02:14+08:00,numbers.js,https://github.com/mishoo/UglifyJS2/raw/1ddc05725d078ccf73d711e376c3c530cd517cdb/test/compress/numbers.js,https://github.com/mishoo/UglifyJS2/raw/257ddc3bdb37efdb48fc23371f5f523e2044afd8/test/compress/numbers.js,"@@ -186,7 +186,7 @@ unary_binary_parenthesis: {
         });
     }
     expect: {
-        var v = [ 0, 1, 0/0, 1/0, null, void 0, true, false, """", ""foo"", /foo/ ];
+        var v = [ 0, 1, NaN, 1/0, null, void 0, true, false, """", ""foo"", /foo/ ];
         v.forEach(function(x) {
             v.forEach(function(y) {
                 console.log(
",189,"var v = [ 0, 1, 0/0, 1/0, null, void 0, true, false, """", ""foo"", /foo/ ];","var v = [ 0, 1, NaN, 1/0, null, void 0, true, false, """", ""foo"", /foo/ ];"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/257ddc3bdb37efdb48fc23371f5f523e2044afd8,257ddc3bdb37efdb48fc23371f5f523e2044afd8,"improve compression of undefined, NaN & Infinitiy (#1748)

- migrate transformation logic from `OutputStream` to `Compressor`
- always turn `undefined` into `void 0` (unless `unsafe`)
- always keep `NaN` except when avoiding local variable redefinition
- introduce `keep_infinity` to suppress `1/0` transform, except when avoiding local variable redefinition

supersedes #1723
fixes #1730",2017-04-01 03:02:14+08:00,properties.js,https://github.com/mishoo/UglifyJS2/raw/1ddc05725d078ccf73d711e376c3c530cd517cdb/test/compress/properties.js,https://github.com/mishoo/UglifyJS2/raw/257ddc3bdb37efdb48fc23371f5f523e2044afd8/test/compress/properties.js,"@@ -77,7 +77,7 @@ sub_properties: {
         a[3.14] = 3;
         a.if = 4;
         a[""foo bar""] = 5;
-        a[0/0] = 6;
+        a[NaN] = 6;
         a[null] = 7;
         a[void 0] = 8;
     }
",80,a[0/0] = 6;,a[NaN] = 6;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/48b3fe99524e1e85edd30f0a326c2f1136e150e4,48b3fe99524e1e85edd30f0a326c2f1136e150e4,"fix `mangleProperties` on identifiers (#1776)

- fix handling of ""-Infinity""
- add test case for ""-0""

reverts #1481",2017-04-03 23:17:47+08:00,propmangle.js,https://github.com/mishoo/UglifyJS2/raw/a4007418683f55fec52b8085bac5e4d545b70a0e/lib/propmangle.js,https://github.com/mishoo/UglifyJS2/raw/48b3fe99524e1e85edd30f0a326c2f1136e150e4/lib/propmangle.js,"@@ -47,6 +47,7 @@ function find_builtins() {
     // NaN will be included due to Number.NaN
     var a = [
         ""Infinity"",
+        ""-Infinity"",
         ""undefined"",
     ];
     [ Object, Array, Function, Number,
@@ -153,7 +154,6 @@ function mangle_properties(ast, options) {
     // only function declarations after this line
 
     function can_mangle(name) {
-        if (!is_identifier(name)) return false;
         if (unmangleable.indexOf(name) >= 0) return false;
         if (reserved.indexOf(name) >= 0) return false;
         if (options.only_cache) {
",50,"""-Infinity"",",if (!is_identifier(name)) return false;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ec443e422c220619fe671166e467d3d8838b0cab,ec443e422c220619fe671166e467d3d8838b0cab,"unify CLI & API under `minify()` (#1811)

- rename `screw_ie8` to `ie8`
- rename `mangle.except` to `mangle.reserved`
- rename `mangle.properties.ignore_quoted` to `mangle.properties.keep_quoted` 
- compact `sourceMap` options
- more stringent verification on input `options`
- toplevel shorthands
  - `ie8`
  - `keep_fnames`
  - `toplevel`
  - `warnings`
- support arrays and unquoted string values on CLI
- drop `fromString` from `minify()`
  - `minify()` no longer handles any `fs` operations
- unify order of operations for `mangle_properties()` on CLI & API
  - `bin/uglifyjs` used to `mangle_properties()` before even `Compressor`
  - `minify()` used to `mangle_properties()` after `Compressor` but before `mangle_names()`
  - both will now do `Compressor`, `mangle_names()` then `mangle_properties()`
- `options.parse` / `--parse` for parser options beyond `bare_returns`
- add `mangle.properties.builtins` to disable built-in reserved list
  - disable with `--mangle-props builtins` on CLI
- `warnings` now off by default
- add `--warn` and `--verbose` on CLI
- drop `--enclose`
- drop `--export-all`
- drop `--reserved-file`
  - use `--mangle reserved` instead
- drop `--reserve-domprops`
  - enabled by default, disable with `--mangle-props domprops`
- drop `--prefix`
  - use `--source-map base` instead
- drop `--lint`
- remove `bin/extract-props.js`
- limit exposure of internal APIs
- update documentations

closes #96
closes #102
closes #136
closes #166
closes #243
closes #254
closes #261
closes #311
closes #700
closes #748
closes #912
closes #1072
closes #1366
fixes #101
fixes #123
fixes #124
fixes #263
fixes #379
fixes #419
fixes #423
fixes #461
fixes #465
fixes #576
fixes #737
fixes #772
fixes #958
fixes #1036
fixes #1142
fixes #1175
fixes #1220
fixes #1223
fixes #1280
fixes #1359
fixes #1368",2017-04-15 23:50:50+08:00,issue-1446.js,https://github.com/mishoo/UglifyJS2/raw/32deb365d500f22f3215fe0edb094b38dba5b61a/test/compress/issue-1446.js,https://github.com/mishoo/UglifyJS2/raw/ec443e422c220619fe671166e467d3d8838b0cab/test/compress/issue-1446.js,"@@ -23,7 +23,7 @@ typeof_eq_undefined: {
 typeof_eq_undefined_ie8: {
     options = {
         comparisons: true,
-        screw_ie8: false
+        ie8: true,
     }
     input: {
         var a = typeof b != ""undefined"";
",26,screw_ie8: false,"ie8: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ec443e422c220619fe671166e467d3d8838b0cab,ec443e422c220619fe671166e467d3d8838b0cab,"unify CLI & API under `minify()` (#1811)

- rename `screw_ie8` to `ie8`
- rename `mangle.except` to `mangle.reserved`
- rename `mangle.properties.ignore_quoted` to `mangle.properties.keep_quoted` 
- compact `sourceMap` options
- more stringent verification on input `options`
- toplevel shorthands
  - `ie8`
  - `keep_fnames`
  - `toplevel`
  - `warnings`
- support arrays and unquoted string values on CLI
- drop `fromString` from `minify()`
  - `minify()` no longer handles any `fs` operations
- unify order of operations for `mangle_properties()` on CLI & API
  - `bin/uglifyjs` used to `mangle_properties()` before even `Compressor`
  - `minify()` used to `mangle_properties()` after `Compressor` but before `mangle_names()`
  - both will now do `Compressor`, `mangle_names()` then `mangle_properties()`
- `options.parse` / `--parse` for parser options beyond `bare_returns`
- add `mangle.properties.builtins` to disable built-in reserved list
  - disable with `--mangle-props builtins` on CLI
- `warnings` now off by default
- add `--warn` and `--verbose` on CLI
- drop `--enclose`
- drop `--export-all`
- drop `--reserved-file`
  - use `--mangle reserved` instead
- drop `--reserve-domprops`
  - enabled by default, disable with `--mangle-props domprops`
- drop `--prefix`
  - use `--source-map base` instead
- drop `--lint`
- remove `bin/extract-props.js`
- limit exposure of internal APIs
- update documentations

closes #96
closes #102
closes #136
closes #166
closes #243
closes #254
closes #261
closes #311
closes #700
closes #748
closes #912
closes #1072
closes #1366
fixes #101
fixes #123
fixes #124
fixes #263
fixes #379
fixes #419
fixes #423
fixes #461
fixes #465
fixes #576
fixes #737
fixes #772
fixes #958
fixes #1036
fixes #1142
fixes #1175
fixes #1220
fixes #1223
fixes #1280
fixes #1359
fixes #1368",2017-04-15 23:50:50+08:00,jetstream.js,https://github.com/mishoo/UglifyJS2/raw/32deb365d500f22f3215fe0edb094b38dba5b61a/test/jetstream.js,https://github.com/mishoo/UglifyJS2/raw/ec443e422c220619fe671166e467d3d8838b0cab/test/jetstream.js,"@@ -12,7 +12,7 @@ if (typeof phantom == ""undefined"") {
     });
     var args = process.argv.slice(2);
     if (!args.length) {
-        args.push(""-mc"", ""warnings=false"");
+        args.push(""-mc"");
     }
     args.push(""--stats"");
     var child_process = require(""child_process"");
",15,"args.push(""-mc"", ""warnings=false"");","args.push(""-mc"");"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ec443e422c220619fe671166e467d3d8838b0cab,ec443e422c220619fe671166e467d3d8838b0cab,"unify CLI & API under `minify()` (#1811)

- rename `screw_ie8` to `ie8`
- rename `mangle.except` to `mangle.reserved`
- rename `mangle.properties.ignore_quoted` to `mangle.properties.keep_quoted` 
- compact `sourceMap` options
- more stringent verification on input `options`
- toplevel shorthands
  - `ie8`
  - `keep_fnames`
  - `toplevel`
  - `warnings`
- support arrays and unquoted string values on CLI
- drop `fromString` from `minify()`
  - `minify()` no longer handles any `fs` operations
- unify order of operations for `mangle_properties()` on CLI & API
  - `bin/uglifyjs` used to `mangle_properties()` before even `Compressor`
  - `minify()` used to `mangle_properties()` after `Compressor` but before `mangle_names()`
  - both will now do `Compressor`, `mangle_names()` then `mangle_properties()`
- `options.parse` / `--parse` for parser options beyond `bare_returns`
- add `mangle.properties.builtins` to disable built-in reserved list
  - disable with `--mangle-props builtins` on CLI
- `warnings` now off by default
- add `--warn` and `--verbose` on CLI
- drop `--enclose`
- drop `--export-all`
- drop `--reserved-file`
  - use `--mangle reserved` instead
- drop `--reserve-domprops`
  - enabled by default, disable with `--mangle-props domprops`
- drop `--prefix`
  - use `--source-map base` instead
- drop `--lint`
- remove `bin/extract-props.js`
- limit exposure of internal APIs
- update documentations

closes #96
closes #102
closes #136
closes #166
closes #243
closes #254
closes #261
closes #311
closes #700
closes #748
closes #912
closes #1072
closes #1366
fixes #101
fixes #123
fixes #124
fixes #263
fixes #379
fixes #419
fixes #423
fixes #461
fixes #465
fixes #576
fixes #737
fixes #772
fixes #958
fixes #1036
fixes #1142
fixes #1175
fixes #1220
fixes #1223
fixes #1280
fixes #1359
fixes #1368",2017-04-15 23:50:50+08:00,let.js,https://github.com/mishoo/UglifyJS2/raw/32deb365d500f22f3215fe0edb094b38dba5b61a/test/mocha/let.js,https://github.com/mishoo/UglifyJS2/raw/ec443e422c220619fe671166e467d3d8838b0cab/test/mocha/let.js,"@@ -11,7 +11,7 @@ describe(""let"", function() {
             s += ""var v"" + i + ""=0;"";
         }
         s += '}';
-        var result = Uglify.minify(s, {fromString: true, compress: false});
+        var result = Uglify.minify(s, {compress: false});
 
         // Verify that select keywords and reserved keywords not produced
         assert.strictEqual(result.code.indexOf(""var let=""), -1);
",14,"var result = Uglify.minify(s, {fromString: true, compress: false});","var result = Uglify.minify(s, {compress: false});"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9e626281716c0f11ed6b289d6a48c7b681a99a1e,9e626281716c0f11ed6b289d6a48c7b681a99a1e,"fix `unused` on for-in statements (#1843)

Only need to avoid `var` within the initialisation block.

fixes #1841",2017-04-24 03:14:01+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/9bf72cf75822044ae314b4646db9aefb1bd38284/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/9e626281716c0f11ed6b289d6a48c7b681a99a1e/lib/compress.js,"@@ -1970,7 +1970,7 @@ merge(Compressor.prototype, {
                         }
                         return node;
                     }
-                    if (drop_vars && node instanceof AST_Definitions && !(tt.parent() instanceof AST_ForIn)) {
+                    if (drop_vars && node instanceof AST_Definitions && !(tt.parent() instanceof AST_ForIn && tt.parent().init === node)) {
                         // place uninitialized names at the start
                         var body = [], head = [], tail = [];
                         // for unused names whose initialization has
",1973,if (drop_vars && node instanceof AST_Definitions && !(tt.parent() instanceof AST_ForIn)) {,if (drop_vars && node instanceof AST_Definitions && !(tt.parent() instanceof AST_ForIn && tt.parent().init === node)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4f8ca4626efb15dc986785c89c51cbb3061e5f32,4f8ca4626efb15dc986785c89c51cbb3061e5f32,"deprecate low level API (#1877)

fixes #1872",2017-05-08 03:24:42+08:00,cli.js,https://github.com/mishoo/UglifyJS2/raw/e54748365cba0509c82c089cdc2ef6a8bb1a724b/test/mocha/cli.js,https://github.com/mishoo/UglifyJS2/raw/4f8ca4626efb15dc986785c89c51cbb3061e5f32/test/mocha/cli.js,"@@ -19,7 +19,7 @@ describe(""bin/uglifyjs"", function () {
             eval(stdout);
 
             assert.strictEqual(typeof WrappedUglifyJS, 'object');
-            assert.strictEqual(true, WrappedUglifyJS.parse('foo;') instanceof WrappedUglifyJS.AST_Node);
+            assert.strictEqual(WrappedUglifyJS.minify(""foo([true,,2+3]);"").code, ""foo([!0,,5]);"");
 
             done();
         });
",22,"assert.strictEqual(true, WrappedUglifyJS.parse('foo;') instanceof WrappedUglifyJS.AST_Node);","assert.strictEqual(WrappedUglifyJS.minify(""foo([true,,2+3]);"").code, ""foo([!0,,5]);"");"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3ca902258c24209699f0b5bd5b9654252e492272,3ca902258c24209699f0b5bd5b9654252e492272,"fix bugs with getter/setter (#1926)

- `reduce_vars`
- `side_effects`
- property access for object
- `AST_SymbolAccessor` as key names

enhance `test/ufuzz.js`
- add object getter & setter
  - property assignment to setter
  - avoid infinite recursion in setter
- fix & adjust assignment operators
  - 50% `=`
  - 25% `+=`
  - 2.5% each for the rest
- avoid ""Invalid array length""
- fix `console.log()`
  - bypass getter
  - curb recursive reference
- deprecate `-E`, always report runtime errors",2017-05-14 02:10:34+08:00,accessorTokens-1492.js,https://github.com/mishoo/UglifyJS2/raw/fd0951231cce6aa2710bdb4f0ff8a963596f842c/test/mocha/accessorTokens-1492.js,https://github.com/mishoo/UglifyJS2/raw/3ca902258c24209699f0b5bd5b9654252e492272/test/mocha/accessorTokens-1492.js,"@@ -16,7 +16,7 @@ describe(""Accessor tokens"", function() {
                 assert.equal(node.start.pos, 12);
                 assert.equal(node.end.endpos, 46);
 
-                assert(node.key instanceof UglifyJS.AST_SymbolRef);
+                assert(node.key instanceof UglifyJS.AST_SymbolAccessor);
                 assert.equal(node.key.start.pos, 16);
                 assert.equal(node.key.end.endpos, 22);
 
",19,assert(node.key instanceof UglifyJS.AST_SymbolRef);,assert(node.key instanceof UglifyJS.AST_SymbolAccessor);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3ca902258c24209699f0b5bd5b9654252e492272,3ca902258c24209699f0b5bd5b9654252e492272,"fix bugs with getter/setter (#1926)

- `reduce_vars`
- `side_effects`
- property access for object
- `AST_SymbolAccessor` as key names

enhance `test/ufuzz.js`
- add object getter & setter
  - property assignment to setter
  - avoid infinite recursion in setter
- fix & adjust assignment operators
  - 50% `=`
  - 25% `+=`
  - 2.5% each for the rest
- avoid ""Invalid array length""
- fix `console.log()`
  - bypass getter
  - curb recursive reference
- deprecate `-E`, always report runtime errors",2017-05-14 02:10:34+08:00,getter-setter.js,https://github.com/mishoo/UglifyJS2/raw/fd0951231cce6aa2710bdb4f0ff8a963596f842c/test/mocha/getter-setter.js,https://github.com/mishoo/UglifyJS2/raw/3ca902258c24209699f0b5bd5b9654252e492272/test/mocha/getter-setter.js,"@@ -71,7 +71,7 @@ describe(""Getters and setters"", function() {
         var fail = function(data) {
             return function (e) {
                 return e instanceof UglifyJS.JS_Parse_Error &&
-                    e.message === ""Invalid getter/setter name: "" + data.operator;
+                    e.message === ""Unexpected token: operator ("" + data.operator + "")"";
             };
         };
 
",74,"e.message === ""Invalid getter/setter name: "" + data.operator;","e.message === ""Unexpected token: operator ("" + data.operator + "")"";"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/dc33facfcb7899c0422cb14b08dddfcf06b1c949,dc33facfcb7899c0422cb14b08dddfcf06b1c949,"fix `dead_code` on block-scoped `function` under ""use strict"" (#2006)

Technically not part of ES5, but commonly used code exists in the wild.",2017-05-26 16:08:51+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/c70fb6038448cf072cfa96cee78eaa55aa99c0fa/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/dc33facfcb7899c0422cb14b08dddfcf06b1c949/lib/compress.js,"@@ -1222,7 +1222,7 @@ merge(Compressor.prototype, {
                 target.push(node);
                 return true;
             }
-            if (node instanceof AST_Defun) {
+            if (node instanceof AST_Defun && (node === stat || !compressor.has_directive(""use strict""))) {
                 target.push(node);
                 return true;
             }
",1225,if (node instanceof AST_Defun) {,"if (node instanceof AST_Defun && (node === stat || !compressor.has_directive(""use strict""))) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/540220b91bb02d50d04422dc782a5fe1905dd27a,540220b91bb02d50d04422dc782a5fe1905dd27a,"fix `AST_Function` scope invariance (#2052)

improve function name hack in `run_code()`",2017-06-04 19:27:43+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/84634da4b5e581c36686082b1071fdf646775f49/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/540220b91bb02d50d04422dc782a5fe1905dd27a/lib/compress.js,"@@ -2957,7 +2957,7 @@ merge(Compressor.prototype, {
                     && !(def.scope.uses_arguments
                         && def.orig[0] instanceof AST_SymbolFunarg)
                     && !def.scope.uses_eval
-                    && compressor.find_parent(AST_Scope) === def.scope) {
+                    && compressor.find_parent(AST_Scope) === exp.parent_scope) {
                     self.expression = exp;
                 }
             }
",2960,&& compressor.find_parent(AST_Scope) === def.scope) {,&& compressor.find_parent(AST_Scope) === exp.parent_scope) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3493a182b2c94e4011b2b12d61376273b985d29a,3493a182b2c94e4011b2b12d61376273b985d29a,"implement function inlining (#2053)

- empty body
- single `AST_Return`
- single `AST_SimpleStatement`
- avoid `/*#__PURE__*/`

Miscellaneous
- enhance single-use function substitution

fixes #281",2017-06-06 05:49:53+08:00,collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/27c5284d3dc0ab131168a73035be7d87ebda30e9/test/compress/collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/3493a182b2c94e4011b2b12d61376273b985d29a/test/compress/collapse_vars.js,"@@ -1146,7 +1146,7 @@ collapse_vars_constants: {
         function f3(x) {
             var b = x.prop;
             sideeffect1();
-            return b + -9;
+            return b + (function() { return -9; })();
         }
     }
 }
",1149,return b + -9;,return b + (function() { return -9; })();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f2af0934021a83b781f207432d10380cc4c5f396,f2af0934021a83b781f207432d10380cc4c5f396,"fix CLI output corruption (#2061)

Using `console.error()` & `console.log()` result in inconsistent formatting across Node.js versions.

Avoid this issue by directly writing to `process.stderr` & `process.stdout` instead.

Miscellaneous
- prettify invalid option listing",2017-06-07 04:25:32+08:00,cli.js,https://github.com/mishoo/UglifyJS2/raw/b9ad53d1ab166115dde78493f937782417e78e00/test/mocha/cli.js,https://github.com/mishoo/UglifyJS2/raw/f2af0934021a83b781f207432d10380cc4c5f396/test/mocha/cli.js,"@@ -542,7 +542,7 @@ describe(""bin/uglifyjs"", function () {
         exec(command, function (err, stdout, stderr) {
             assert.ok(err);
             assert.strictEqual(stdout, """");
-            assert.ok(/^Supported options:\n\{[^}]+}\nERROR: `ascii-only` is not a supported option/.test(stderr), stderr);
+            assert.ok(/^Supported options:\n[\s\S]*?\nERROR: `ascii-only` is not a supported option/.test(stderr), stderr);
             done();
         });
     });
",545,"assert.ok(/^Supported options:\n\{[^}]+}\nERROR: `ascii-only` is not a supported option/.test(stderr), stderr);","assert.ok(/^Supported options:\n[\s\S]*?\nERROR: `ascii-only` is not a supported option/.test(stderr), stderr);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9c306406f14087ad0a62141bf7bb9e12afcc1a75,9c306406f14087ad0a62141bf7bb9e12afcc1a75,"fix iteration over object with inherited properties (#2068)

fixes #2055",2017-06-08 03:27:03+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/9db0695b10799349c005fc14ab1268c2478c25fd/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/9c306406f14087ad0a62141bf7bb9e12afcc1a75/lib/compress.js,"@@ -1419,7 +1419,7 @@ merge(Compressor.prototype, {
             });
             if (value && typeof value == ""object"") {
                 var props = [];
-                for (var key in value) {
+                for (var key in value) if (HOP(value, key)) {
                     props.push(make_node(AST_ObjectKeyVal, orig, {
                         key: key,
                         value: to_node(value[key], orig)
",1422,for (var key in value) {,"for (var key in value) if (HOP(value, key)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b35dfc2599ad84b21d278ca2c330e46b5e58c956,b35dfc2599ad84b21d278ca2c330e46b5e58c956,"reject malformed CLI parameters (#2239)

fixes #2237",2017-07-15 23:50:27+08:00,propmangle.js,https://github.com/mishoo/UglifyJS2/raw/9e1da9235ea498760f45709848b76469f5b2a585/lib/propmangle.js,https://github.com/mishoo/UglifyJS2/raw/b35dfc2599ad84b21d278ca2c330e46b5e58c956/lib/propmangle.js,"@@ -76,7 +76,7 @@ function mangle_properties(ast, options) {
         only_cache: false,
         regex: null,
         reserved: null,
-    });
+    }, true);
 
     var reserved = options.reserved;
     if (!Array.isArray(reserved)) reserved = [];
",79,});,"}, true);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/395a17ccda95362b1a7a5bd9ac0e6cda7f0946a8,395a17ccda95362b1a7a5bd9ac0e6cda7f0946a8,"fix `collapse_vars` on default function argument (#2299)

Avoid collision with local variable `undefined` under certain corner cases.

fixes #2298",2017-09-04 02:32:33+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3f355866cf903c40c2bab2cd841ab2b56a2bacf1/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/395a17ccda95362b1a7a5bd9ac0e6cda7f0946a8/lib/compress.js,"@@ -847,7 +847,7 @@ merge(Compressor.prototype, {
                         if (sym.name in names) continue;
                         names[sym.name] = true;
                         var arg = iife.args[i];
-                        if (!arg) arg = make_node(AST_Undefined, sym);
+                        if (!arg) arg = make_node(AST_Undefined, sym).transform(compressor);
                         else {
                             var tw = new TreeWalker(function(node) {
                                 if (!arg) return true;
",850,"if (!arg) arg = make_node(AST_Undefined, sym);","if (!arg) arg = make_node(AST_Undefined, sym).transform(compressor);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/182a47bfb1d49a99a561253edc05e70a6dc5b8e8,182a47bfb1d49a99a561253edc05e70a6dc5b8e8,"improve source mapping (#2312)

fixes #2310",2017-09-15 12:46:48+08:00,output.js,https://github.com/mishoo/UglifyJS2/raw/cd27f4ec38f2899707859459970406ae67c3adb6/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/182a47bfb1d49a99a561253edc05e70a6dc5b8e8/lib/output.js,"@@ -1109,7 +1109,7 @@ function OutputStream(options) {
         self.expression.print(output);
         if (self instanceof AST_New && !need_constructor_parens(self, output))
             return;
-        if (self.expression instanceof AST_Lambda) {
+        if (self.expression instanceof AST_Call || self.expression instanceof AST_Lambda) {
             output.add_mapping(self.start);
         }
         output.with_parens(function(){
",1112,if (self.expression instanceof AST_Lambda) {,if (self.expression instanceof AST_Call || self.expression instanceof AST_Lambda) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/74a2f53683e2b8788eadc10762583491e3dbc7ea,74a2f53683e2b8788eadc10762583491e3dbc7ea,fix escape analysis for `AST_Throw` (#2564),2017-12-08 02:54:37+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/e20935c3f2a03779b15ad225ae4616a1d80c2ec5/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/74a2f53683e2b8788eadc10762583491e3dbc7ea/lib/compress.js,"@@ -652,7 +652,7 @@ merge(Compressor.prototype, {
             }
             if (parent instanceof AST_Assign && parent.operator == ""="" && node === parent.right
                 || parent instanceof AST_Call && node !== parent.expression
-                || parent instanceof AST_Return && node === parent.value && node.scope !== d.scope
+                || parent instanceof AST_Exit && node === parent.value && node.scope !== d.scope
                 || parent instanceof AST_VarDef && node === parent.value) {
                 d.escaped = true;
                 return;
",655,|| parent instanceof AST_Return && node === parent.value && node.scope !== d.scope,|| parent instanceof AST_Exit && node === parent.value && node.scope !== d.scope
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/edb4e3bd52e1623425927a7d63963ba3b87a3ec2,edb4e3bd52e1623425927a7d63963ba3b87a3ec2,"make comments output more robust (#2633)

- improve handling of comments right after `return`
- retain comments after `OutputStream`
- preserve trailing comments
- fix handling of new line before comments
- handle comments around parentheses

fixes #88
fixes #112
fixes #218
fixes #372
fixes #2629",2017-12-22 04:59:54+08:00,utils.js,https://github.com/mishoo/UglifyJS2/raw/4113609dd4d782f0ceb9ec1c3e9c829e05a93aed/lib/utils.js,https://github.com/mishoo/UglifyJS2/raw/edb4e3bd52e1623425927a7d63963ba3b87a3ec2/lib/utils.js,"@@ -324,7 +324,7 @@ function first_in_statement(stack) {
         if (p instanceof AST_Statement && p.body === node)
             return true;
         if ((p instanceof AST_Sequence      && p.expressions[0] === node) ||
-            (p instanceof AST_Call          && p.expression === node && !(p instanceof AST_New) ) ||
+            (p.TYPE == ""Call""               && p.expression === node ) ||
             (p instanceof AST_Dot           && p.expression === node ) ||
             (p instanceof AST_Sub           && p.expression === node ) ||
             (p instanceof AST_Conditional   && p.condition === node  ) ||
",327,(p instanceof AST_Call          && p.expression === node && !(p instanceof AST_New) ) ||,"(p.TYPE == ""Call""               && p.expression === node ) ||"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7f342cb3e3abd3e39b18e62a2e9d6b8020d82773,7f342cb3e3abd3e39b18e62a2e9d6b8020d82773,"suppress `inline` within substituted `AST_Scope` (#2658)

fixes #2657",2017-12-26 18:56:59+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/05e7d34ed480429cc26c8eedd675263cd0d94a3e/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/7f342cb3e3abd3e39b18e62a2e9d6b8020d82773/lib/compress.js,"@@ -3982,7 +3982,7 @@ merge(Compressor.prototype, {
             do {
                 scope = compressor.parent(++level);
                 if (scope instanceof AST_SymbolRef) {
-                    scope = scope.fixed_value();
+                    if (scope.fixed_value() instanceof AST_Scope) return false;
                 } else if (scope instanceof AST_Catch) {
                     catches[scope.argname.name] = true;
                 }
",3985,scope = scope.fixed_value();,if (scope.fixed_value() instanceof AST_Scope) return false;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/da82fa59a723b22ad5d8dec42cd2ca0d070f2359,da82fa59a723b22ad5d8dec42cd2ca0d070f2359,fix `inline` on duplicate argument names (#2698),2017-12-31 20:59:58+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/333792352e2d0108622c318e9e3a4ee96ceb3346/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/da82fa59a723b22ad5d8dec42cd2ca0d070f2359/lib/compress.js,"@@ -4012,7 +4012,7 @@ merge(Compressor.prototype, {
             for (var len = fn.argnames.length, i = len; --i >= 0;) {
                 var name = fn.argnames[i];
                 var value = self.args[i];
-                if (name.__unused) {
+                if (name.__unused || scope.var_names()[name.name]) {
                     if (value) {
                         expressions.unshift(value);
                     }
",4015,if (name.__unused) {,if (name.__unused || scope.var_names()[name.name]) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/14778e049b12e131fc05ddacff9cda56dfede77d,14778e049b12e131fc05ddacff9cda56dfede77d,fix `reduce_vars` on `AST_Defun` (#2708),2018-01-03 17:18:38+08:00,typeof.js,https://github.com/mishoo/UglifyJS2/raw/446fb0198bd737c8d34035cc40932ed24ca83bbb/test/compress/typeof.js,https://github.com/mishoo/UglifyJS2/raw/14778e049b12e131fc05ddacff9cda56dfede77d/test/compress/typeof.js,"@@ -100,7 +100,7 @@ typeof_defun_1: {
         g = 42;
         console.log(""YES"");
         ""function"" == typeof g && g();
-        h();
+        ""function"" == typeof h && h();
     }
     expect_stdout: [
         ""YES"",
",103,h();,"""function"" == typeof h && h();"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9f23185f2bb0d23d5dd2e2334c589e97132a37a8,9f23185f2bb0d23d5dd2e2334c589e97132a37a8,"fix corner case with `arguments` as function name (#2729)

fixes #2728",2018-01-05 22:21:18+08:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/b82feb9302adddb1763e9915b0daf9ff35ab2af2/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/9f23185f2bb0d23d5dd2e2334c589e97132a37a8/lib/scope.js,"@@ -151,7 +151,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(options){
             node.references = [];
         }
         if (node instanceof AST_SymbolLambda) {
-            defun.def_function(node, defun);
+            defun.def_function(node, node.name == ""arguments"" ? undefined : defun);
         }
         else if (node instanceof AST_SymbolDefun) {
             // Careful here, the scope where this should be defined is
",154,"defun.def_function(node, defun);","defun.def_function(node, node.name == ""arguments"" ? undefined : defun);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/983e69128b0e6da78d71ad9b77d798f31a10ca44,983e69128b0e6da78d71ad9b77d798f31a10ca44,"fix `join_vars` property assignment for negative array index (#2810)

fixes #2790",2018-01-18 21:52:54+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b335912e8690469044b89ccf93ac9dec11b273f7/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/983e69128b0e6da78d71ad9b77d798f31a10ca44/lib/compress.js,"@@ -1746,7 +1746,7 @@ merge(Compressor.prototype, {
                 }
                 if (prop instanceof AST_Node) break;
                 def.value.properties.push(make_node(AST_ObjectKeyVal, node, {
-                    key: prop,
+                    key: """" + prop,
                     value: node.right
                 }));
                 exprs.shift();
",1749,"key: prop,","key: """" + prop,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ac9a168fba726d9ab437478c81626f098997d116,ac9a168fba726d9ab437478c81626f098997d116,"fix & improve `test/ufuzz.js` (#2815)

- use correct `options` when testing `rename`
- mask arbitrarily assigned function IDs to reduce rate of false positives",2018-01-19 16:51:59+08:00,ufuzz.js,https://github.com/mishoo/UglifyJS2/raw/81b64549ce1933974c904077eb3272ee0d4f4cf3/test/ufuzz.js,https://github.com/mishoo/UglifyJS2/raw/ac9a168fba726d9ab437478c81626f098997d116/test/ufuzz.js,"@@ -1025,7 +1025,7 @@ function log_suspects(minify_options, component) {
 
 function log_rename(options) {
     if (!options.rename) return;
-    var m = JSON.parse(JSON.stringify(minify_options));
+    var m = JSON.parse(JSON.stringify(options));
     m.rename = false;
     var result = UglifyJS.minify(original_code, m);
     if (result.error) {
",1028,var m = JSON.parse(JSON.stringify(minify_options));,var m = JSON.parse(JSON.stringify(options));
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5e2cd07d6f6866b1ddae51a4c9b280d2cd527973,5e2cd07d6f6866b1ddae51a4c9b280d2cd527973,"handle duplicate function declarations correctly (#2837)

fixes #2836",2018-01-23 01:28:09+08:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/06166df999f71a033d52e1a6213c36dd5bace2e8/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/5e2cd07d6f6866b1ddae51a4c9b280d2cd527973/lib/scope.js,"@@ -305,7 +305,7 @@ AST_Scope.DEFMETHOD(""find_variable"", function(name){
 
 AST_Scope.DEFMETHOD(""def_function"", function(symbol, init){
     var def = this.def_variable(symbol, init);
-    if (!def.init) def.init = init;
+    if (!def.init || def.init instanceof AST_Defun) def.init = init;
     this.functions.set(symbol.name, def);
     return def;
 });
",308,if (!def.init) def.init = init;,if (!def.init || def.init instanceof AST_Defun) def.init = init;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4b5993ff15bc99bcb897611974529cbc92543211,4b5993ff15bc99bcb897611974529cbc92543211,"fix crash in `may_throw()` (#2932)

fixes #2931",2018-02-18 21:51:27+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/2351a672ea4fae04353f0221cec7ffb6c2c3bdc0/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/4b5993ff15bc99bcb897611974529cbc92543211/lib/compress.js,"@@ -2864,7 +2864,7 @@ merge(Compressor.prototype, {
             return this.value.may_throw(compressor);
         });
         def(AST_Return, function(compressor){
-            return this.value.may_throw(compressor);
+            return this.value && this.value.may_throw(compressor);
         });
         def(AST_Sequence, function(compressor){
             return any(this.expressions, compressor);
",2867,return this.value.may_throw(compressor);,return this.value && this.value.may_throw(compressor);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/0daa199fa85e60b78b04b82a91acdb230cb42229,0daa199fa85e60b78b04b82a91acdb230cb42229,"migrate safe transformations out of `unsafe_comps` (#2962)

fixes #2959",2018-02-28 22:02:24+08:00,if_return.js,https://github.com/mishoo/UglifyJS2/raw/73e98dcda48be52f2c045038554b2cfe184a9a5a/test/compress/if_return.js,https://github.com/mishoo/UglifyJS2/raw/0daa199fa85e60b78b04b82a91acdb230cb42229/test/compress/if_return.js,"@@ -243,7 +243,7 @@ issue_1089: {
     expect: {
         function x() {
             var f = document.getElementById(""fname"");
-            if (f.files[0].size > 12345)
+            if (12345 < f.files[0].size)
                 return alert(""alert""), f.focus(), !1;
         }
     }
",246,if (f.files[0].size > 12345),if (12345 < f.files[0].size)
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/fc6ebd04a59024dfd3b40b43825a007c62bac2b3,fc6ebd04a59024dfd3b40b43825a007c62bac2b3,"preserve case when `inline_script` (#2991)

fixes #2989",2018-03-11 05:11:12+08:00,output.js,https://github.com/mishoo/UglifyJS2/raw/7e00a1274139e65ad82d8938b816602aedb5d318/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/fc6ebd04a59024dfd3b40b43825a007c62bac2b3/lib/output.js,"@@ -178,7 +178,7 @@ function OutputStream(options) {
     function encode_string(str, quote) {
         var ret = make_string(str, quote);
         if (options.inline_script) {
-            ret = ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi, ""<\\/script$1"");
+            ret = ret.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi, ""<\\/$1$2"");
             ret = ret.replace(/\x3c!--/g, ""\\x3c!--"");
             ret = ret.replace(/--\x3e/g, ""--\\x3e"");
         }
",181,"ret = ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi, ""<\\/script$1"");","ret = ret.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi, ""<\\/$1$2"");"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/07f64d4050cd28cf2a837d30ce2938fa9628ff57,07f64d4050cd28cf2a837d30ce2938fa9628ff57,"fix escape analysis on `AST_New` (#3043)

fixes #3042",2018-03-31 15:03:46+09:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/6982a0554c875c55de7dfddd71f29d3b765d3979/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/07f64d4050cd28cf2a837d30ce2938fa9628ff57/lib/compress.js,"@@ -428,7 +428,7 @@ merge(Compressor.prototype, {
             var parent = tw.parent(level);
             if (value && value.is_constant()) return;
             if (parent instanceof AST_Assign && parent.operator == ""="" && node === parent.right
-                || parent instanceof AST_Call && node !== parent.expression
+                || parent instanceof AST_Call && (node !== parent.expression || parent instanceof AST_New)
                 || parent instanceof AST_Exit && node === parent.value && node.scope !== d.scope
                 || parent instanceof AST_VarDef && node === parent.value) {
                 if (depth > 1 && !(value && value.is_constant_expression(scope))) depth = 1;
",431,|| parent instanceof AST_Call && node !== parent.expression,|| parent instanceof AST_Call && (node !== parent.expression || parent instanceof AST_New)
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d83c6490abeb6821c939b06ce4b56781cd0f1145,d83c6490abeb6821c939b06ce4b56781cd0f1145,fix corner case in `strip_func_ids()` (#3090),2018-04-19 04:51:42+08:00,sandbox.js,https://github.com/mishoo/UglifyJS2/raw/7362f579666194aed000005c956f2e0e83c9a87d/test/sandbox.js,https://github.com/mishoo/UglifyJS2/raw/d83c6490abeb6821c939b06ce4b56781cd0f1145/test/sandbox.js,"@@ -40,7 +40,7 @@ function safe_log(arg, level) {
 }
 
 function strip_func_ids(text) {
-    return text.toString().replace(/F[0-9]{6}N/g, ""<F<>N>"");
+    return ("""" + text).replace(/F[0-9]{6}N/g, ""<F<>N>"");
 }
 
 var context;
",43,"return text.toString().replace(/F[0-9]{6}N/g, ""<F<>N>"");","return ("""" + text).replace(/F[0-9]{6}N/g, ""<F<>N>"");"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc,5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc,fix corner case in `unused`,2018-07-01 14:34:42+08:00,ast.js,https://github.com/mishoo/UglifyJS2/raw/6aa750010f23acdc24078a5d7e66cef009cbf570/lib/ast.js,https://github.com/mishoo/UglifyJS2/raw/5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc/lib/ast.js,"@@ -328,7 +328,7 @@ var AST_Toplevel = DEFNODE(""Toplevel"", ""globals"", {
         var body = this.body;
         var wrapped_tl = ""(function(exports){'$ORIG';})(typeof "" + name + ""=='undefined'?("" + name + ""={}):"" + name + "");"";
         wrapped_tl = parse(wrapped_tl);
-        wrapped_tl = wrapped_tl.transform(new TreeTransformer(function before(node) {
+        wrapped_tl = wrapped_tl.transform(new TreeTransformer(function(node) {
             if (node instanceof AST_Directive && node.value == ""$ORIG"") {
                 return MAP.splice(body);
             }
",331,wrapped_tl = wrapped_tl.transform(new TreeTransformer(function before(node) {,wrapped_tl = wrapped_tl.transform(new TreeTransformer(function(node) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc,5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc,fix corner case in `unused`,2018-07-01 14:34:42+08:00,issue-973.js,https://github.com/mishoo/UglifyJS2/raw/6aa750010f23acdc24078a5d7e66cef009cbf570/test/compress/issue-973.js,https://github.com/mishoo/UglifyJS2/raw/5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc/test/compress/issue-973.js,"@@ -72,7 +72,7 @@ this_binding_collapse_vars: {
 
 this_binding_side_effects: {
     options = {
-        side_effects : true
+        side_effects: true,
     }
     input: {
         (function(foo) {
",75,side_effects : true,"side_effects: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc,5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc,fix corner case in `unused`,2018-07-01 14:34:42+08:00,unicode.js,https://github.com/mishoo/UglifyJS2/raw/6aa750010f23acdc24078a5d7e66cef009cbf570/test/compress/unicode.js,https://github.com/mishoo/UglifyJS2/raw/5ffc17d4aa36c40a4d5ebe558edbc734b45ca1dc/test/compress/unicode.js,"@@ -1,5 +1,5 @@
 unicode_parse_variables: {
-    options = {};
+    options = {}
     input: {
         var a = {};
         a.你好 = 456;
",2,options = {};,options = {}
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7cf72b8d66ea3a504648f42a2142728d520f3141,7cf72b8d66ea3a504648f42a2142728d520f3141,"fix corner case in `global_defs` (#3218)

fixes #3217",2018-07-19 18:14:36+08:00,output.js,https://github.com/mishoo/UglifyJS2/raw/cea685f8d98ad198f3a99d8a217183d15650959d/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/7cf72b8d66ea3a504648f42a2142728d520f3141/lib/output.js,"@@ -1161,7 +1161,7 @@ function OutputStream(options) {
             def.print(output);
         });
         var p = output.parent();
-        if (p.init !== self || !(p instanceof AST_For || p instanceof AST_ForIn)) output.semicolon();
+        if (p && p.init !== self || !(p instanceof AST_For || p instanceof AST_ForIn)) output.semicolon();
     });
 
     function parenthesize_for_noin(node, output, noin) {
",1164,if (p.init !== self || !(p instanceof AST_For || p instanceof AST_ForIn)) output.semicolon();,if (p && p.init !== self || !(p instanceof AST_For || p instanceof AST_ForIn)) output.semicolon();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d074aa6e27de77bc60e69b933f90725931c8d5df,d074aa6e27de77bc60e69b933f90725931c8d5df,"fix corner case in `collapse_vars` (#3333)

fixes #3247
fixes #3305
fixes #3314
fixes #3327",2019-03-13 23:48:52+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b052f62710df6b09caca2b82ff2303ad0079be58/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/d074aa6e27de77bc60e69b933f90725931c8d5df/lib/compress.js,"@@ -1631,7 +1631,7 @@ merge(Compressor.prototype, {
             function symbol_in_lvalues(sym, parent) {
                 var lvalue = lvalues[sym.name];
                 if (!lvalue) return;
-                if (lvalue !== lhs) return !(parent instanceof AST_Call);
+                if (lvalue !== lhs) return !(parent instanceof AST_Call && parent.expression === sym);
                 scan_rhs = false;
             }
 
",1634,if (lvalue !== lhs) return !(parent instanceof AST_Call);,if (lvalue !== lhs) return !(parent instanceof AST_Call && parent.expression === sym);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d90777b724689af625c36ed6d557b024775ee95a,d90777b724689af625c36ed6d557b024775ee95a,"parse `mangle.properties.regex` in `--config-file` properly (#3337)

fixes #3315",2019-03-15 00:20:20+08:00,directives.js,https://github.com/mishoo/UglifyJS2/raw/e49297e5eb7039246cc3a78019234826631eb623/test/mocha/directives.js,https://github.com/mishoo/UglifyJS2/raw/d90777b724689af625c36ed6d557b024775ee95a/test/mocha/directives.js,"@@ -146,7 +146,7 @@ describe(""Directives"", function() {
                 UglifyJS.parse(tokenizer);
             }, function(e) {
                 return e instanceof UglifyJS.JS_Parse_Error
-                    && e.message === ""Unexpected token: punc (])""
+                    && /^Unexpected token: punc «]»/.test(e.message)
             }, test[0]);
             test[1].forEach(function(directive) {
                 assert.strictEqual(tokenizer.has_directive(directive), true, directive + "" in "" + test[0]);
",149,"&& e.message === ""Unexpected token: punc (])""",&& /^Unexpected token: punc «]»/.test(e.message)
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b3ef5e514dd0cefeba926401d2538907a8712b99,b3ef5e514dd0cefeba926401d2538907a8712b99,"enhance `evaluate` (#3339)

fixes #3299",2019-03-15 02:48:23+08:00,collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/627f5fb41eac761fec7481b7429f5edb878f9c04/test/compress/collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/b3ef5e514dd0cefeba926401d2538907a8712b99/test/compress/collapse_vars.js,"@@ -947,7 +947,7 @@ collapse_vars_misc1: {
         function f8() { var b = window.a * window.z; return b + (b + 5) }
         function f9() { var b = window.a * window.z; return bar() || b }
         function f10(x) { var a = 5; return a += 3; }
-        function f11(x) { var a = 5, b = 3; return a += --b; }
+        function f11(x) { var a = 5; return a += 2; }
     }
 }
 
",950,"function f11(x) { var a = 5, b = 3; return a += --b; }",function f11(x) { var a = 5; return a += 2; }
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8b3259e0c29b33978c2e025be31e826045d6f6b8,8b3259e0c29b33978c2e025be31e826045d6f6b8,fix corner case in `reduce_vars` (#3341),2019-03-15 16:06:47+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b66f47b8dda57af432c60d2515b4e0814620b9d4/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/8b3259e0c29b33978c2e025be31e826045d6f6b8/lib/compress.js,"@@ -5833,7 +5833,7 @@ merge(Compressor.prototype, {
                             var fn = node.fixed_value();
                             if (!(fn instanceof AST_Lambda)) return;
                             if (!fn.name) return;
-                            if (!fixed.variables.get(fn.name.name)) return;
+                            if (fixed.variables.get(fn.name.name) !== fn.name.definition()) return;
                             fn.name = fn.name.clone();
                             var value_def = value.variables.get(fn.name.name) || value.def_function(fn.name);
                             node.thedef = value_def;
",5836,if (!fixed.variables.get(fn.name.name)) return;,if (fixed.variables.get(fn.name.name) !== fn.name.definition()) return;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e8a2c0b5bf18659a3e1285b6038ea755a290220d,e8a2c0b5bf18659a3e1285b6038ea755a290220d,"fix corner case in `functions` (#3365)

fixes #3364",2019-04-18 17:03:52+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/21cd7e3f571030c889619b39287ac8420044bcc4/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/e8a2c0b5bf18659a3e1285b6038ea755a290220d/lib/compress.js,"@@ -3602,7 +3602,7 @@ merge(Compressor.prototype, {
                             compressor.warn(""Declaring {name} as function [{file}:{line},{col}]"", template(def.name));
                             var defun = make_node(AST_Defun, def, def.value);
                             defun.name = make_node(AST_SymbolDefun, def.name, def.name);
-                            self.def_function(defun.name);
+                            defun.parent_scope.resolve().def_function(defun.name);
                             body.push(defun);
                         } else {
                             if (side_effects.length > 0) {
",3605,self.def_function(defun.name);,defun.parent_scope.resolve().def_function(defun.name);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b55a2fd53113d70900c7cd96ad8cfdcc235629c2,b55a2fd53113d70900c7cd96ad8cfdcc235629c2,"fix corner case in `functions` (#3367)

fixes #3366",2019-04-19 02:55:43+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/e8a2c0b5bf18659a3e1285b6038ea755a290220d/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/b55a2fd53113d70900c7cd96ad8cfdcc235629c2/lib/compress.js,"@@ -3602,7 +3602,7 @@ merge(Compressor.prototype, {
                             compressor.warn(""Declaring {name} as function [{file}:{line},{col}]"", template(def.name));
                             var defun = make_node(AST_Defun, def, def.value);
                             defun.name = make_node(AST_SymbolDefun, def.name, def.name);
-                            defun.parent_scope.resolve().def_function(defun.name);
+                            def.name.scope.resolve().def_function(defun.name);
                             body.push(defun);
                         } else {
                             if (side_effects.length > 0) {
",3605,defun.parent_scope.resolve().def_function(defun.name);,def.name.scope.resolve().def_function(defun.name);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a84beafd1bbdb61ea5fc3662e349f6c960f1ba66,a84beafd1bbdb61ea5fc3662e349f6c960f1ba66,"fix corner case in `assignments` (#3376)

fixes #3375",2019-04-24 02:50:15+08:00,ast.js,https://github.com/mishoo/UglifyJS2/raw/f01cc1e413990a2da37716fbe8627d651f489fff/lib/ast.js,https://github.com/mishoo/UglifyJS2/raw/a84beafd1bbdb61ea5fc3662e349f6c960f1ba66/lib/ast.js,"@@ -773,7 +773,7 @@ var AST_Label = DEFNODE(""Label"", ""references"", {
     }
 }, AST_Symbol);
 
-var AST_SymbolRef = DEFNODE(""SymbolRef"", null, {
+var AST_SymbolRef = DEFNODE(""SymbolRef"", ""fixed"", {
     $documentation: ""Reference to some symbol (not definition/declaration)"",
 }, AST_Symbol);
 
",776,"var AST_SymbolRef = DEFNODE(""SymbolRef"", null, {","var AST_SymbolRef = DEFNODE(""SymbolRef"", ""fixed"", {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b9053c7a25ff1ad86345e0196437671609756afa,b9053c7a25ff1ad86345e0196437671609756afa,"fix corner case in `keep_fargs` (#3424)

fixes #3423",2019-05-21 12:55:34+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/d357a7aabc7512e53ff135c917b05997e5158a2d/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/b9053c7a25ff1ad86345e0196437671609756afa/lib/compress.js,"@@ -108,7 +108,7 @@ function Compressor(options, false_by_default) {
     this.drop_fargs = keep_fargs == ""strict"" ? function(lambda, parent) {
         if (lambda.length_read) return false;
         var name = lambda.name;
-        if (!name) return parent && parent.TYPE == ""Call"";
+        if (!name) return parent && parent.TYPE == ""Call"" && parent.expression === lambda;
         if (name.fixed_value() !== lambda) return false;
         var def = name.definition();
         if (def.direct_access) return false;
",111,"if (!name) return parent && parent.TYPE == ""Call"";","if (!name) return parent && parent.TYPE == ""Call"" && parent.expression === lambda;"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9d3b1efd86d659c6519cc74b7f8b232e07e0675e,9d3b1efd86d659c6519cc74b7f8b232e07e0675e,"fix corner case in `assignments` (#3430)

fixes #3429",2019-05-30 05:01:53+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/482e1baea3672fc1bc39594a5615487d05a15f5f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/9d3b1efd86d659c6519cc74b7f8b232e07e0675e/lib/compress.js,"@@ -3856,7 +3856,7 @@ merge(Compressor.prototype, {
             if (!(rhs instanceof AST_Binary && lazy_op[rhs.operator])) return rhs;
             var sym = assign.left;
             if (!(sym instanceof AST_SymbolRef) || sym.name != rhs.left.name) return rhs;
-            return rhs.right;
+            return rhs.right.has_side_effects(compressor) ? rhs : rhs.right;
         }
 
         function scan_ref_scoped(node, descend) {
",3859,return rhs.right;,return rhs.right.has_side_effects(compressor) ? rhs : rhs.right;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d3d1d11926de43fc1ec74ae3a4d24a884d80d91f,d3d1d11926de43fc1ec74ae3a4d24a884d80d91f,"fix corner case in `ie8` & `rename` (#3474)

fixes #3473",2019-10-15 07:27:02+08:00,collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/736019b767548268044e665bd6cde4b5e34c0bd3/test/compress/collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/d3d1d11926de43fc1ec74ae3a4d24a884d80d91f/test/compress/collapse_vars.js,"@@ -4388,7 +4388,7 @@ replace_all_var: {
 }
 
 replace_all_var_scope: {
-    rename = true;
+    rename = true
     options = {
         collapse_vars: true,
         unused: true,
",4391,rename = true;,rename = true
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d3d1d11926de43fc1ec74ae3a4d24a884d80d91f,d3d1d11926de43fc1ec74ae3a4d24a884d80d91f,"fix corner case in `ie8` & `rename` (#3474)

fixes #3473",2019-10-15 07:27:02+08:00,functions.js,https://github.com/mishoo/UglifyJS2/raw/736019b767548268044e665bd6cde4b5e34c0bd3/test/compress/functions.js,https://github.com/mishoo/UglifyJS2/raw/d3d1d11926de43fc1ec74ae3a4d24a884d80d91f/test/compress/functions.js,"@@ -1150,7 +1150,7 @@ issue_2620_3: {
 }
 
 issue_2620_4: {
-    rename = true,
+    rename = true
     options = {
         dead_code: true,
         evaluate: true,
",1153,"rename = true,",rename = true
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f86f615d836049fbae03271b59a67b8a9ca90ef7,f86f615d836049fbae03271b59a67b8a9ca90ef7,"fix corner case in `ie8` & `mangle` (#3476)

fixes #3475",2019-10-15 14:18:12+08:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/d3d1d11926de43fc1ec74ae3a4d24a884d80d91f/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/f86f615d836049fbae03271b59a67b8a9ca90ef7/lib/scope.js,"@@ -201,7 +201,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(options) {
         }
         if (node instanceof AST_SymbolLambda) {
             var def = node.thedef;
-            redefine(node, node.scope.parent_scope);
+            redefine(node, node.scope.parent_scope.resolve());
             node.thedef.init = def.init;
             return true;
         }
",204,"redefine(node, node.scope.parent_scope);","redefine(node, node.scope.parent_scope.resolve());"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8af2f5fbcf91279db86f71e9a889d69b262370c5,8af2f5fbcf91279db86f71e9a889d69b262370c5,"fix corner case in `rename` (#3481)

fixes #3480",2019-10-15 19:44:07+08:00,mozilla-ast.js,https://github.com/mishoo/UglifyJS2/raw/86a801632337aa45179f1d4ba4e46c8ede603c46/lib/mozilla-ast.js,https://github.com/mishoo/UglifyJS2/raw/8af2f5fbcf91279db86f71e9a889d69b262370c5/lib/mozilla-ast.js,"@@ -403,7 +403,7 @@
         var def = M.definition();
         return {
             type: ""Identifier"",
-            name: def ? def.mangled_name || def.name : M.name
+            name: def && def.mangled_name || M.name
         };
     });
 
",406,name: def ? def.mangled_name || def.name : M.name,name: def && def.mangled_name || M.name
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8af2f5fbcf91279db86f71e9a889d69b262370c5,8af2f5fbcf91279db86f71e9a889d69b262370c5,"fix corner case in `rename` (#3481)

fixes #3480",2019-10-15 19:44:07+08:00,output.js,https://github.com/mishoo/UglifyJS2/raw/86a801632337aa45179f1d4ba4e46c8ede603c46/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/8af2f5fbcf91279db86f71e9a889d69b262370c5/lib/output.js,"@@ -1355,7 +1355,7 @@ function OutputStream(options) {
     });
     DEFPRINT(AST_Symbol, function(self, output) {
         var def = self.definition();
-        output.print_name(def ? def.mangled_name || def.name : self.name);
+        output.print_name(def && def.mangled_name || self.name);
     });
     DEFPRINT(AST_Hole, noop);
     DEFPRINT(AST_This, function(self, output) {
",1358,output.print_name(def ? def.mangled_name || def.name : self.name);,output.print_name(def && def.mangled_name || self.name);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8ff9a3c8fb89ac40fea0dd1cd249e8b94a690c2e,8ff9a3c8fb89ac40fea0dd1cd249e8b94a690c2e,"fix corner cases in `ie8` (#3485)

fixes #3484",2019-10-16 06:37:40+08:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/91cae51d8f8a7f06e55dba7d100bbb663448875b/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/8ff9a3c8fb89ac40fea0dd1cd249e8b94a690c2e/lib/scope.js,"@@ -202,7 +202,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(options) {
         if (node instanceof AST_SymbolLambda) {
             var def = node.thedef;
             redefine(node, node.scope.parent_scope.resolve());
-            node.thedef.init = def.init;
+            if (def.init) node.thedef.init = def.init;
             return true;
         }
     }));
",205,node.thedef.init = def.init;,if (def.init) node.thedef.init = def.init;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/543dd7d3d750e83b00e50bbf74fa786a7c1d243e,543dd7d3d750e83b00e50bbf74fa786a7c1d243e,fix corner case in `comments` (#3500),2019-10-20 03:21:30+08:00,output.js,https://github.com/mishoo/UglifyJS2/raw/6b4886c908c6415a397539701117cd493545d21b/lib/output.js,https://github.com/mishoo/UglifyJS2/raw/543dd7d3d750e83b00e50bbf74fa786a7c1d243e/lib/output.js,"@@ -452,7 +452,7 @@ function OutputStream(options) {
         var self = this;
         var scan = node instanceof AST_Exit && node.value;
         var comments = dump(node);
-        if (!comments) return;
+        if (!comments) comments = [];
 
         if (scan) {
             var tw = new TreeWalker(function(node) {
",455,if (!comments) return;,if (!comments) comments = [];
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a53ab9937835f795c4714e981d10249e7829d2d4,a53ab9937835f795c4714e981d10249e7829d2d4,"fix corner case in `side_effects` (#3514)

fixes #3512",2019-10-23 01:04:00+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/02308a7b5651ce04703fafc43887636642c5e888/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/a53ab9937835f795c4714e981d10249e7829d2d4/lib/compress.js,"@@ -4196,7 +4196,7 @@ merge(Compressor.prototype, {
             var left = this.left;
             if (left instanceof AST_PropAccess) {
                 var expr = left.expression;
-                if (expr instanceof AST_Assign && !expr.may_throw_on_access(compressor)) {
+                if (expr instanceof AST_Assign && expr.operator == ""="" && !expr.may_throw_on_access(compressor)) {
                     expr.write_only = ""p"";
                 }
                 if (compressor.has_directive(""use strict"") && expr.is_constant()) return this;
",4199,if (expr instanceof AST_Assign && !expr.may_throw_on_access(compressor)) {,"if (expr instanceof AST_Assign && expr.operator == ""="" && !expr.may_throw_on_access(compressor)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/95618793a4b85775a8958e239cb4f192822dc1f1,95618793a4b85775a8958e239cb4f192822dc1f1,fix corner case in ufuzz (#3538),2019-10-28 16:04:07+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/2f3b46021239c88e4eb38a8d26ae105aaf78d2d1/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/95618793a4b85775a8958e239cb4f192822dc1f1/test/ufuzz/index.js,"@@ -1060,7 +1060,7 @@ function log(options) {
     errorln(""//============================================================="");
     if (!ok) errorln(""// !!!!!! Failed... round "" + round);
     errorln(""// original code"");
-    try_beautify(orig_code(options.compress.unsafe_math), options.toplevel, original_result, errorln);
+    try_beautify(orig_code(options.compress && options.compress.unsafe_math), options.toplevel, original_result, errorln);
     errorln();
     errorln();
     errorln(""//-------------------------------------------------------------"");
",1063,"try_beautify(orig_code(options.compress.unsafe_math), options.toplevel, original_result, errorln);","try_beautify(orig_code(options.compress && options.compress.unsafe_math), options.toplevel, original_result, errorln);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/83fb8b4ca1e877c9ca7b3b07712ddec1c6f3a43d,83fb8b4ca1e877c9ca7b3b07712ddec1c6f3a43d,"fix corner case in `ie8` (#3543)

fixes #3542",2019-10-28 23:54:27+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/f38e31bd1ee117fc8adb0d13982b5ec16e761f52/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/83fb8b4ca1e877c9ca7b3b07712ddec1c6f3a43d/lib/compress.js,"@@ -4238,7 +4238,7 @@ merge(Compressor.prototype, {
         def(AST_Binary, function(compressor, first_in_statement) {
             var right = this.right.drop_side_effect_free(compressor, first_in_statement);
             if (!right) return this.left.drop_side_effect_free(compressor, first_in_statement);
-            if (lazy_op[this.operator]) {
+            if (lazy_op[this.operator] && !(right instanceof AST_Function)) {
                 var node = this;
                 if (right !== node.right) {
                     node = this.clone();
",4241,if (lazy_op[this.operator]) {,if (lazy_op[this.operator] && !(right instanceof AST_Function)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/24bb2888328a4fb01b7cfb49695b0f84e7120aeb,24bb2888328a4fb01b7cfb49695b0f84e7120aeb,"fix corner case in `collapse_vars` (#3563)

fixes #3562",2019-11-01 22:38:19+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/6ad8e1081f4becc51d1a3a946b3851069918aca8/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/24bb2888328a4fb01b7cfb49695b0f84e7120aeb/lib/compress.js,"@@ -1671,7 +1671,7 @@ merge(Compressor.prototype, {
             function symbol_in_lvalues(sym, parent) {
                 var lvalue = lvalues[sym.name];
                 if (!lvalue) return;
-                if (lvalue !== lhs) return !(parent instanceof AST_Call && parent.expression === sym);
+                if (lvalue !== lhs) return true;
                 scan_rhs = false;
             }
 
",1674,if (lvalue !== lhs) return !(parent instanceof AST_Call && parent.expression === sym);,if (lvalue !== lhs) return true;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9a6faf365bdd481be733bafb8c580bc76f4b353e,9a6faf365bdd481be733bafb8c580bc76f4b353e,fix corner cases in `keep_fargs` & `unused` (#3618),2019-12-02 06:43:54+08:00,functions.js,https://github.com/mishoo/UglifyJS2/raw/e915832a36730c7eb29328c84ab9c5eecf1cb1f6/test/compress/functions.js,https://github.com/mishoo/UglifyJS2/raw/9a6faf365bdd481be733bafb8c580bc76f4b353e/test/compress/functions.js,"@@ -1279,7 +1279,7 @@ issue_2630_3: {
     expect: {
         var x = 2, a = 1;
         (function() {
-            (function f1() {
+            (function f1(a) {
                 f2();
                 --x >= 0 && f1({});
             })(a++);
",1282,(function f1() {,(function f1(a) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2f3930d1b92746be6a3b3e1d371b0ae25e56777e,2f3930d1b92746be6a3b3e1d371b0ae25e56777e,"fix corner case in `collapse_vars` (#3652)

fixes #3651",2019-12-29 00:57:59+00:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/d1a78920d9b85074fd4e9b0d07556a7a266631e8/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/2f3930d1b92746be6a3b3e1d371b0ae25e56777e/lib/compress.js,"@@ -3635,7 +3635,7 @@ merge(Compressor.prototype, {
             return !this.is_declared(compressor);
         });
         def(AST_Try, function(compressor) {
-            return this.bcatch ? this.bcatch.may_throw(compressor) : any(this.body, compressor)
+            return (this.bcatch ? this.bcatch.may_throw(compressor) : any(this.body, compressor))
                 || this.bfinally && this.bfinally.may_throw(compressor);
         });
         def(AST_Unary, function(compressor) {
",3638,"return this.bcatch ? this.bcatch.may_throw(compressor) : any(this.body, compressor)","return (this.bcatch ? this.bcatch.may_throw(compressor) : any(this.body, compressor))"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/746f5f6c62c113ce89981f70ec5de8c8b78016da,746f5f6c62c113ce89981f70ec5de8c8b78016da,"fix corner case in `unused` (#3665)

fixes #3664",2020-01-01 20:24:30+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/d83d3d741ac8ea41a3776c9ca8d60e752180d420/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/746f5f6c62c113ce89981f70ec5de8c8b78016da/lib/compress.js,"@@ -3913,7 +3913,7 @@ merge(Compressor.prototype, {
                     if (node instanceof AST_Assign) {
                         if (!in_use || node.left === sym && def.id in fixed_ids && fixed_ids[def.id] !== node) {
                             value = get_rhs(node);
-                            if (node.write_only) {
+                            if (node.write_only === true) {
                                 value = value.drop_side_effect_free(compressor) || make_node(AST_Number, node, {
                                     value: 0
                                 });
",3916,if (node.write_only) {,if (node.write_only === true) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4d6771b9b1d89f0b49625795a92267d6e59dd064,4d6771b9b1d89f0b49625795a92267d6e59dd064,"fix corner case in `collapse_vars` (#3672)

fixes #3671",2020-01-07 19:34:16+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/d17191111a24988195c364ccf7b71251440175ee/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/4d6771b9b1d89f0b49625795a92267d6e59dd064/lib/compress.js,"@@ -1367,7 +1367,7 @@ merge(Compressor.prototype, {
                 if (replace_all) return false;
                 return node instanceof AST_SymbolRef
                     && !node.is_declared(compressor)
-                    && !(parent instanceof AST_Assign && parent.left === node);
+                    && !(parent instanceof AST_Assign && parent.operator == ""="" && parent.left === node);
             }
 
             function in_conditional(node, parent) {
",1370,&& !(parent instanceof AST_Assign && parent.left === node);,"&& !(parent instanceof AST_Assign && parent.operator == ""="" && parent.left === node);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f5ceff6e4b94a032078b0730f91662ee62758eb4,f5ceff6e4b94a032078b0730f91662ee62758eb4,"fix corner case in `unused` (#3674)

fixes #3673",2020-01-07 20:06:25+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4d6771b9b1d89f0b49625795a92267d6e59dd064/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/f5ceff6e4b94a032078b0730f91662ee62758eb4/lib/compress.js,"@@ -4196,7 +4196,7 @@ merge(Compressor.prototype, {
                 if (node instanceof AST_Assign) {
                     if (node.write_only === ""p"" && node.right.may_throw_on_access(compressor)) return;
                     var right = get_rhs(node);
-                    if (init && node.write_only && node_def.scope === self && !right.has_side_effects(compressor)) {
+                    if (init && node.write_only === true && node_def.scope === self && !right.has_side_effects(compressor)) {
                         initializations.add(node_def.id, right);
                     } else {
                         right.walk(tw);
",4199,if (init && node.write_only && node_def.scope === self && !right.has_side_effects(compressor)) {,if (init && node.write_only === true && node_def.scope === self && !right.has_side_effects(compressor)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/87119e44a08118bf302a4da6ae71e74f8bea4f89,87119e44a08118bf302a4da6ae71e74f8bea4f89,"fix corner case in sign propagation (#3696)

- migrate de-facto functionality to `evaluate`

fixes #3695",2020-01-28 22:44:18+08:00,issue-1770.js,https://github.com/mishoo/UglifyJS2/raw/b499e03f82987d59814c81fb9f211fee5e3a7ba4/test/compress/issue-1770.js,https://github.com/mishoo/UglifyJS2/raw/87119e44a08118bf302a4da6ae71e74f8bea4f89/test/compress/issue-1770.js,"@@ -46,7 +46,7 @@ mangle_props: {
             obj[1/0],
             obj[""Infinity""],
             obj[-1/0],
-            obj[-1/0],
+            obj[-(1/0)],
             obj[""-Infinity""],
             obj[null],
             obj[""null""]
",49,"obj[-1/0],","obj[-(1/0)],"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/79c60032a55b518e07acb45237e527b4fe61c8e6,79c60032a55b518e07acb45237e527b4fe61c8e6,"fix corner case in `collapse_vars` (#3701)

fixes #3700",2020-01-30 09:04:44+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/a3754068dde7a51ab41b59a6d8a17a3a8c022564/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/79c60032a55b518e07acb45237e527b4fe61c8e6/lib/compress.js,"@@ -1395,7 +1395,7 @@ merge(Compressor.prototype, {
                     var rhs_fn = scan_rhs;
                     for (var i = 0; !abort && i < fn.body.length; i++) {
                         var stat = fn.body[i];
-                        if (stat instanceof AST_Exit) {
+                        if (stat instanceof AST_Return) {
                             if (stat.value) stat.value.transform(scanner);
                             break;
                         }
",1398,if (stat instanceof AST_Exit) {,if (stat instanceof AST_Return) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/83a42716c37eb644c490454d7f2119b1fe8158b1,83a42716c37eb644c490454d7f2119b1fe8158b1,fix corner case in `unused` (#3716),2020-02-12 23:46:16+00:00,functions.js,https://github.com/mishoo/UglifyJS2/raw/2557148bba9e380004c69551aa07f2f424d65159/test/compress/functions.js,https://github.com/mishoo/UglifyJS2/raw/83a42716c37eb644c490454d7f2119b1fe8158b1/test/compress/functions.js,"@@ -1276,7 +1276,7 @@ issue_2630_3: {
         (function() {
             (function f1(a) {
                 f2();
-                --x >= 0 && f1({});
+                --x >= 0 && f1();
             })(a++);
             function f2() {
                 a++;
",1279,--x >= 0 && f1({});,--x >= 0 && f1();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c8d60d698310aa263c4f6684b18680af07e07c87,c8d60d698310aa263c4f6684b18680af07e07c87,"detect `toplevel` option properly (#3735)

fixes #3730",2020-02-29 17:33:48+00:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/6092bf23de6608ad225cad61b934570604a5d3a4/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/c8d60d698310aa263c4f6684b18680af07e07c87/test/reduce.js,"@@ -543,7 +543,7 @@ function producesDifferentResultWhenMinified(result_cache, code, minify_options,
     var minified = U.minify(code, minify_options);
     if (minified.error) return minified;
 
-    var toplevel = minify_options.toplevel;
+    var toplevel = sandbox.has_toplevel(minify_options);
     var elapsed = Date.now();
     var unminified_result = run_code(result_cache, code, toplevel, max_timeout);
     elapsed = Date.now() - elapsed;
",546,var toplevel = minify_options.toplevel;,var toplevel = sandbox.has_toplevel(minify_options);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/0a1c9b34cea8bf740c70d5457ef9e3bd37778607,0a1c9b34cea8bf740c70d5457ef9e3bd37778607,"fix corner case in `evaluate` & `ie8` (#3751)

fixes #3750",2020-03-21 00:55:24+08:00,utils.js,https://github.com/mishoo/UglifyJS2/raw/03e968be62ac6484a24edd24453e118b56e5af15/lib/utils.js,https://github.com/mishoo/UglifyJS2/raw/0a1c9b34cea8bf740c70d5457ef9e3bd37778607/lib/utils.js,"@@ -185,7 +185,7 @@ function makePredicate(words) {
 
 function all(array, predicate) {
     for (var i = array.length; --i >= 0;)
-        if (!predicate(array[i]))
+        if (!predicate(array[i], i))
             return false;
     return true;
 }
",188,if (!predicate(array[i])),"if (!predicate(array[i], i))"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/da68ec6e190e8969741606b2b2a3eb2d327061ba,da68ec6e190e8969741606b2b2a3eb2d327061ba,"fix corner cases in `join_vars` (#3790)

fixes #3789
fixes #3791",2020-04-18 02:53:26+08:00,collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/15a3ebd467ea1f88b55affb0c3cc2d218fad3718/test/compress/collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/da68ec6e190e8969741606b2b2a3eb2d327061ba/test/compress/collapse_vars.js,"@@ -804,7 +804,7 @@ collapse_vars_assignment: {
         function log(x) { return console.log(x), x; }
         function f0(c) {
             var a = 3 / c;
-            return a;
+            return a = a;
         }
         function f1(c) {
             return 1 - 3 / c;
",807,return a;,return a = a;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/da68ec6e190e8969741606b2b2a3eb2d327061ba,da68ec6e190e8969741606b2b2a3eb2d327061ba,"fix corner cases in `join_vars` (#3790)

fixes #3789
fixes #3791",2020-04-18 02:53:26+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/15a3ebd467ea1f88b55affb0c3cc2d218fad3718/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/da68ec6e190e8969741606b2b2a3eb2d327061ba/test/ufuzz/index.js,"@@ -1156,7 +1156,7 @@ for (var round = 1; round <= num_iterations; round++) {
             uglify_code = uglify_code.code;
             uglify_result = sandbox.run_code(uglify_code, toplevel);
             ok = sandbox.same_stdout(original_result, uglify_result);
-            if (!ok && typeof uglify_result == ""string"" && o.compress.unsafe_math) {
+            if (!ok && typeof uglify_result == ""string"" && o.compress && o.compress.unsafe_math) {
                 ok = fuzzy_match(original_result, uglify_result);
                 if (!ok) {
                     var fuzzy_result = sandbox.run_code(original_code.replace(/( - 0\.1){3}/g, "" - 0.3""), toplevel);
",1159,"if (!ok && typeof uglify_result == ""string"" && o.compress.unsafe_math) {","if (!ok && typeof uglify_result == ""string"" && o.compress && o.compress.unsafe_math) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/818738beec9f49f864407c68fa26cc022c88815f,818738beec9f49f864407c68fa26cc022c88815f,"fix corner case in `ie8` (#3826)

fixes #3825",2020-04-27 16:51:21+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/bc2a4a3bb8c08139c53d0d595181010ead516d77/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/818738beec9f49f864407c68fa26cc022c88815f/lib/compress.js,"@@ -4938,7 +4938,7 @@ merge(Compressor.prototype, {
             }
             if (!compressor.option(""ie8"")) return node;
             if (node) exprs.push(node);
-            return make_sequence(this, exprs);
+            return exprs.length == 0 ? null : make_sequence(this, exprs);
         });
         def(AST_Constant, return_null);
         def(AST_Dot, function(compressor, first_in_statement) {
",4941,"return make_sequence(this, exprs);","return exprs.length == 0 ? null : make_sequence(this, exprs);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/88985a46ed771f312f799853740ec2ba4f87ea03,88985a46ed771f312f799853740ec2ba4f87ea03,"fix corner case in `inline` (#3853)

fixes #3852",2020-05-07 20:53:05+08:00,drop-unused.js,https://github.com/mishoo/UglifyJS2/raw/34ead0430bf24323495f47751e726dcc6bd8d5e7/test/compress/drop-unused.js,https://github.com/mishoo/UglifyJS2/raw/88985a46ed771f312f799853740ec2ba4f87ea03/test/compress/drop-unused.js,"@@ -2366,7 +2366,7 @@ function_parameter_ie8: {
     }
     expect: {
         (function() {
-            (function f() {
+            (function() {
                 console.log(""PASS"");
             })();
         })();
",2369,(function f() {,(function() {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/88985a46ed771f312f799853740ec2ba4f87ea03,88985a46ed771f312f799853740ec2ba4f87ea03,"fix corner case in `inline` (#3853)

fixes #3852",2020-05-07 20:53:05+08:00,ie8.js,https://github.com/mishoo/UglifyJS2/raw/34ead0430bf24323495f47751e726dcc6bd8d5e7/test/compress/ie8.js,https://github.com/mishoo/UglifyJS2/raw/88985a46ed771f312f799853740ec2ba4f87ea03/test/compress/ie8.js,"@@ -2389,7 +2389,7 @@ issue_3703: {
         var a = ""PASS"";
         (function() {
             var b;
-            var c = function g() {
+            var c = function() {
                 a = ""FAIL"";
             };
             a ? b |= c : b.p;
",2392,var c = function g() {,var c = function() {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/33f3b0c1d9654e137b54802afbfb6d8e70c8cbd6,33f3b0c1d9654e137b54802afbfb6d8e70c8cbd6,"fix corner case in `reduce_vars` (#3867)

fixes #3866",2020-05-10 16:35:03+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/abb8ae02a55b3e3585685362cbae99c6b7a9a380/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/33f3b0c1d9654e137b54802afbfb6d8e70c8cbd6/test/ufuzz/index.js,"@@ -1181,7 +1181,7 @@ for (var round = 1; round <= num_iterations; round++) {
                 }
             }
         } else {
-            uglify_code = uglify_code.error;
+            uglify_code = uglify_result = uglify_code.error;
             ok = sandbox.same_stdout(original_result, uglify_result);
         }
         if (verbose || (verbose_interval && !(round % INTERVAL_COUNT)) || !ok) log(options);
",1184,uglify_code = uglify_code.error;,uglify_code = uglify_result = uglify_code.error;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c4c9c6d37de8074bba3e433621bc70f88d7631ae,c4c9c6d37de8074bba3e433621bc70f88d7631ae,"fix corner case in `hoist_props` (#3869)

fixes #3868",2020-05-10 10:35:24+01:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/33f3b0c1d9654e137b54802afbfb6d8e70c8cbd6/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/c4c9c6d37de8074bba3e433621bc70f88d7631ae/lib/compress.js,"@@ -4927,7 +4927,7 @@ merge(Compressor.prototype, {
             if (def.single_use) return;
             if (top_retain(def)) return;
             if (sym.fixed_value() !== right) return;
-            return right instanceof AST_Object;
+            return right instanceof AST_Object && right.properties.length > 0;
         }
     });
 
",4930,return right instanceof AST_Object;,return right instanceof AST_Object && right.properties.length > 0;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/eb7fa252703c052f81e2ab491d84ba352648e4c9,eb7fa252703c052f81e2ab491d84ba352648e4c9,"fix corner case in `evaluate` (#3888)

fixes #3887",2020-05-12 17:58:37+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/ee7647dc676b18355286609e9a4404dbcdcecc90/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/eb7fa252703c052f81e2ab491d84ba352648e4c9/lib/compress.js,"@@ -3368,7 +3368,7 @@ merge(Compressor.prototype, {
         });
         def(AST_UnaryPostfix, function(compressor, ignore_side_effects, cached, depth) {
             var e = this.expression;
-            if (!(e instanceof AST_SymbolRef)) return this;
+            if (!e.fixed) return this;
             var refs = e.definition().references;
             if (!ignore_side_effects && refs[refs.length - 1] !== e) return this;
             var v = e._eval(compressor, ignore_side_effects, cached, depth + 1);
",3371,if (!(e instanceof AST_SymbolRef)) return this;,if (!e.fixed) return this;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/fa14a9cfcd8d766887654b8b6da727489077033a,fa14a9cfcd8d766887654b8b6da727489077033a,"fix corner case in `join_vars` (#3917)

fixes #3916",2020-05-22 05:26:46+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/aeb9ea5ac22fe37d0a74bb8cacd6edfa1ae9ef8c/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/fa14a9cfcd8d766887654b8b6da727489077033a/lib/compress.js,"@@ -2508,7 +2508,7 @@ merge(Compressor.prototype, {
                 }
                 if (prop instanceof AST_Node) break;
                 prop = """" + prop;
-                var diff = compressor.has_directive(""use strict"") ? function(node) {
+                var diff = prop == ""__proto__"" || compressor.has_directive(""use strict"") ? function(node) {
                     return node.key != prop && node.key.name != prop;
                 } : function(node) {
                     return node.key.name != prop;
",2511,"var diff = compressor.has_directive(""use strict"") ? function(node) {","var diff = prop == ""__proto__"" || compressor.has_directive(""use strict"") ? function(node) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7840746bd95c965409ba7e6dbbd291a88ed64f83,7840746bd95c965409ba7e6dbbd291a88ed64f83,"fix corner case in `collapse_vars` (#3928)

fixes #3927",2020-05-27 21:02:48+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/49ea629f3f33387ead05639e81eb82b5d2915de6/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/7840746bd95c965409ba7e6dbbd291a88ed64f83/lib/compress.js,"@@ -1172,7 +1172,7 @@ merge(Compressor.prototype, {
                     scope = node;
                     break;
                 } else if (node instanceof AST_Try) {
-                    in_try = node;
+                    if (!in_try) in_try = node;
                 }
             } while (node = compressor.parent(level++));
         }
",1175,in_try = node;,if (!in_try) in_try = node;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/60c0bc1e6b1db1a7288c7924231b28a0e9f35cff,60c0bc1e6b1db1a7288c7924231b28a0e9f35cff,"fix corner case in `evaluate` (#3934)

fixes #3933",2020-05-29 17:48:26+08:00,dead-code.js,https://github.com/mishoo/UglifyJS2/raw/6a5c63e1e324ba502b060911d54825a93e437da4/test/compress/dead-code.js,https://github.com/mishoo/UglifyJS2/raw/60c0bc1e6b1db1a7288c7924231b28a0e9f35cff/test/compress/dead-code.js,"@@ -236,7 +236,7 @@ collapse_vars_lvalues_drop_assign: {
     }
 }
 
-collapse_vars_misc1: {
+collapse_vars_misc: {
     options = {
         collapse_vars: true,
         dead_code: true,
",239,collapse_vars_misc1: {,collapse_vars_misc: {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/43498769f09e682af27999e138ab2d42cea5ef6e,43498769f09e682af27999e138ab2d42cea5ef6e,"fix corner case in `evaluate` (#3936)

fixes #3935",2020-05-29 22:10:36+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/60c0bc1e6b1db1a7288c7924231b28a0e9f35cff/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/43498769f09e682af27999e138ab2d42cea5ef6e/lib/compress.js,"@@ -3430,7 +3430,7 @@ merge(Compressor.prototype, {
             var v = e._eval(compressor, ignore_side_effects, cached, depth + 1);
             if (v === e) return this;
             modified(e);
-            return v;
+            return +v;
         });
         var non_converting_binary = makePredicate(""&& || === !=="");
         def(AST_Binary, function(compressor, ignore_side_effects, cached, depth) {
",3433,return v;,return +v;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/0eb4577a82437a82bd88bfeef4ecc761cc66c861,0eb4577a82437a82bd88bfeef4ecc761cc66c861,"fix corner case in `evaluate` (#3938)

fixes #3937",2020-05-30 18:22:40+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/43498769f09e682af27999e138ab2d42cea5ef6e/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/0eb4577a82437a82bd88bfeef4ecc761cc66c861/lib/compress.js,"@@ -3493,7 +3493,7 @@ merge(Compressor.prototype, {
             var fixed = this.fixed_value();
             if (!fixed) return this;
             var value;
-            if (member(fixed, cached)) {
+            if (HOP(fixed, ""_eval"")) {
                 value = fixed._eval();
             } else {
                 this._eval = return_this;
",3496,"if (member(fixed, cached)) {","if (HOP(fixed, ""_eval"")) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c97ad98f92282bfa52f7d89dd5703021df6bec29,c97ad98f92282bfa52f7d89dd5703021df6bec29,"fix corner case in `evaluate` (#3946)

fixes #3944",2020-06-02 23:50:40+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b24eb22c6b0ebbb3ec0274d76571864762c6393f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/c97ad98f92282bfa52f7d89dd5703021df6bec29/lib/compress.js,"@@ -3308,7 +3308,7 @@ merge(Compressor.prototype, {
             }
             var op = this.operator;
             var node;
-            if (HOP(lhs, ""_eval"") || !(lhs instanceof AST_SymbolRef) || !lhs.fixed_value()) {
+            if (HOP(lhs, ""_eval"") || !(lhs instanceof AST_SymbolRef) || !lhs.fixed || !lhs.definition().fixed) {
                 node = op == ""="" ? this.right : make_node(AST_Binary, this, {
                     operator: op.slice(0, -1),
                     left: lhs,
",3311,"if (HOP(lhs, ""_eval"") || !(lhs instanceof AST_SymbolRef) || !lhs.fixed_value()) {","if (HOP(lhs, ""_eval"") || !(lhs instanceof AST_SymbolRef) || !lhs.fixed || !lhs.definition().fixed) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/aa37b196989edc13988ab225e4a7c954565e39eb,aa37b196989edc13988ab225e4a7c954565e39eb,"fix corner case in `unused` (#3963)

fixes #3962",2020-06-07 13:48:29+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/02e889e44996e9215fbbb4997c635518334df1c4/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/aa37b196989edc13988ab225e4a7c954565e39eb/lib/compress.js,"@@ -4521,7 +4521,7 @@ merge(Compressor.prototype, {
                         var index = indexOf_assign(sym, def);
                         if (index >= 0) assign_in_use[sym.id][index] = assign;
                         sym.eliminated++;
-                        return assign.transform(tt);
+                        return assign;
                     }));
                 } else if (head.length > 0 || tail.length > 0) {
                     node.definitions = head.concat(tail);
",4524,return assign.transform(tt);,return assign;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/df3bb8028a7cd8a69a3c76090d12f808ca7abc3b,df3bb8028a7cd8a69a3c76090d12f808ca7abc3b,fix corner cases related to `in` (#3964),2020-06-08 05:23:23+08:00,pure_funcs.js,https://github.com/mishoo/UglifyJS2/raw/28b7b15da19a2a081ab768f8315ce39db7c52b63/test/compress/pure_funcs.js,https://github.com/mishoo/UglifyJS2/raw/df3bb8028a7cd8a69a3c76090d12f808ca7abc3b/test/compress/pure_funcs.js,"@@ -136,7 +136,7 @@ relational: {
         side_effects :true,
     }
     input: {
-        foo() in foo();
+        foo() in new foo();
         foo() instanceof bar();
         foo() < ""bar"";
         bar() > foo();
",139,foo() in foo();,foo() in new foo();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5561d3e7f3252837ac3b85401f2403937860da46,5561d3e7f3252837ac3b85401f2403937860da46,"fix corner case in `collapse_vars` (#3972)

fixes #3971",2020-06-09 00:09:21+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/491d6ce1d5f8e49730de25788cabf9e213470588/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/5561d3e7f3252837ac3b85401f2403937860da46/lib/compress.js,"@@ -1258,7 +1258,7 @@ merge(Compressor.prototype, {
                         col: node.start.col
                     });
                     if (candidate instanceof AST_UnaryPostfix) {
-                        delete candidate.expression.fixed;
+                        lhs.definition().fixed = false;
                         return make_node(AST_UnaryPrefix, candidate, candidate);
                     }
                     if (candidate instanceof AST_VarDef) {
",1261,delete candidate.expression.fixed;,lhs.definition().fixed = false;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ed7c82fa5eeffba48513f017ec8115e88b9638ac,ed7c82fa5eeffba48513f017ec8115e88b9638ac,"fix corner case in `collapse_vars` (#3978)

fixes #3976",2020-06-09 19:07:20+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3b273cecac77b672fd5f9a1d02cebc042b4b73ce/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/ed7c82fa5eeffba48513f017ec8115e88b9638ac/lib/compress.js,"@@ -1468,7 +1468,7 @@ merge(Compressor.prototype, {
                 if (node instanceof AST_Call) {
                     var fn = node.expression;
                     if (fn instanceof AST_SymbolRef) {
-                        if (fn.definition().recursive_refs > 0) return true;
+                        if (recursive_ref(compressor, fn.definition())) return true;
                         fn = fn.fixed_value();
                     }
                     if (!(fn instanceof AST_Lambda)) return true;
",1471,if (fn.definition().recursive_refs > 0) return true;,"if (recursive_ref(compressor, fn.definition())) return true;"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2021c2fa3e616da497f8fc305010c9c1dd1a67de,2021c2fa3e616da497f8fc305010c9c1dd1a67de,fix corner case in false positive detection (#4011),2020-07-20 21:57:22+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/484d3fd8c77d8d144c97b312cc2be17586fce995/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/2021c2fa3e616da497f8fc305010c9c1dd1a67de/test/ufuzz/index.js,"@@ -1232,7 +1232,7 @@ function patch_try_catch(orig, toplevel) {
             if (typeof result != ""object"" || typeof result.name != ""string"" || typeof result.message != ""string"") {
                 if (!stack.filled && match[1]) stack.push({
                     code: code,
-                    index: index,
+                    index: index && index - 1,
                     offset: offset,
                     tries: JSON.parse(JSON.stringify(tries)),
                 });
",1235,"index: index,","index: index && index - 1,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/cd671221c59feead948b13b024695dc04015fde6,cd671221c59feead948b13b024695dc04015fde6,"fix corner case in `ie8` & `reduce_vars` (#4020)

fixes #4019",2020-07-21 17:22:18+08:00,drop-unused.js,https://github.com/mishoo/UglifyJS2/raw/bce3919748b1ece4d98625fee450f6096d7bb849/test/compress/drop-unused.js,https://github.com/mishoo/UglifyJS2/raw/cd671221c59feead948b13b024695dc04015fde6/test/compress/drop-unused.js,"@@ -1729,7 +1729,7 @@ chained_3: {
     }
     expect: {
         console.log(function(a, b) {
-            var c = 2;
+            var c = b;
             b++;
             return c;
         }(0, 2));
",1732,var c = 2;,var c = b;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e8db526f513ba324535fff040d651d4faacd89ae,e8db526f513ba324535fff040d651d4faacd89ae,"avoid setters during `console.log()` in sandbox (#4055)

fixes #4054",2020-08-19 06:14:41+08:00,sandbox.js,https://github.com/mishoo/UglifyJS2/raw/fa13ed439138f9652ccb045e04965d336de0fd70/test/sandbox.js,https://github.com/mishoo/UglifyJS2/raw/e8db526f513ba324535fff040d651d4faacd89ae/test/sandbox.js,"@@ -40,7 +40,7 @@ function createContext() {
             arg.constructor.toString();
             if (level--) for (var key in arg) {
                 var desc = Object.getOwnPropertyDescriptor(arg, key);
-                if (!desc || !desc.get) arg[key] = safe_log(arg[key], level);
+                if (!desc || !desc.get && !desc.set) arg[key] = safe_log(arg[key], level);
             }
         }
         return arg;
",43,"if (!desc || !desc.get) arg[key] = safe_log(arg[key], level);","if (!desc || !desc.get && !desc.set) arg[key] = safe_log(arg[key], level);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a31c27c7cf0c1543305c7710b139201850132e15,a31c27c7cf0c1543305c7710b139201850132e15,"fix corner case in `collapse_vars` (#4071)

fixes #4070",2020-08-25 17:23:36+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/1caf7c7bd2160a5f249066bf62292f3589ceebb1/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/a31c27c7cf0c1543305c7710b139201850132e15/lib/compress.js,"@@ -1286,7 +1286,7 @@ merge(Compressor.prototype, {
                         col: node.start.col
                     });
                     if (candidate instanceof AST_UnaryPostfix) {
-                        lhs.definition().fixed = false;
+                        if (lhs instanceof AST_SymbolRef) lhs.definition().fixed = false;
                         return make_node(AST_UnaryPrefix, candidate, candidate);
                     }
                     if (candidate instanceof AST_VarDef) {
",1289,lhs.definition().fixed = false;,if (lhs instanceof AST_SymbolRef) lhs.definition().fixed = false;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f886b3fb2bad77ca7158057b48add16050ceca2a,f886b3fb2bad77ca7158057b48add16050ceca2a,"fix corner case in `loops` & `unused` (#4083)

fixes #4082",2020-08-29 02:42:17+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b1cc15e85bf57042fc390c58f2b513304f8543c6/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/f886b3fb2bad77ca7158057b48add16050ceca2a/lib/compress.js,"@@ -4800,7 +4800,7 @@ merge(Compressor.prototype, {
                 return true;
             }
             if (node instanceof AST_ForIn) {
-                if (!compressor.option(""loops"")) return;
+                if (!drop_vars || !compressor.option(""loops"")) return;
                 if (!is_empty(node.body)) return;
                 if (node.init.has_side_effects(compressor)) return;
                 node.object.walk(tw);
",4803,"if (!compressor.option(""loops"")) return;","if (!drop_vars || !compressor.option(""loops"")) return;"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/da8d1545710add4cbe43901b41f56a1446a5eeb5,da8d1545710add4cbe43901b41f56a1446a5eeb5,"fix corner case in `loops` & `unused` (#4085)

fixes #4084",2020-09-02 03:20:58+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/e33c727e8bf7687c827d3e88974ead18af263d12/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/da8d1545710add4cbe43901b41f56a1446a5eeb5/lib/compress.js,"@@ -4682,8 +4682,8 @@ merge(Compressor.prototype, {
                 }
                 var def = sym.definition();
                 if (!def) return;
-                if (def.scope !== self) return;
                 if (def.id in in_use_ids) return;
+                if (def.scope !== self && member(def, self.enclosed)) return;
                 log(sym, ""Dropping unused loop variable {name}"");
                 var value = node.object.drop_side_effect_free(compressor);
                 if (!value) return in_list ? List.skip : make_node(AST_EmptyStatement, node);
",4686,if (def.scope !== self) return;,"if (def.scope !== self && member(def, self.enclosed)) return;"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d97672613d28632a038fa14eb35d8c19c748320d,d97672613d28632a038fa14eb35d8c19c748320d,fix corner case in `reduce_vars` (#4095),2020-09-08 22:12:27+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/30761eede5a5f0970a5655a2288aca1734407a51/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/d97672613d28632a038fa14eb35d8c19c748320d/lib/compress.js,"@@ -7779,7 +7779,7 @@ merge(Compressor.prototype, {
                         single_use = false;
                     } else if (recursive_ref(compressor, def)) {
                         single_use = false;
-                    } else if (compressor.option(""ie8"") && fixed.name && def !== fixed.name.definition()) {
+                    } else if (fixed.name && fixed.name.definition() !== def) {
                         single_use = false;
                     } else if (def.scope !== self.scope || def.orig[0] instanceof AST_SymbolFunarg) {
                         single_use = fixed.is_constant_expression(self.scope);
",7782,"} else if (compressor.option(""ie8"") && fixed.name && def !== fixed.name.definition()) {",} else if (fixed.name && fixed.name.definition() !== def) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/13cdc167a24fc49f5275b17810525f6879986304,13cdc167a24fc49f5275b17810525f6879986304,"fix corner case in `evaluate` (#4138)

fixes #4137",2020-09-22 06:49:32+08:00,asm.js,https://github.com/mishoo/UglifyJS2/raw/8fa470c17c56d62f971fa71fb1cb99e961b64d8e/test/compress/asm.js,https://github.com/mishoo/UglifyJS2/raw/13cdc167a24fc49f5275b17810525f6879986304/test/compress/asm.js,"@@ -95,7 +95,7 @@ asm_mixed: {
                 return +sum;
             }
             function geometricMean(start, end) {
-                return start |= 0, end |= 0, +exp(logSum(start, end) / (end - start | 0));
+                return start |= 0, end |= 0, +exp(+logSum(start, end) / (end - start | 0));
             }
             var exp = stdlib.Math.exp, log = stdlib.Math.log, values = new stdlib.Float64Array(buffer);
             return { geometricMean: geometricMean };
",98,"return start |= 0, end |= 0, +exp(logSum(start, end) / (end - start | 0));","return start |= 0, end |= 0, +exp(+logSum(start, end) / (end - start | 0));"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/6d4c0fa6fabd7c5c75be419ed166b326f3da6bf3,6d4c0fa6fabd7c5c75be419ed166b326f3da6bf3,"fix corner case in `unused` (#4145)

fixes #4144",2020-09-22 14:03:27+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3cca0d624980e78db2c38ffaebdac53933be68fa/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/6d4c0fa6fabd7c5c75be419ed166b326f3da6bf3/lib/compress.js,"@@ -6474,7 +6474,7 @@ merge(Compressor.prototype, {
                     side_effects.push(node);
                     args[pos++] = make_sequence(call, side_effects);
                     side_effects = [];
-                } else if (!trim) {
+                } else if (!trim && fn.argnames[i].__unused) {
                     if (side_effects.length) {
                         node = make_sequence(call, side_effects);
                         side_effects = [];
",6477,} else if (!trim) {,} else if (!trim && fn.argnames[i].__unused) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9c0feb69e5cdd3d491c6b0600fc964a41a774710,9c0feb69e5cdd3d491c6b0600fc964a41a774710,"fix corner case in `reduce_vars` (#4189)

fixes #4188",2020-10-07 22:01:39+08:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/bc6e105174eb67547c2bd988899e4c4f2d8f6ada/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/9c0feb69e5cdd3d491c6b0600fc964a41a774710/lib/scope.js,"@@ -196,7 +196,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(options) {
             var sym = node.scope.find_variable(name);
             if (!sym) {
                 sym = self.def_global(node);
-            } else if (sym.scope instanceof AST_Lambda && name == ""arguments"") {
+            } else if (name == ""arguments"" && sym.scope instanceof AST_Lambda) {
                 sym.scope.uses_arguments = true;
             }
             if (name == ""eval"") {
",199,"} else if (sym.scope instanceof AST_Lambda && name == ""arguments"") {","} else if (name == ""arguments"" && sym.scope instanceof AST_Lambda) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b512726cf39066919483d2add87905f677db1832,b512726cf39066919483d2add87905f677db1832,"fix corner case in `collapse_vars` (#4199)

fixes #4197",2020-10-12 14:13:17+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/9b7a13c8c7f06598b3da8da29da4e8e5680cd24e/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/b512726cf39066919483d2add87905f677db1832/test/ufuzz/index.js,"@@ -1348,7 +1348,7 @@ for (var round = 1; round <= num_iterations; round++) {
                 ok = sandbox.same_stdout(sandbox.run_code(sort_globals(original_code)), sandbox.run_code(sort_globals(uglify_code)));
             }
             // ignore numerical imprecision caused by `unsafe_math`
-            if (!ok && typeof uglify_result == ""string"" && o.compress && o.compress.unsafe_math) {
+            if (!ok && o.compress && o.compress.unsafe_math && typeof original_result == ""string"" && typeof uglify_result == ""string"") {
                 ok = fuzzy_match(original_result, uglify_result);
                 if (!ok) {
                     var fuzzy_result = sandbox.run_code(original_code.replace(/( - 0\.1){3}/g, "" - 0.3""), toplevel);
",1351,"if (!ok && typeof uglify_result == ""string"" && o.compress && o.compress.unsafe_math) {","if (!ok && o.compress && o.compress.unsafe_math && typeof original_result == ""string"" && typeof uglify_result == ""string"") {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/0e234a25c52bcfc873fc1ac287995be08a6756aa,0e234a25c52bcfc873fc1ac287995be08a6756aa,"fix corner case in `reduce_vars` (#4211)

fixes #4210",2020-10-13 15:52:03+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3096f6fdad2d92b822ab75bbe78903c152e6b844/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/0e234a25c52bcfc873fc1ac287995be08a6756aa/lib/compress.js,"@@ -6651,7 +6651,7 @@ merge(Compressor.prototype, {
             var s = def.scope;
             do {
                 s = s.parent_scope;
-                if (s.variables.has(node.name)) return false;
+                if (s.var_names()[node.name]) return false;
             } while (s !== scope);
             return true;
         }) ? make_node(AST_Var, self, {
",6654,if (s.variables.has(node.name)) return false;,if (s.var_names()[node.name]) return false;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3d71e97dd100fe150db3a5585d744e109bfa53ac,3d71e97dd100fe150db3a5585d744e109bfa53ac,"fix corner cases in `braces` & `sequences` (#4221)

fixes #4220",2020-10-14 23:39:35+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/7f35d9cee05528574a24cbdad5593403db07cbf0/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/3d71e97dd100fe150db3a5585d744e109bfa53ac/lib/compress.js,"@@ -2513,7 +2513,7 @@ merge(Compressor.prototype, {
                 var line = block.body[i];
                 if (line instanceof AST_Var && declarations_only(line)) {
                     decls.push(line);
-                } else if (stat) {
+                } else if (stat || line instanceof AST_Const) {
                     return false;
                 } else {
                     stat = line;
",2516,} else if (stat) {,} else if (stat || line instanceof AST_Const) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4f833937fea193e466a33e2f03f21d0b909a407d,4f833937fea193e466a33e2f03f21d0b909a407d,"fix corner case in `inline` (#4223)

fixes #4222",2020-10-15 21:52:40+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/3d71e97dd100fe150db3a5585d744e109bfa53ac/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/4f833937fea193e466a33e2f03f21d0b909a407d/lib/compress.js,"@@ -7041,7 +7041,7 @@ merge(Compressor.prototype, {
                     && fn.is_constant_expression(find_scope(compressor)))
                 && (value = can_flatten_body(stat))
                 && !fn.contains_this()) {
-                var replacing = exp === fn || compressor.option(""unused"") && def.references.length - def.replaced == 1;
+                var replacing = exp === fn || def.single_use && def.references.length - def.replaced == 1;
                 if (can_substitute_directly()) {
                     var args = self.args.slice();
                     var refs = [];
",7044,"var replacing = exp === fn || compressor.option(""unused"") && def.references.length - def.replaced == 1;",var replacing = exp === fn || def.single_use && def.references.length - def.replaced == 1;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c5df8355ba00fdf5ffa81192e0d88cf0dca90061,c5df8355ba00fdf5ffa81192e0d88cf0dca90061,"fix corner case in `loops` & `unused` (#4241)

fixes #4240",2020-10-24 13:33:48+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/ff38d2471f36815f3d56774092a8d298719fd4fb/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/c5df8355ba00fdf5ffa81192e0d88cf0dca90061/lib/compress.js,"@@ -5182,7 +5182,7 @@ merge(Compressor.prototype, {
                 var def = sym.definition();
                 if (!def) return;
                 if (def.id in in_use_ids) return;
-                if (def.scope !== self && member(def, self.enclosed)) return;
+                if (def.scope !== self && self.find_variable(sym) === def) return;
                 log(sym, ""Dropping unused loop variable {name}"");
                 if (for_ins[def.id] === node) delete for_ins[def.id];
                 var body = [];
",5185,"if (def.scope !== self && member(def, self.enclosed)) return;",if (def.scope !== self && self.find_variable(sym) === def) return;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/607f87c5cde7f4f66a43e5986ca692e7f7861f57,607f87c5cde7f4f66a43e5986ca692e7f7861f57,"fix corner case in `booleans` (#4246)

fixes #4245",2020-10-26 18:53:58+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/b2775746a7d7bc3a52dfdce43aa2f281ef6e7f6e/test/compress.js,https://github.com/mishoo/UglifyJS2/raw/607f87c5cde7f4f66a43e5986ca692e7f7861f57/test/compress.js,"@@ -386,7 +386,7 @@ function test_case(test) {
             mangle: test.mangle
         });
         var actual = stdout[toplevel ? 1 : 0];
-        if (test.expect_stdout === true) {
+        if (test.expect_stdout === true || test.expect_stdout instanceof Error && test.expect_stdout.name === actual.name) {
             test.expect_stdout = actual;
         }
         if (!sandbox.same_stdout(test.expect_stdout, actual)) {
",389,if (test.expect_stdout === true) {,if (test.expect_stdout === true || test.expect_stdout instanceof Error && test.expect_stdout.name === actual.name) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c2f6fd5fded46624da3851e3accc3b5165e6d588,c2f6fd5fded46624da3851e3accc3b5165e6d588,"fix corner case in `functions` (#4260)

fixes #4259",2020-11-06 03:55:25+08:00,reduce_vars.js,https://github.com/mishoo/UglifyJS2/raw/af4ea3ff6978f079531d011cffc7e2337b3ab48c/test/compress/reduce_vars.js,https://github.com/mishoo/UglifyJS2/raw/c2f6fd5fded46624da3851e3accc3b5165e6d588/test/compress/reduce_vars.js,"@@ -1999,7 +1999,7 @@ issue_1606: {
             var a, b;
             function g(){};
             b = 2;
-            x(b);
+            x(2);
         }
     }
 }
",2002,x(b);,x(2);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/4bbeb09f7c12bfb3d12ac5264bbdf033ee0b66dc,4bbeb09f7c12bfb3d12ac5264bbdf033ee0b66dc,"fix corner case in `reduce_vars` (#4262)

fixes #4261",2020-11-07 10:00:04+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/c2f6fd5fded46624da3851e3accc3b5165e6d588/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/4bbeb09f7c12bfb3d12ac5264bbdf033ee0b66dc/lib/compress.js,"@@ -8429,7 +8429,7 @@ merge(Compressor.prototype, {
                     fixed.name = make_node(AST_SymbolLambda, fixed.name, fixed.name);
                 }
                 if (fixed instanceof AST_Lambda) {
-                    var scope = self.scope;
+                    var scope = self.scope.resolve();
                     fixed.enclosed.forEach(function(def) {
                         if (fixed.variables.has(def.name)) return;
                         if (scope.var_names()[def.name]) return;
",8432,var scope = self.scope;,var scope = self.scope.resolve();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7a51c17ff0005ca3725c8afefe2f4086f4316ee2,7a51c17ff0005ca3725c8afefe2f4086f4316ee2,"fix corner case in `merge_vars` (#4295)

fixes #4294",2020-11-18 09:32:53+08:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/aff842f2f9311295877de7e22c3c6afa4f82214b/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/7a51c17ff0005ca3725c8afefe2f4086f4316ee2/test/reduce.js,"@@ -115,7 +115,7 @@ module.exports = function reduce_test(testcase, minify_options, reduce_options)
 
             // ignore lvalues
             if (parent instanceof U.AST_Assign && parent.left === node) return;
-            if (parent instanceof U.AST_Destructured) return;
+            if (parent instanceof U.AST_DestructuredArray) return;
             if (parent instanceof U.AST_DestructuredKeyVal && parent.value === node) return;
             if (parent instanceof U.AST_Unary && parent.expression === node) switch (parent.operator) {
               case ""++"":
",118,if (parent instanceof U.AST_Destructured) return;,if (parent instanceof U.AST_DestructuredArray) return;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9d34f8428bc4a5fb7d26ac953f585b2622d63171,9d34f8428bc4a5fb7d26ac953f585b2622d63171,"fix corner case in `side_effects` (#4326)

fixes #4325",2020-11-29 10:05:48+08:00,keep_fargs.js,https://github.com/mishoo/UglifyJS2/raw/f045e2b46077e84db8b7ae787819a010077ce1fd/test/compress/keep_fargs.js,https://github.com/mishoo/UglifyJS2/raw/9d34f8428bc4a5fb7d26ac953f585b2622d63171/test/compress/keep_fargs.js,"@@ -525,7 +525,7 @@ issue_2506: {
         function f0(bar) {
             (function() {
                 (function() {
-                    if (false <= 0/0 & this >> 1 >= 0)
+                    if (false <= NaN & this >> 1 >= 0)
                         c++;
                 })(c++);
             })();
",528,if (false <= 0/0 & this >> 1 >= 0),if (false <= NaN & this >> 1 >= 0)
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/58dff9ada3adf21dbe7d8d205e76cfbd48b8619a,58dff9ada3adf21dbe7d8d205e76cfbd48b8619a,"fix corner cases in `unused` & `varify` (#4368)

fixes #4365",2020-12-12 04:45:35+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4fdec765bc71ad2654175442dfacd82fde07a863/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/58dff9ada3adf21dbe7d8d205e76cfbd48b8619a/lib/compress.js,"@@ -7284,7 +7284,7 @@ merge(Compressor.prototype, {
     });
 
     function is_safe_lexical(def) {
-        return def.orig.length < (def.orig[0] instanceof AST_SymbolLambda ? 3 : 2);
+        return def.name != ""arguments"" && def.orig.length < (def.orig[0] instanceof AST_SymbolLambda ? 3 : 2);
     }
 
     function may_overlap(compressor, def) {
",7287,return def.orig.length < (def.orig[0] instanceof AST_SymbolLambda ? 3 : 2);,"return def.name != ""arguments"" && def.orig.length < (def.orig[0] instanceof AST_SymbolLambda ? 3 : 2);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/44e494f16f5ce7fc1272e6ca6ae227f77623c2f9,44e494f16f5ce7fc1272e6ca6ae227f77623c2f9,"fix corner case in `merge_vars` (#4407)

fixes #4406",2020-12-19 00:52:37+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/2415a72e755c7685c677c2edf0c1e91fbed54e2e/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/44e494f16f5ce7fc1272e6ca6ae227f77623c2f9/lib/compress.js,"@@ -4801,7 +4801,7 @@ merge(Compressor.prototype, {
             if (node instanceof AST_Call) {
                 var exp = node.expression;
                 var tail = exp.tail_node();
-                if (!(tail instanceof AST_Function)) return;
+                if (!is_function(tail)) return;
                 if (exp !== tail) exp.expressions.slice(0, -1).forEach(function(node) {
                     node.walk(tw);
                 });
",4804,if (!(tail instanceof AST_Function)) return;,if (!is_function(tail)) return;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/acc2d7d8455ed7302a78948b3c8678990dc1765a,acc2d7d8455ed7302a78948b3c8678990dc1765a,"fix corner case in `objects` (#4416)

fixes #4415",2020-12-20 00:14:57+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/9a5aede94147bf5769054fd933b1c15690915d25/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/acc2d7d8455ed7302a78948b3c8678990dc1765a/lib/compress.js,"@@ -10198,7 +10198,7 @@ merge(Compressor.prototype, {
                 flush();
                 values.push(prop);
             }
-            if (found && !generated && typeof key == ""string"" && /^[0-9]+$/.test(key)) {
+            if (found && !generated && typeof key == ""string"" && /^[1-9]*[0-9]$/.test(key)) {
                 generated = true;
                 if (keys.has(key)) prop = keys.get(key)[0];
                 prop.key = make_node(AST_Number, prop, {
",10201,"if (found && !generated && typeof key == ""string"" && /^[0-9]+$/.test(key)) {","if (found && !generated && typeof key == ""string"" && /^[1-9]*[0-9]$/.test(key)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7e575e9d7f40876373f073213126b729553c4d89,7e575e9d7f40876373f073213126b729553c4d89,"fix corner case in `if_return` (#4439)

fixes #4438",2020-12-24 04:08:57+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/cb4a02949e14a8ffad88c327204f016407218ce9/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/7e575e9d7f40876373f073213126b729553c4d89/lib/compress.js,"@@ -2669,7 +2669,7 @@ merge(Compressor.prototype, {
                     block = last.body;
                 }
                 block.pop();
-                if (ab.value) body.push(make_node(AST_SimpleStatement, ab.value, {
+                if (ab.value) block.push(make_node(AST_SimpleStatement, ab.value, {
                     body: ab.value.expression
                 }));
                 return body;
",2672,"if (ab.value) body.push(make_node(AST_SimpleStatement, ab.value, {","if (ab.value) block.push(make_node(AST_SimpleStatement, ab.value, {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f345175bc2aef3cb9d3ceb6ec241cf191dd70eb7,f345175bc2aef3cb9d3ceb6ec241cf191dd70eb7,"fix corner case in `merge_vars` (#4455)

fixes #4454",2020-12-25 19:27:05+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/bb45f48ab74c25a108bb480ca5dd24f94599a35a/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/f345175bc2aef3cb9d3ceb6ec241cf191dd70eb7/lib/compress.js,"@@ -5187,7 +5187,7 @@ merge(Compressor.prototype, {
             } else if ((ldef = self.variables.get(def.name)) !== def) {
                 if (ldef && root === segment) references[ldef.id] = false;
                 return references[def.id] = false;
-            } else if (compressor.exposed(def) || sym.name == ""arguments"") {
+            } else if (compressor.exposed(def) || sym.name == ""arguments"" || sym.name == ""await"") {
                 return references[def.id] = false;
             } else {
                 var refs = declarations.get(def.id) || [];
",5190,"} else if (compressor.exposed(def) || sym.name == ""arguments"") {","} else if (compressor.exposed(def) || sym.name == ""arguments"" || sym.name == ""await"") {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/311c074622e0aabbd79b0d701c19f21b8b093b77,311c074622e0aabbd79b0d701c19f21b8b093b77,"fix corner case in `functions` (#4488)

fixes #4487",2021-01-01 10:39:40+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/a10c7793bb282a4023337c08c623b7607921655f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/311c074622e0aabbd79b0d701c19f21b8b093b77/lib/compress.js,"@@ -5659,7 +5659,7 @@ merge(Compressor.prototype, {
                             var defun = make_node(AST_Defun, def, def.value);
                             defun.name = make_node(AST_SymbolDefun, def.name, def.name);
                             var name_def = def.name.scope.resolve().def_function(defun.name);
-                            if (old_def) old_def.references.forEach(function(node) {
+                            if (old_def) old_def.forEach(function(node) {
                                 node.name = name_def.name;
                                 node.thedef = name_def;
                                 node.reference({});
",5662,if (old_def) old_def.references.forEach(function(node) {,if (old_def) old_def.forEach(function(node) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/1e831df1f6a39ccc043384f04863aea58dbd7d9c,1e831df1f6a39ccc043384f04863aea58dbd7d9c,"fix corner case in `side_effects` (#4541)

fixes #4540",2021-01-12 09:12:43+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/c12486bab4e445144968635e16b96943ed98b8c1/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/1e831df1f6a39ccc043384f04863aea58dbd7d9c/lib/compress.js,"@@ -8226,7 +8226,7 @@ merge(Compressor.prototype, {
             if (compressor.option(""side_effects"")
                 && can_drop
                 && all(fn.body, is_empty)
-                && (fn !== exp || fn_name_unused(fn, compressor))
+                && (fn === exp ? fn_name_unused(fn, compressor) : !has_default && !has_destructured)
                 && !(is_arrow(fn) && fn.value)) {
                 return make_sequence(self, convert_args()).optimize(compressor);
             }
",8229,"&& (fn !== exp || fn_name_unused(fn, compressor))","&& (fn === exp ? fn_name_unused(fn, compressor) : !has_default && !has_destructured)"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e23a10f7f96cda932c605988d2d99bb5225d18a5,e23a10f7f96cda932c605988d2d99bb5225d18a5,"fix corner case in `loops` (#4565)

fixes #4564",2021-01-18 06:36:59+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/884ec4e8a5dc83aa8897bfa7bf49034907311e47/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/e23a10f7f96cda932c605988d2d99bb5225d18a5/lib/compress.js,"@@ -6169,7 +6169,7 @@ merge(Compressor.prototype, {
                 var def = sym.definition();
                 if (def.scope !== self) {
                     var d = find_variable(sym.name);
-                    if ((d && d.redefined() || d) === def) return;
+                    if (d === def || d && d.redefined() === def) return;
                 }
                 node.object.walk(tw);
                 return true;
",6172,if ((d && d.redefined() || d) === def) return;,if (d === def || d && d.redefined() === def) return;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e23a10f7f96cda932c605988d2d99bb5225d18a5,e23a10f7f96cda932c605988d2d99bb5225d18a5,"fix corner case in `loops` (#4565)

fixes #4564",2021-01-18 06:36:59+08:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/884ec4e8a5dc83aa8897bfa7bf49034907311e47/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/e23a10f7f96cda932c605988d2d99bb5225d18a5/test/reduce.js,"@@ -666,7 +666,7 @@ function has_loopcontrol(body, loop, label) {
 }
 
 function is_error(result) {
-    return typeof result == ""object"" && typeof result.name == ""string"" && typeof result.message == ""string"";
+    return result && typeof result.name == ""string"" && typeof result.message == ""string"";
 }
 
 function is_timed_out(result) {
",669,"return typeof result == ""object"" && typeof result.name == ""string"" && typeof result.message == ""string"";","return result && typeof result.name == ""string"" && typeof result.message == ""string"";"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b57bae4b9e528ec7aeea7fd5768295a559cb5e5d,b57bae4b9e528ec7aeea7fd5768295a559cb5e5d,"fix corner case in `reduce_vars` (#4569)

fixes #4568",2021-01-19 06:34:48+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/e23a10f7f96cda932c605988d2d99bb5225d18a5/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/b57bae4b9e528ec7aeea7fd5768295a559cb5e5d/lib/compress.js,"@@ -9733,7 +9733,7 @@ merge(Compressor.prototype, {
                         single_use = false;
                     }
                     if (single_use) fixed.parent_scope = self.scope;
-                } else if (!fixed || !fixed.is_constant_expression()) {
+                } else if (!fixed || !fixed.is_constant_expression() || fixed.drop_side_effect_free(compressor)) {
                     single_use = false;
                 }
             }
",9736,} else if (!fixed || !fixed.is_constant_expression()) {,} else if (!fixed || !fixed.is_constant_expression() || fixed.drop_side_effect_free(compressor)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/90ec46824063450d88e04235df276a89e7025b77,90ec46824063450d88e04235df276a89e7025b77,"fix corner case in `dead_code` (#4571)

fixes #4570",2021-01-19 09:33:57+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/994293e97229110f676dc72ad68b6b2d8a015394/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/90ec46824063450d88e04235df276a89e7025b77/lib/compress.js,"@@ -9987,7 +9987,7 @@ merge(Compressor.prototype, {
                 var scope = def.scope.resolve();
                 var local = scope === compressor.find_parent(AST_Lambda);
                 var level = 0, node;
-                parent = self;
+                parent = compressor.self();
                 do {
                     node = parent;
                     parent = compressor.parent(level++);
",9990,parent = self;,parent = compressor.self();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f87e7be12c7857ec0fc772a9ea4db6d24b5e3551,f87e7be12c7857ec0fc772a9ea4db6d24b5e3551,"fix corner case in `reduce_vars` (#4582)

fixes #4581",2021-01-23 02:14:53+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/c0614654d9d6730fa46e010b6f9ad41206144730/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/f87e7be12c7857ec0fc772a9ea4db6d24b5e3551/lib/compress.js,"@@ -719,7 +719,7 @@ merge(Compressor.prototype, {
             var fn = this;
             fn.inlined = false;
             var iife = tw.parent();
-            var hit = fn instanceof AST_AsyncFunction;
+            var hit = is_async(fn);
             var aborts = false;
             fn.walk(new TreeWalker(function(node) {
                 if (hit) return aborts = true;
",722,var hit = fn instanceof AST_AsyncFunction;,var hit = is_async(fn);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d0bb1476397d2cf6f240267aa003fe6edc445683,d0bb1476397d2cf6f240267aa003fe6edc445683,"fix corner case in `inline` (#4596)

fixes #4595",2021-01-27 01:30:05+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4723b4541e08fe9bdafbcae723e8e9cca65fa83f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/d0bb1476397d2cf6f240267aa003fe6edc445683/lib/compress.js,"@@ -8270,7 +8270,7 @@ merge(Compressor.prototype, {
             if (can_inline
                 && !fn.uses_arguments
                 && !fn.pinned()
-                && !(fn.name && fn instanceof AST_Function)
+                && !(fn.name && is_function(fn))
                 && (exp === fn || !recursive_ref(compressor, def = exp.definition())
                     && fn.is_constant_expression(find_scope(compressor)))
                 && !has_spread
",8273,&& !(fn.name && fn instanceof AST_Function),&& !(fn.name && is_function(fn))
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/739fa266f80802f75838cc4053e615b27abcf361,739fa266f80802f75838cc4053e615b27abcf361,"fix corner case in `pure_getters` (#4615)

fixes #4614",2021-02-05 09:03:51+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/da24dfb59ea9c67d98f39daab4299b75c15978ea/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/739fa266f80802f75838cc4053e615b27abcf361/lib/compress.js,"@@ -3441,7 +3441,7 @@ merge(Compressor.prototype, {
             if (is_undeclared_ref(this) && this.is_declared(compressor)) return false;
             if (this.is_immutable()) return false;
             var def = this.definition();
-            if (is_arguments(def) && all(def.scope.argnames, function(argname) {
+            if (is_arguments(def) && !def.scope.rest && all(def.scope.argnames, function(argname) {
                 return argname instanceof AST_SymbolFunarg;
             })) return def.scope.uses_arguments > 2;
             var fixed = this.fixed_value();
",3444,"if (is_arguments(def) && all(def.scope.argnames, function(argname) {","if (is_arguments(def) && !def.scope.rest && all(def.scope.argnames, function(argname) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c44b6399c30b043f9bf687ce9b44458abc211d80,c44b6399c30b043f9bf687ce9b44458abc211d80,"fix corner case in `side_effects` (#4622)

fixes #4621",2021-02-07 22:40:41+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/522cceeccf7f66bffaa71f60a678b3fdfede94bf/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/c44b6399c30b043f9bf687ce9b44458abc211d80/lib/compress.js,"@@ -8295,7 +8295,7 @@ merge(Compressor.prototype, {
                 if (has_arg_refs(argname)) return false;
             }
             return true;
-        });
+        }) && !(fn.rest instanceof AST_Destructured && has_arg_refs(fn.rest));
         var can_inline = can_drop && compressor.option(""inline"") && !self.is_expr_pure(compressor);
         if (can_inline && stat instanceof AST_Return) {
             var value = stat.value;
",8298,});,}) && !(fn.rest instanceof AST_Destructured && has_arg_refs(fn.rest));
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5e6307974fa2b1e7972ab8c58b636eaed47a54fb,5e6307974fa2b1e7972ab8c58b636eaed47a54fb,"fix corner case in `collapse_vars` (#4634)

fixes #4633",2021-02-10 08:45:36+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/228cdf8e7e1dc472813f7def780b8608a4f5f485/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/5e6307974fa2b1e7972ab8c58b636eaed47a54fb/lib/compress.js,"@@ -2009,7 +2009,7 @@ merge(Compressor.prototype, {
                     };
                     var tw = new TreeWalker(function(node) {
                         if (!arg) return true;
-                        if (has_await(node)) {
+                        if (has_await(node) || node instanceof AST_Yield) {
                             arg = null;
                             return true;
                         }
",2012,if (has_await(node)) {,if (has_await(node) || node instanceof AST_Yield) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a6bb66931bfdd04d6ce05b640d89a8deff7ca3de,a6bb66931bfdd04d6ce05b640d89a8deff7ca3de,improve fix for #4325 (#4649),2021-02-14 02:24:57+08:00,keep_fargs.js,https://github.com/mishoo/UglifyJS2/raw/766742e1d35027a3ef4a99115c3fc9fabd212537/test/compress/keep_fargs.js,https://github.com/mishoo/UglifyJS2/raw/a6bb66931bfdd04d6ce05b640d89a8deff7ca3de/test/compress/keep_fargs.js,"@@ -438,7 +438,7 @@ issue_2506: {
         function f0(bar) {
             (function() {
                 (function() {
-                    if (false <= NaN & this >> 1 >= 0)
+                    if (false <= 0/0 & this >> 1 >= 0)
                         c++;
                 })(c++);
             })();
",441,if (false <= NaN & this >> 1 >= 0),if (false <= 0/0 & this >> 1 >= 0)
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/6d7ab63a6600c65958f4788dee6da5b2ea43476c,6d7ab63a6600c65958f4788dee6da5b2ea43476c,"fix corner cases in `sequences` (#4690)

fixes #4689",2021-02-25 12:48:40+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/822b1da5d2be26245baa555e75bd70a71d3be506/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/6d7ab63a6600c65958f4788dee6da5b2ea43476c/lib/compress.js,"@@ -3118,7 +3118,7 @@ merge(Compressor.prototype, {
                             }
                         }
                     } else if (stat instanceof AST_ForIn) {
-                        stat.object = cons_seq(stat.object);
+                        if (!is_lexical_definition(stat.init)) stat.object = cons_seq(stat.object);
                     } else if (stat instanceof AST_If) {
                         stat.condition = cons_seq(stat.condition);
                     } else if (stat instanceof AST_Switch) {
",3121,stat.object = cons_seq(stat.object);,if (!is_lexical_definition(stat.init)) stat.object = cons_seq(stat.object);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b1e05fd48afd9aceaa00cc621a8f6ac22c097398,b1e05fd48afd9aceaa00cc621a8f6ac22c097398,"fix corner case in `inline` & `sequences` (#4718)

fixes #4717",2021-03-02 17:39:34+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/23b51287aa31630c5454fecb5991fd18f7528366/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/b1e05fd48afd9aceaa00cc621a8f6ac22c097398/lib/compress.js,"@@ -3126,7 +3126,7 @@ merge(Compressor.prototype, {
                 if (prev) {
                     if (stat instanceof AST_Exit) {
                         if (stat.value || !in_async_generator(scope)) {
-                            stat.value = cons_seq(stat.value || make_node(AST_Undefined, stat)).transform(compressor);
+                            stat.value = cons_seq(stat.value || make_node(AST_Undefined, stat)).optimize(compressor);
                         }
                     } else if (stat instanceof AST_For) {
                         if (!(stat.init instanceof AST_Definitions)) {
",3129,"stat.value = cons_seq(stat.value || make_node(AST_Undefined, stat)).transform(compressor);","stat.value = cons_seq(stat.value || make_node(AST_Undefined, stat)).optimize(compressor);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/077512d1515d9fbd4e19bce79be75a09df8d5619,077512d1515d9fbd4e19bce79be75a09df8d5619,"fix corner case in `inline` (#4754)

fixes #4753",2021-03-08 12:38:53+08:00,ast.js,https://github.com/mishoo/UglifyJS2/raw/e4848a7f5a819f78515c487e64d46de3c3d2d743/lib/ast.js,https://github.com/mishoo/UglifyJS2/raw/077512d1515d9fbd4e19bce79be75a09df8d5619/lib/ast.js,"@@ -139,7 +139,7 @@ var AST_Node = DEFNODE(""Node"", ""start end"", {
 }, null);
 
 (AST_Node.log_function = function(fn, verbose) {
-    if (!fn) {
+    if (typeof fn != ""function"") {
         AST_Node.info = AST_Node.warn = noop;
         return;
     }
",142,if (!fn) {,"if (typeof fn != ""function"") {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/077512d1515d9fbd4e19bce79be75a09df8d5619,077512d1515d9fbd4e19bce79be75a09df8d5619,"fix corner case in `inline` (#4754)

fixes #4753",2021-03-08 12:38:53+08:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/e4848a7f5a819f78515c487e64d46de3c3d2d743/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/077512d1515d9fbd4e19bce79be75a09df8d5619/lib/parse.js,"@@ -1743,7 +1743,7 @@ function parse($TEXT, options) {
                 name: ""new.target"",
                 start: start,
                 end: prev(),
-            })
+            });
         }
         var newexp = expr_atom(false), args;
         if (is(""punc"", ""("")) {
",1746,}),});
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/e821787095d856448940ab93a7a03febb7e644de,e821787095d856448940ab93a7a03febb7e644de,fix corner case in `reduce_vars` (#4782),2021-03-16 08:05:01+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/aa6e33e2085da5ee9254910726a5bd7caac43dcc/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/e821787095d856448940ab93a7a03febb7e644de/lib/compress.js,"@@ -10324,7 +10324,7 @@ merge(Compressor.prototype, {
                         single_use = false;
                     } else if (fixed.name && fixed.name.definition() !== def) {
                         single_use = false;
-                    } else if (fixed.parent_scope !== self.scope.resolve() || is_funarg(def)) {
+                    } else if (fixed.parent_scope !== self.scope || is_funarg(def)) {
                         single_use = fixed.is_constant_expression(self.scope);
                         if (single_use == ""f"") {
                             var scope = self.scope;
",10327,} else if (fixed.parent_scope !== self.scope.resolve() || is_funarg(def)) {,} else if (fixed.parent_scope !== self.scope || is_funarg(def)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9a9543013c9d56cfc9593893fb9bfdff2aaa0307,9a9543013c9d56cfc9593893fb9bfdff2aaa0307,"fix corner case in `functions` (#4789)

fixes #4788",2021-03-16 20:58:51+08:00,hoist_vars.js,https://github.com/mishoo/UglifyJS2/raw/b98ce6c84fcd7cc5203aa0657b216e52103ca9e4/test/compress/hoist_vars.js,https://github.com/mishoo/UglifyJS2/raw/9a9543013c9d56cfc9593893fb9bfdff2aaa0307/test/compress/hoist_vars.js,"@@ -153,7 +153,7 @@ issue_4487: {
     }
     expect: {
         function a() {
-            var a = console.log(typeof a);
+            var f = console.log(typeof f);
         }
         a();
     }
",156,var a = console.log(typeof a);,var f = console.log(typeof f);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3016a78d85025e435c55565e645835986db8c98f,3016a78d85025e435c55565e645835986db8c98f,"fix corner case in `reduce_vars` (#4802)

fixes #4801",2021-03-18 23:58:35+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/2508481e33271cb9a402401eecd6a51b2701c265/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/3016a78d85025e435c55565e645835986db8c98f/lib/compress.js,"@@ -10436,7 +10436,7 @@ merge(Compressor.prototype, {
                     } else {
                         value = fixed.optimize(compressor);
                     }
-                    if (value === fixed) value = value.transform(new TreeTransformer(function(node, descend) {
+                    value = value.transform(new TreeTransformer(function(node, descend) {
                         if (node instanceof AST_Scope) return node;
                         node = node.clone();
                         descend(node, this);
",10439,"if (value === fixed) value = value.transform(new TreeTransformer(function(node, descend) {","value = value.transform(new TreeTransformer(function(node, descend) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8ea1ced389776400cf507cebc48c89f1865c27aa,8ea1ced389776400cf507cebc48c89f1865c27aa,"document various v8 bugs (#4808)

closes #4805",2021-03-21 06:33:45+08:00,classes.js,https://github.com/mishoo/UglifyJS2/raw/24619daf684f4ed136616fad616bfb01238d1d30/test/compress/classes.js,https://github.com/mishoo/UglifyJS2/raw/8ea1ced389776400cf507cebc48c89f1865c27aa/test/compress/classes.js,"@@ -725,7 +725,7 @@ unused_await: {
             (() => console.log(await))();
         })();
     }
-    expect_stdout: ""PASS""
+    expect_stdout: true
     node_version: "">=12""
 }
 
",728,"expect_stdout: ""PASS""",expect_stdout: true
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/78e3936cd489b6a764027f35c27e8438c1bee132,78e3936cd489b6a764027f35c27e8438c1bee132,"fix corner case in `inline` (#4818)

fixes #4817",2021-03-23 22:33:24+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/e7be38b42ab8e18d003589f793c8388e072ba429/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/78e3936cd489b6a764027f35c27e8438c1bee132/lib/compress.js,"@@ -8787,7 +8787,7 @@ merge(Compressor.prototype, {
         var can_inline = can_drop && compressor.option(""inline"") && !self.is_expr_pure(compressor);
         if (can_inline && stat instanceof AST_Return) {
             var value = stat.value;
-            if (exp === fn && (!value || value.is_constant_expression()) && safe_from_await_yield(fn)) {
+            if (exp === fn && !fn.name && (!value || value.is_constant_expression()) && safe_from_await_yield(fn)) {
                 return make_sequence(self, convert_args(value)).optimize(compressor);
             }
         }
",8790,if (exp === fn && (!value || value.is_constant_expression()) && safe_from_await_yield(fn)) {,if (exp === fn && !fn.name && (!value || value.is_constant_expression()) && safe_from_await_yield(fn)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ca49f6f41a4b515b60a4b5784ae650b1b6cf0322,ca49f6f41a4b515b60a4b5784ae650b1b6cf0322,"fix corner case in `collapse_vars` (#4853)

fixes #4852",2021-04-08 17:50:40+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/8a828226547bcb898b95b69a3f55f6a0dc74d592/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/ca49f6f41a4b515b60a4b5784ae650b1b6cf0322/lib/compress.js,"@@ -1866,7 +1866,7 @@ merge(Compressor.prototype, {
                             return null;
                         }
                       default:
-                        return;
+                        return handle_custom_scan_order(node, multi_replacer);
                     }
                 }
                 // Replace variable when found
",1869,return;,"return handle_custom_scan_order(node, multi_replacer);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/324587f76980114e030c59165a60bd285ca05be0,324587f76980114e030c59165a60bd285ca05be0,"upgrade AST<->ESTree translation (#4870)

fixes #968",2021-04-26 04:23:52+08:00,parse.js,https://github.com/mishoo/UglifyJS2/raw/80efaa2f331b2c3f3ec35218d1086830a39bec93/lib/parse.js,https://github.com/mishoo/UglifyJS2/raw/324587f76980114e030c59165a60bd285ca05be0/lib/parse.js,"@@ -2526,7 +2526,7 @@ function parse($TEXT, options) {
         while (!is(""eof""))
             body.push(statement());
         S.input.pop_directives_stack();
-        var end = prev();
+        var end = prev() || start;
         var toplevel = options.toplevel;
         if (toplevel) {
             toplevel.body = toplevel.body.concat(body);
",2529,var end = prev();,var end = prev() || start;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ee9ceb79ca61c8adb9bbf7e82459ab0bbe3aaced,ee9ceb79ca61c8adb9bbf7e82459ab0bbe3aaced,"fix corner case in `collapse_vars` (#4917)

fixes #4916",2021-05-08 02:34:27+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/ac1f7d689b7dbd6311a6e8eaa633072db9d9703c/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/ee9ceb79ca61c8adb9bbf7e82459ab0bbe3aaced/lib/compress.js,"@@ -1490,7 +1490,7 @@ merge(Compressor.prototype, {
                 lhs = lhs.fixed_value();
             }
             if (!lhs) return true;
-            if (lhs.is_constant()) return true;
+            if (lhs.tail_node().is_constant()) return true;
             return is_lhs_read_only(lhs, compressor);
         }
         if (lhs instanceof AST_SymbolRef) {
",1493,if (lhs.is_constant()) return true;,if (lhs.tail_node().is_constant()) return true;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a7698f88455b3bfc40b6543c812e6a795f00cd99,a7698f88455b3bfc40b6543c812e6a795f00cd99,"fix corner case in `reduce_vars` (#4938)

fixes #4937",2021-05-15 22:38:09+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/bbed9b13b12a5bdcaad414e4e2ccd469001eb0e7/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/a7698f88455b3bfc40b6543c812e6a795f00cd99/lib/compress.js,"@@ -1143,7 +1143,7 @@ merge(Compressor.prototype, {
             var parent = tw.parent();
             if (parent instanceof AST_ExportDeclaration || parent instanceof AST_ExportDefault) def.single_use = false;
             if (tw.defun_visited[def.id]) return true;
-            if (tw.defun_ids[def.id] !== tw.safe_ids) return true;
+            if (def.init === fn && tw.defun_ids[def.id] !== tw.safe_ids) return true;
             tw.defun_visited[def.id] = true;
             fn.inlined = false;
             push(tw);
",1146,if (tw.defun_ids[def.id] !== tw.safe_ids) return true;,if (def.init === fn && tw.defun_ids[def.id] !== tw.safe_ids) return true;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d6152e6a76908223cace651898e12a3b3c9a445d,d6152e6a76908223cace651898e12a3b3c9a445d,fix corner case in `collapse_vars` (#4946),2021-05-20 05:11:39+08:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/d930c705f6064448c7e6cba8e0e9e8d46d5e3762/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/d6152e6a76908223cace651898e12a3b3c9a445d/test/reduce.js,"@@ -46,7 +46,7 @@ module.exports = function reduce_test(testcase, minify_options, reduce_options)
     if (verbose) {
         log(""// Node.js "" + process.version + "" on "" + os.platform() + "" "" + os.arch());
     }
-    if (differs.error && [ ""DefaultsError"", ""SyntaxError"" ].indexOf(differs.error.name) < 0) {
+    if (differs && differs.error && [ ""DefaultsError"", ""SyntaxError"" ].indexOf(differs.error.name) < 0) {
         test_for_diff = test_minify;
         differs = test_for_diff(testcase, minify_options, result_cache, max_timeout);
     }
",49,"if (differs.error && [ ""DefaultsError"", ""SyntaxError"" ].indexOf(differs.error.name) < 0) {","if (differs && differs.error && [ ""DefaultsError"", ""SyntaxError"" ].indexOf(differs.error.name) < 0) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/d2a45ba441ed6975021b3524215c01a011dfb46a,d2a45ba441ed6975021b3524215c01a011dfb46a,"fix corner case in parsing private field/method (#4952)

fixes #4951",2021-05-22 10:12:37+08:00,sandbox.js,https://github.com/mishoo/UglifyJS2/raw/de376c3d3316fc4a33a876793eb4d693422415a0/test/sandbox.js,https://github.com/mishoo/UglifyJS2/raw/d2a45ba441ed6975021b3524215c01a011dfb46a/test/sandbox.js,"@@ -28,7 +28,7 @@ exports.run_code = semver.satisfies(process.version, ""0.8"") ? function(code, top
     if ([
         /\basync[ \t]*\([\s\S]*?\)[ \t]*=>/,
         /\b(async[ \t]+function|setImmediate|setInterval|setTimeout)\b/,
-        /\basync([ \t]+|[ \t]*\*[ \t]*)[^\s()[\]{},.&|!~=*%/+-]+(\s*\(|[ \t]*=>)/,
+        /\basync([ \t]+|[ \t]*#|[ \t]*\*[ \t]*)[^\s()[\]{},.&|!~=*%/+-]+(\s*\(|[ \t]*=>)/,
     ].some(function(pattern) {
         return pattern.test(code);
     })) {
",31,"/\basync([ \t]+|[ \t]*\*[ \t]*)[^\s()[\]{},.&|!~=*%/+-]+(\s*\(|[ \t]*=>)/,","/\basync([ \t]+|[ \t]*#|[ \t]*\*[ \t]*)[^\s()[\]{},.&|!~=*%/+-]+(\s*\(|[ \t]*=>)/,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/eb08fed120ad1d2dcd41a2ae03cec3d3b2885c7b,eb08fed120ad1d2dcd41a2ae03cec3d3b2885c7b,"fix corner case in `merge_vars` (#4957)

fixes #4956",2021-05-24 09:56:02+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/8b0c8365150c1471eef98ed37e33bb66a51c3a45/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/eb08fed120ad1d2dcd41a2ae03cec3d3b2885c7b/lib/compress.js,"@@ -5789,7 +5789,7 @@ merge(Compressor.prototype, {
                 if (!tail_refs) continue;
                 if (head_refs.start.block !== tail_refs.start.block
                     || !mergeable(head_refs, tail_refs)
-                    || head_refs.start.loop && !mergeable(tail_refs, head_refs)
+                    || (head_refs.start.loop || !same_scope(def)) && !mergeable(tail_refs, head_refs)
                     || !all(tail_refs, function(sym) {
                         return sym.scope.find_variable(def.name) === def;
                     })) {
",5792,"|| head_refs.start.loop && !mergeable(tail_refs, head_refs)","|| (head_refs.start.loop || !same_scope(def)) && !mergeable(tail_refs, head_refs)"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/eb08fed120ad1d2dcd41a2ae03cec3d3b2885c7b,eb08fed120ad1d2dcd41a2ae03cec3d3b2885c7b,"fix corner case in `merge_vars` (#4957)

fixes #4956",2021-05-24 09:56:02+08:00,sandbox.js,https://github.com/mishoo/UglifyJS2/raw/8b0c8365150c1471eef98ed37e33bb66a51c3a45/test/sandbox.js,https://github.com/mishoo/UglifyJS2/raw/eb08fed120ad1d2dcd41a2ae03cec3d3b2885c7b/test/sandbox.js,"@@ -27,7 +27,7 @@ exports.run_code = semver.satisfies(process.version, ""0.8"") ? function(code, top
 } : semver.satisfies(process.version, ""<0.12"") ? run_code_vm : function(code, toplevel, timeout) {
     if ([
         /\basync[ \t]*\([\s\S]*?\)[ \t]*=>/,
-        /\b(async[ \t]+function|setImmediate|setInterval|setTimeout)\b/,
+        /\b(async[ \t]+function|Promise|setImmediate|setInterval|setTimeout)\b/,
         /\basync([ \t]+|[ \t]*#|[ \t]*\*[ \t]*)[^\s()[\]{},.&|!~=*%/+-]+(\s*\(|[ \t]*=>)/,
     ].some(function(pattern) {
         return pattern.test(code);
",30,"/\b(async[ \t]+function|setImmediate|setInterval|setTimeout)\b/,","/\b(async[ \t]+function|Promise|setImmediate|setInterval|setTimeout)\b/,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/21fc8f4630bccdb8b0a33747c2de8fd377e83138,21fc8f4630bccdb8b0a33747c2de8fd377e83138,"fix corner case in `switches` (#5011)

fixes #5010",2021-06-15 20:59:53+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/bf76e357723daa4fc00004a10b2b3de82a2bf33e/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/21fc8f4630bccdb8b0a33747c2de8fd377e83138/lib/compress.js,"@@ -8506,7 +8506,7 @@ merge(Compressor.prototype, {
             }));
             return make_node(AST_BlockStatement, self, { body: decl }).optimize(compressor);
         }
-        if (exact_match ? !branch.expression.has_side_effects(compressor) : branch === default_branch) {
+        if (branch === default_branch || branch === exact_match && !branch.expression.has_side_effects(compressor)) {
             while (branch = body[body.length - 2]) {
                 if (branch instanceof AST_Default) break;
                 if (!has_declarations_only(branch)) break;
",8509,if (exact_match ? !branch.expression.has_side_effects(compressor) : branch === default_branch) {,if (branch === default_branch || branch === exact_match && !branch.expression.has_side_effects(compressor)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7880568d157fcd1c15c0f392e4646e01de363afd,7880568d157fcd1c15c0f392e4646e01de363afd,"fix corner case in `switches` (#5013)

fixes #5012",2021-06-15 23:51:53+08:00,merge_vars.js,https://github.com/mishoo/UglifyJS2/raw/21fc8f4630bccdb8b0a33747c2de8fd377e83138/test/compress/merge_vars.js,https://github.com/mishoo/UglifyJS2/raw/7880568d157fcd1c15c0f392e4646e01de363afd/test/compress/merge_vars.js,"@@ -3075,7 +3075,7 @@ issue_4237_2: {
         console.log(function(a) {
             do {
                 switch (0) {
-                  case 0:
+                  default:
                     var b = a++;
                     if (b)
                         return ""FAIL"";
",3078,case 0:,default:
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/95090dbf24dbda120924eb3cd003f80e0128f52a,95090dbf24dbda120924eb3cd003f80e0128f52a,"fix corner case in `side_effects` (#5024)

fixes #5023",2021-06-23 00:36:07+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/7c5b6f349e5818a13ccb93c88b79a607d236bd0b/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/95090dbf24dbda120924eb3cd003f80e0128f52a/lib/compress.js,"@@ -5275,7 +5275,7 @@ merge(Compressor.prototype, {
                 || any(this.body, compressor);
         });
         def(AST_SymbolRef, function(compressor) {
-            return !this.is_declared(compressor);
+            return !this.is_declared(compressor) || !can_drop_symbol(this, compressor);
         });
         def(AST_Template, function(compressor) {
             if (any(this.expressions, compressor)) return true;
",5278,return !this.is_declared(compressor);,"return !this.is_declared(compressor) || !can_drop_symbol(this, compressor);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,default-values.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/default-values.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/default-values.js,"@@ -1709,7 +1709,7 @@ issue_4588_2_evaluate: {
 
 issue_4817: {
     options = {
-        ie8: true,
+        ie: true,
         inline: true,
         unused: true,
     }
",1712,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,destructured.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/destructured.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/destructured.js,"@@ -2029,7 +2029,7 @@ issue_4321: {
 
 issue_4323: {
     options = {
-        ie8: true,
+        ie: true,
         inline: true,
         merge_vars: true,
         reduce_vars: true,
",2032,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,issue-1446.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/issue-1446.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/issue-1446.js,"@@ -24,7 +24,7 @@ typeof_eq_undefined: {
 typeof_eq_undefined_ie8: {
     options = {
         comparisons: true,
-        ie8: true,
+        ie: true,
         typeofs: true,
     }
     input: {
",27,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,keep_fargs.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/keep_fargs.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/keep_fargs.js,"@@ -951,7 +951,7 @@ function_name_mangle_ie8: {
         unused: true,
     }
     mangle = {
-        ie8: true,
+        ie: true,
         toplevel: true,
     }
     input: {
",954,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,merge_vars.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/merge_vars.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/merge_vars.js,"@@ -359,7 +359,7 @@ issue_4107: {
 
 issue_4109: {
     options = {
-        ie8: true,
+        ie: true,
         merge_vars: true,
         toplevel: true,
     }
",362,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,nullish.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/nullish.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/nullish.js,"@@ -265,7 +265,7 @@ de_morgan_2e: {
 issue_4679: {
     options = {
         comparisons: true,
-        ie8: true,
+        ie: true,
     }
     input: {
         var a;
",268,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,rests.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/compress/rests.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/compress/rests.js,"@@ -833,7 +833,7 @@ issue_4562: {
 issue_4575: {
     options = {
         collapse_vars: true,
-        ie8: true,
+        ie: true,
         reduce_vars: true,
         rests: true,
         unused: true,
",836,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ef5f7fc25e93833396540cf7479685b241bd1b8f,ef5f7fc25e93833396540cf7479685b241bd1b8f,"workaround various IE quirks (#5084)

fixes #5081",2021-07-17 20:20:56+08:00,let.js,https://github.com/mishoo/UglifyJS2/raw/902997b73dd0a6f3a8ada67f5e8bbfed000f5282/test/mocha/let.js,https://github.com/mishoo/UglifyJS2/raw/ef5f7fc25e93833396540cf7479685b241bd1b8f/test/mocha/let.js,"@@ -41,7 +41,7 @@ describe(""let"", function() {
         }
         var result = UglifyJS.minify(s, {
             compress: false,
-            ie8: true,
+            ie: true,
             mangle: {
                 properties: true,
             }
",44,"ie8: true,","ie: true,"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8926a2f327f9954e856161169a92a4190f0318e4,8926a2f327f9954e856161169a92a4190f0318e4,"fix corner case in `unused` (#5090)

fixes #5089",2021-07-21 01:10:58+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/85968dee5453dfb3cc0cb5c67f363eccd58b08c6/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/8926a2f327f9954e856161169a92a4190f0318e4/lib/compress.js,"@@ -7276,6 +7276,7 @@ merge(Compressor.prototype, {
             }
 
             function retain_lhs(node) {
+                if (node instanceof AST_DefaultValue) return retain_lhs(node.name);
                 if (node instanceof AST_Destructured) {
                     if (value === null) {
                         value = make_node(AST_Number, node, { value: 0 });
@@ -7289,7 +7290,6 @@ merge(Compressor.prototype, {
                     }
                     return make_node(AST_DestructuredObject, node, { properties: [] });
                 }
-                if (node instanceof AST_DefaultValue) node = node.name;
                 node.__unused = null;
                 return node;
             }
",7279,if (node instanceof AST_DefaultValue) return retain_lhs(node.name);,if (node instanceof AST_DefaultValue) node = node.name;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/fdcc6d3a9c74f55b21ceb59953ee90369d3e5e13,fdcc6d3a9c74f55b21ceb59953ee90369d3e5e13,"fix corner case in `dead_code` (#5107)

fixes #5106",2021-08-06 08:35:11+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4fe2cac35ecd8fc5a69b1122cf536ee148340b3d/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/fdcc6d3a9c74f55b21ceb59953ee90369d3e5e13/lib/compress.js,"@@ -11472,7 +11472,7 @@ merge(Compressor.prototype, {
                 var local = scope === compressor.find_parent(AST_Lambda);
                 var level = 0, node;
                 parent = compressor.self();
-                do {
+                if (!(scope.uses_arguments && is_funarg(def)) || compressor.has_directive(""use strict"")) do {
                     node = parent;
                     parent = compressor.parent(level++);
                     if (parent instanceof AST_Assign) {
",11475,do {,"if (!(scope.uses_arguments && is_funarg(def)) || compressor.has_directive(""use strict"")) do {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c8b0f685ee62fe4920b2b4bdaa0d6c17c8a4e18f,c8b0f685ee62fe4920b2b4bdaa0d6c17c8a4e18f,"fix corner case in `merge_vars` (#5143)

fixes #5142",2021-10-05 00:42:46+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/87b99162fb124bb2a12a3a5babbce27096977d14/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/c8b0f685ee62fe4920b2b4bdaa0d6c17c8a4e18f/lib/compress.js,"@@ -5694,7 +5694,7 @@ merge(Compressor.prototype, {
             if (node instanceof AST_Call) {
                 var exp = node.expression;
                 var tail = exp.tail_node();
-                if (!(tail instanceof AST_LambdaExpression)) {
+                if (!is_lambda(tail)) {
                     descend();
                     return mark_expression(exp);
                 }
",5697,if (!(tail instanceof AST_LambdaExpression)) {,if (!is_lambda(tail)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/32ae994f88d4afa9bf4f7cccc8605ece56fdd887,32ae994f88d4afa9bf4f7cccc8605ece56fdd887,fix issues in tests flagged by LGTM (#5150),2021-10-21 02:07:23+08:00,comments.js,https://github.com/mishoo/UglifyJS2/raw/03aec89f609750b7cd854265bab59f841a01822d/test/mocha/comments.js,https://github.com/mishoo/UglifyJS2/raw/32ae994f88d4afa9bf4f7cccc8605ece56fdd887/test/mocha/comments.js,"@@ -191,7 +191,7 @@ describe(""comments"", function() {
     });
 
     it(""Should correctly preserve new lines around comments"", function() {
-        var tests = [
+        [
             [
                 ""// foo"",
                 ""// bar"",
",194,var tests = [,[
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/32ae994f88d4afa9bf4f7cccc8605ece56fdd887,32ae994f88d4afa9bf4f7cccc8605ece56fdd887,fix issues in tests flagged by LGTM (#5150),2021-10-21 02:07:23+08:00,minify.js,https://github.com/mishoo/UglifyJS2/raw/03aec89f609750b7cd854265bab59f841a01822d/test/mocha/minify.js,https://github.com/mishoo/UglifyJS2/raw/32ae994f88d4afa9bf4f7cccc8605ece56fdd887/test/mocha/minify.js,"@@ -25,7 +25,7 @@ describe(""minify"", function() {
         if (result.error) throw result.error;
         assert.strictEqual(result.code, ""print(42);"");
         assert.strictEqual(JSON.stringify(options), value);
-    })
+    });
     it(""Should skip inherited keys from `files`"", function() {
         var files = Object.create({ skip: this });
         files[0] = ""alert(1 + 1)"";
",28,}),});
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/32ae994f88d4afa9bf4f7cccc8605ece56fdd887,32ae994f88d4afa9bf4f7cccc8605ece56fdd887,fix issues in tests flagged by LGTM (#5150),2021-10-21 02:07:23+08:00,sourcemaps.js,https://github.com/mishoo/UglifyJS2/raw/03aec89f609750b7cd854265bab59f841a01822d/test/mocha/sourcemaps.js,https://github.com/mishoo/UglifyJS2/raw/32ae994f88d4afa9bf4f7cccc8605ece56fdd887/test/mocha/sourcemaps.js,"@@ -362,7 +362,7 @@ describe(""sourcemaps"", function() {
         it(""Should not modify input source map"", function() {
             var orig = get_map();
             var original = JSON.stringify(orig);
-            var map = prepare_map(orig);
+            prepare_map(orig);
             assert.strictEqual(JSON.stringify(orig), original);
         });
         it(""Should copy over original sourcesContent"", function() {
",365,var map = prepare_map(orig);,prepare_map(orig);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/32ae994f88d4afa9bf4f7cccc8605ece56fdd887,32ae994f88d4afa9bf4f7cccc8605ece56fdd887,fix issues in tests flagged by LGTM (#5150),2021-10-21 02:07:23+08:00,sandbox.js,https://github.com/mishoo/UglifyJS2/raw/03aec89f609750b7cd854265bab59f841a01822d/test/sandbox.js,https://github.com/mishoo/UglifyJS2/raw/32ae994f88d4afa9bf4f7cccc8605ece56fdd887/test/sandbox.js,"@@ -278,11 +278,11 @@ function run_code_exec(code, toplevel, timeout) {
         timeout: timeout || 5000,
     });
     if (result.status === 0) return result.stdout;
+    var msg = ("""" + result.stderr).replace(/\r\n/g, ""\n"");
     if (result.error && result.error.code == ""ETIMEDOUT"" || /FATAL ERROR:/.test(msg)) {
         return new Error(""Script execution timed out."");
     }
     if (result.error) return result.error;
-    var msg = result.stderr.replace(/\r\n/g, ""\n"");
     var end = msg.indexOf(""\n\n-----===== UNCAUGHT EXCEPTION =====-----\n\n"");
     var details;
     if (end >= 0) {
",281,"var msg = ("""" + result.stderr).replace(/\r\n/g, ""\n"");","var msg = result.stderr.replace(/\r\n/g, ""\n"");"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/eb93d923574d4059bfabe812e2b1c95f2b347b35,eb93d923574d4059bfabe812e2b1c95f2b347b35,"fix corner case in `awaits` (#5158)

fixes #5157",2021-10-29 23:33:10+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/a0250ec9233a4cf198a27ef9d11468a8a996da7f/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/eb93d923574d4059bfabe812e2b1c95f2b347b35/lib/compress.js,"@@ -10334,7 +10334,7 @@ merge(Compressor.prototype, {
                     do {
                         node = parent;
                         parent = compressor.parent(level++);
-                        if (parent instanceof AST_Try && parent.bfinally && parent.bfinally !== node) {
+                        if (parent instanceof AST_Try && member(node, parent.body)) {
                             drop = false;
                             break;
                         }
",10337,if (parent instanceof AST_Try && parent.bfinally && parent.bfinally !== node) {,"if (parent instanceof AST_Try && member(node, parent.body)) {"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/a841d45bc3acaa10b2b8ca3922227403928bcc6f,a841d45bc3acaa10b2b8ca3922227403928bcc6f,"fix corner case in `awaits` (#5160)

fixes #5159",2021-10-31 23:46:55+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/eb93d923574d4059bfabe812e2b1c95f2b347b35/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/a841d45bc3acaa10b2b8ca3922227403928bcc6f/lib/compress.js,"@@ -10334,7 +10334,7 @@ merge(Compressor.prototype, {
                     do {
                         node = parent;
                         parent = compressor.parent(level++);
-                        if (parent instanceof AST_Try && member(node, parent.body)) {
+                        if (parent instanceof AST_Try && (parent.bfinally || parent.bcatch) !== node) {
                             drop = false;
                             break;
                         }
",10337,"if (parent instanceof AST_Try && member(node, parent.body)) {",if (parent instanceof AST_Try && (parent.bfinally || parent.bcatch) !== node) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/77f7ae5ba2449c38751c444263106603edb587ef,77f7ae5ba2449c38751c444263106603edb587ef,"fix corner case in `join_vars` (#5176)

fixes #5175",2021-11-15 21:35:54+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/2d0f8bcff5ea7a3af615762bfda7dd590041e451/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/77f7ae5ba2449c38751c444263106603edb587ef/lib/compress.js,"@@ -3500,7 +3500,7 @@ merge(Compressor.prototype, {
             var exprs = extract_exprs(body);
             if (!exprs) return;
             var trimmed = false;
-            for (var i = exprs.length; --i >= 0;) {
+            for (var i = exprs.length - (keep || 0); --i >= 0;) {
                 var expr = exprs[i];
                 if (!can_trim(expr)) continue;
                 var tail;
",3503,for (var i = exprs.length; --i >= 0;) {,for (var i = exprs.length - (keep || 0); --i >= 0;) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/bfd0ac7f4bd8d5062b480c904c302a56946d7c2a,bfd0ac7f4bd8d5062b480c904c302a56946d7c2a,"fix corner case in `ie` (#5193)

fixes #5192",2021-11-24 17:29:26+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/1a8f2ecc65896fcbbe8c6b884352f975af444ea0/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/bfd0ac7f4bd8d5062b480c904c302a56946d7c2a/lib/compress.js,"@@ -456,7 +456,7 @@ merge(Compressor.prototype, {
     }
 
     function can_drop_symbol(ref, compressor, keep_lambda) {
-        var def = ref.definition();
+        var def = ref.redef || ref.definition();
         if (ref.in_arg && is_funarg(def)) return false;
         return all(def.orig, function(sym) {
             if (sym instanceof AST_SymbolConst || sym instanceof AST_SymbolLet) {
",459,var def = ref.definition();,var def = ref.redef || ref.definition();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/bab416465f77ab76ad76f21be59481ccae6a342a,bab416465f77ab76ad76f21be59481ccae6a342a,"fix corner case in `conditionals` (#5233)

fixes #5232",2021-12-23 22:25:02+08:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/29a1e7170531320f37026013262193c7a91b1be6/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/bab416465f77ab76ad76f21be59481ccae6a342a/test/reduce.js,"@@ -548,7 +548,7 @@ module.exports = function reduce_test(testcase, minify_options, reduce_options)
             }));
             var before_iterations = testcase;
             for (var c = 0; c < max_iterations; ++c) {
-                if (verbose && pass == 1 && c % 25 == 0) {
+                if (verbose && c % (pass == 1 ? 25 : 100) == 0) {
                     log(""// reduce test pass "" + pass + "", iteration "" + c + "": "" + testcase.length + "" bytes"");
                 }
                 var CHANGED = false;
",551,if (verbose && pass == 1 && c % 25 == 0) {,if (verbose && c % (pass == 1 ? 25 : 100) == 0) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/0a5a1f36879073bd4b33a48b7f7baad197381472,0a5a1f36879073bd4b33a48b7f7baad197381472,"fix corner case in `reduce_vars` (#5325)

fixes #5324",2022-01-29 21:39:30+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/e7d6dd2ea24c1566ae3c79f67d74065ae11bbd7c/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/0a5a1f36879073bd4b33a48b7f7baad197381472/lib/compress.js,"@@ -957,7 +957,7 @@ Compressor.prototype.compress = function(node) {
                             right: node.right,
                         });
                     };
-                    left.fixed.assigns = !fixed || !fixed.assigns ? [] : fixed.assigns.slice();
+                    left.fixed.assigns = !fixed || !fixed.assigns ? [ ld.orig[0] ] : fixed.assigns.slice();
                     left.fixed.assigns.push(node);
                     left.fixed.to_binary = replace_ref(left, fixed);
                 } else {
",960,left.fixed.assigns = !fixed || !fixed.assigns ? [] : fixed.assigns.slice();,left.fixed.assigns = !fixed || !fixed.assigns ? [ ld.orig[0] ] : fixed.assigns.slice();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/104d385ba9a9a24715e8cbe47d76ab71e8532799,104d385ba9a9a24715e8cbe47d76ab71e8532799,"fix corner case in `ie` (#5372)

fixes #5370",2022-03-02 13:52:27+08:00,scope.js,https://github.com/mishoo/UglifyJS2/raw/fdbbef29916f50ba8b98a4b85159e5f100512d8b/lib/scope.js,https://github.com/mishoo/UglifyJS2/raw/104d385ba9a9a24715e8cbe47d76ab71e8532799/lib/scope.js,"@@ -226,7 +226,7 @@ AST_Toplevel.DEFMETHOD(""figure_out_scope"", function(options) {
             defun.def_variable(node);
         } else if (node instanceof AST_SymbolLambda) {
             var def = defun.def_function(node, node.name == ""arguments"" ? undefined : defun);
-            if (options.ie) def.defun = defun.parent_scope.resolve();
+            if (options.ie && node.name != ""arguments"") def.defun = defun.parent_scope.resolve();
         } else if (node instanceof AST_SymbolLet) {
             var def = scope.def_variable(node);
             if (exported) def.exported = true;
",229,if (options.ie) def.defun = defun.parent_scope.resolve();,"if (options.ie && node.name != ""arguments"") def.defun = defun.parent_scope.resolve();"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/c624b437394e0ba909a6cd9c3c4066bdd0240a30,c624b437394e0ba909a6cd9c3c4066bdd0240a30,"fix corner case in `collapse_vars` (#5390)

fixes #5389",2022-03-22 13:05:57+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/a8e040b133a642a461ea5043b3b489daad1a79be/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/c624b437394e0ba909a6cd9c3c4066bdd0240a30/lib/compress.js,"@@ -3269,7 +3269,7 @@ Compressor.prototype.compress = function(node) {
                 if (def.scope.resolve() !== scope) return true;
                 if (modify_toplevel && compressor.exposed(def)) return true;
                 return !all(def.references, function(ref) {
-                    return ref.scope.resolve() === scope;
+                    return ref.scope.resolve(true) === scope;
                 });
             }
 
",3272,return ref.scope.resolve() === scope;,return ref.scope.resolve(true) === scope;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/950609f5788d4e5ed1480b45045f9c73179d3301,950609f5788d4e5ed1480b45045f9c73179d3301,"fix corner case in `inline` (#5415)

fixes #5414",2022-04-13 06:19:37+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4a44d95f09b2fb5788dd897e13ee09ec1d0c9a90/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/950609f5788d4e5ed1480b45045f9c73179d3301/lib/compress.js,"@@ -13382,7 +13382,7 @@ Compressor.prototype.compress = function(node) {
             });
             var body = [];
             fn.variables.each(function(def, name) {
-                if (name == ""arguments"") return;
+                if (!arrow && name == ""arguments"" && def.orig.length == 1) return;
                 names.set(name, true);
                 scope.enclosed.push(def);
                 scope.variables.set(name, def);
",13385,"if (name == ""arguments"") return;","if (!arrow && name == ""arguments"" && def.orig.length == 1) return;"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/89a35f9fcd3587ee52417458326e2ae398708008,89a35f9fcd3587ee52417458326e2ae398708008,"fix corner case in `reduce_vars` (#5435)

fixes #5434",2022-05-06 09:32:47+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/1a4e99dc2d428f644156acd6a14617507948f8c0/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/89a35f9fcd3587ee52417458326e2ae398708008/lib/compress.js,"@@ -649,7 +649,7 @@ Compressor.prototype.compress = function(node) {
             }
             if (!HOP(tw.safe_ids, def.id)) {
                 if (!safe) return false;
-                if (safe.read) {
+                if (safe.read || tw.in_loop) {
                     var scope = tw.find_parent(AST_BlockScope);
                     if (scope instanceof AST_Class) return false;
                     if (def.scope.resolve() !== scope.resolve()) return false;
",652,if (safe.read) {,if (safe.read || tw.in_loop) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/7db2ada880773d72ab585498454d26bcfbee4588,7db2ada880773d72ab585498454d26bcfbee4588,"fix corner case in `hoist_props` (#5442)

fixes #5441",2022-05-16 06:49:09+08:00,varify.js,https://github.com/mishoo/UglifyJS2/raw/e31bbe329a55adbdd37a953597e297c0da279f07/test/compress/varify.js,https://github.com/mishoo/UglifyJS2/raw/7db2ada880773d72ab585498454d26bcfbee4588/test/compress/varify.js,"@@ -111,7 +111,7 @@ hoist_props_const: {
         }
     }
     expect: {
-        var o = 0, o_p = ""PASS"";
+        var o, o_p = ""PASS"";
         console.log(o_p);
     }
     expect_stdout: ""PASS""
",114,"var o = 0, o_p = ""PASS"";","var o, o_p = ""PASS"";"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/27aa85f84bc634430d76f54b9acedbb0b5c3ea57,27aa85f84bc634430d76f54b9acedbb0b5c3ea57,"fix corner cases in `merge_vars` (#5457)

fixes #5456",2022-05-19 06:39:20+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/33c9c48318c7598d3be646534ded2061dbd6121c/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/27aa85f84bc634430d76f54b9acedbb0b5c3ea57/lib/compress.js,"@@ -6184,7 +6184,7 @@ Compressor.prototype.compress = function(node) {
             }
             if (node instanceof AST_Scope) {
                 var in_iife = false;
-                if (node instanceof AST_LambdaExpression && !node.name) {
+                if (node instanceof AST_LambdaExpression && !node.name && !is_async(node) && !is_generator(node)) {
                     var parent = tw.parent();
                     in_iife = parent && parent.TYPE == ""Call"" && parent.expression === node;
                 }
",6187,if (node instanceof AST_LambdaExpression && !node.name) {,if (node instanceof AST_LambdaExpression && !node.name && !is_async(node) && !is_generator(node)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8bc03dc6c47e987815e062abf86508582d7e5de7,8bc03dc6c47e987815e062abf86508582d7e5de7,"fix corner case in `keep_fargs` (#5477)

fixes #5476",2022-05-29 12:10:19+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/2152f00de213f56c5c3e92ff6b0c74c2e1f21726/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/8bc03dc6c47e987815e062abf86508582d7e5de7/test/ufuzz/index.js,"@@ -2329,7 +2329,7 @@ function is_error_tdz(ex) {
 }
 
 function is_error_spread(ex) {
-    return ex.name == ""TypeError"" && /Found non-callable @@iterator| is not iterable| not a function/.test(ex.message);
+    return ex.name == ""TypeError"" && /Found non-callable @@iterator| is not iterable| not a function|Symbol\(Symbol\.iterator\)/.test(ex.message);
 }
 
 function is_error_recursion(ex) {
",2332,"return ex.name == ""TypeError"" && /Found non-callable @@iterator| is not iterable| not a function/.test(ex.message);","return ex.name == ""TypeError"" && /Found non-callable @@iterator| is not iterable| not a function|Symbol\(Symbol\.iterator\)/.test(ex.message);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ad3a331ca3ebb27724e56b30caff5e9dd1af7675,ad3a331ca3ebb27724e56b30caff5e9dd1af7675,"fix corner case in `collapse_vars` (#5482)

fixes #5481",2022-06-02 02:42:39+08:00,index.js,https://github.com/mishoo/UglifyJS2/raw/3c9e1693d555ac858ead6ed6966d186d8816a3c5/test/ufuzz/index.js,https://github.com/mishoo/UglifyJS2/raw/ad3a331ca3ebb27724e56b30caff5e9dd1af7675/test/ufuzz/index.js,"@@ -2398,7 +2398,7 @@ function patch_try_catch(orig, toplevel) {
                     ""throw "" + match[1] + "";"",
                 ].join(""\n"");
             }
-            var new_code = code.slice(0, index) + insert + code.slice(index) + tail_throw;
+            var new_code = code.slice(0, index) + insert + code.slice(index) + tail_throw + ""var UFUZZ_ERROR;"";
             var result = run_code(new_code, toplevel);
             if (!sandbox.is_error(result)) {
                 if (!stack.filled && match[1]) stack.push({
",2401,"var new_code = code.slice(0, index) + insert + code.slice(index) + tail_throw;","var new_code = code.slice(0, index) + insert + code.slice(index) + tail_throw + ""var UFUZZ_ERROR;"";"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/053cb27fe33ef6fed6c2d109f6602a2434fac3f1,053cb27fe33ef6fed6c2d109f6602a2434fac3f1,"fix corner case in `collapse_vars` (#5505)

fixes #5504",2022-06-10 09:12:59+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/25017978e79fa3080b247d4af4107f6068385557/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/053cb27fe33ef6fed6c2d109f6602a2434fac3f1/lib/compress.js,"@@ -2356,7 +2356,7 @@ Compressor.prototype.compress = function(node) {
                         if (prop.key instanceof AST_Node) prop.key = prop.key.transform(tt);
                         if (prop.static) {
                             if (prop instanceof AST_ClassField) {
-                                props.push(prop);
+                                if (prop.value) props.push(prop);
                             } else if (prop instanceof AST_ClassInit) {
                                 props.unshift(prop);
                             }
",2359,props.push(prop);,if (prop.value) props.push(prop);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/139fad0c0577218cdf48a554249002534940b8e1,139fad0c0577218cdf48a554249002534940b8e1,"fix corner cases with `instanceof` (#5509)

- enhance `evaluate`",2022-06-12 10:01:54+08:00,pure_funcs.js,https://github.com/mishoo/UglifyJS2/raw/99946a399373af282540df4d5e796ad91991cc93/test/compress/pure_funcs.js,https://github.com/mishoo/UglifyJS2/raw/139fad0c0577218cdf48a554249002534940b8e1/test/compress/pure_funcs.js,"@@ -147,7 +147,7 @@ relational: {
         ""bar"" >= ""bar"";
     }
     expect: {
-        bar();
+        0 instanceof bar();
         bar();
         bar(), bar();
         bar();
",150,bar();,0 instanceof bar();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f1b3e9df1e4d009a653ae26f1ba51809f3364c95,f1b3e9df1e4d009a653ae26f1ba51809f3364c95,"fix corner case in `inline` (#5527)

fixes #5526",2022-06-26 20:48:14+08:00,collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/fcc87edb71901651ebc90c9e6542514a118aadb4/test/compress/collapse_vars.js,https://github.com/mishoo/UglifyJS2/raw/f1b3e9df1e4d009a653ae26f1ba51809f3364c95/test/compress/collapse_vars.js,"@@ -9611,6 +9611,7 @@ inline_throw: {
         collapse_vars: true,
         inline: true,
         keep_fargs: false,
+        side_effects: true,
         unused: true,
     }
     input: {
@@ -9630,7 +9631,6 @@ inline_throw: {
         try {
             (function(a) {
                 throw a;
-                return;
             })(""PASS"");
         } catch (e) {
             console.log(e);
",9614,"side_effects: true,",return;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d,3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d,"fix corner case in `inline` (#5537)

fixes #5536",2022-07-02 00:10:02+08:00,destructured.js,https://github.com/mishoo/UglifyJS2/raw/51deeff72ea538fbe93db1bb88ac55bfb979b771/test/compress/destructured.js,https://github.com/mishoo/UglifyJS2/raw/3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d/test/compress/destructured.js,"@@ -3497,7 +3497,7 @@ issue_5314_2: {
         A = this;
         new function() {
             [ {
-                [console.log(this === A ? ""FAIL"" : ""PASS"")]: [].e,
+                [console.log(this === A ? ""FAIL"" : ""PASS"")]: [][0],
             } ] = [ 42 ];
         }();
     }
",3500,"[console.log(this === A ? ""FAIL"" : ""PASS"")]: [].e,","[console.log(this === A ? ""FAIL"" : ""PASS"")]: [][0],"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d,3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d,"fix corner case in `inline` (#5537)

fixes #5536",2022-07-02 00:10:02+08:00,rests.js,https://github.com/mishoo/UglifyJS2/raw/51deeff72ea538fbe93db1bb88ac55bfb979b771/test/compress/rests.js,https://github.com/mishoo/UglifyJS2/raw/3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d/test/compress/rests.js,"@@ -648,7 +648,7 @@ drop_new_function: {
     }
     expect: {
         void ([ ... {
-            [console.log(""PASS"")]: [].e,
+            [console.log(""PASS"")]: [][0],
         }] = []);
     }
     expect_stdout: ""PASS""
",651,"[console.log(""PASS"")]: [].e,","[console.log(""PASS"")]: [][0],"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d,3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d,"fix corner case in `inline` (#5537)

fixes #5536",2022-07-02 00:10:02+08:00,yields.js,https://github.com/mishoo/UglifyJS2/raw/51deeff72ea538fbe93db1bb88ac55bfb979b771/test/compress/yields.js,https://github.com/mishoo/UglifyJS2/raw/3596b4fedaf3f5c5451efd9ea100ebc0743c9b5d/test/compress/yields.js,"@@ -907,7 +907,7 @@ drop_body: {
         })([ console.log(""baz"") ]);
     }
     expect: {
-        [ [ , [].e = console.log(""foo"") ] ] = [ [ console.log(""baz"") ] ];
+        [ [ , [][0] = console.log(""foo"") ] ] = [ [ console.log(""baz"") ] ];
     }
     expect_stdout: [
         ""baz"",
",910,"[ [ , [].e = console.log(""foo"") ] ] = [ [ console.log(""baz"") ] ];","[ [ , [][0] = console.log(""foo"") ] ] = [ [ console.log(""baz"") ] ];"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/b2bc2e1173152c48096c032eb16921bfcbfae33e,b2bc2e1173152c48096c032eb16921bfcbfae33e,"parse `export` & `import` statements correctly (#5550)

fixes #5548",2022-07-08 04:04:56+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/80787ff7ef41a6ad58b61d92940e5ef0c044f62b/test/compress.js,https://github.com/mishoo/UglifyJS2/raw/b2bc2e1173152c48096c032eb16921bfcbfae33e/test/compress.js,"@@ -69,7 +69,7 @@ function make_code(ast, options) {
 function parse_test(file) {
     var script = fs.readFileSync(file, ""utf8"");
     try {
-        var ast = U.parse(script, { filename: file });
+        var ast = U.parse(script, { filename: file, module: """" });
     } catch (e) {
         console.error(""Caught error while parsing tests in "" + file);
         console.error(e);
",72,"var ast = U.parse(script, { filename: file });","var ast = U.parse(script, { filename: file, module: """" });"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/f0120e90b6eae20e46eb38e815654f16d8a5d896,f0120e90b6eae20e46eb38e815654f16d8a5d896,"fix corner case `collapse_vars` (#5569)

fixes #5568",2022-07-18 09:04:51+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/ec4558be29d5381ed10f0b5aecfcf8273da00aaa/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/f0120e90b6eae20e46eb38e815654f16d8a5d896/lib/compress.js,"@@ -2080,7 +2080,7 @@ Compressor.prototype.compress = function(node) {
                     return node;
                 }
                 // Skip transient nodes caused by single-use variable replacement
-                if (node.single_use && parent instanceof AST_VarDef && parent.value === node) return node;
+                if (node.single_use) return node;
                 // Replace variable with assignment when found
                 var hit_rhs;
                 if (!(node instanceof AST_SymbolDeclaration)
",2083,if (node.single_use && parent instanceof AST_VarDef && parent.value === node) return node;,if (node.single_use) return node;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/ab5c7e6863f0a898798cf3b2fd87a52a89ed018d,ab5c7e6863f0a898798cf3b2fd87a52a89ed018d,"fix corner cases in `if_return` (#5585)

fixes #5583
fixes #5584
fixes #5586",2022-07-30 16:07:19+08:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/08c386f363c8e3549e63c2d996c0e4f11c4cf116/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/ab5c7e6863f0a898798cf3b2fd87a52a89ed018d/test/reduce.js,"@@ -466,7 +466,7 @@ module.exports = function reduce_test(testcase, minify_options, reduce_options)
             }
         }
         else if (node instanceof U.AST_VarDef) {
-            if (node.value) {
+            if (node.value && !(parent instanceof U.AST_Const)) {
                 node.start._permute++;
                 CHANGED = true;
                 return new U.AST_VarDef({
",469,if (node.value) {,if (node.value && !(parent instanceof U.AST_Const)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/9cdc1ef6c2a9684c0ae769ac4ce21c9d593378bb,9cdc1ef6c2a9684c0ae769ac4ce21c9d593378bb,"fix corner case in `unused` (#5629)

fixes #5628",2022-08-25 05:01:12+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/4db81065ee8e6b3cd72e891a1c5f4d99ecb6562c/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/9cdc1ef6c2a9684c0ae769ac4ce21c9d593378bb/lib/compress.js,"@@ -6905,7 +6905,7 @@ Compressor.prototype.compress = function(node) {
                     initializations.add(def.id, node);
                     if (tw.parent() instanceof AST_ExportDefault) {
                         export_defaults[def.id] = true;
-                        return;
+                        return scan_ref_scoped(node, descend, true);
                     }
                     if (drop && !(def.id in lambda_ids)) lambda_ids[def.id] = 1;
                     return true;
",6908,return;,"return scan_ref_scoped(node, descend, true);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/15b608f74c5111083ab361e419652e38719884dd,15b608f74c5111083ab361e419652e38719884dd,"fix corner case in `inline` (#5635)

fixes #5634",2022-08-30 00:45:35+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/7c52af0deccaa9d0df3210abda16e56d8aa0dc8c/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/15b608f74c5111083ab361e419652e38719884dd/lib/compress.js,"@@ -13729,7 +13729,7 @@ Compressor.prototype.compress = function(node) {
                     }));
                     return !abort;
                 };
-            } else if (in_await && !is_async(fn) || in_async_generator(scope)) {
+            } else if (in_await || is_async(fn) || in_async_generator(scope)) {
                 verify_body = function(stat) {
                     var abort = false;
                     var find_return = new TreeWalker(function(node) {
",13732,} else if (in_await && !is_async(fn) || in_async_generator(scope)) {,} else if (in_await || is_async(fn) || in_async_generator(scope)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/001f6f971913d28d9c77a5ff6602ae06d3780ccf,001f6f971913d28d9c77a5ff6602ae06d3780ccf,"fix corner case in `inline` (#5664)

fixes #5662",2022-09-17 08:54:54+08:00,reduce.js,https://github.com/mishoo/UglifyJS2/raw/e0b302d651096192612a1a5c1560b4842f681c82/test/reduce.js,https://github.com/mishoo/UglifyJS2/raw/001f6f971913d28d9c77a5ff6602ae06d3780ccf/test/reduce.js,"@@ -466,7 +466,7 @@ module.exports = function reduce_test(testcase, minify_options, reduce_options)
             }
         }
         else if (node instanceof U.AST_VarDef) {
-            if (node.value && !(parent instanceof U.AST_Const)) {
+            if (node.value && !(node.name instanceof U.AST_Destructured || parent instanceof U.AST_Const)) {
                 node.start._permute++;
                 CHANGED = true;
                 return new U.AST_VarDef({
",469,if (node.value && !(parent instanceof U.AST_Const)) {,if (node.value && !(node.name instanceof U.AST_Destructured || parent instanceof U.AST_Const)) {
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/eb22f0101eba4649e0cafb3e62f7601f9c37d0b7,eb22f0101eba4649e0cafb3e62f7601f9c37d0b7,"fix corner case in `unused` (#5668)

fixes #5663",2022-09-17 13:32:41+08:00,default-values.js,https://github.com/mishoo/UglifyJS2/raw/e4bff315eb6e8f57b9e0f6dddf81f7e0cb978708/test/compress/default-values.js,https://github.com/mishoo/UglifyJS2/raw/eb22f0101eba4649e0cafb3e62f7601f9c37d0b7/test/compress/default-values.js,"@@ -2713,7 +2713,7 @@ issue_5533_2_drop_fargs: {
         try {
             (function() {
                 for (;;) {
-                    var [ [] = [] ] = [];
+                    var [ [ , ] = [] ] = [];
                     throw ""PASS"";
                 }
             })();
",2716,var [ [] = [] ] = [];,"var [ [ , ] = [] ] = [];"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/eb22f0101eba4649e0cafb3e62f7601f9c37d0b7,eb22f0101eba4649e0cafb3e62f7601f9c37d0b7,"fix corner case in `unused` (#5668)

fixes #5663",2022-09-17 13:32:41+08:00,destructured.js,https://github.com/mishoo/UglifyJS2/raw/e4bff315eb6e8f57b9e0f6dddf81f7e0cb978708/test/compress/destructured.js,https://github.com/mishoo/UglifyJS2/raw/eb22f0101eba4649e0cafb3e62f7601f9c37d0b7/test/compress/destructured.js,"@@ -1306,7 +1306,7 @@ keep_reference: {
     }
     expect: {
         var a = [ {}, 42 ];
-        var [ b ] = a;
+        var b = a[0];
         console.log(a[0] === b ? ""PASS"" : ""FAIL"");
     }
     expect_stdout: ""PASS""
",1309,var [ b ] = a;,var b = a[0];
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/58d997a3d68ea419147f80c066cbc8b23152f112,58d997a3d68ea419147f80c066cbc8b23152f112,fix corner case in `booleans` & `conditionals` (#5696),2022-10-04 12:58:55+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/dabcc39b5138b6e9c84bfd1733bea220edee6d34/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/58d997a3d68ea419147f80c066cbc8b23152f112/lib/compress.js,"@@ -11592,7 +11592,7 @@ Compressor.prototype.compress = function(node) {
 
     function extract_lhs(node, compressor) {
         if (node instanceof AST_Assign) return is_lhs_read_only(node.left, compressor) ? node : node.left;
-        if (node instanceof AST_Sequence) return extract_lhs(node.tail_node());
+        if (node instanceof AST_Sequence) return extract_lhs(node.tail_node(), compressor);
         if (node instanceof AST_UnaryPrefix && UNARY_POSTFIX[node.operator]) {
             return is_lhs_read_only(node.expression, compressor) ? node : node.expression;
         }
",11595,if (node instanceof AST_Sequence) return extract_lhs(node.tail_node());,"if (node instanceof AST_Sequence) return extract_lhs(node.tail_node(), compressor);"
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5411360829a59fb9b38e5ac360620124a53a31be,5411360829a59fb9b38e5ac360620124a53a31be,"fix corner case in `if_return` (#5711)

fixes #5710",2022-10-13 22:34:55+01:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/7edd10e5e508df42da8586afc994537598c83f25/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/5411360829a59fb9b38e5ac360620124a53a31be/lib/compress.js,"@@ -3536,7 +3536,7 @@ Compressor.prototype.compress = function(node) {
             var declare_only, jump, merge_jump;
             var in_iife = in_lambda && parent && parent.TYPE == ""Call"" && parent.expression === self;
             var chain_if_returns = in_lambda && compressor.option(""conditionals"") && compressor.option(""sequences"");
-            var drop_return_void = !(in_try && in_try.bfinally && in_async_generator(in_lambda));
+            var drop_return_void = !(in_try && in_try.bfinally && in_async_generator(scope));
             var multiple_if_returns = has_multiple_if_returns(statements);
             for (var i = statements.length; --i >= 0;) {
                 var stat = statements[i];
",3539,var drop_return_void = !(in_try && in_try.bfinally && in_async_generator(in_lambda));,var drop_return_void = !(in_try && in_try.bfinally && in_async_generator(scope));
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/5a5200d657f2eb6c37026509afd683fe4f4fc84f,5a5200d657f2eb6c37026509afd683fe4f4fc84f,"fix corner case in `conditionals` (#5713)

fixes #5712",2022-10-14 23:55:08+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/5411360829a59fb9b38e5ac360620124a53a31be/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/5a5200d657f2eb6c37026509afd683fe4f4fc84f/lib/compress.js,"@@ -11809,7 +11809,7 @@ Compressor.prototype.compress = function(node) {
                     left: self.left.right,
                     right: self.right,
                 });
-                var after = before.optimize(compressor);
+                var after = before.transform(compressor);
                 if (before !== after) {
                     self.left = self.left.left;
                     self.right = after;
",11812,var after = before.optimize(compressor);,var after = before.transform(compressor);
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/30bf06876878495637dfef2f6e31824649abd34b,30bf06876878495637dfef2f6e31824649abd34b,"fix corner case in `collapse_vars` (#5720)

fixes #5719",2022-10-24 22:16:06+08:00,compress.js,https://github.com/mishoo/UglifyJS2/raw/fb1bff2c0a9a58e0218f190d271b707ac309eeb5/lib/compress.js,https://github.com/mishoo/UglifyJS2/raw/30bf06876878495637dfef2f6e31824649abd34b/lib/compress.js,"@@ -2498,7 +2498,7 @@ Compressor.prototype.compress = function(node) {
                                 hit_index++;
                             }
                             branch.expression = branch.expression.transform(tt);
-                            if (!replace_all) break;
+                            if (!replace_all || verify_ref) break;
                             scan_rhs = false;
                         }
                     }
",2501,if (!replace_all) break;,if (!replace_all || verify_ref) break;
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/8d28052182a4cd1261a4f24a15a1c694079ef930,8d28052182a4cd1261a4f24a15a1c694079ef930,fix corner cases in `evaluate` & `side_effects` (#5726),2022-11-01 09:38:33+08:00,pure_funcs.js,https://github.com/mishoo/UglifyJS2/raw/f40dbd6e3364d3bffc887774178be1b6f82029a6/test/compress/pure_funcs.js,https://github.com/mishoo/UglifyJS2/raw/8d28052182a4cd1261a4f24a15a1c694079ef930/test/compress/pure_funcs.js,"@@ -147,7 +147,7 @@ relational: {
         ""bar"" >= ""bar"";
     }
     expect: {
-        0 instanceof bar();
+        [] instanceof bar();
         bar();
         bar(), bar();
         bar();
",150,0 instanceof bar();,[] instanceof bar();
UglifyJS2,https://github.com/mishoo/UglifyJS2,https://github.com/mishoo/UglifyJS2/commit/2352909c3d9ea9b2f53768a7522decb275e81288,2352909c3d9ea9b2f53768a7522decb275e81288,"fix corner case in `join_vars` (#5746)

fixes #5745",2022-11-23 21:49:30+08:00,node.js,https://github.com/mishoo/UglifyJS2/raw/4e7744af2d3ed1f2557df5614f87a1eb117f9521/tools/node.js,https://github.com/mishoo/UglifyJS2/raw/2352909c3d9ea9b2f53768a7522decb275e81288/tools/node.js,"@@ -100,7 +100,7 @@ function infer_options(options) {
 exports.default_options = function() {
     var defs = infer_options({ 0: 0 });
     Object.keys(defs).forEach(function(component) {
-        var options = {};
+        var options = { module: false };
         options[component] = { 0: 0 };
         if (options = infer_options(options)) {
             defs[component] = options;
",103,var options = {};,var options = { module: false };
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/4c24b7f195a913a332fc30895f236ab2cafe0d86,4c24b7f195a913a332fc30895f236ab2cafe0d86,fixed a few typos on logger.js,2011-01-02 00:04:15-05:00,winston.js,https://github.com/winstonjs/winston/raw/917737a6a84ba920f0d574e85b77a263edf3add7/lib/winston.js,https://github.com/winstonjs/winston/raw/4c24b7f195a913a332fc30895f236ab2cafe0d86/lib/winston.js,"@@ -12,7 +12,7 @@ winston.default    = {};
 winston.Logger     = require('./winston/logger').Logger;
 winston.Transports = require('./winston/transports');
 
-var defaultLogger = new (winston.Logger)()
+var defaultLogger = new (winston.Logger)({transports: {""Console"": {level: 2}}})
 
 winston.add = function (transport, options) {
   
",15,var defaultLogger = new (winston.Logger)(),"var defaultLogger = new (winston.Logger)({transports: {""Console"": {level: 2}}})"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/4c24b7f195a913a332fc30895f236ab2cafe0d86,4c24b7f195a913a332fc30895f236ab2cafe0d86,fixed a few typos on logger.js,2011-01-02 00:04:15-05:00,console.js,https://github.com/winstonjs/winston/raw/917737a6a84ba920f0d574e85b77a263edf3add7/lib/winston/transports/console.js,https://github.com/winstonjs/winston/raw/4c24b7f195a913a332fc30895f236ab2cafe0d86/lib/winston/transports/console.js,"@@ -17,7 +17,7 @@ var Console = exports.Console = function (options) {
 
 Console.prototype.log = function (level, msg, meta, callback) {
   if (level !== 'error') {
-    util.debug(level + ': ' msg);
+    util.debug(level + ': ' + msg);
   }
   else {
     util.error(msg);
",20,util.debug(level + ': ' msg);,util.debug(level + ': ' + msg);
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/4c24b7f195a913a332fc30895f236ab2cafe0d86,4c24b7f195a913a332fc30895f236ab2cafe0d86,fixed a few typos on logger.js,2011-01-02 00:04:15-05:00,loggly.js,https://github.com/winstonjs/winston/raw/917737a6a84ba920f0d574e85b77a263edf3add7/lib/winston/transports/loggly.js,https://github.com/winstonjs/winston/raw/4c24b7f195a913a332fc30895f236ab2cafe0d86/lib/winston/transports/loggly.js,"@@ -15,7 +15,7 @@ var Loggly = exports.Loggly = function (options) {
   if (!options.inputToken && !options.inputName) throw new Error('Target input token or name is required.');
   
   this.client = new (loggly.Loggly)({
-    subdomain: options.subdomain
+    subdomain: options.subdomain,
     auth: options.auth
   });
   
",18,subdomain: options.subdomain,"subdomain: options.subdomain,"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a6d01acd60d69dacac6bbb742b607f3bf84d972a,a6d01acd60d69dacac6bbb742b607f3bf84d972a,fixed broken assert,2011-01-02 19:41:51-05:00,helper.js,https://github.com/winstonjs/winston/raw/a03ff34c6de27d0f44482d258305c2bfd8606343/test/helper.js,https://github.com/winstonjs/winston/raw/a6d01acd60d69dacac6bbb742b607f3bf84d972a/test/helper.js,"@@ -53,7 +53,7 @@ helpers.assertLogger = function (logger) {
   assert.isFunction(logger.log);
   assert.isFunction(logger.add);
   assert.isFunction(logger.remove);
-  assert.equal(logger.level, 2);
+  assert.equal(logger.level, ""info"");
 };
 
 helpers.assertConsole = function (transport) {
",56,"assert.equal(logger.level, 2);","assert.equal(logger.level, ""info"");"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a6d01acd60d69dacac6bbb742b607f3bf84d972a,a6d01acd60d69dacac6bbb742b607f3bf84d972a,fixed broken assert,2011-01-02 19:41:51-05:00,logger-test.js,https://github.com/winstonjs/winston/raw/a03ff34c6de27d0f44482d258305c2bfd8606343/test/logger-test.js,https://github.com/winstonjs/winston/raw/a6d01acd60d69dacac6bbb742b607f3bf84d972a/test/logger-test.js,"@@ -20,7 +20,7 @@ vows.describe('winton/logger').addBatch({
   ""The winston logger"": {
     ""the logger() method"": {
       topic: function () {
-       return new (winston.Logger)({transports: {""Console"": {level: 2}}});
+       return new (winston.Logger)({transports: {""Console"": {level: ""info""}}});
       },
       ""should return a winston Logger"": function (logger) {
         helpers.assertLogger(logger);
",23,"return new (winston.Logger)({transports: {""Console"": {level: 2}}});","return new (winston.Logger)({transports: {""Console"": {level: ""info""}}});"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/16cf13f539c0383be39b79909d39defa8d677616,16cf13f539c0383be39b79909d39defa8d677616,[fix] Ensure that levelLength is set in the default logger. Check for callbacks before returning errors in `winston.logger.log`,2011-05-19 22:31:47-04:00,logger-test.js,https://github.com/winstonjs/winston/raw/a9afd8d815b8633f6955eaff55576b111820fe42/test/logger-test.js,https://github.com/winstonjs/winston/raw/16cf13f539c0383be39b79909d39defa8d677616/test/logger-test.js,"@@ -28,7 +28,7 @@ vows.describe('winton/logger').addBatch({
   }
 }).addBatch({
   ""An instance of winston.Logger with no transports"": {
-    topic: new (winston.Logger)(),
+    topic: new (winston.Logger)({ emitErrs: true }),
     ""the log() method should throw an error"": function (logger) {
       assert.throws(function () { logger.log('anything') }, Error);
     },
",31,"topic: new (winston.Logger)(),","topic: new (winston.Logger)({ emitErrs: true }),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/5d361a9b6e1abc8443b91020dcce847f4abb889c,5d361a9b6e1abc8443b91020dcce847f4abb889c,"[fix] Fix for typeof null === ""object""",2011-05-29 00:40:45-04:00,utils.js,https://github.com/winstonjs/winston/raw/29fe69784903c906fece107c1220cd0713463459/lib/winston/utils.js,https://github.com/winstonjs/winston/raw/5d361a9b6e1abc8443b91020dcce847f4abb889c/lib/winston/utils.js,"@@ -103,7 +103,7 @@ var log = exports.log = function (level, msg, meta, options) {
       
   output += targetLevel + ': ' + msg;
   
-  if (typeof meta === 'object' && Object.keys(meta).length > 0) {
+  if (meta && typeof meta === 'object' && Object.keys(meta).length > 0) {
     output += ' ' + qs.unescape(qs.stringify(meta, ','));
   }
   
",106,if (typeof meta === 'object' && Object.keys(meta).length > 0) {,if (meta && typeof meta === 'object' && Object.keys(meta).length > 0) {
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/e3e47a0516bc4cd650d8a1c6fc16414c7f698c12,e3e47a0516bc4cd650d8a1c6fc16414c7f698c12,[fix] Expose `level` and `stripColors` on the default logger,2011-09-11 22:35:14-04:00,winston.js,https://github.com/winstonjs/winston/raw/1d2e30010666e2309b6e737d40b589e84473faf9/lib/winston.js,https://github.com/winstonjs/winston/raw/e3e47a0516bc4cd650d8a1c6fc16414c7f698c12/lib/winston.js,"@@ -94,7 +94,7 @@ winston.setLevels = function (target) {
 // Define getters / setters for appropriate properties of the 
 // default logger which need to be exposed by winston.
 //
-['emitErrs', 'padLevels', 'levelLength'].forEach(function (prop) {
+['emitErrs', 'padLevels', 'level', 'levelLength', 'stripColors'].forEach(function (prop) {
   Object.defineProperty(winston, prop, {
     get: function () {
       return defaultLogger[prop];
",97,"['emitErrs', 'padLevels', 'levelLength'].forEach(function (prop) {","['emitErrs', 'padLevels', 'level', 'levelLength', 'stripColors'].forEach(function (prop) {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/ddd8bd54d0a3f3c532357026ec68d96c4144703b,ddd8bd54d0a3f3c532357026ec68d96c4144703b,[minor] Fix minor inconsistency,2011-10-04 00:37:01+02:00,webhook.js,https://github.com/winstonjs/winston/raw/31711f2cf813122fdb3560d463aa68b4ec3f32a3/lib/winston/transports/webhook.js,https://github.com/winstonjs/winston/raw/ddd8bd54d0a3f3c532357026ec68d96c4144703b/lib/winston/transports/webhook.js,"@@ -83,7 +83,7 @@ Webhook.prototype.log = function (level, msg, meta, callback) {
     headers: { 'Content-Type': 'application/json' }
   };
 
-  if (self.ssl) {
+  if (this.ssl) {
     options.ca = this.ssl.ca;
     options.key = this.ssl.key;
     options.cert = this.ssl.cert;
",86,if (self.ssl) {,if (this.ssl) {
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/8aaa8e57c7efb5b8b1d2c09636738e3ef0b46ed9,8aaa8e57c7efb5b8b1d2c09636738e3ef0b46ed9,Fixed a crash when log was called with an empty meta parameter,2011-10-22 02:06:32-04:00,loggly.js,https://github.com/winstonjs/winston/raw/12840ba5f7fb02cfe30130b3a96fa01ac529906a/lib/winston/transports/loggly.js,https://github.com/winstonjs/winston/raw/8aaa8e57c7efb5b8b1d2c09636738e3ef0b46ed9/lib/winston/transports/loggly.js,"@@ -87,7 +87,7 @@ Loggly.prototype.log = function (level, msg, meta, callback) {
   }
 
   var self = this,
-      message = common.clone(meta);
+      message = common.clone(meta || {});
       
   message.level = level;
   message.message = msg;
",90,message = common.clone(meta);,message = common.clone(meta || {});
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/b60781ebbe443436b549a8b54434da83356755aa,b60781ebbe443436b549a8b54434da83356755aa,[fix] Check to see if `options.inputs` is defined before checking the inputName,2011-11-30 02:01:52-05:00,loggly.js,https://github.com/winstonjs/winston/raw/418058eec7e33de1e99ec4f7ce43af704785e9ac/lib/winston/transports/loggly.js,https://github.com/winstonjs/winston/raw/b60781ebbe443436b549a8b54434da83356755aa/lib/winston/transports/loggly.js,"@@ -47,7 +47,7 @@ var Loggly = exports.Loggly = function (options) {
     this.inputToken = options.inputToken;
     this.ready = true;
   }
-  else if (options.inputName && options.inputs[inputName]) {
+  else if (options.inputName && options.inputs && options.inputs[options.inputName]) {
     this.inputToken = options.inputs[inputName];
     this.ready = true;
   }
",50,else if (options.inputName && options.inputs[inputName]) {,else if (options.inputName && options.inputs && options.inputs[options.inputName]) {
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/d60456bd1ebe7c8e5a585654f404f78452cb387e,d60456bd1ebe7c8e5a585654f404f78452cb387e,[fix] Default to empty `meta` object in CouchDB transport. Fixes #86,2012-02-21 23:48:18-05:00,couchdb.js,https://github.com/winstonjs/winston/raw/c6dbf589e8167fca0c38a6fffcf8124b79b88e3f/lib/winston/transports/couchdb.js,https://github.com/winstonjs/winston/raw/d60456bd1ebe7c8e5a585654f404f78452cb387e/lib/winston/transports/couchdb.js,"@@ -66,7 +66,7 @@ Couchdb.prototype.log = function (level, msg, meta, callback) {
   }
   
   var self = this,
-      message = common.clone(meta),
+      message = common.clone(meta || {}),
       options,
       req;
       
",69,"message = common.clone(meta),","message = common.clone(meta || {}),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/e9da74c36ace5f290f0353211747d728e99ec666,e9da74c36ace5f290f0353211747d728e99ec666,Fix logger.add() to properly detect if the added transport has handleExceptions on.,2012-04-17 19:00:49-07:00,logger.js,https://github.com/winstonjs/winston/raw/0f660abff5267d4abf9d393ad948cd40657751a0/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/e9da74c36ace5f290f0353211747d728e99ec666/lib/winston/logger.js,"@@ -299,7 +299,7 @@ Logger.prototype.add = function (transport, options, created) {
   // If this transport has `handleExceptions` set to `true`
   // and we are not already handling exceptions, do so.
   //
-  if (transport.handleExceptions && !this.catchExceptions) {
+  if (instance.handleExceptions && !this.catchExceptions) {
     this.handleExceptions();
   }
 
",302,if (transport.handleExceptions && !this.catchExceptions) {,if (instance.handleExceptions && !this.catchExceptions) {
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/9e2a20350682f5a310fa85c5105b5af45f509827,9e2a20350682f5a310fa85c5105b5af45f509827,[api] fix inherited .stream() and .query(),2012-04-30 03:24:35-05:00,couchdb.js,https://github.com/winstonjs/winston/raw/cf596d0b404c9d98278dc8bd9c5d03fd4056468d/lib/winston/transports/couchdb.js,https://github.com/winstonjs/winston/raw/9e2a20350682f5a310fa85c5105b5af45f509827/lib/winston/transports/couchdb.js,"@@ -161,7 +161,7 @@ Couchdb.prototype.query = function (options, callback) {
   var req = this._request({
     method: options.method || 'GET',
     path: options.view || options.path,
-    body: options.body
+    json: options.body || {}
   }, function(err, res, body) {
     callback(err, body);
   });
",164,body: options.body,json: options.body || {}
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/7f5528299af0d6edaeeb5c68a3ef5a0848c130ad,7f5528299af0d6edaeeb5c68a3ef5a0848c130ad,fixed padding for lines with longest log level name,2012-05-07 23:38:24+03:00,logger.js,https://github.com/winstonjs/winston/raw/8028071106527fd6f880143ff3391eaf3b574af6/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/7f5528299af0d6edaeeb5c68a3ef5a0848c130ad/lib/winston/logger.js,"@@ -140,7 +140,7 @@ Logger.prototype.log = function (level, msg) {
 
   // If we should pad for levels, do so
   if (this.padLevels) {
-    msg = new Array(this.levelLength - level.length).join(' ') + msg;
+    msg = new Array(this.levelLength - level.length + 1).join(' ') + msg;
   }
 
   function onError (err) {
",143,msg = new Array(this.levelLength - level.length).join(' ') + msg;,msg = new Array(this.levelLength - level.length + 1).join(' ') + msg;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/0f78d942229f632b7e295ceb8dbe371c679c4892,0f78d942229f632b7e295ceb8dbe371c679c4892,[fix] fix non-existent function call in File transport.,2012-05-08 14:21:31-05:00,file.js,https://github.com/winstonjs/winston/raw/dc16fda9b2abb2af8e7189393f6efc7d2be3ee01/lib/winston/transports/file.js,https://github.com/winstonjs/winston/raw/0f78d942229f632b7e295ceb8dbe371c679c4892/lib/winston/transports/file.js,"@@ -269,7 +269,7 @@ File.prototype._tail = function tail(options, callback) {
 
     stream.on('end', function() {
       if (buff) {
-        line(buff);
+        stream.emit('line', buff);
         buff = '';
       }
 
",272,line(buff);,"stream.emit('line', buff);"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/422c0a0bcf11a555a21052c67f10ecc8d24ee600,422c0a0bcf11a555a21052c67f10ecc8d24ee600,[fix] check for the existence of query method properly.,2012-05-15 11:06:05-05:00,logger.js,https://github.com/winstonjs/winston/raw/0ccbc4ce38a3c8c396af3573d9988263c9897111/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/422c0a0bcf11a555a21052c67f10ecc8d24ee600/lib/winston/logger.js,"@@ -277,7 +277,7 @@ Logger.prototype.query = function (options, callback) {
   transports = this._names.map(function (name) {
     return self.transports[name];
   }).filter(function (transport) {
-    return !!transport.stream;
+    return !!transport.query;
   });
 
   //
",280,return !!transport.stream;,return !!transport.query;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/0bb0164a7014a61cb891b4181b94f39e2e334a5d,0bb0164a7014a61cb891b4181b94f39e2e334a5d,[fix] quick fix for CSI Pm m removal.,2012-05-31 12:40:56-05:00,logger.js,https://github.com/winstonjs/winston/raw/e42e0fbc15e3eaf14199723a31a5925ceb543fb7/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/0bb0164a7014a61cb891b4181b94f39e2e334a5d/lib/winston/logger.js,"@@ -172,7 +172,7 @@ Logger.prototype.log = function (level, msg) {
   // see: http://en.wikipedia.org/wiki/ANSI_escape_code
   //
   if (this.stripColors) {
-    var code = /\u001b\[\d+m/g;
+    var code = /\u001b\[\d+(?:;\d+)*m/g;
     msg = ('' + msg).replace(code, '');
   }
 
",175,var code = /\u001b\[\d+m/g;,var code = /\u001b\[\d+(?:;\d+)*m/g;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a0fc098b12ca442473841527476175e10decb373,a0fc098b12ca442473841527476175e10decb373,[fix test] Fix broken test assertion from 8ddbcff38f67b1a521331a8239e183c45fca5068,2012-07-08 02:31:52-04:00,custom-timestamp-test.js,https://github.com/winstonjs/winston/raw/3220dd9e5c9e6a98a2854ca30ec5e6dfce2d55ce/test/custom-timestamp-test.js,https://github.com/winstonjs/winston/raw/a0fc098b12ca442473841527476175e10decb373/test/custom-timestamp-test.js,"@@ -46,7 +46,7 @@ vows.describe('winston/transport/timestamp').addBatch({
         timestamp: false 
       }),
       ""with value set to true "": assertTimestamp('defaultTimestamp', { 
-        pattern: /^\d\d? \w{3}/,
+        pattern: /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,
         json: false,
         timestamp: true 
       }),
",49,"pattern: /^\d\d? \w{3}/,","pattern: /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/d6cc51c08bd8c82258574e36e48e3303e71e6aef,d6cc51c08bd8c82258574e36e48e3303e71e6aef,[fix] Ensure err.stack exists before splitting it. Fixes #152,2012-07-08 02:42:12-04:00,exception.js,https://github.com/winstonjs/winston/raw/c157e14bfea96a7f692404c09ae8ce128b68509e/lib/winston/exception.js,https://github.com/winstonjs/winston/raw/d6cc51c08bd8c82258574e36e48e3303e71e6aef/lib/winston/exception.js,"@@ -17,7 +17,7 @@ exception.getAllInfo = function (err) {
     process: exception.getProcessInfo(),
     os:      exception.getOsInfo(),
     trace:   exception.getTrace(err),
-    stack:   err.stack.split('\n')
+    stack:   err.stack && err.stack.split('\n')
   };
 };
 
",20,stack:   err.stack.split('\n'),stack:   err.stack && err.stack.split('\n')
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/4b0782dac21403fb6a7fc1e137d468831b6fe3ae,4b0782dac21403fb6a7fc1e137d468831b6fe3ae,[fix] Missing single-quote in PR from Zoramite,2012-10-19 15:37:54-07:00,winston.js,https://github.com/winstonjs/winston/raw/379767edfffe66d3c33d2357e3ca2407e6c5f4f3/lib/winston.js,https://github.com/winstonjs/winston/raw/4b0782dac21403fb6a7fc1e137d468831b6fe3ae/lib/winston.js,"@@ -137,7 +137,7 @@ Object.defineProperty(winston, 'level', {
 // Define getters / setters for appropriate properties of the
 // default logger which need to be exposed by winston.
 //
-['emitErrs', 'exitOnError', 'padLevels', levelLength', 'stripColors'].forEach(function (prop) {
+['emitErrs', 'exitOnError', 'padLevels', 'levelLength', 'stripColors'].forEach(function (prop) {
   Object.defineProperty(winston, prop, {
     get: function () {
       return defaultLogger[prop];
",140,"['emitErrs', 'exitOnError', 'padLevels', levelLength', 'stripColors'].forEach(function (prop) {","['emitErrs', 'exitOnError', 'padLevels', 'levelLength', 'stripColors'].forEach(function (prop) {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/e52b184c805ba8450add749d2378d1389a6c4413,e52b184c805ba8450add749d2378d1389a6c4413,[fix] Add error message to `uncaughtException` logs. Fixes #204.,2013-04-21 01:42:42-04:00,logger.js,https://github.com/winstonjs/winston/raw/2287350d11665193a75b903623d7595f0b1108e3/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/e52b184c805ba8450add749d2378d1389a6c4413/lib/winston/logger.js,"@@ -602,7 +602,7 @@ Logger.prototype._uncaughtException = function (err) {
     : this.exitOnError;
 
   function logAndWait(transport, next) {
-    transport.logException('uncaughtException', info, next, err);
+    transport.logException('uncaughtException: ' + err.message, info, next, err);
   }
 
   function gracefulExit() {
",605,"transport.logException('uncaughtException', info, next, err);","transport.logException('uncaughtException: ' + err.message, info, next, err);"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/288c916393db4235fb18f321c56bd375907bd1d1,288c916393db4235fb18f321c56bd375907bd1d1,Fixed octal literal to work with node 4 strict mode,2015-10-09 10:17:20-04:00,common.js,https://github.com/winstonjs/winston/raw/15b525cbcf1ec38028f5688e6eaf3fbb2961ccb4/lib/winston/common.js,https://github.com/winstonjs/winston/raw/288c916393db4235fb18f321c56bd375907bd1d1/lib/winston/common.js,"@@ -366,7 +366,7 @@ exports.tailFile = function(options, callback) {
     stream.emit('close');
   };
 
-  fs.open(options.file, 'a+', 0644, function(err, fd) {
+  fs.open(options.file, 'a+', '0644', function(err, fd) {
     if (err) {
       if (!callback) {
         stream.emit('error', err);
",369,"fs.open(options.file, 'a+', 0644, function(err, fd) {","fs.open(options.file, 'a+', '0644', function(err, fd) {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a333d9a852c1d6364e742f0082c2958e71e849b6,a333d9a852c1d6364e742f0082c2958e71e849b6,"Fixed unhelpful ide chages, reverted to previous eol fixes #536",2015-11-05 11:31:20+13:00,file.js,https://github.com/winstonjs/winston/raw/cb8ff5740039dd56477d36de49c376364af08a3c/lib/winston/transports/file.js,https://github.com/winstonjs/winston/raw/a333d9a852c1d6364e742f0082c2958e71e849b6/lib/winston/transports/file.js,"@@ -159,7 +159,7 @@ File.prototype.log = function (level, msg, meta, callback) {
     depth:       this.depth,
     formatter:   this.formatter,
     humanReadableUnhandledException: this.humanReadableUnhandledException
-  });
+  }) + this.eol;
 
 
   if (!this.filename) {
",162,});,}) + this.eol;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/391a956fbf66be7f82a9528d455d91fa22a66863,391a956fbf66be7f82a9528d455d91fa22a66863,fix: use es5 only,2016-10-31 17:38:34-04:00,logger.js,https://github.com/winstonjs/winston/raw/98fd9822af3bf97569a48b4d1e369ecc35669762/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/391a956fbf66be7f82a9528d455d91fa22a66863/lib/winston/logger.js,"@@ -169,7 +169,7 @@ Logger.prototype.log = function (level) {
   var msg, meta = {}, validMeta = false;
   var hasFormat = args && args[0] && args[0].match && args[0].match(formatRegExp) !== null;
   var tokens = (hasFormat) ? args[0].match(formatRegExp) : [];
-  var ptokens = tokens.filter((t) => t === '%%');
+  var ptokens = tokens.filter(function(t) { return t === '%%' });
   if (((args.length - 1) - (tokens.length - ptokens.length)) > 0 || args.length === 1) {
     // last arg is meta
     meta = args[args.length - 1] || args;
",172,var ptokens = tokens.filter((t) => t === '%%');,var ptokens = tokens.filter(function(t) { return t === '%%' });
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/4f954937b49369ef48fbb88cc2c43d2fa5f2140b,4f954937b49369ef48fbb88cc2c43d2fa5f2140b,"Fixed working of ""humanReadableUnhandledException"" parameter when additional data is added in meta (#1066)",2017-09-26 23:54:00-04:00,common.js,https://github.com/winstonjs/winston/raw/aaa89af00e10b103aca44280bd887989cd8ab218/lib/winston/common.js,https://github.com/winstonjs/winston/raw/4f954937b49369ef48fbb88cc2c43d2fa5f2140b/lib/winston/common.js,"@@ -251,7 +251,7 @@ exports.log = function (options) {
         output += ' ' + '\n' + util.inspect(meta, false, options.depth || null, options.colorize);
       } else if (
         options.humanReadableUnhandledException
-          && Object.keys(meta).length === 5
+          && Object.keys(meta).length >= 5
           && meta.hasOwnProperty('date')
           && meta.hasOwnProperty('process')
           && meta.hasOwnProperty('os')
",254,&& Object.keys(meta).length === 5,&& Object.keys(meta).length >= 5
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/bb322678724aee76ab4f06d2816d7382a38dde65,bb322678724aee76ab4f06d2816d7382a38dde65,[fix] Container.add() 'filters' and 'rewriters' option passing to logger (#1036),2017-09-27 00:09:15-04:00,container.js,https://github.com/winstonjs/winston/raw/4f954937b49369ef48fbb88cc2c43d2fa5f2140b/lib/winston/container.js,https://github.com/winstonjs/winston/raw/bb322678724aee76ab4f06d2816d7382a38dde65/lib/winston/container.js,"@@ -58,7 +58,7 @@ Container.prototype.get = Container.prototype.add = function (id, options) {
     }
 
     Object.keys(options).forEach(function (key) {
-      if (key === 'transports') {
+      if (key === 'transports' || key === 'filters' || key === 'rewriters') {
         return;
       }
 
",61,if (key === 'transports') {,if (key === 'transports' || key === 'filters' || key === 'rewriters') {
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/c2d0d518300115ac796d5bdaec1d678c7f32e3b3,c2d0d518300115ac796d5bdaec1d678c7f32e3b3,[fix] Make things require-able.,2017-10-02 01:02:39-04:00,http.js,https://github.com/winstonjs/winston/raw/5372e5ec41887add8c8da25980f0d312ac9e4790/lib/winston/transports/http.js,https://github.com/winstonjs/winston/raw/c2d0d518300115ac796d5bdaec1d678c7f32e3b3/lib/winston/transports/http.js,"@@ -28,7 +28,7 @@ var Http = module.exports = function (options) {
   }
 };
 
-util.inherits(Http, winston.Transport);
+util.inherits(Http, Transport);
 
 //
 // Expose the name of this Transport on the prototype
",31,"util.inherits(Http, winston.Transport);","util.inherits(Http, Transport);"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/4a76329f562be6d472cb1b5adcc7d55e006aebbc,4a76329f562be6d472cb1b5adcc7d55e006aebbc,"[api fix breaking] Create `winston.format(fmt0, fmt1, ...)`. Let the format rabbit-hole begin.",2017-10-02 01:02:39-04:00,format.test.js,https://github.com/winstonjs/winston/raw/92bfa857f0c74d1dc64e4be3df3db9f56a21b855/test/formats/format.test.js,https://github.com/winstonjs/winston/raw/4a76329f562be6d472cb1b5adcc7d55e006aebbc/test/formats/format.test.js,"@@ -1,5 +1,5 @@
 /*
- * config.test.js: Tests for winston.format
+ * format.test.js: Tests for winston.format
  *
  * (C) 2015 Charlie Robbins
  * MIT LICENSE
",2,* config.test.js: Tests for winston.format,* format.test.js: Tests for winston.format
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/23e1b1407233fa90931b3f7a24ec9397c6b9f9ca,23e1b1407233fa90931b3f7a24ec9397c6b9f9ca,[fix] No need to use apply for pumpify.obj.,2017-10-02 01:02:39-04:00,format.js,https://github.com/winstonjs/winston/raw/ad8ffa9c3337cb29980d97f3950dfee37d5e7000/lib/winston/formats/format.js,https://github.com/winstonjs/winston/raw/23e1b1407233fa90931b3f7a24ec9397c6b9f9ca/lib/winston/formats/format.js,"@@ -10,7 +10,7 @@ var stream = require('stream'),
  */
 module.exports = function (formatFn) {
   if (arguments.length > 1) {
-    return pumpify.obj.apply(pumpify.obj, Array.from(arguments));
+    return pumpify.obj(Array.from(arguments);
   }
 
   if (formatFn.length > 2) {
",13,"return pumpify.obj.apply(pumpify.obj, Array.from(arguments));",return pumpify.obj(Array.from(arguments);
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/0b1a2067ece59fd10a5d6fc014352a1e85e116df,0b1a2067ece59fd10a5d6fc014352a1e85e116df,[fix] Missing ).,2017-10-02 01:02:39-04:00,format.js,https://github.com/winstonjs/winston/raw/23e1b1407233fa90931b3f7a24ec9397c6b9f9ca/lib/winston/formats/format.js,https://github.com/winstonjs/winston/raw/0b1a2067ece59fd10a5d6fc014352a1e85e116df/lib/winston/formats/format.js,"@@ -10,7 +10,7 @@ var stream = require('stream'),
  */
 module.exports = function (formatFn) {
   if (arguments.length > 1) {
-    return pumpify.obj(Array.from(arguments);
+    return pumpify.obj(Array.from(arguments));
   }
 
   if (formatFn.length > 2) {
",13,return pumpify.obj(Array.from(arguments);,return pumpify.obj(Array.from(arguments));
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/168c5c9acc0ccf6baf3f7d7963be52af911a3e83,168c5c9acc0ccf6baf3f7d7963be52af911a3e83,[fix] variable naming console transport,2017-10-02 01:02:39-04:00,console.js,https://github.com/winstonjs/winston/raw/3b92c156087f2962ce9123c26dd4d397b775a3e8/lib/winston/transports/console.js,https://github.com/winstonjs/winston/raw/168c5c9acc0ccf6baf3f7d7963be52af911a3e83/lib/winston/transports/console.js,"@@ -70,7 +70,7 @@ Console.prototype.name = 'console';
 // #### @info {Object} **Optional** Additional metadata to attach
 // Core logging method exposed to Winston.
 //
-Console.prototype.log = function (info) {
+Console.prototype.log = function (info, callback) {
   if (this.stderrLevels[info.level]) {
     process.stderr.write(info.raw + this.eol);
   } else {
",73,Console.prototype.log = function (info) {,"Console.prototype.log = function (info, callback) {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/1310c95bc5c23302a50539e2d5ed55941328917d,1310c95bc5c23302a50539e2d5ed55941328917d,[refactor fix test] All test/*.test.js are now passing.,2017-10-02 01:02:39-04:00,log-exception.test.js,https://github.com/winstonjs/winston/raw/4535d3d53bc4747fb139d466f9e5002de24ea8ec/test/log-exception.test.js,https://github.com/winstonjs/winston/raw/1310c95bc5c23302a50539e2d5ed55941328917d/test/log-exception.test.js,"@@ -51,7 +51,7 @@ describe('Logger, ExceptionHandler', function () {
     });
   });
 
-  it('Custom exitOnError function does not exit', function (done) {
+  it.skip('Custom exitOnError function does not exit', function (done) {
     var scriptDir = path.join(__dirname, 'helpers', 'scripts'),
         child = spawn('node', [path.join(scriptDir, 'exit-on-error.js')]),
         stdout = [];
",54,"it('Custom exitOnError function does not exit', function (done) {","it.skip('Custom exitOnError function does not exit', function (done) {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/6465648947d812d39777f4c8a286b54412359bba,6465648947d812d39777f4c8a286b54412359bba,[fix] Correct timing issue in exception-handler.js,2017-10-02 01:02:39-04:00,log-exception.test.js,https://github.com/winstonjs/winston/raw/1310c95bc5c23302a50539e2d5ed55941328917d/test/log-exception.test.js,https://github.com/winstonjs/winston/raw/6465648947d812d39777f4c8a286b54412359bba/test/log-exception.test.js,"@@ -51,7 +51,7 @@ describe('Logger, ExceptionHandler', function () {
     });
   });
 
-  it.skip('Custom exitOnError function does not exit', function (done) {
+  it('Custom exitOnError function does not exit', function (done) {
     var scriptDir = path.join(__dirname, 'helpers', 'scripts'),
         child = spawn('node', [path.join(scriptDir, 'exit-on-error.js')]),
         stdout = [];
",54,"it.skip('Custom exitOnError function does not exit', function (done) {","it('Custom exitOnError function does not exit', function (done) {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/c97c4f00e2595726c4c2286f7481f6de7c351365,c97c4f00e2595726c4c2286f7481f6de7c351365,[test fix api] Update semantics for end-to-end exception logging.,2017-10-02 01:02:39-04:00,index.js,https://github.com/winstonjs/winston/raw/6e22ea9588c2fbad93243683ddd937a343e81293/test/helpers/index.js,https://github.com/winstonjs/winston/raw/c97c4f00e2595726c4c2286f7481f6de7c351365/test/helpers/index.js,"@@ -196,7 +196,7 @@ helpers.assertHandleExceptions = function (options) {
         helpers.assertOsInfo(data.os);
         helpers.assertTrace(data.trace);
         if (options.message) {
-          assume(data.message).equal('uncaughtException: ' + options.message);
+          assume(data.message).include('uncaughtException: ' + options.message);
         }
 
         done();
",199,assume(data.message).equal('uncaughtException: ' + options.message);,assume(data.message).include('uncaughtException: ' + options.message);
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/c97c4f00e2595726c4c2286f7481f6de7c351365,c97c4f00e2595726c4c2286f7481f6de7c351365,[test fix api] Update semantics for end-to-end exception logging.,2017-10-02 01:02:39-04:00,log-exception.test.js,https://github.com/winstonjs/winston/raw/6e22ea9588c2fbad93243683ddd937a343e81293/test/log-exception.test.js,https://github.com/winstonjs/winston/raw/c97c4f00e2595726c4c2286f7481f6de7c351365/test/log-exception.test.js,"@@ -69,7 +69,7 @@ describe('Logger, ExceptionHandler', function () {
     }, 1000);
   });
 
-  describe.only('should save the error information to the specified file', function () {
+  describe('should save the error information to the specified file', function () {
     it('whenstrings are thrown as errors', helpers.assertHandleExceptions({
       script: path.join(__dirname, 'helpers', 'scripts', 'log-string-exception.js'),
       logfile: path.join(__dirname, 'fixtures', 'logs', 'string-exception.log'),
",72,"describe.only('should save the error information to the specified file', function () {","describe('should save the error information to the specified file', function () {"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,custom-levels.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/examples/custom-levels.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/examples/custom-levels.js,"@@ -33,7 +33,7 @@ var config = {
 
 var logger = module.exports = winston.createLogger({
   transports: [
-    new (winston.transports.Console)({
+    new winston.transports.Console({
       colorize: true
     })
   ],
",36,new (winston.transports.Console)({,new winston.transports.Console({
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,custom-pretty-print.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/examples/custom-pretty-print.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/examples/custom-pretty-print.js,"@@ -9,7 +9,7 @@ function myPrettyPrint(obj) {
 
 var logger = winston.createLogger({
   transports: [
-    new (winston.transports.Console)({ prettyPrint: myPrettyPrint }),
+    new winston.transports.Console({ prettyPrint: myPrettyPrint }),
   ]
 });
 
",12,"new (winston.transports.Console)({ prettyPrint: myPrettyPrint }),","new winston.transports.Console({ prettyPrint: myPrettyPrint }),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,raw-mode.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/examples/raw-mode.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/examples/raw-mode.js,"@@ -2,7 +2,7 @@ var winston = require('../lib/winston');
 
 var logger = winston.createLogger({
   transports: [
-    new (winston.transports.Console)({ raw: true }),
+    new winston.transports.Console({ raw: true }),
   ]
 });
 
",5,"new (winston.transports.Console)({ raw: true }),","new winston.transports.Console({ raw: true }),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,custom-formatter-test.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/formats/custom-formatter-test.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/formats/custom-formatter-test.js,"@@ -23,7 +23,7 @@ function assertFileFormatter (basename, options) {
   return {
     topic: function () {
       options.filename = filename;
-      var transport = new (winston.transports.File)(options);
+      var transport = new winston.transports.File(options);
 
       // We must wait until transport file has emitted the 'flush'
       // event to be sure the file has been created and written
",26,var transport = new (winston.transports.File)(options);,var transport = new winston.transports.File(options);
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,custom-pretty-print-test.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/formats/custom-pretty-print-test.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/formats/custom-pretty-print-test.js,"@@ -22,7 +22,7 @@ vows.describe('winston/transport/prettyPrint').addBatch({
   ""When pretty option is used"": {
     ""with memory transport"": {
       topic: function () {
-        var transport = new (winston.transports.Memory)({prettyPrint: myPrettyPrint});
+        var transport = new winston.transports.Memory({prettyPrint: myPrettyPrint});
         return this.callback(null, transport);
       },
       ""should log using a function value"": function (_, transport) {
",25,var transport = new (winston.transports.Memory)({prettyPrint: myPrettyPrint});,var transport = new winston.transports.Memory({prettyPrint: myPrettyPrint});
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,printf-format-test.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/formats/printf-format-test.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/formats/printf-format-test.js,"@@ -16,7 +16,7 @@ vows.describe('winston/logger/levels').addBatch({
   ""The winston logger"": {
     topic: winston.createLogger({
       transports: [
-        new (winston.transports.Console)()
+        new winston.transports.Console()
       ]
     }),
     ""the log() method"": {
",19,new (winston.transports.Console)(),new winston.transports.Console()
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,default-exceptions.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/helpers/scripts/default-exceptions.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/helpers/scripts/default-exceptions.js,"@@ -10,7 +10,7 @@ var path = require('path'),
     winston = require('../../../lib/winston');
 
 winston.exceptions.handle([
-  new (winston.transports.File)({
+  new winston.transports.File({
     filename: path.join(__dirname, '..', '..', 'fixtures', 'logs', 'default-exception.log'),
     handleExceptions: true
   })
",13,new (winston.transports.File)({,new winston.transports.File({
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,exit-on-error.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/helpers/scripts/exit-on-error.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/helpers/scripts/exit-on-error.js,"@@ -15,7 +15,7 @@ winston.exitOnError = function (err) {
 };
 
 winston.handleExceptions([
-  new (winston.transports.File)({
+  new winston.transports.File({
     filename: path.join(__dirname, '..', 'logs', 'exit-on-error.log'),
     handleExceptions: true
   })
",18,new (winston.transports.File)({,new winston.transports.File({
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,log-exceptions.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/helpers/scripts/log-exceptions.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/helpers/scripts/log-exceptions.js,"@@ -11,7 +11,7 @@ var path = require('path'),
 
 var logger = winston.createLogger({
   transports: [
-    new (winston.transports.File)({
+    new winston.transports.File({
       filename: path.join(__dirname, '..', '..', 'fixtures', 'logs', 'exception.log'),
       handleExceptions: true
     })
",14,new (winston.transports.File)({,new winston.transports.File({
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,log-string-exception.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/helpers/scripts/log-string-exception.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/helpers/scripts/log-string-exception.js,"@@ -11,7 +11,7 @@ var path = require('path'),
 
 var logger = winston.createLogger({
   transports: [
-    new (winston.transports.File)({
+    new winston.transports.File({
       filename: path.join(__dirname, '..', '..', 'fixtures', 'logs', 'string-exception.log'),
       handleExceptions: true
     })
",14,new (winston.transports.File)({,new winston.transports.File({
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,unhandle-exceptions.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/helpers/scripts/unhandle-exceptions.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/helpers/scripts/unhandle-exceptions.js,"@@ -11,7 +11,7 @@ var path = require('path'),
 
 var logger = winston.createLogger({
   transports: [
-    new (winston.transports.File)({
+    new winston.transports.File({
       filename: path.join(__dirname, '..', 'logs', 'unhandle-exception.log')
     })
   ]
",14,new (winston.transports.File)({,new winston.transports.File({
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/48c828d413088b93539b3812ce409a2612ffba5f,48c828d413088b93539b3812ce409a2612ffba5f,[fix doc] Remove unnecessary () around new statements for transports in documentation.,2017-10-02 01:02:39-04:00,logger-legacy.test.js,https://github.com/winstonjs/winston/raw/364b066d9d0439e98b227e1c0f742403a623be75/test/logger-legacy.test.js,https://github.com/winstonjs/winston/raw/48c828d413088b93539b3812ce409a2612ffba5f/test/logger-legacy.test.js,"@@ -72,7 +72,7 @@ describe('Logger (legacy API)', function () {
 
   it('.remove() [LegacyTransportStream]', function () {
     var transports = [
-      new (winston.transports.Console)(),
+      new winston.transports.Console(),
       new (LegacyTransport)()
     ];
 
",75,"new (winston.transports.Console)(),","new winston.transports.Console(),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/89345d55cf2bcfaf46b9a53868b33f98a4da2e42,89345d55cf2bcfaf46b9a53868b33f98a4da2e42,[dist fix] Update some dependencies. Lint all the things with eslint-config-populist.,2017-10-02 01:02:39-04:00,cli.js,https://github.com/winstonjs/winston/raw/72586f13c2b561d4ad651bae8ddaec8748538a5d/lib/winston/config/cli.js,https://github.com/winstonjs/winston/raw/89345d55cf2bcfaf46b9a53868b33f98a4da2e42/lib/winston/config/cli.js,"@@ -16,7 +16,7 @@ exports.levels = {
   prompt: 6,
   verbose: 7,
   input: 8,
-  silly: 9,
+  silly: 9
 };
 
 exports.colors = {
",19,"silly: 9,",silly: 9
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/bd06c4091e9e248e6fed6278e0699e5cfdc7de24,bd06c4091e9e248e6fed6278e0699e5cfdc7de24,[fix test] Update tests for a few of the most recent minor breaking changes.,2017-10-02 01:02:39-04:00,logger.js,https://github.com/winstonjs/winston/raw/9c54530effea7c1e70eb628205b374fa0519f754/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/bd06c4091e9e248e6fed6278e0699e5cfdc7de24/lib/winston/logger.js,"@@ -207,7 +207,7 @@ Logger.prototype._transform = function _transform(info, enc, callback) {
   // Remark: not sure if we should simply error here.
   //
   if (!this._readableState.pipes) {
-    console.error('[winston] Attempt to write logs with no transports %j', info)
+    console.error('[winston] Attempt to write logs with no transports %j', info);
   }
 
   //
",210,"console.error('[winston] Attempt to write logs with no transports %j', info)","console.error('[winston] Attempt to write logs with no transports %j', info);"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/6876d7b52b2254898fb745df4787616c2f9935ba,6876d7b52b2254898fb745df4787616c2f9935ba,fixes #1138 stream.Stream is not a constructor (#1195),2018-03-16 10:54:28-07:00,logger.js,https://github.com/winstonjs/winston/raw/2e575d7d745656caa215c59fc709082e41305d87/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/6876d7b52b2254898fb745df4787616c2f9935ba/lib/winston/logger.js,"@@ -418,7 +418,7 @@ Logger.prototype.query = function query(options, callback) {
 // #### @options {Object} Stream options for this instance.
 // Returns a log stream for all transports. Options object is optional.
 //
-Logger.prototype.stream = function stream(options) {
+Logger.prototype.stream = function _stream(options) {
   options = options || {};
 
   const out = new stream.Stream();
",421,Logger.prototype.stream = function stream(options) {,Logger.prototype.stream = function _stream(options) {
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/e84a7b66238f962bbe7241977339c221cf9ba550,e84a7b66238f962bbe7241977339c221cf9ba550,[fix] Use Buffer.alloc and Buffer.from instead of new Buffer (#1281),2018-04-20 11:52:08-04:00,tail-file.js,https://github.com/winstonjs/winston/raw/ac7fdf985cc3cef0f7b69309bd1f9df5f941dece/lib/winston/tail-file.js,https://github.com/winstonjs/winston/raw/e84a7b66238f962bbe7241977339c221cf9ba550/lib/winston/tail-file.js,"@@ -12,7 +12,7 @@ function nop() {}
 // `tail -f` a file. Options must include file.
 //
 module.exports = function tailFile(options, iter) {
-  const buffer = new Buffer(64 * 1024);
+  const buffer = Buffer.alloc(64 * 1024);
   const decode = new StringDecoder('utf8');
   const stream = new Stream();
   let buff = '';
",15,const buffer = new Buffer(64 * 1024);,const buffer = Buffer.alloc(64 * 1024);
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/e84a7b66238f962bbe7241977339c221cf9ba550,e84a7b66238f962bbe7241977339c221cf9ba550,[fix] Use Buffer.alloc and Buffer.from instead of new Buffer (#1281),2018-04-20 11:52:08-04:00,http.js,https://github.com/winstonjs/winston/raw/ac7fdf985cc3cef0f7b69309bd1f9df5f941dece/lib/winston/transports/http.js,https://github.com/winstonjs/winston/raw/e84a7b66238f962bbe7241977339c221cf9ba550/lib/winston/transports/http.js,"@@ -202,5 +202,5 @@ Http.prototype._request = function (options, callback) {
     }).resume();
   });
 
-  req.end(new Buffer(JSON.stringify(options), 'utf8'));
+  req.end(Buffer.from(JSON.stringify(options), 'utf8'));
 };
",205,"req.end(new Buffer(JSON.stringify(options), 'utf8'));","req.end(Buffer.from(JSON.stringify(options), 'utf8'));"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/8c51f601d8a377aa97571c6a40644b930c84fb19,8c51f601d8a377aa97571c6a40644b930c84fb19,[fix] Correctly refactor handleExceptions and unhandleExceptions (#1324),2018-05-24 01:55:45-04:00,winston.js,https://github.com/winstonjs/winston/raw/0d6200128c2c556621fc17d6ffb360f5ffda1607/lib/winston.js,https://github.com/winstonjs/winston/raw/8c51f601d8a377aa97571c6a40644b930c84fb19/lib/winston.js,"@@ -98,7 +98,7 @@ Object.keys(winston.config.npm.levels).concat([
   'unhandleExceptions',
   'configure'
 ]).forEach(method => (
-  winston[method] = args => defaultLogger[method](...args)
+  winston[method] = (...args) => defaultLogger[method](...args)
 ));
 
 /**
",101,winston[method] = args => defaultLogger[method](...args),winston[method] = (...args) => defaultLogger[method](...args)
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/1823d8cdbf04800c3dd62cb14c0786ec9fd76ea0,1823d8cdbf04800c3dd62cb14c0786ec9fd76ea0,[fix] Fix removing all loggers from a container,2018-05-25 16:34:44+02:00,container.js,https://github.com/winstonjs/winston/raw/502a8289df5c39f8e8373a04dde963c19a002c4e/lib/winston/container.js,https://github.com/winstonjs/winston/raw/1823d8cdbf04800c3dd62cb14c0786ec9fd76ea0/lib/winston/container.js,"@@ -82,7 +82,7 @@ module.exports = class Container {
       return this._removeLogger(id);
     }
 
-    this.loggers.keys().forEach(this._removeLogger.bind(this));
+    this.loggers.forEach((val, key) => this._removeLogger(key));
   }
 
   /**
",85,this.loggers.keys().forEach(this._removeLogger.bind(this));,"this.loggers.forEach((val, key) => this._removeLogger(key));"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/b59ad61df7386f848be63f461d3339ea3b393ede,b59ad61df7386f848be63f461d3339ea3b393ede,[fix-test] Fix test case still using winston.loggers as an object,2018-05-25 16:37:55+02:00,container.test.js,https://github.com/winstonjs/winston/raw/0402b003d97366d41864e9415b48cbea1937569c/test/container.test.js,https://github.com/winstonjs/winston/raw/b59ad61df7386f848be63f461d3339ea3b393ede/test/container.test.js,"@@ -33,7 +33,7 @@ describe('Container', function () {
 
     it('.close(default-test)', function () {
       container.close('default-test');
-      assume(container.loggers['default-test']).falsy();
+      assume(container.loggers.has('default-test')).falsy();
     });
 
     it('.close(non-existent)', function () {
",36,assume(container.loggers['default-test']).falsy();,assume(container.loggers.has('default-test')).falsy();
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/af941f4c98a24ba9efd7743fdde531903208cda7,af941f4c98a24ba9efd7743fdde531903208cda7,"Fixing off-by-one when using both meta and splat (#1485)

The arguments.length > 2 section in log() examines the first item in the splat param to see if it's a meta object. Problem was, a subsequent call to splat.slice() still included that meta object in the splat.",2018-09-28 22:03:17-07:00,logger.js,https://github.com/winstonjs/winston/raw/6da46de284c135e613217378c65c5763318aba4d/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/af941f4c98a24ba9efd7743fdde531903208cda7/lib/winston/logger.js,"@@ -173,7 +173,7 @@ class Logger extends stream.Transform {
     if (typeof meta === 'object' && meta !== null) {
       this.write(Object.assign({}, meta, {
         [LEVEL]: level,
-        [SPLAT]: splat.slice(0),
+        [SPLAT]: splat.slice(1),
         level,
         message: msg
       }));
",176,"[SPLAT]: splat.slice(0),","[SPLAT]: splat.slice(1),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/ed27e8574aefc02e0d321f6767fa8911588f061f,ed27e8574aefc02e0d321f6767fa8911588f061f,"Log file without .gz for tailable (#1525) (#1526)

* Log file without .gz for tailable (#1525)

* Convert vows based file-archive-test
* Do not append .gz to log file if tailable and zippedArchive are true

* Fix file-archive.test",2018-11-29 13:07:14-08:00,file.js,https://github.com/winstonjs/winston/raw/f87be3ed23c670e2aecb8366db970782772f1f74/lib/winston/transports/file.js,https://github.com/winstonjs/winston/raw/ed27e8574aefc02e0d321f6767fa8911588f061f/lib/winston/transports/file.js,"@@ -592,7 +592,7 @@ module.exports = class File extends TransportStream {
       ? `${basename}${isRotation}${ext}`
       : `${basename}${ext}`;
 
-    return this.zippedArchive
+    return this.zippedArchive && !this.tailable
       ? `${target}.gz`
       : target;
   }
",595,return this.zippedArchive,return this.zippedArchive && !this.tailable
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/785ea22c6258d8ec36beebae008b4e1b2df63fe4,785ea22c6258d8ec36beebae008b4e1b2df63fe4,Try better fix for #1485 (#1499),2018-12-07 16:52:59-05:00,logger.js,https://github.com/winstonjs/winston/raw/59748c12e9ef61c3b029504c3d1fbfe880644c40/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/785ea22c6258d8ec36beebae008b4e1b2df63fe4/lib/winston/logger.js,"@@ -173,7 +173,7 @@ class Logger extends Transform {
     if (typeof meta === 'object' && meta !== null) {
       this.write(Object.assign({}, meta, {
         [LEVEL]: level,
-        [SPLAT]: splat.slice(1),
+        [SPLAT]: splat.slice(0),
         level,
         message: msg
       }));
",176,"[SPLAT]: splat.slice(1),","[SPLAT]: splat.slice(0),"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/80d343939facdab4eb4aa315cb061c75a3f77549,80d343939facdab4eb4aa315cb061c75a3f77549,"Expose `child` on default logger (#1603)

* Add `child` pass-through to type defs

* Add pass-through to defaultLogger.child(...)

* Add test for `winston.child`

* fix: type defs",2019-02-25 22:14:53-08:00,winston.test.js,https://github.com/winstonjs/winston/raw/3a5413b403bde57774dce116888a80eccb432c8f/test/winston.test.js,https://github.com/winstonjs/winston/raw/80d343939facdab4eb4aa315cb061c75a3f77549/test/winston.test.js,"@@ -27,7 +27,7 @@ describe('winston', function () {
 
   it('has expected methods', function () {
     assume(winston.config).is.an('object');
-    ['createLogger', 'add', 'remove', 'clear']
+    ['createLogger', 'add', 'remove', 'clear', 'child']
       .concat(Object.keys(winston.config.npm.levels))
       .forEach(function (key) {
         assume(winston[key]).is.a('function', 'winston.' + key);
",30,"['createLogger', 'add', 'remove', 'clear']","['createLogger', 'add', 'remove', 'clear', 'child']"
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/df25fa2b93e1ea134cfca8bd1c46934ad4f2a7a3,df25fa2b93e1ea134cfca8bd1c46934ad4f2a7a3,"fix: change property of handleRejections (#1779)

change property handleExeptions with handleRejections to make it works",2020-04-30 11:39:50-07:00,rejection-handler.js,https://github.com/winstonjs/winston/raw/950cbcdf9e3eb7ee6188d1b7540ece2a365b4547/lib/winston/rejection-handler.js,https://github.com/winstonjs/winston/raw/df25fa2b93e1ea134cfca8bd1c46934ad4f2a7a3/lib/winston/rejection-handler.js,"@@ -150,7 +150,7 @@ module.exports = class RejectionHandler {
    */
   _addHandler(handler) {
     if (!this.handlers.has(handler)) {
-      handler.handleExceptions = true;
+      handler.handleRejections = true;
       const wrapper = new ExceptionStream(handler);
       this.handlers.set(handler, wrapper);
       this.logger.pipe(wrapper);
",153,handler.handleExceptions = true;,handler.handleRejections = true;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/227ca0a3219394a72c9856a6104fcd88af464540,227ca0a3219394a72c9856a6104fcd88af464540,"Add space between `info.message` and `meta.message` (#1740)

* Update logger.js

* fix tests",2020-06-21 22:40:40-07:00,logger.js,https://github.com/winstonjs/winston/raw/ef971710ecfaffc2526e45a264b3e16fb2617604/lib/winston/logger.js,https://github.com/winstonjs/winston/raw/227ca0a3219394a72c9856a6104fcd88af464540/lib/winston/logger.js,"@@ -238,7 +238,7 @@ class Logger extends Transform {
           message: msg
         });
 
-        if (meta.message) info.message += `${meta.message}`;
+        if (meta.message) info.message = `${info.message} ${meta.message}`;
         if (meta.stack) info.stack = meta.stack;
 
         this.write(info);
",241,if (meta.message) info.message += `${meta.message}`;,if (meta.message) info.message = `${info.message} ${meta.message}`;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/39cec7ffdd60e2cb4f19590b59bbf2b1e2f59dbf,39cec7ffdd60e2cb4f19590b59bbf2b1e2f59dbf,fix a typo,2021-12-09 18:55:39-05:00,container.js,https://github.com/winstonjs/winston/raw/f4d2441d6f82701a9eb3754b6d72f6a8779e0054/lib/winston/container.js,https://github.com/winstonjs/winston/raw/39cec7ffdd60e2cb4f19590b59bbf2b1e2f59dbf/lib/winston/container.js,"@@ -25,7 +25,7 @@ module.exports = class Container {
   }
 
   /**
-   * Retreives a `winston.Logger` instance for the specified `id`. If an
+   * Retrieves a `winston.Logger` instance for the specified `id`. If an
    * instance does not exist, one is created.
    * @param {!string} id - The id of the Logger to get.
    * @param {?Object} [options] - Options for the Logger instance.
",28,* Retreives a `winston.Logger` instance for the specified `id`. If an,* Retrieves a `winston.Logger` instance for the specified `id`. If an
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a584db39359312058cb639c7bde024f87e6155ce,a584db39359312058cb639c7bde024f87e6155ce,fix(transport): eol='' not work (#1878),2021-12-11 12:56:13-06:00,console.js,https://github.com/winstonjs/winston/raw/2299d19b17e330de588580a2c225ca89fa9a65f2/lib/winston/transports/console.js,https://github.com/winstonjs/winston/raw/a584db39359312058cb639c7bde024f87e6155ce/lib/winston/transports/console.js,"@@ -30,7 +30,7 @@ module.exports = class Console extends TransportStream {
     this.name = options.name || 'console';
     this.stderrLevels = this._stringArrayToSet(options.stderrLevels);
     this.consoleWarnLevels = this._stringArrayToSet(options.consoleWarnLevels);
-    this.eol = options.eol || os.EOL;
+    this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;
 
     this.setMaxListeners(30);
   }
",33,this.eol = options.eol || os.EOL;,this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a584db39359312058cb639c7bde024f87e6155ce,a584db39359312058cb639c7bde024f87e6155ce,fix(transport): eol='' not work (#1878),2021-12-11 12:56:13-06:00,file.js,https://github.com/winstonjs/winston/raw/2299d19b17e330de588580a2c225ca89fa9a65f2/lib/winston/transports/file.js,https://github.com/winstonjs/winston/raw/a584db39359312058cb639c7bde024f87e6155ce/lib/winston/transports/file.js,"@@ -77,7 +77,7 @@ module.exports = class File extends TransportStream {
     this.rotationFormat = options.rotationFormat || false;
     this.zippedArchive = options.zippedArchive || false;
     this.maxFiles = options.maxFiles || null;
-    this.eol = options.eol || os.EOL;
+    this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;
     this.tailable = options.tailable || false;
 
     // Internal state variables representing the number of files this instance
",80,this.eol = options.eol || os.EOL;,this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;
winston,https://github.com/winstonjs/winston,https://github.com/winstonjs/winston/commit/a584db39359312058cb639c7bde024f87e6155ce,a584db39359312058cb639c7bde024f87e6155ce,fix(transport): eol='' not work (#1878),2021-12-11 12:56:13-06:00,stream.js,https://github.com/winstonjs/winston/raw/2299d19b17e330de588580a2c225ca89fa9a65f2/lib/winston/transports/stream.js,https://github.com/winstonjs/winston/raw/a584db39359312058cb639c7bde024f87e6155ce/lib/winston/transports/stream.js,"@@ -35,7 +35,7 @@ module.exports = class Stream extends TransportStream {
     this._stream = options.stream;
     this._stream.setMaxListeners(Infinity);
     this.isObjectMode = options.stream._writableState.objectMode;
-    this.eol = options.eol || os.EOL;
+    this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;
   }
 
   /**
",38,this.eol = options.eol || os.EOL;,this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/49099c19e4ac303c4e11574007907960911b26c2,49099c19e4ac303c4e11574007907960911b26c2,Fix type conversion,2011-04-27 20:41:26+10:00,validator.js,https://github.com/chriso/validator.js/raw/90b8af4da1437630b548cc04b3834c0a9f25a12c/lib/validator.js,https://github.com/chriso/validator.js/raw/49099c19e4ac303c4e11574007907960911b26c2/lib/validator.js,"@@ -3,7 +3,7 @@ var net = require('net');
 var Validator = exports.Validator = function() {}
 
 Validator.prototype.check = function(str, fail_msg) {
-    this.str = String(str || '');
+    this.str = str == null ? '' : str+'';
     this.msg = fail_msg;
     return this;
 }
",6,this.str = String(str || '');,this.str = str == null ? '' : str+'';
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/49099c19e4ac303c4e11574007907960911b26c2,49099c19e4ac303c4e11574007907960911b26c2,Fix type conversion,2011-04-27 20:41:26+10:00,validator.js,https://github.com/chriso/validator.js/raw/90b8af4da1437630b548cc04b3834c0a9f25a12c/validator.js,https://github.com/chriso/validator.js/raw/49099c19e4ac303c4e11574007907960911b26c2/validator.js,"@@ -523,7 +523,7 @@
     var Validator = exports.Validator = function() {}
 
     Validator.prototype.check = function(str, fail_msg) {
-        this.str = String(str || '');
+        this.str = str == null ? '' : str+'';
         this.msg = fail_msg;
         return this;
     }
",526,this.str = String(str || '');,this.str = str == null ? '' : str+'';
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/e36067eae974d7a8bf3f7ae4ed45afb52842f90c,e36067eae974d7a8bf3f7ae4ed45afb52842f90c,fixed throwing error,2011-05-01 21:02:07+02:00,validator.js,https://github.com/chriso/validator.js/raw/49099c19e4ac303c4e11574007907960911b26c2/lib/validator.js,https://github.com/chriso/validator.js/raw/e36067eae974d7a8bf3f7ae4ed45afb52842f90c/lib/validator.js,"@@ -13,7 +13,7 @@ Validator.prototype.validate = Validator.prototype.check;
 Validator.prototype.assert = Validator.prototype.check;
 
 Validator.prototype.error = function(msg) {
-    throw msg;
+    throw new Error(msg);
 }
 
 Validator.prototype.isEmail = function() {
",16,throw msg;,throw new Error(msg);
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/e36067eae974d7a8bf3f7ae4ed45afb52842f90c,e36067eae974d7a8bf3f7ae4ed45afb52842f90c,fixed throwing error,2011-05-01 21:02:07+02:00,xss.js,https://github.com/chriso/validator.js/raw/49099c19e4ac303c4e11574007907960911b26c2/lib/xss.js,https://github.com/chriso/validator.js/raw/e36067eae974d7a8bf3f7ae4ed45afb52842f90c/lib/xss.js,"@@ -167,7 +167,7 @@ exports.clean = function(str, is_image) {
 
     //Images are handled in a special way
     if (is_image && str !== converted_string) {
-        throw 'Image may contain XSS';
+        throw new Error('Image may contain XSS');
     }
 
     return str;
",170,throw 'Image may contain XSS';,throw new Error('Image may contain XSS');
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/79952c243f21abce70e51bcd5231b355da5b24a3,79952c243f21abce70e51bcd5231b355da5b24a3,Fix unescaped -,2011-10-28 18:02:42+02:00,validator.js,https://github.com/chriso/validator.js/raw/1ec97aaa87bdd36f88ccb90f0350922bf913b071/lib/validator.js,https://github.com/chriso/validator.js/raw/79952c243f21abce70e51bcd5231b355da5b24a3/lib/validator.js,"@@ -120,7 +120,7 @@ Validator.prototype.isInt = function() {
 }
 
 Validator.prototype.isDecimal = function() {
-    if (this.str === '' || !this.str.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+-]?(?:[0-9]+))?$/)) {
+    if (this.str === '' || !this.str.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/)) {
        return this.error(this.msg || 'Invalid decimal');
     }
     return this;
",123,if (this.str === '' || !this.str.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+-]?(?:[0-9]+))?$/)) {,if (this.str === '' || !this.str.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/)) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/b5f29d35bd36bf40785d4bfa200ea6b515b9877b,b5f29d35bd36bf40785d4bfa200ea6b515b9877b,fix bug with errors array getting reassigned on each check,2011-11-11 10:58:36+02:00,validator.js,https://github.com/chriso/validator.js/raw/a0c3321ede5ff75f8cbe0900f6be8e83afa2f5b7/lib/validator.js,https://github.com/chriso/validator.js/raw/b5f29d35bd36bf40785d4bfa200ea6b515b9877b/lib/validator.js,"@@ -9,7 +9,7 @@ Validator.prototype.check = function(str, fail_msg) {
       this.str += '';
     }
     this.msg = fail_msg;
-    this._errors = [];
+    this._errors = this._errors || [];
     return this;
 }
 
",12,this._errors = [];,this._errors = this._errors || [];
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/54170a33e5f2f75903fcd4ea19f0495faec45ab4,54170a33e5f2f75903fcd4ea19f0495faec45ab4,"fixed issue where passing a real integer would generate ""has not method match"" error",2012-02-26 16:07:37-06:00,validators.js,https://github.com/chriso/validator.js/raw/de467401983ae4e8653b64a8bf8cda2201774959/lib/validators.js,https://github.com/chriso/validator.js/raw/54170a33e5f2f75903fcd4ea19f0495faec45ab4/lib/validators.js,"@@ -62,7 +62,7 @@ var validators = module.exports = {
         return str.match(/^[A-Z0-9]+$/);
     },
     isInt: function(str) {
-        return str.match(/^(?:-?(?:[0-9][0-9]*)(?:\.?0+)?)$/);
+        return (str % 1 === 0);
     },
     isDecimal: function(str) {
         return str !== '' && str.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/);
",65,return str.match(/^(?:-?(?:[0-9][0-9]*)(?:\.?0+)?)$/);,return (str % 1 === 0);
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f3c00d77790444a31f10c8d2063356028b69cf7a,f3c00d77790444a31f10c8d2063356028b69cf7a,"fixes an issue where certain values were not transformed properly, such as scientific notations",2012-02-27 15:52:02-06:00,filter.js,https://github.com/chriso/validator.js/raw/678e41e245261fdd0775f8885d1ac49301007036/lib/filter.js,https://github.com/chriso/validator.js/raw/f3c00d77790444a31f10c8d2063356028b69cf7a/lib/filter.js,"@@ -75,7 +75,7 @@ Filter.prototype.toFloat = function() {
 
 Filter.prototype.toInt = function(radix) {
     radix = radix || 10;
-    this.modify(parseInt(this.str, radix));
+    this.modify(parseInt(this.str*1, radix));
     return this.wrap(this.str);
 }
 
",78,"this.modify(parseInt(this.str, radix));","this.modify(parseInt(this.str*1, radix));"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/bf4e4f1223f3e0d47325e80398918f64e9c7ad6d,bf4e4f1223f3e0d47325e80398918f64e9c7ad6d,"Fix bug in browser version, closes #111",2012-09-25 12:11:46+10:00,validator.js,https://github.com/chriso/validator.js/raw/531b8800b9efe7eb09f540b9c6ea5bc0c74c5db9/validator.js,https://github.com/chriso/validator.js/raw/bf4e4f1223f3e0d47325e80398918f64e9c7ad6d/validator.js,"@@ -716,7 +716,7 @@
 
     Validator.prototype.len = function(min, max) {
         if (this.str.length < min) {
-            this.error(this.msg || 'String is too small');
+            return this.error(this.msg || 'String is too small');
         }
         if (typeof max !== undefined && this.str.length > max) {
             return this.error(this.msg || 'String is too large');
",719,this.error(this.msg || 'String is too small');,return this.error(this.msg || 'String is too small');
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cb0bfdd559c4d9fdb4118cb788ff628129e7639f,cb0bfdd559c4d9fdb4118cb788ff628129e7639f,"Fix issue with radix arg, closes #134",2012-12-18 12:12:45+11:00,validator.js,https://github.com/chriso/validator.js/raw/cd027d5d61dcad34b4fc83241bc27bd59c74723a/validator.js,https://github.com/chriso/validator.js/raw/cb0bfdd559c4d9fdb4118cb788ff628129e7639f/validator.js,"@@ -856,7 +856,7 @@
 
     Filter.prototype.toInt = function(radix) {
         radix = radix || 10;
-        this.modify(parseInt(this.str), radix);
+        this.modify(parseInt(this.str, radix));
         return this.str;
     }
 
",859,"this.modify(parseInt(this.str), radix);","this.modify(parseInt(this.str, radix));"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/0014d34004e3f811cc010befa3f0f5b93c6795d2,0014d34004e3f811cc010befa3f0f5b93c6795d2,"Fix filter regression, re #136, closes #139",2013-01-09 08:44:56+11:00,filter.js,https://github.com/chriso/validator.js/raw/075c3594d7e1d0a5a9500d3246c470824a55e4e7/lib/filter.js,https://github.com/chriso/validator.js/raw/0014d34004e3f811cc010befa3f0f5b93c6795d2/lib/filter.js,"@@ -6,7 +6,7 @@ var Filter = exports.Filter = function() {}
 var whitespace = '\\r\\n\\t\\s';
 
 Filter.prototype.modify = function(str) {
-    this.str = str == null ? '' : str + '';
+    this.str = str;
 }
 
 Filter.prototype.wrap = function (str) {
",9,this.str = str == null ? '' : str + '';,this.str = str;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/0014d34004e3f811cc010befa3f0f5b93c6795d2,0014d34004e3f811cc010befa3f0f5b93c6795d2,"Fix filter regression, re #136, closes #139",2013-01-09 08:44:56+11:00,validator.js,https://github.com/chriso/validator.js/raw/075c3594d7e1d0a5a9500d3246c470824a55e4e7/validator.js,https://github.com/chriso/validator.js/raw/0014d34004e3f811cc010befa3f0f5b93c6795d2/validator.js,"@@ -800,7 +800,7 @@
     var whitespace = '\\r\\n\\t\\s';
 
     Filter.prototype.modify = function(str) {
-        this.str = str == null ? '' : str + '';
+        this.str = str;
     }
 
     //Create some aliases - may help code readability
",803,this.str = str == null ? '' : str + '';,this.str = str;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/e098f327e5645996ef527ed9745f4128d31bd089,e098f327e5645996ef527ed9745f4128d31bd089,fixes isDivisibleBy() to fail on alphabetic strings,2013-04-07 13:18:58+02:00,validators.js,https://github.com/chriso/validator.js/raw/e67df8c2c0e077df0de008ff6d70f24133fa9c5e/lib/validators.js,https://github.com/chriso/validator.js/raw/e098f327e5645996ef527ed9745f4128d31bd089/lib/validators.js,"@@ -95,7 +95,7 @@ var validators = module.exports = {
         return str !== '' && str.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/);
     },
     isDivisibleBy: function(str, n) {
-        return !(parseFloat(str) % n);
+        return (parseFloat(str) % parseInt(n, 10)) === 0;
     },
     notNull: function(str) {
         return str !== '';
",98,return !(parseFloat(str) % n);,"return (parseFloat(str) % parseInt(n, 10)) === 0;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5b400d9baef990a22114f09e5c72ba46e64dfdb6,5b400d9baef990a22114f09e5c72ba46e64dfdb6,fix #isMultibyte #274,2014-04-11 19:15:23+09:00,validator.js,https://github.com/chriso/validator.js/raw/b79e3ea09f575ad1e4d1e560388ee8ddf469e467/validator.js,https://github.com/chriso/validator.js/raw/5b400d9baef990a22114f09e5c72ba46e64dfdb6/validator.js,"@@ -60,7 +60,7 @@
       , hexadecimal = /^[0-9a-fA-F]+$/
       , hexcolor = /^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;
 
-    var multibyte = /[^\x00-\x7F]/;
+    var multibyte = /^[^ -~｡-ﾟ]*$/;
 
     validator.extend = function (name, fn) {
         validator[name] = function () {
",63,var multibyte = /[^\x00-\x7F]/;,var multibyte = /^[^ -~｡-ﾟ]*$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a51484e525b65af340328f2c4493996541beba9d,a51484e525b65af340328f2c4493996541beba9d,Regex fix for base64 which validates slash characters.,2014-06-05 18:55:42-07:00,validator.js,https://github.com/chriso/validator.js/raw/4530164f78c020905085b76aa0398fd46532abe9/validator.js,https://github.com/chriso/validator.js/raw/a51484e525b65af340328f2c4493996541beba9d/validator.js,"@@ -67,7 +67,7 @@
 
     var surrogatePair = /[\uD800-\uDBFF][\uDC00-\uDFFF]/;
 
-    var base64 = /^(?:[A-Za-z0-9+]{4})*(?:[A-Za-z0-9+]{2}==|[A-Za-z0-9+]{3}=|[A-Za-z0-9+]{4})$/;
+    var base64 = /^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{4})$/;
 
     validator.extend = function (name, fn) {
         validator[name] = function () {
",70,var base64 = /^(?:[A-Za-z0-9+]{4})*(?:[A-Za-z0-9+]{2}==|[A-Za-z0-9+]{3}=|[A-Za-z0-9+]{4})$/;,var base64 = /^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{4})$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/3912b3b810b2e2e9ef2cf4972080a9e2b60eacf4,3912b3b810b2e2e9ef2cf4972080a9e2b60eacf4,Fix for broken sort in isIP method.,2014-07-30 21:48:37+00:00,validator.js,https://github.com/chriso/validator.js/raw/e3f76457fd16950bd8e6797f35c6ef8d182b6456/validator.js,https://github.com/chriso/validator.js/raw/3912b3b810b2e2e9ef2cf4972080a9e2b60eacf4/validator.js,"@@ -169,7 +169,7 @@
             if (!ipv4Maybe.test(str)) {
                 return false;
             }
-            var parts = str.split('.').sort();
+            var parts = str.split('.').sort(function (a, b) { return a-b });
             return parts[3] <= 255;
         }
         return version === '6' && ipv6.test(str);
",172,var parts = str.split('.').sort();,"var parts = str.split('.').sort(function (a, b) { return a-b });"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/9b672c69ee1a485904f6f8d176f2b36f2c7e79c8,9b672c69ee1a485904f6f8d176f2b36f2c7e79c8,"Fix bug in sanitizer tests, closes #304",2014-08-07 08:23:27+01:00,sanitizers.js,https://github.com/chriso/validator.js/raw/fed9ad7acd92ca743ba95698163f0c7ce6e264a0/test/sanitizers.js,https://github.com/chriso/validator.js/raw/9b672c69ee1a485904f6f8d176f2b36f2c7e79c8/test/sanitizers.js,"@@ -8,7 +8,7 @@ function test(options) {
         args[0] = input;
         var result = validator[options.sanitizer].apply(validator, args)
           , expected = options.expect[input];
-        if (isNaN(result) && isNaN(expected)) {
+        if (isNaN(result) && !result.length && isNaN(expected)) {
             return;
         }
         if (result !== expected) {
",11,if (isNaN(result) && isNaN(expected)) {,if (isNaN(result) && !result.length && isNaN(expected)) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d58281a387917dd4adf6c312847085d89a9e8457,d58281a387917dd4adf6c312847085d89a9e8457,"Fix for normalizeEmail, an email address can have one or more dots",2014-10-04 16:05:45+03:00,validator.js,https://github.com/chriso/validator.js/raw/0363563d2e6d9fd0222ce175071e0f46228225dc/validator.js,https://github.com/chriso/validator.js/raw/d58281a387917dd4adf6c312847085d89a9e8457/validator.js,"@@ -437,7 +437,7 @@
     validator.normalizeEmail = function (email) {
         var parts = email.toLowerCase().split('@', 2);
         if (parts[1] === 'gmail.com' || parts[1] === 'googlemail.com') {
-            parts[0] = parts[0].replace('.', '').split('+')[0];
+            parts[0] = parts[0].replace(/\./g, '').split('+')[0];
             email = parts.join('@');
         }
         return email;
",440,"parts[0] = parts[0].replace('.', '').split('+')[0];","parts[0] = parts[0].replace(/\./g, '').split('+')[0];"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/2c711dfa8f0dc9dc7180064a7d2b8ff0d17287cb,2c711dfa8f0dc9dc7180064a7d2b8ff0d17287cb,"Fix the domain part regex, closes #329",2014-12-05 15:58:23+07:00,validator.js,https://github.com/chriso/validator.js/raw/422d05423f8c427ec373258229763863a9d24b4c/validator.js,https://github.com/chriso/validator.js/raw/2c711dfa8f0dc9dc7180064a7d2b8ff0d17287cb/validator.js,"@@ -265,7 +265,7 @@
                 }
                 part = part.replace(/_/g, '');
             }
-            if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {
+            if (!/^[a-z\u00a1-\uffff0-9-]+$/i.test(part)) {
                 return false;
             }
             if (part[0] === '-' || part[part.length - 1] === '-' ||
",268,if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {,if (!/^[a-z\u00a1-\uffff0-9-]+$/i.test(part)) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f93bb40a2434d34833b0973ac293b13a1977072f,f93bb40a2434d34833b0973ac293b13a1977072f,* [bug] validator isIn for non-string supports,2014-12-12 14:38:24+08:00,validators.js,https://github.com/chriso/validator.js/raw/5f23ff68f07abc0af3f393de80537c12fda7e014/test/validators.js,https://github.com/chriso/validator.js/raw/f93bb40a2434d34833b0973ac293b13a1977072f/test/validators.js,"@@ -591,7 +591,7 @@ describe('Validators', function () {
     it('should validate a string that is in another object', function () {
         test({ validator: 'isIn', args: [{'foo':1, 'bar':2, 'foobar':3}], valid: ['foo', 'bar', 'foobar'],
             invalid: ['foobarbaz', 'barfoo', ''] });
-        test({ validator: 'isIn', args: [{'foo':1, 'bar':2, 'foobar':3}], valid: ['1', '2', '3'],
+        test({ validator: 'isIn', args: [{'foo':1, 'bar':2, 'foobar':3}], valid: ['1', '2', 3],
             invalid: ['foobarbaz', 'barfoo', ''] });
         test({ validator: 'isIn', args: [{1:3, 2:0, 3:1}], valid: ['1', '2', '3'],
             invalid: ['4', ''] });
",594,"test({ validator: 'isIn', args: [{'foo':1, 'bar':2, 'foobar':3}], valid: ['1', '2', '3'],","test({ validator: 'isIn', args: [{'foo':1, 'bar':2, 'foobar':3}], valid: ['1', '2', 3],"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f93bb40a2434d34833b0973ac293b13a1977072f,f93bb40a2434d34833b0973ac293b13a1977072f,* [bug] validator isIn for non-string supports,2014-12-12 14:38:24+08:00,validator.js,https://github.com/chriso/validator.js/raw/5f23ff68f07abc0af3f393de80537c12fda7e014/validator.js,https://github.com/chriso/validator.js/raw/f93bb40a2434d34833b0973ac293b13a1977072f/validator.js,"@@ -364,7 +364,7 @@
                 return true;
             }
             for (i in options) {
-                if (str === validator.toString(options[i])) return true;
+                if (str == validator.toString(options[i])) return true;
             }
             return false;
         } else if (options && typeof options.indexOf === 'function') {
",367,if (str === validator.toString(options[i])) return true;,if (str == validator.toString(options[i])) return true;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1325350640fd0fa2724c29b7dd28c2f7bb001761,1325350640fd0fa2724c29b7dd28c2f7bb001761,"Properly handle punycode TLDs

fixes #351
- Allows punycode and unicode in TLD
- Added tests",2015-01-22 15:18:32+01:00,validator.js,https://github.com/chriso/validator.js/raw/6201bbbbb04932becc5ab998173e8e9249cbc023/validator.js,https://github.com/chriso/validator.js/raw/1325350640fd0fa2724c29b7dd28c2f7bb001761/validator.js,"@@ -267,7 +267,7 @@
         var parts = str.split('.');
         if (options.require_tld) {
             var tld = parts.pop();
-            if (!parts.length || !/^[a-z]{2,}$/i.test(tld)) {
+            if (!parts.length || !/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {
                 return false;
             }
         }
",270,"if (!parts.length || !/^[a-z]{2,}$/i.test(tld)) {","if (!parts.length || !/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cc787ca61abac4ac393a4838ead737e7c1567b3c,cc787ca61abac4ac393a4838ead737e7c1567b3c,fixed regexp en-AU,2015-02-23 17:57:35+08:00,validator.js,https://github.com/chriso/validator.js/raw/54d835b8c9f728bbd0480281edc0d9ca9a6798bb/validator.js,https://github.com/chriso/validator.js/raw/cc787ca61abac4ac393a4838ead737e7c1567b3c/validator.js,"@@ -76,7 +76,7 @@
     var phones = {
       'zh-CN': /^(\+?0?86\-?)?1[345789]\d{9}$/,
       'en-ZA': /^(\+?27|0)\d{9}$/,
-      'en-AU': /^(\+?61|0)4\d{8}/,
+      'en-AU': /^(\+?61|0)4\d{8}$/,
       // http://en.wikipedia.org/wiki/Telephone_numbers_in_Hong_Kong#2000_onwards
       'en-HK': /^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,
       'fr-FR': /^(\+?33|0)[67]\d{8}$/,
",79,"'en-AU': /^(\+?61|0)4\d{8}/,","'en-AU': /^(\+?61|0)4\d{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/17fbb82657032c3eb1df778e40ebb591bd0831bf,17fbb82657032c3eb1df778e40ebb591bd0831bf,Allow prefix for ipv4 due to transition,2015-06-10 14:01:54+02:00,validator.js,https://github.com/chriso/validator.js/raw/74892afc64d249291be4314c8761973090562798/validator.js,https://github.com/chriso/validator.js/raw/17fbb82657032c3eb1df778e40ebb591bd0831bf/validator.js,"@@ -48,7 +48,7 @@
     var isbn10Maybe = /^(?:[0-9]{9}X|[0-9]{10})$/
       , isbn13Maybe = /^(?:[0-9]{13})$/;
 
-    var ipv4Maybe = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/
+    var ipv4Maybe = /^(::ffff:)?(\d+)\.(\d+)\.(\d+)\.(\d+)$/
       , ipv6Block = /^[0-9A-F]{1,4}$/i;
 
     var uuid = {
",51,var ipv4Maybe = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,var ipv4Maybe = /^(::ffff:)?(\d+)\.(\d+)\.(\d+)\.(\d+)$/
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f20826c76023781896836232cd506da87fd8bf6e,f20826c76023781896836232cd506da87fd8bf6e,Fix typo in tests and run `make min`,2015-06-11 15:05:16+02:00,validators.js,https://github.com/chriso/validator.js/raw/7daddc4c9fe9a3c90c539eb3d9a0d54b3e63cbf0/test/validators.js,https://github.com/chriso/validator.js/raw/f20826c76023781896836232cd506da87fd8bf6e/test/validators.js,"@@ -393,7 +393,7 @@ describe('Validators', function () {
               , '1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1'
               , '::11111'
               , '11111:1:1:1:1:1:1:1'
-              , '2001:db8:0000:1:1:1:1::1',
+              , '2001:db8:0000:1:1:1:1::1'
               , '0:0:0:0:0:0:ffff:127.0.0.1'
               , '0:0:0:0:ffff:127.0.0.1'
             ]
",396,", '2001:db8:0000:1:1:1:1::1',",", '2001:db8:0000:1:1:1:1::1'"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/04d8b45e061b2e8b1275441640737247779ff290,04d8b45e061b2e8b1275441640737247779ff290,Fix #435: Convert returned comparison in isBefore() to a boolean.,2015-09-17 22:06:19-04:00,validator.js,https://github.com/chriso/validator.js/raw/b20a8db53b112eea86dfed9b9d6efabb4cde63de/validator.js,https://github.com/chriso/validator.js/raw/04d8b45e061b2e8b1275441640737247779ff290/validator.js,"@@ -480,7 +480,7 @@
     validator.isBefore = function (str, date) {
         var comparison = validator.toDate(date || new Date())
           , original = validator.toDate(str);
-        return original && comparison && original < comparison;
+        return !!(original && comparison && original < comparison);
     };
 
     validator.isIn = function (str, options) {
",483,return original && comparison && original < comparison;,return !!(original && comparison && original < comparison);
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a08e3f002b94d709c6327ea804a915409dbaccb5,a08e3f002b94d709c6327ea804a915409dbaccb5,fix for Greek mobile phones validation. Previous one validated land line phone numbers as well,2015-12-16 23:22:33+02:00,validator.js,https://github.com/chriso/validator.js/raw/2f6842dc91e9bd73330795ecd56dfb9cd688e48f/validator.js,https://github.com/chriso/validator.js/raw/a08e3f002b94d709c6327ea804a915409dbaccb5/validator.js,"@@ -90,7 +90,7 @@
       'en-HK': /^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,
       'fr-FR': /^(\+?33|0)[67]\d{8}$/,
       'pt-PT': /^(\+351)?9[1236]\d{7}$/,
-      'el-GR': /^(\+30)?((2\d{9})|(69\d{8}))$/,
+      'el-GR': /^(\+30)?(69\d{8})$/,
       'en-GB': /^(\+?44|0)7\d{9}$/,
       'en-US': /^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,
       'en-ZM': /^(\+26)?09[567]\d{7}$/,
",93,"'el-GR': /^(\+30)?((2\d{9})|(69\d{8}))$/,","'el-GR': /^(\+30)?(69\d{8})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/451d8fe359cbacaa16fbb24bf6137d71f5d4365d,451d8fe359cbacaa16fbb24bf6137d71f5d4365d,fixed wrongly approved zero padded ip 4,2016-02-09 09:48:21+08:00,validator.js,https://github.com/chriso/validator.js/raw/ef08e6dece081f7d1573df501b15c7f1126f6427/validator.js,https://github.com/chriso/validator.js/raw/451d8fe359cbacaa16fbb24bf6137d71f5d4365d/validator.js,"@@ -54,7 +54,7 @@
 
     var macAddress = /^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;
 
-    var ipv4Maybe = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/
+    var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/
       , ipv6Block = /^[0-9A-F]{1,4}$/i;
 
     var uuid = {
",57,var ipv4Maybe = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,"var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/760015d541c3d261dc78f74c0c9545023f62c1dc,760015d541c3d261dc78f74c0c9545023f62c1dc,Fix isBefore and isAfter defaulting to Date instance instead of string,2016-02-13 12:54:31+02:00,isAfter.js,https://github.com/chriso/validator.js/raw/c9efde660a522868049f91928d0912eae2309dd9/lib/isAfter.js,https://github.com/chriso/validator.js/raw/760015d541c3d261dc78f74c0c9545023f62c1dc/lib/isAfter.js,"@@ -16,7 +16,7 @@ var _toDate2 = _interopRequireDefault(_toDate);
 function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 function isAfter(str) {
-  var date = arguments.length <= 1 || arguments[1] === undefined ? new Date() : arguments[1];
+  var date = arguments.length <= 1 || arguments[1] === undefined ? String(new Date()) : arguments[1];
 
   (0, _assertString2.default)(str);
   var comparison = (0, _toDate2.default)(date);
",19,var date = arguments.length <= 1 || arguments[1] === undefined ? new Date() : arguments[1];,var date = arguments.length <= 1 || arguments[1] === undefined ? String(new Date()) : arguments[1];
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c698274494ea8ffc5cdb85d491068767751dc846,c698274494ea8ffc5cdb85d491068767751dc846,fix missing comma,2016-04-04 13:18:33+02:00,validators.js,https://github.com/chriso/validator.js/raw/d161e65cb21d9442a7a08aac9cbcbbe356560062/test/validators.js,https://github.com/chriso/validator.js/raw/c698274494ea8ffc5cdb85d491068767751dc846/test/validators.js,"@@ -568,7 +568,7 @@ describe('Validators', function () {
         'KŮŇ',
         'Pěl',
         'Ďábelské',
-        'ódy'
+        'ódy',
       ],
       invalid: [
         'ábc1',
",571,'ódy',"'ódy',"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d9895f702e8bfe986cde8c63022140baa71286b2,d9895f702e8bfe986cde8c63022140baa71286b2,Fix issue #535: add validation for Union Pay credit cards,2016-06-04 11:42:31+02:00,isCreditCard.js,https://github.com/chriso/validator.js/raw/d3e38cfa7029e9d22ff69b8cce55b2577b03ce3f/src/lib/isCreditCard.js,https://github.com/chriso/validator.js/raw/d9895f702e8bfe986cde8c63022140baa71286b2/src/lib/isCreditCard.js,"@@ -1,7 +1,7 @@
 import assertString from './util/assertString';
 
 /* eslint-disable max-len */
-const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/;
+const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{5,}$/;
 /* eslint-enable max-len */
 
 export default function isCreditCard(str) {
",4,const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/;,"const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{5,}$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5853b17a0a68dc25da9703f41aae59489360dbf3,5853b17a0a68dc25da9703f41aae59489360dbf3,Fix Union Pay credit card regex,2016-06-09 10:35:02+02:00,isCreditCard.js,https://github.com/chriso/validator.js/raw/7153ce749e3389df6eefa15b32940a25c3517de2/src/lib/isCreditCard.js,https://github.com/chriso/validator.js/raw/5853b17a0a68dc25da9703f41aae59489360dbf3/src/lib/isCreditCard.js,"@@ -1,7 +1,7 @@
 import assertString from './util/assertString';
 
 /* eslint-disable max-len */
-const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{5,}$/;
+const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;
 /* eslint-enable max-len */
 
 export default function isCreditCard(str) {
",4,"const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{5,}$/;",const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/287fd05258c140fd6033c532de1a000a16257d9f,287fd05258c140fd6033c532de1a000a16257d9f,Update dependencies and apply lint fixes,2016-06-10 05:58:20+10:00,escape.js,https://github.com/chriso/validator.js/raw/4ec97756095503d815370b136b016e4d3d165222/src/lib/escape.js,https://github.com/chriso/validator.js/raw/287fd05258c140fd6033c532de1a000a16257d9f/src/lib/escape.js,"@@ -8,5 +8,5 @@ export default function escape(str) {
         .replace(/</g, '&lt;')
         .replace(/>/g, '&gt;')
         .replace(/\//g, '&#x2F;')
-        .replace(/\`/g, '&#96;'));
+        .replace(/`/g, '&#96;'));
 }
",11,".replace(/\`/g, '&#96;'));",".replace(/`/g, '&#96;'));"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cd92fb3e8e70109e35a564ce633ebe893c444df9,cd92fb3e8e70109e35a564ce633ebe893c444df9,"Allow floats like -.01, fixes #618",2017-02-01 20:13:09+10:00,isFloat.js,https://github.com/chriso/validator.js/raw/0a5335cc485b45c43a3d9d93baaa51153a95c8f0/lib/isFloat.js,https://github.com/chriso/validator.js/raw/cd92fb3e8e70109e35a564ce633ebe893c444df9/lib/isFloat.js,"@@ -11,7 +11,7 @@ var _assertString2 = _interopRequireDefault(_assertString);
 
 function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
-var float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
+var float = /^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
 
 function isFloat(str, options) {
   (0, _assertString2.default)(str);
",14,var float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;,var float = /^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cd92fb3e8e70109e35a564ce633ebe893c444df9,cd92fb3e8e70109e35a564ce633ebe893c444df9,"Allow floats like -.01, fixes #618",2017-02-01 20:13:09+10:00,isFloat.js,https://github.com/chriso/validator.js/raw/0a5335cc485b45c43a3d9d93baaa51153a95c8f0/src/lib/isFloat.js,https://github.com/chriso/validator.js/raw/cd92fb3e8e70109e35a564ce633ebe893c444df9/src/lib/isFloat.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-const float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
+const float = /^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
 
 export default function isFloat(str, options) {
   assertString(str);
",3,const float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;,const float = /^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cd92fb3e8e70109e35a564ce633ebe893c444df9,cd92fb3e8e70109e35a564ce633ebe893c444df9,"Allow floats like -.01, fixes #618",2017-02-01 20:13:09+10:00,validator.js,https://github.com/chriso/validator.js/raw/0a5335cc485b45c43a3d9d93baaa51153a95c8f0/validator.js,https://github.com/chriso/validator.js/raw/cd92fb3e8e70109e35a564ce633ebe893c444df9/validator.js,"@@ -695,7 +695,7 @@
         return regex.test(str) && minCheckPassed && maxCheckPassed && ltCheckPassed && gtCheckPassed;
       }
 
-      var float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
+      var float = /^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
 
       function isFloat(str, options) {
         assertString(str);
",698,var float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;,var float = /^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/de1a966b5905f0e2d402ee720c713b6de517551e,de1a966b5905f0e2d402ee720c713b6de517551e,fix credit card regex,2017-06-20 16:32:35-04:00,isCreditCard.js,https://github.com/chriso/validator.js/raw/bc79e64aa064879bf0cdf98d6d2069b734afe98e/src/lib/isCreditCard.js,https://github.com/chriso/validator.js/raw/de1a966b5905f0e2d402ee720c713b6de517551e/src/lib/isCreditCard.js,"@@ -1,7 +1,7 @@
 import assertString from './util/assertString';
 
 /* eslint-disable max-len */
-const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;
+const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|62[0-9]{14})$/;
 /* eslint-enable max-len */
 
 export default function isCreditCard(str) {
",4,const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;,const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|62[0-9]{14})$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/9c6428bd846ab8398d37ad6b1a7217ed2674e94f,9c6428bd846ab8398d37ad6b1a7217ed2674e94f,fix credit card regex to only replace dashes and spaces,2017-06-28 15:34:48-04:00,isCreditCard.js,https://github.com/chriso/validator.js/raw/7426defb2afdabb3fe03d2e0531cc5c98ecb0b7e/src/lib/isCreditCard.js,https://github.com/chriso/validator.js/raw/9c6428bd846ab8398d37ad6b1a7217ed2674e94f/src/lib/isCreditCard.js,"@@ -6,7 +6,7 @@ const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9
 
 export default function isCreditCard(str) {
   assertString(str);
-  const sanitized = str.replace(/[^0-9]+/g, '');
+  const sanitized = str.replace(/[- ]+/g, '');
   if (!creditCard.test(sanitized)) {
     return false;
   }
",9,"const sanitized = str.replace(/[^0-9]+/g, '');","const sanitized = str.replace(/[- ]+/g, '');"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a2026c97552975a1ef300876744e98caf607ec13,a2026c97552975a1ef300876744e98caf607ec13,"Fix bug for Danish locale in isAlphanumeric()

Had to add a + in the regex. Added tests for isAlpha() and
isAlphanumeric().",2017-08-17 22:02:07+02:00,alpha.js,https://github.com/chriso/validator.js/raw/a03d192568d068a6b398ea3ae10af0c60282653c/lib/alpha.js,https://github.com/chriso/validator.js/raw/a2026c97552975a1ef300876744e98caf607ec13/lib/alpha.js,"@@ -27,7 +27,7 @@ var alpha = exports.alpha = {
 var alphanumeric = exports.alphanumeric = {
   'en-US': /^[0-9A-Z]+$/i,
   'cs-CZ': /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
-  'da-DK': /^[0-9A-ZÆØÅ]$/i,
+  'da-DK': /^[0-9A-ZÆØÅ]+$/i,
   'de-DE': /^[0-9A-ZÄÖÜß]+$/i,
   'es-ES': /^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
",30,"'da-DK': /^[0-9A-ZÆØÅ]$/i,","'da-DK': /^[0-9A-ZÆØÅ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a2026c97552975a1ef300876744e98caf607ec13,a2026c97552975a1ef300876744e98caf607ec13,"Fix bug for Danish locale in isAlphanumeric()

Had to add a + in the regex. Added tests for isAlpha() and
isAlphanumeric().",2017-08-17 22:02:07+02:00,alpha.js,https://github.com/chriso/validator.js/raw/a03d192568d068a6b398ea3ae10af0c60282653c/src/lib/alpha.js,https://github.com/chriso/validator.js/raw/a2026c97552975a1ef300876744e98caf607ec13/src/lib/alpha.js,"@@ -22,7 +22,7 @@ export const alpha = {
 export const alphanumeric = {
   'en-US': /^[0-9A-Z]+$/i,
   'cs-CZ': /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
-  'da-DK': /^[0-9A-ZÆØÅ]$/i,
+  'da-DK': /^[0-9A-ZÆØÅ]+$/i,
   'de-DE': /^[0-9A-ZÄÖÜß]+$/i,
   'es-ES': /^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
",25,"'da-DK': /^[0-9A-ZÆØÅ]$/i,","'da-DK': /^[0-9A-ZÆØÅ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a2026c97552975a1ef300876744e98caf607ec13,a2026c97552975a1ef300876744e98caf607ec13,"Fix bug for Danish locale in isAlphanumeric()

Had to add a + in the regex. Added tests for isAlpha() and
isAlphanumeric().",2017-08-17 22:02:07+02:00,validator.js,https://github.com/chriso/validator.js/raw/a03d192568d068a6b398ea3ae10af0c60282653c/validator.js,https://github.com/chriso/validator.js/raw/a2026c97552975a1ef300876744e98caf607ec13/validator.js,"@@ -458,7 +458,7 @@ var alpha = {
 var alphanumeric = {
   'en-US': /^[0-9A-Z]+$/i,
   'cs-CZ': /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
-  'da-DK': /^[0-9A-ZÆØÅ]$/i,
+  'da-DK': /^[0-9A-ZÆØÅ]+$/i,
   'de-DE': /^[0-9A-ZÄÖÜß]+$/i,
   'es-ES': /^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
",461,"'da-DK': /^[0-9A-ZÆØÅ]$/i,","'da-DK': /^[0-9A-ZÆØÅ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/574301226cf3458df6f6b0bfb12f88f5e0c4cec4,574301226cf3458df6f6b0bfb12f88f5e0c4cec4,Fix - and + passing as floats,2017-11-24 01:11:00+02:00,isFloat.js,https://github.com/chriso/validator.js/raw/a4c7ec8be312bbea731f057f7ac26478c17e4925/lib/isFloat.js,https://github.com/chriso/validator.js/raw/574301226cf3458df6f6b0bfb12f88f5e0c4cec4/lib/isFloat.js,"@@ -17,7 +17,7 @@ function isFloat(str, options) {
   (0, _assertString2.default)(str);
   options = options || {};
   var float = new RegExp('^(?:[-+])?(?:[0-9]+)?(?:\\' + (options.locale ? _alpha.decimal[options.locale] : '.') + '[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$');
-  if (str === '' || str === '.') {
+  if (str === '' || str === '.' || str === '-' || str === '+') {
     return false;
   }
   return float.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max) && (!options.hasOwnProperty('lt') || str < options.lt) && (!options.hasOwnProperty('gt') || str > options.gt);
",20,if (str === '' || str === '.') {,if (str === '' || str === '.' || str === '-' || str === '+') {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/574301226cf3458df6f6b0bfb12f88f5e0c4cec4,574301226cf3458df6f6b0bfb12f88f5e0c4cec4,Fix - and + passing as floats,2017-11-24 01:11:00+02:00,isFloat.js,https://github.com/chriso/validator.js/raw/a4c7ec8be312bbea731f057f7ac26478c17e4925/src/lib/isFloat.js,https://github.com/chriso/validator.js/raw/574301226cf3458df6f6b0bfb12f88f5e0c4cec4/src/lib/isFloat.js,"@@ -5,7 +5,7 @@ export default function isFloat(str, options) {
   assertString(str);
   options = options || {};
   const float = new RegExp(`^(?:[-+])?(?:[0-9]+)?(?:\\${options.locale ? decimal[options.locale] : '.'}[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$`);
-  if (str === '' || str === '.') {
+  if (str === '' || str === '.' || str === '-' || str === '+') {
     return false;
   }
   return float.test(str) &&
",8,if (str === '' || str === '.') {,if (str === '' || str === '.' || str === '-' || str === '+') {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/574301226cf3458df6f6b0bfb12f88f5e0c4cec4,574301226cf3458df6f6b0bfb12f88f5e0c4cec4,Fix - and + passing as floats,2017-11-24 01:11:00+02:00,validator.js,https://github.com/chriso/validator.js/raw/a4c7ec8be312bbea731f057f7ac26478c17e4925/validator.js,https://github.com/chriso/validator.js/raw/574301226cf3458df6f6b0bfb12f88f5e0c4cec4/validator.js,"@@ -629,7 +629,7 @@ function isFloat(str, options) {
   assertString(str);
   options = options || {};
   var float = new RegExp('^(?:[-+])?(?:[0-9]+)?(?:\\' + (options.locale ? decimal[options.locale] : '.') + '[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$');
-  if (str === '' || str === '.') {
+  if (str === '' || str === '.' || str === '-' || str === '+') {
     return false;
   }
   return float.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max) && (!options.hasOwnProperty('lt') || str < options.lt) && (!options.hasOwnProperty('gt') || str > options.gt);
",632,if (str === '' || str === '.') {,if (str === '' || str === '.' || str === '-' || str === '+') {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/22d0f407b7ccae8fffe97a8b99717230187c958b,22d0f407b7ccae8fffe97a8b99717230187c958b,fixing postal code validation for Portugal,2017-11-27 16:36:22+00:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/85d40ade5e2336d82d8b4d2f78aea685c83d3a85/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/22d0f407b7ccae8fffe97a8b99717230187c958b/lib/isPostalCode.js,"@@ -61,7 +61,7 @@ var patterns = {
   NL: /^\d{4}\s?[a-z]{2}$/i,
   NO: fourDigit,
   PL: /^\d{2}\-\d{3}$/,
-  PT: /^\d{4}(\-\d{3})?$/,
+  PT: /^\d{4}\-\d{3}?$/,
   RO: sixDigit,
   RU: sixDigit,
   SA: fiveDigit,
",64,"PT: /^\d{4}(\-\d{3})?$/,","PT: /^\d{4}\-\d{3}?$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/22d0f407b7ccae8fffe97a8b99717230187c958b,22d0f407b7ccae8fffe97a8b99717230187c958b,fixing postal code validation for Portugal,2017-11-27 16:36:22+00:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/85d40ade5e2336d82d8b4d2f78aea685c83d3a85/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/22d0f407b7ccae8fffe97a8b99717230187c958b/src/lib/isPostalCode.js,"@@ -32,7 +32,7 @@ const patterns = {
   NL: /^\d{4}\s?[a-z]{2}$/i,
   NO: fourDigit,
   PL: /^\d{2}\-\d{3}$/,
-  PT: /^\d{4}(\-\d{3})?$/,
+  PT: /^\d{4}\-\d{3}?$/,
   RO: sixDigit,
   RU: sixDigit,
   SA: fiveDigit,
",35,"PT: /^\d{4}(\-\d{3})?$/,","PT: /^\d{4}\-\d{3}?$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/22d0f407b7ccae8fffe97a8b99717230187c958b,22d0f407b7ccae8fffe97a8b99717230187c958b,fixing postal code validation for Portugal,2017-11-27 16:36:22+00:00,validator.js,https://github.com/chriso/validator.js/raw/85d40ade5e2336d82d8b4d2f78aea685c83d3a85/validator.js,https://github.com/chriso/validator.js/raw/22d0f407b7ccae8fffe97a8b99717230187c958b/validator.js,"@@ -1194,7 +1194,7 @@ var patterns = {
   NL: /^\d{4}\s?[a-z]{2}$/i,
   NO: fourDigit,
   PL: /^\d{2}\-\d{3}$/,
-  PT: /^\d{4}(\-\d{3})?$/,
+  PT: /^\d{4}\-\d{3}?$/,
   RO: sixDigit,
   RU: sixDigit,
   SA: fiveDigit,
",1197,"PT: /^\d{4}(\-\d{3})?$/,","PT: /^\d{4}\-\d{3}?$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/e4bb8df6af75bc6bd3a5fab3fea875aeaab4ae4b,e4bb8df6af75bc6bd3a5fab3fea875aeaab4ae4b,"feat: adds fixes and tests for #679

This commit adds minor fixes on the PR #679
completing alpha, alphanumeric and mobile-phone
features for Greece.",2017-12-08 23:56:30+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/7df6c5de5635254020e59e1e81ef29dc7671bfb4/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/e4bb8df6af75bc6bd3a5fab3fea875aeaab4ae4b/src/lib/isMobilePhone.js,"@@ -11,7 +11,7 @@ const phones = {
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'de-DE': /^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,
-  'el-GR': /^(\+?30)?(69\d{8})$/,
+  'el-GR': /^(\+?30|0)?(69\d{8})$/,
   'en-AU': /^(\+?61|0)4\d{8}$/,
   'en-GB': /^(\+?44|0)7\d{9}$/,
   'en-HK': /^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,
",14,"'el-GR': /^(\+?30)?(69\d{8})$/,","'el-GR': /^(\+?30|0)?(69\d{8})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c4844701c5f8fb54f7998106270f8de734781125,c4844701c5f8fb54f7998106270f8de734781125,Fix code lint,2018-05-03 16:46:03+02:00,isISO31661Alpha3.js,https://github.com/chriso/validator.js/raw/8fa57114178a64d5bbdd9a9146330cdb4e249947/src/lib/isISO31661Alpha3.js,https://github.com/chriso/validator.js/raw/c4844701c5f8fb54f7998106270f8de734781125/src/lib/isISO31661Alpha3.js,"@@ -17,7 +17,7 @@ const validISO31661Alpha3CountriesCodes = [
   'SMR', 'STP', 'SAU', 'SEN', 'SRB', 'SYC', 'SLE', 'SGP', 'SXM', 'SVK', 'SVN', 'SLB', 'SOM', 'ZAF', 'SGS', 'SSD',
   'ESP', 'LKA', 'SDN', 'SUR', 'SJM', 'SWZ', 'SWE', 'CHE', 'SYR', 'TWN', 'TJK', 'TZA', 'THA', 'TLS', 'TGO', 'TKL',
   'TON', 'TTO', 'TUN', 'TUR', 'TKM', 'TCA', 'TUV', 'UGA', 'UKR', 'ARE', 'GBR', 'USA', 'UMI', 'URY', 'UZB', 'VUT',
-  'VEN', 'VNM', 'VGB', 'VIR', 'WLF', 'ESH', 'YEM', 'ZMB', 'ZWE'
+  'VEN', 'VNM', 'VGB', 'VIR', 'WLF', 'ESH', 'YEM', 'ZMB', 'ZWE',
 ];
 
 export default function isISO31661Alpha3(str) {
",20,"'VEN', 'VNM', 'VGB', 'VIR', 'WLF', 'ESH', 'YEM', 'ZMB', 'ZWE'","'VEN', 'VNM', 'VGB', 'VIR', 'WLF', 'ESH', 'YEM', 'ZMB', 'ZWE',"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/11d1ede526489a5683374aa2572788c72811e2fe,11d1ede526489a5683374aa2572788c72811e2fe,Fix Indonesian phone number regex,2018-07-17 18:48:51+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/a0109774c113c3c100538527eb825de444d59f06/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/11d1ede526489a5683374aa2572788c72811e2fe/src/lib/isMobilePhone.js,"@@ -40,7 +40,7 @@ const phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0[1-9])[\s|\d]+$/,
+  'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",43,"'id-ID': /^(\+?62|0[1-9])[\s|\d]+$/,","'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/eac6c1334bb582fa9ec0418f45e46ba986085624,eac6c1334bb582fa9ec0418f45e46ba986085624,Fixed ID regex in all files,2018-07-17 19:21:43+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/11d1ede526489a5683374aa2572788c72811e2fe/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/eac6c1334bb582fa9ec0418f45e46ba986085624/lib/isMobilePhone.js,"@@ -51,7 +51,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0[1-9])[\s|\d]+$/,
+  'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",54,"'id-ID': /^(\+?62|0[1-9])[\s|\d]+$/,","'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/eac6c1334bb582fa9ec0418f45e46ba986085624,eac6c1334bb582fa9ec0418f45e46ba986085624,Fixed ID regex in all files,2018-07-17 19:21:43+08:00,validator.js,https://github.com/chriso/validator.js/raw/11d1ede526489a5683374aa2572788c72811e2fe/validator.js,https://github.com/chriso/validator.js/raw/eac6c1334bb582fa9ec0418f45e46ba986085624/validator.js,"@@ -1039,7 +1039,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0[1-9])[\s|\d]+$/,
+  'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",1042,"'id-ID': /^(\+?62|0[1-9])[\s|\d]+$/,","'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/eff3b71360c3b5a5c34113e798aa886f85c9bdfe,eff3b71360c3b5a5c34113e798aa886f85c9bdfe,Fixed id-ID regex to be more lenient,2018-07-18 11:46:45+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/eac6c1334bb582fa9ec0418f45e46ba986085624/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/eff3b71360c3b5a5c34113e798aa886f85c9bdfe/lib/isMobilePhone.js,"@@ -51,7 +51,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,
+  'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",54,"'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,","'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/eff3b71360c3b5a5c34113e798aa886f85c9bdfe,eff3b71360c3b5a5c34113e798aa886f85c9bdfe,Fixed id-ID regex to be more lenient,2018-07-18 11:46:45+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/eac6c1334bb582fa9ec0418f45e46ba986085624/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/eff3b71360c3b5a5c34113e798aa886f85c9bdfe/src/lib/isMobilePhone.js,"@@ -40,7 +40,7 @@ const phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,
+  'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",43,"'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,","'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/eff3b71360c3b5a5c34113e798aa886f85c9bdfe,eff3b71360c3b5a5c34113e798aa886f85c9bdfe,Fixed id-ID regex to be more lenient,2018-07-18 11:46:45+08:00,validator.js,https://github.com/chriso/validator.js/raw/eac6c1334bb582fa9ec0418f45e46ba986085624/validator.js,https://github.com/chriso/validator.js/raw/eff3b71360c3b5a5c34113e798aa886f85c9bdfe/validator.js,"@@ -1039,7 +1039,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,
+  'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",1042,"'id-ID': /^(\+?62)(0?8\d\d\d?)(\d{8,12})$/,","'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/4a66992a08731ff49f0594907803b261318e5ca5,4a66992a08731ff49f0594907803b261318e5ca5,Fixed id-ID regex to accept test numbers,2018-07-18 11:54:42+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/eff3b71360c3b5a5c34113e798aa886f85c9bdfe/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/4a66992a08731ff49f0594907803b261318e5ca5/lib/isMobilePhone.js,"@@ -51,7 +51,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,
+  'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",54,"'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,","'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/4a66992a08731ff49f0594907803b261318e5ca5,4a66992a08731ff49f0594907803b261318e5ca5,Fixed id-ID regex to accept test numbers,2018-07-18 11:54:42+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/eff3b71360c3b5a5c34113e798aa886f85c9bdfe/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/4a66992a08731ff49f0594907803b261318e5ca5/src/lib/isMobilePhone.js,"@@ -40,7 +40,7 @@ const phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,
+  'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",43,"'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,","'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/4a66992a08731ff49f0594907803b261318e5ca5,4a66992a08731ff49f0594907803b261318e5ca5,Fixed id-ID regex to accept test numbers,2018-07-18 11:54:42+08:00,validator.js,https://github.com/chriso/validator.js/raw/eff3b71360c3b5a5c34113e798aa886f85c9bdfe/validator.js,https://github.com/chriso/validator.js/raw/4a66992a08731ff49f0594907803b261318e5ca5/validator.js,"@@ -1039,7 +1039,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,
+  'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",1042,"'id-ID': /^(\+?62)(0?8?\d\d\d?)(\d{8,12})$/,","'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c3c039ef9135513993e0dc5d3af39af7d0a8c7c0,c3c039ef9135513993e0dc5d3af39af7d0a8c7c0,Fixed again,2018-07-18 12:21:04+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/4a66992a08731ff49f0594907803b261318e5ca5/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/c3c039ef9135513993e0dc5d3af39af7d0a8c7c0/lib/isMobilePhone.js,"@@ -51,7 +51,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,
+  'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",54,"'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,","'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c3c039ef9135513993e0dc5d3af39af7d0a8c7c0,c3c039ef9135513993e0dc5d3af39af7d0a8c7c0,Fixed again,2018-07-18 12:21:04+08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/4a66992a08731ff49f0594907803b261318e5ca5/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/c3c039ef9135513993e0dc5d3af39af7d0a8c7c0/src/lib/isMobilePhone.js,"@@ -40,7 +40,7 @@ const phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,
+  'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",43,"'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,","'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c3c039ef9135513993e0dc5d3af39af7d0a8c7c0,c3c039ef9135513993e0dc5d3af39af7d0a8c7c0,Fixed again,2018-07-18 12:21:04+08:00,validator.js,https://github.com/chriso/validator.js/raw/4a66992a08731ff49f0594907803b261318e5ca5/validator.js,https://github.com/chriso/validator.js/raw/c3c039ef9135513993e0dc5d3af39af7d0a8c7c0/validator.js,"@@ -1039,7 +1039,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,
+  'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",1042,"'id-ID': /^(\+?62|0)(0?8?\d\d\d?)(\d{7,12})$/,","'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/bedce999d1e820b2b072c5e64d841ea2aa10cb8f,bedce999d1e820b2b072c5e64d841ea2aa10cb8f,"Add a new prefix for NZ phone numbers, fixes #859",2018-07-31 16:06:45+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/1900ae2ac6c5a2cb67e4b93cf3ed9248eebf1025/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/bedce999d1e820b2b072c5e64d841ea2aa10cb8f/src/lib/isMobilePhone.js,"@@ -24,7 +24,7 @@ const phones = {
   'en-IN': /^(\+?91|0)?[6789]\d{9}$/,
   'en-KE': /^(\+?254|0)?[7]\d{8}$/,
   'en-NG': /^(\+?234|0)?[789]\d{9}$/,
-  'en-NZ': /^(\+?64|0)2\d{7,9}$/,
+  'en-NZ': /^(\+?64|0)[28]\d{7,9}$/,
   'en-PK': /^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,
   'en-RW': /^(\+?250|0)?[7]\d{8}$/,
   'en-SG': /^(\+65)?[89]\d{7}$/,
",27,"'en-NZ': /^(\+?64|0)2\d{7,9}$/,","'en-NZ': /^(\+?64|0)[28]\d{7,9}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/047720e1d32e98947eaff43892bb3b9fb699ca6d,047720e1d32e98947eaff43892bb3b9fb699ca6d,"Fix he-IL to contain a $ sign at the end

Until now, every string that started with a valid Israeli phone number passed the test.",2018-09-02 14:46:03+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/6ce306093b33a7c22fdb6237802fd21cfbd6954e/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/047720e1d32e98947eaff43892bb3b9fb699ca6d/src/lib/isMobilePhone.js,"@@ -40,7 +40,7 @@ const phones = {
   'fi-FI': /^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,
   'fo-FO': /^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
-  'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,
+  'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
   'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
",43,"'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,","'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/3a2d661d51134231af04a97967207f33c272831f,3a2d661d51134231af04a97967207f33c272831f,fix: transpile isJWT changes (#906),2018-10-11 15:14:04+10:00,isJWT.js,https://github.com/chriso/validator.js/raw/439c51fa9c4ad4cd9a151918177c51a27436b8ec/lib/isJWT.js,https://github.com/chriso/validator.js/raw/3a2d661d51134231af04a97967207f33c272831f/lib/isJWT.js,"@@ -11,7 +11,7 @@ var _assertString2 = _interopRequireDefault(_assertString);
 
 function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
-var jwt = /^[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+$/;
+var jwt = /^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;
 
 function isJWT(str) {
   (0, _assertString2.default)(str);
",14,var jwt = /^[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+$/;,"var jwt = /^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/3a2d661d51134231af04a97967207f33c272831f,3a2d661d51134231af04a97967207f33c272831f,fix: transpile isJWT changes (#906),2018-10-11 15:14:04+10:00,validator.js,https://github.com/chriso/validator.js/raw/439c51fa9c4ad4cd9a151918177c51a27436b8ec/validator.js,https://github.com/chriso/validator.js/raw/3a2d661d51134231af04a97967207f33c272831f/validator.js,"@@ -832,7 +832,7 @@ function isHash(str, algorithm) {
   return hash.test(str);
 }
 
-var jwt = /^[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+$/;
+var jwt = /^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;
 
 function isJWT(str) {
   assertString(str);
",835,var jwt = /^[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+$/;,"var jwt = /^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d557d44360cc1d3f20c1a334fe5c325042753d61,d557d44360cc1d3f20c1a334fe5c325042753d61,fix(isMobilePhone): Indonesian locale update (#916),2018-10-23 14:06:13+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/8445383b277f1f3ca5d0b10796a1c732f8717729/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d557d44360cc1d3f20c1a334fe5c325042753d61/src/lib/isMobilePhone.js,"@@ -43,7 +43,7 @@ const phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
+  'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",46,"'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,","'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c12af3ce9c2f9fcf5215ed2ee3bc7b664afb1376,c12af3ce9c2f9fcf5215ed2ee3bc7b664afb1376,fix: sync changelog and min version,2018-10-23 14:07:32+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/d557d44360cc1d3f20c1a334fe5c325042753d61/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/c12af3ce9c2f9fcf5215ed2ee3bc7b664afb1376/lib/isMobilePhone.js,"@@ -53,7 +53,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
+  'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",56,"'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,","'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c12af3ce9c2f9fcf5215ed2ee3bc7b664afb1376,c12af3ce9c2f9fcf5215ed2ee3bc7b664afb1376,fix: sync changelog and min version,2018-10-23 14:07:32+10:00,validator.js,https://github.com/chriso/validator.js/raw/d557d44360cc1d3f20c1a334fe5c325042753d61/validator.js,https://github.com/chriso/validator.js/raw/c12af3ce9c2f9fcf5215ed2ee3bc7b664afb1376/validator.js,"@@ -1385,7 +1385,7 @@ var phones = {
   'fr-FR': /^(\+?33|0)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
-  'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,
+  'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
",1388,"'id-ID': /^(\+?62|0)(0?8?\d\d\s?\d?)([\s?|\d]{7,12})$/,","'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f67111d61d0205c1339f354a4c753c1e80b6350b,f67111d61d0205c1339f354a4c753c1e80b6350b,fix(isMobilePhone):  update en-US validation (#931),2018-11-13 21:08:00+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/ef5f7a1657e4ea2a716c323b1e8f0bb0f0b79dd0/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/f67111d61d0205c1339f354a4c753c1e80b6350b/lib/isMobilePhone.js,"@@ -42,7 +42,7 @@ var phones = {
   'en-SG': /^(\+65)?[89]\d{7}$/,
   'en-TZ': /^(\+?255|0)?[67]\d{8}$/,
   'en-UG': /^(\+?256|0)?[7]\d{8}$/,
-  'en-US': /^(\+?1?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,
+  'en-US': /^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,
   'en-ZA': /^(\+?27|0)\d{9}$/,
   'en-ZM': /^(\+?26)?09[567]\d{7}$/,
   'es-ES': /^(\+?34)?(6\d{1}|7[1234])\d{7}$/,
",45,"'en-US': /^(\+?1?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,","'en-US': /^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f67111d61d0205c1339f354a4c753c1e80b6350b,f67111d61d0205c1339f354a4c753c1e80b6350b,fix(isMobilePhone):  update en-US validation (#931),2018-11-13 21:08:00+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/ef5f7a1657e4ea2a716c323b1e8f0bb0f0b79dd0/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/f67111d61d0205c1339f354a4c753c1e80b6350b/src/lib/isMobilePhone.js,"@@ -32,7 +32,7 @@ const phones = {
   'en-SG': /^(\+65)?[89]\d{7}$/,
   'en-TZ': /^(\+?255|0)?[67]\d{8}$/,
   'en-UG': /^(\+?256|0)?[7]\d{8}$/,
-  'en-US': /^(\+?1?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,
+  'en-US': /^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,
   'en-ZA': /^(\+?27|0)\d{9}$/,
   'en-ZM': /^(\+?26)?09[567]\d{7}$/,
   'es-ES': /^(\+?34)?(6\d{1}|7[1234])\d{7}$/,
",35,"'en-US': /^(\+?1?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,","'en-US': /^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f67111d61d0205c1339f354a4c753c1e80b6350b,f67111d61d0205c1339f354a4c753c1e80b6350b,fix(isMobilePhone):  update en-US validation (#931),2018-11-13 21:08:00+10:00,validator.js,https://github.com/chriso/validator.js/raw/ef5f7a1657e4ea2a716c323b1e8f0bb0f0b79dd0/validator.js,https://github.com/chriso/validator.js/raw/f67111d61d0205c1339f354a4c753c1e80b6350b/validator.js,"@@ -1393,7 +1393,7 @@ var phones = {
   'en-SG': /^(\+65)?[89]\d{7}$/,
   'en-TZ': /^(\+?255|0)?[67]\d{8}$/,
   'en-UG': /^(\+?256|0)?[7]\d{8}$/,
-  'en-US': /^(\+?1?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,
+  'en-US': /^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,
   'en-ZA': /^(\+?27|0)\d{9}$/,
   'en-ZM': /^(\+?26)?09[567]\d{7}$/,
   'es-ES': /^(\+?34)?(6\d{1}|7[1234])\d{7}$/,
",1396,"'en-US': /^(\+?1?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,","'en-US': /^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/285f58d0b609652e759a155fe286957dcae7c185,285f58d0b609652e759a155fe286957dcae7c185,fix(isMobilePhone): update de-DE validation (#933),2018-12-23 15:09:12+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/635c0afcc037a941f5f5713906c6c708afd42962/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/285f58d0b609652e759a155fe286957dcae7c185/lib/isMobilePhone.js,"@@ -26,7 +26,7 @@ var phones = {
   'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
-  'de-DE': /^(\+?49[ \.\-]?)?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,
+  'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
   'el-GR': /^(\+?30|0)?(69\d{8})$/,
   'en-AU': /^(\+?61|0)4\d{8}$/,
   'en-GB': /^(\+?44|0)7\d{9}$/,
",29,"'de-DE': /^(\+?49[ \.\-]?)?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,","'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/285f58d0b609652e759a155fe286957dcae7c185,285f58d0b609652e759a155fe286957dcae7c185,fix(isMobilePhone): update de-DE validation (#933),2018-12-23 15:09:12+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/635c0afcc037a941f5f5713906c6c708afd42962/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/285f58d0b609652e759a155fe286957dcae7c185/src/lib/isMobilePhone.js,"@@ -16,7 +16,7 @@ const phones = {
   'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
-  'de-DE': /^(\+?49[ \.\-]?)?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,
+  'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
   'el-GR': /^(\+?30|0)?(69\d{8})$/,
   'en-AU': /^(\+?61|0)4\d{8}$/,
   'en-GB': /^(\+?44|0)7\d{9}$/,
",19,"'de-DE': /^(\+?49[ \.\-]?)?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,","'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/285f58d0b609652e759a155fe286957dcae7c185,285f58d0b609652e759a155fe286957dcae7c185,fix(isMobilePhone): update de-DE validation (#933),2018-12-23 15:09:12+10:00,validator.js,https://github.com/chriso/validator.js/raw/635c0afcc037a941f5f5713906c6c708afd42962/validator.js,https://github.com/chriso/validator.js/raw/285f58d0b609652e759a155fe286957dcae7c185/validator.js,"@@ -1377,7 +1377,7 @@ var phones = {
   'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
-  'de-DE': /^(\+?49[ \.\-]?)?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,
+  'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
   'el-GR': /^(\+?30|0)?(69\d{8})$/,
   'en-AU': /^(\+?61|0)4\d{8}$/,
   'en-GB': /^(\+?44|0)7\d{9}$/,
",1380,"'de-DE': /^(\+?49[ \.\-]?)?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,","'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/fd7a7939a0e5f6d631c85f2a7023333fe29d5579,fd7a7939a0e5f6d631c85f2a7023333fe29d5579,fix(isMobilePhone): update zh-CN validation (#1022),2019-05-23 19:56:54+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/41a940f5bb14cd4713dffe430bb0b0b6321fdc22/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/fd7a7939a0e5f6d631c85f2a7023333fe29d5579/src/lib/isMobilePhone.js,"@@ -71,7 +71,7 @@ const phones = {
   'tr-TR': /^(\+?90|0)?5\d{9}$/,
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
   'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,
-  'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,
+  'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/,
 };
 /* eslint-enable max-len */
",74,"'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,","'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a,daaf1f7641f76de8c1f89ae5f0aad493b06fad9a,fix(isMobilePhone): update vi-VN validation  (#1031),2019-05-23 20:06:35+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/9fc9388bb121f734f9654a1092918d9c2c7b4bf0/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a/lib/isMobilePhone.js,"@@ -80,7 +80,7 @@ var phones = {
   'th-TH': /^(\+66|66|0)\d{9}$/,
   'tr-TR': /^(\+?90|0)?5\d{9}$/,
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
-  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,
+  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,
   'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/
 };
",83,"'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,","'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a,daaf1f7641f76de8c1f89ae5f0aad493b06fad9a,fix(isMobilePhone): update vi-VN validation  (#1031),2019-05-23 20:06:35+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/9fc9388bb121f734f9654a1092918d9c2c7b4bf0/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a/src/lib/isMobilePhone.js,"@@ -70,7 +70,7 @@ const phones = {
   'th-TH': /^(\+66|66|0)\d{9}$/,
   'tr-TR': /^(\+?90|0)?5\d{9}$/,
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
-  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,
+  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,
   'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/,
 };
",73,"'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,","'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a,daaf1f7641f76de8c1f89ae5f0aad493b06fad9a,fix(isMobilePhone): update vi-VN validation  (#1031),2019-05-23 20:06:35+10:00,validator.js,https://github.com/chriso/validator.js/raw/9fc9388bb121f734f9654a1092918d9c2c7b4bf0/validator.js,https://github.com/chriso/validator.js/raw/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a/validator.js,"@@ -1247,7 +1247,7 @@ var phones = {
   'th-TH': /^(\+66|66|0)\d{9}$/,
   'tr-TR': /^(\+?90|0)?5\d{9}$/,
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
-  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,
+  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,
   'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/
 };
",1250,"'vi-VN': /^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,","'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5830e66c93afbea75e322a6986742830bcd5d0f8,5830e66c93afbea75e322a6986742830bcd5d0f8,fix(isMobilePhone): update bn-BD validation (#1032),2019-05-23 20:09:54+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/5830e66c93afbea75e322a6986742830bcd5d0f8/lib/isMobilePhone.js,"@@ -23,7 +23,7 @@ var phones = {
   'ar-TN': /^(\+?216)?[2459]\d{7}$/,
   'be-BY': /^(\+?375)?(24|25|29|33|44)\d{7}$/,
   'bg-BG': /^(\+?359|0)?8[789]\d{7}$/,
-  'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,
+  'bn-BD': /^(\+?880|0)1[1356789][0-9]{8}$/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
",26,"'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,","'bn-BD': /^(\+?880|0)1[1356789][0-9]{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5830e66c93afbea75e322a6986742830bcd5d0f8,5830e66c93afbea75e322a6986742830bcd5d0f8,fix(isMobilePhone): update bn-BD validation (#1032),2019-05-23 20:09:54+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/5830e66c93afbea75e322a6986742830bcd5d0f8/src/lib/isMobilePhone.js,"@@ -13,7 +13,7 @@ const phones = {
   'ar-TN': /^(\+?216)?[2459]\d{7}$/,
   'be-BY': /^(\+?375)?(24|25|29|33|44)\d{7}$/,
   'bg-BG': /^(\+?359|0)?8[789]\d{7}$/,
-  'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,
+  'bn-BD': /^(\+?880|0)1[1356789][0-9]{8}$/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
",16,"'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,","'bn-BD': /^(\+?880|0)1[1356789][0-9]{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5830e66c93afbea75e322a6986742830bcd5d0f8,5830e66c93afbea75e322a6986742830bcd5d0f8,fix(isMobilePhone): update bn-BD validation (#1032),2019-05-23 20:09:54+10:00,validator.js,https://github.com/chriso/validator.js/raw/daaf1f7641f76de8c1f89ae5f0aad493b06fad9a/validator.js,https://github.com/chriso/validator.js/raw/5830e66c93afbea75e322a6986742830bcd5d0f8/validator.js,"@@ -1190,7 +1190,7 @@ var phones = {
   'ar-TN': /^(\+?216)?[2459]\d{7}$/,
   'be-BY': /^(\+?375)?(24|25|29|33|44)\d{7}$/,
   'bg-BG': /^(\+?359|0)?8[789]\d{7}$/,
-  'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,
+  'bn-BD': /^(\+?880|0)1[1356789][0-9]{8}$/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
",1193,"'bn-BD': /\+?(88)?0?1[356789][0-9]{8}\b/,","'bn-BD': /^(\+?880|0)1[1356789][0-9]{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c2ff8bf6c007a5acd93e5b08f3fae94e1284a51d,c2ff8bf6c007a5acd93e5b08f3fae94e1284a51d,fix: sync src/lib and lib,2019-05-23 20:11:00+10:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/5830e66c93afbea75e322a6986742830bcd5d0f8/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/c2ff8bf6c007a5acd93e5b08f3fae94e1284a51d/lib/isMobilePhone.js,"@@ -81,7 +81,7 @@ var phones = {
   'tr-TR': /^(\+?90|0)?5\d{9}$/,
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
   'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,
-  'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,
+  'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/
 };
 /* eslint-enable max-len */
",84,"'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,","'zh-CN': /^((\+|00)86)?1([358][0-9]|4[579]|6[67]|7[0135678]|9[189])[0-9]{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/54bf8c4418ec33a64994538c3e9aec7dabe56dd5,54bf8c4418ec33a64994538c3e9aec7dabe56dd5,"fix(isPostalCode): ensure sweedish postal code does not start with 0 (#1069)

Authored by Ezrqn Kemboi <ezrqnkemboi@gmail.com>
Closes #1008",2019-07-25 16:23:15+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/02896f36451ca0638bc54e3f6a027eaa7fa04c64/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/54bf8c4418ec33a64994538c3e9aec7dabe56dd5/lib/isPostalCode.js,"@@ -58,7 +58,7 @@ var patterns = {
   RO: sixDigit,
   RU: sixDigit,
   SA: fiveDigit,
-  SE: /^\d{3}\s?\d{2}$/,
+  SE: /^[1-9]\d{2}\s?\d{2}$/,
   SI: fourDigit,
   SK: /^\d{3}\s?\d{2}$/,
   TN: fourDigit,
",61,"SE: /^\d{3}\s?\d{2}$/,","SE: /^[1-9]\d{2}\s?\d{2}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/54bf8c4418ec33a64994538c3e9aec7dabe56dd5,54bf8c4418ec33a64994538c3e9aec7dabe56dd5,"fix(isPostalCode): ensure sweedish postal code does not start with 0 (#1069)

Authored by Ezrqn Kemboi <ezrqnkemboi@gmail.com>
Closes #1008",2019-07-25 16:23:15+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/02896f36451ca0638bc54e3f6a027eaa7fa04c64/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/54bf8c4418ec33a64994538c3e9aec7dabe56dd5/src/lib/isPostalCode.js,"@@ -49,7 +49,7 @@ const patterns = {
   RO: sixDigit,
   RU: sixDigit,
   SA: fiveDigit,
-  SE: /^\d{3}\s?\d{2}$/,
+  SE: /^[1-9]\d{2}\s?\d{2}$/,
   SI: fourDigit,
   SK: /^\d{3}\s?\d{2}$/,
   TN: fourDigit,
",52,"SE: /^\d{3}\s?\d{2}$/,","SE: /^[1-9]\d{2}\s?\d{2}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/54bf8c4418ec33a64994538c3e9aec7dabe56dd5,54bf8c4418ec33a64994538c3e9aec7dabe56dd5,"fix(isPostalCode): ensure sweedish postal code does not start with 0 (#1069)

Authored by Ezrqn Kemboi <ezrqnkemboi@gmail.com>
Closes #1008",2019-07-25 16:23:15+03:00,validator.js,https://github.com/chriso/validator.js/raw/02896f36451ca0638bc54e3f6a027eaa7fa04c64/validator.js,https://github.com/chriso/validator.js/raw/54bf8c4418ec33a64994538c3e9aec7dabe56dd5/validator.js,"@@ -1789,7 +1789,7 @@ var patterns = {
   RO: sixDigit,
   RU: sixDigit,
   SA: fiveDigit,
-  SE: /^\d{3}\s?\d{2}$/,
+  SE: /^[1-9]\d{2}\s?\d{2}$/,
   SI: fourDigit,
   SK: /^\d{3}\s?\d{2}$/,
   TN: fourDigit,
",1792,"SE: /^\d{3}\s?\d{2}$/,","SE: /^[1-9]\d{2}\s?\d{2}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/25e84cf1180e348ab585392102ae6889cfdd66e4,25e84cf1180e348ab585392102ae6889cfdd66e4,"fix(isMobilePhone): ja_JP locale (#1073)

This PR fixes ja_JP locale to support 060 prefix and also issue with the general sequence.

* fix Japanese mobile phone number

* add 060 for ja-JP of isMobile",2019-08-02 14:56:31+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/54bf8c4418ec33a64994538c3e9aec7dabe56dd5/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/25e84cf1180e348ab585392102ae6889cfdd66e4/src/lib/isMobilePhone.js,"@@ -58,7 +58,7 @@ const phones = {
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
   'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
-  'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
+  'ja-JP': /^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
   'kl-GL': /^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'ko-KR': /^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,
",61,"'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,","'ja-JP': /^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1ce76a1a26753eae42f848515734ef9ce4ff57b5,1ce76a1a26753eae42f848515734ef9ce4ff57b5,"fix(isLength): return true if min no supplied (#1070)

- ensure that even when user does not pass max and min, set defaults for the same
- instance, validator.isLength('aa') returns false, instead, we should return true and set min as 0 and max as undefined
- close #939",2019-08-02 15:03:31+03:00,isLength.js,https://github.com/chriso/validator.js/raw/25e84cf1180e348ab585392102ae6889cfdd66e4/lib/isLength.js,https://github.com/chriso/validator.js/raw/1ce76a1a26753eae42f848515734ef9ce4ff57b5/lib/isLength.js,"@@ -22,7 +22,7 @@ function isLength(str, options) {
     max = options.max;
   } else {
     // backwards compatibility: isLength(str, min [, max])
-    min = arguments[1];
+    min = arguments[1] || 0;
     max = arguments[2];
   }
 
",25,min = arguments[1];,min = arguments[1] || 0;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1ce76a1a26753eae42f848515734ef9ce4ff57b5,1ce76a1a26753eae42f848515734ef9ce4ff57b5,"fix(isLength): return true if min no supplied (#1070)

- ensure that even when user does not pass max and min, set defaults for the same
- instance, validator.isLength('aa') returns false, instead, we should return true and set min as 0 and max as undefined
- close #939",2019-08-02 15:03:31+03:00,isLength.js,https://github.com/chriso/validator.js/raw/25e84cf1180e348ab585392102ae6889cfdd66e4/src/lib/isLength.js,https://github.com/chriso/validator.js/raw/1ce76a1a26753eae42f848515734ef9ce4ff57b5/src/lib/isLength.js,"@@ -9,7 +9,7 @@ export default function isLength(str, options) {
     min = options.min || 0;
     max = options.max;
   } else { // backwards compatibility: isLength(str, min [, max])
-    min = arguments[1];
+    min = arguments[1] || 0;
     max = arguments[2];
   }
   const surrogatePairs = str.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g) || [];
",12,min = arguments[1];,min = arguments[1] || 0;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1ce76a1a26753eae42f848515734ef9ce4ff57b5,1ce76a1a26753eae42f848515734ef9ce4ff57b5,"fix(isLength): return true if min no supplied (#1070)

- ensure that even when user does not pass max and min, set defaults for the same
- instance, validator.isLength('aa') returns false, instead, we should return true and set min as 0 and max as undefined
- close #939",2019-08-02 15:03:31+03:00,validator.js,https://github.com/chriso/validator.js/raw/25e84cf1180e348ab585392102ae6889cfdd66e4/validator.js,https://github.com/chriso/validator.js/raw/1ce76a1a26753eae42f848515734ef9ce4ff57b5/validator.js,"@@ -1007,7 +1007,7 @@ function isLength(str, options) {
     max = options.max;
   } else {
     // backwards compatibility: isLength(str, min [, max])
-    min = arguments[1];
+    min = arguments[1] || 0;
     max = arguments[2];
   }
 
",1010,min = arguments[1];,min = arguments[1] || 0;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/47f3492976f3a24c52d337db2e0dc59b46ca7e90,47f3492976f3a24c52d337db2e0dc59b46ca7e90,"fix(isLatLong): fix bug on brackets mismatch (#1074)

- when lat starts with (, it makes it a true latitude.
- Closes #929",2019-08-03 01:02:33+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/1ce76a1a26753eae42f848515734ef9ce4ff57b5/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/47f3492976f3a24c52d337db2e0dc59b46ca7e90/lib/isMobilePhone.js,"@@ -68,7 +68,7 @@ var phones = {
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
   'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
-  'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,
+  'ja-JP': /^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
   'kl-GL': /^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'ko-KR': /^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,
",71,"'ja-JP': /^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,","'ja-JP': /^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d18a8b8caa54f645aab269b01a36faaceb76a802,d18a8b8caa54f645aab269b01a36faaceb76a802,"fix(isPostalCode): postal code validation fix for locale IN (#1152)

* postal code validation fix for locale IN

* regex updated",2019-10-13 13:14:03+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/3087572e3af7afb7b49544c8ffb0cac301d04109/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/d18a8b8caa54f645aab269b01a36faaceb76a802/src/lib/isPostalCode.js,"@@ -30,7 +30,7 @@ const patterns = {
   ID: fiveDigit,
   IE: /^[A-z]\d[\d|w]\s\w{4}$/i,
   IL: fiveDigit,
-  IN: sixDigit,
+  IN: /^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,
   IS: threeDigit,
   IT: fiveDigit,
   JP: /^\d{3}\-\d{4}$/,
",33,"IN: sixDigit,","IN: /^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1bf00948fd60367db1645261ca5ce7d6aef097b6,1bf00948fd60367db1645261ca5ce7d6aef097b6,"fix: add validation for '0x'-prefixed hex strings (#1147)

* Added validation for '0x'-prefixed hex strings.

* Added 0h-prefix as an acceptable hexadecimal format.",2019-10-13 13:38:27+03:00,isHexadecimal.js,https://github.com/chriso/validator.js/raw/4162ae7fc6d27404d4bf2ee51d496eb105104d50/lib/isHexadecimal.js,https://github.com/chriso/validator.js/raw/1bf00948fd60367db1645261ca5ce7d6aef097b6/lib/isHexadecimal.js,"@@ -9,7 +9,7 @@ var _assertString = _interopRequireDefault(require(""./util/assertString""));
 
 function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
-var hexadecimal = /^[0-9A-F]+$/i;
+var hexadecimal = /^(0x)?[0-9A-F]+$/i;
 
 function isHexadecimal(str) {
   (0, _assertString.default)(str);
",12,var hexadecimal = /^[0-9A-F]+$/i;,var hexadecimal = /^(0x)?[0-9A-F]+$/i;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1bf00948fd60367db1645261ca5ce7d6aef097b6,1bf00948fd60367db1645261ca5ce7d6aef097b6,"fix: add validation for '0x'-prefixed hex strings (#1147)

* Added validation for '0x'-prefixed hex strings.

* Added 0h-prefix as an acceptable hexadecimal format.",2019-10-13 13:38:27+03:00,isHexadecimal.js,https://github.com/chriso/validator.js/raw/4162ae7fc6d27404d4bf2ee51d496eb105104d50/src/lib/isHexadecimal.js,https://github.com/chriso/validator.js/raw/1bf00948fd60367db1645261ca5ce7d6aef097b6/src/lib/isHexadecimal.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-const hexadecimal = /^[0-9A-F]+$/i;
+const hexadecimal = /^(0x|0h)?[0-9A-F]+$/i;
 
 export default function isHexadecimal(str) {
   assertString(str);
",3,const hexadecimal = /^[0-9A-F]+$/i;,const hexadecimal = /^(0x|0h)?[0-9A-F]+$/i;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/659a75855199329bb742bd6528f178cebf394458,659a75855199329bb742bd6528f178cebf394458,"fix(isMobile): allow for extra formatting for ja-JP locale (#1166)

* WIP: modified ja-JP check.

* WIP: added test cases.

* Added one more invalid test case.",2019-10-18 17:25:04+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/2222e5ae3fa8c6303cf43a3b4c1263ec7da358f8/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/659a75855199329bb742bd6528f178cebf394458/src/lib/isMobilePhone.js,"@@ -59,7 +59,7 @@ const phones = {
   'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
   'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
-  'ja-JP': /^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,
+  'ja-JP': /^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
   'kl-GL': /^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'ko-KR': /^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,
",62,"'ja-JP': /^(\+?81|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,","'ja-JP': /^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5b4a95fd1cd40ceb94a7a38f72da15b9595a39fd,5b4a95fd1cd40ceb94a7a38f72da15b9595a39fd,"fix(isMobilePhone): enforce stricter Ecuador phone number validation (#1191)

* Enforce stricter Ecuador phone number validation

* Add more tests",2019-11-05 00:05:24-08:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/59077528ffdc4f2fc692131aa15866d5b132817f/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/5b4a95fd1cd40ceb94a7a38f72da15b9595a39fd/src/lib/isMobilePhone.js,"@@ -41,7 +41,7 @@ const phones = {
   'en-ZA': /^(\+?27|0)\d{9}$/,
   'en-ZM': /^(\+?26)?09[567]\d{7}$/,
   'es-CL': /^(\+?56|0)[2-9]\d{1}\d{7}$/,
-  'es-EC': /^(\+?593|0)[2-7,9]\d{7,8}$/,
+  'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
   'es-ES': /^(\+?34)?(6\d{1}|7[1234])\d{7}$/,
   'es-MX': /^(\+?52)?(1|01)?\d{10,11}$/,
   'es-PA': /^(\+?507)\d{7,8}$/,
",44,"'es-EC': /^(\+?593|0)[2-7,9]\d{7,8}$/,","'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/33b444625282df2134095dfc54ed0b1d8850410a,33b444625282df2134095dfc54ed0b1d8850410a,fix(isPostalCode): add better validation for EirCode IE (#1234),2020-01-18 18:11:24+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/eb787efd54a7086a529c0352771c35071ee97f78/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/33b444625282df2134095dfc54ed0b1d8850410a/src/lib/isPostalCode.js,"@@ -28,7 +28,7 @@ const patterns = {
   HR: /^([1-5]\d{4}$)/,
   HU: fourDigit,
   ID: fiveDigit,
-  IE: /^[A-z]\d[\d|w]\s\w{4}$/i,
+  IE: /^(?!.*(?:o))[A-z]\d[\dw]\s\w{4}$/i,
   IL: fiveDigit,
   IN: /^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,
   IS: threeDigit,
",31,"IE: /^[A-z]\d[\d|w]\s\w{4}$/i,","IE: /^(?!.*(?:o))[A-z]\d[\dw]\s\w{4}$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1c9efc5a2aed486b102680ebd5ac7250ba7fca07,1c9efc5a2aed486b102680ebd5ac7250ba7fca07,"fix(isAlpha): update greek alphabet, el-GR (#1238)

* Feat: Added more letters to Greek alphabet

* Fix: removed /s

* Test: Added test, no overwrite",2020-01-28 08:03:33+03:00,alpha.js,https://github.com/chriso/validator.js/raw/04b8b0a530aeb8051b7ee829e8539005e419b1ec/es/lib/alpha.js,https://github.com/chriso/validator.js/raw/1c9efc5a2aed486b102680ebd5ac7250ba7fca07/es/lib/alpha.js,"@@ -4,7 +4,7 @@ export var alpha = {
   'cs-CZ': /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
   'da-DK': /^[A-ZÆØÅ]+$/i,
   'de-DE': /^[A-ZÄÖÜß]+$/i,
-  'el-GR': /^[Α-ω]+$/i,
+  'el-GR': /^[Α-ώ]+$/i,
   'es-ES': /^[A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
   'it-IT': /^[A-ZÀÉÈÌÎÓÒÙ]+$/i,
",7,"'el-GR': /^[Α-ω]+$/i,","'el-GR': /^[Α-ώ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1c9efc5a2aed486b102680ebd5ac7250ba7fca07,1c9efc5a2aed486b102680ebd5ac7250ba7fca07,"fix(isAlpha): update greek alphabet, el-GR (#1238)

* Feat: Added more letters to Greek alphabet

* Fix: removed /s

* Test: Added test, no overwrite",2020-01-28 08:03:33+03:00,alpha.js,https://github.com/chriso/validator.js/raw/04b8b0a530aeb8051b7ee829e8539005e419b1ec/lib/alpha.js,https://github.com/chriso/validator.js/raw/1c9efc5a2aed486b102680ebd5ac7250ba7fca07/lib/alpha.js,"@@ -10,7 +10,7 @@ var alpha = {
   'cs-CZ': /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
   'da-DK': /^[A-ZÆØÅ]+$/i,
   'de-DE': /^[A-ZÄÖÜß]+$/i,
-  'el-GR': /^[Α-ω]+$/i,
+  'el-GR': /^[Α-ώ]+$/i,
   'es-ES': /^[A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
   'it-IT': /^[A-ZÀÉÈÌÎÓÒÙ]+$/i,
",13,"'el-GR': /^[Α-ω]+$/i,","'el-GR': /^[Α-ώ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1c9efc5a2aed486b102680ebd5ac7250ba7fca07,1c9efc5a2aed486b102680ebd5ac7250ba7fca07,"fix(isAlpha): update greek alphabet, el-GR (#1238)

* Feat: Added more letters to Greek alphabet

* Fix: removed /s

* Test: Added test, no overwrite",2020-01-28 08:03:33+03:00,alpha.js,https://github.com/chriso/validator.js/raw/04b8b0a530aeb8051b7ee829e8539005e419b1ec/src/lib/alpha.js,https://github.com/chriso/validator.js/raw/1c9efc5a2aed486b102680ebd5ac7250ba7fca07/src/lib/alpha.js,"@@ -4,7 +4,7 @@ export const alpha = {
   'cs-CZ': /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
   'da-DK': /^[A-ZÆØÅ]+$/i,
   'de-DE': /^[A-ZÄÖÜß]+$/i,
-  'el-GR': /^[Α-ω]+$/i,
+  'el-GR': /^[Α-ώ]+$/i,
   'es-ES': /^[A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
   'it-IT': /^[A-ZÀÉÈÌÎÓÒÙ]+$/i,
",7,"'el-GR': /^[Α-ω]+$/i,","'el-GR': /^[Α-ώ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1c9efc5a2aed486b102680ebd5ac7250ba7fca07,1c9efc5a2aed486b102680ebd5ac7250ba7fca07,"fix(isAlpha): update greek alphabet, el-GR (#1238)

* Feat: Added more letters to Greek alphabet

* Fix: removed /s

* Test: Added test, no overwrite",2020-01-28 08:03:33+03:00,validator.js,https://github.com/chriso/validator.js/raw/04b8b0a530aeb8051b7ee829e8539005e419b1ec/validator.js,https://github.com/chriso/validator.js/raw/1c9efc5a2aed486b102680ebd5ac7250ba7fca07/validator.js,"@@ -116,7 +116,7 @@ var alpha = {
   'cs-CZ': /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,
   'da-DK': /^[A-ZÆØÅ]+$/i,
   'de-DE': /^[A-ZÄÖÜß]+$/i,
-  'el-GR': /^[Α-ω]+$/i,
+  'el-GR': /^[Α-ώ]+$/i,
   'es-ES': /^[A-ZÁÉÍÑÓÚÜ]+$/i,
   'fr-FR': /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,
   'it-IT': /^[A-ZÀÉÈÌÎÓÒÙ]+$/i,
",119,"'el-GR': /^[Α-ω]+$/i,","'el-GR': /^[Α-ώ]+$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c109ace77ada1dc4a5c96ce386db8e9be127350a,c109ace77ada1dc4a5c96ce386db8e9be127350a,"fix(isIP): wrong IP address validation (#1211)

* Bugfix - Wrong IP address validation
https://github.com/validatorjs/validator.js/issues/1209

* Add tests for IPv4

Co-authored-by: Bar <bar@intsights.com>",2020-02-11 13:14:37+03:00,isIP.js,https://github.com/chriso/validator.js/raw/a87165ab4556773fe733959e1bcab1b2dca698c5/es/lib/isIP.js,https://github.com/chriso/validator.js/raw/c109ace77ada1dc4a5c96ce386db8e9be127350a/es/lib/isIP.js,"@@ -29,7 +29,7 @@ import assertString from './util/assertString';
    to the 5th link, and ""interface10"" belongs to the 10th organization.
  * * */
 
-var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
+var ipv4Maybe = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
 var ipv6Block = /^[0-9A-F]{1,4}$/i;
 export default function isIP(str) {
   var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
",32,"var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;",var ipv4Maybe = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c109ace77ada1dc4a5c96ce386db8e9be127350a,c109ace77ada1dc4a5c96ce386db8e9be127350a,"fix(isIP): wrong IP address validation (#1211)

* Bugfix - Wrong IP address validation
https://github.com/validatorjs/validator.js/issues/1209

* Add tests for IPv4

Co-authored-by: Bar <bar@intsights.com>",2020-02-11 13:14:37+03:00,isIP.js,https://github.com/chriso/validator.js/raw/a87165ab4556773fe733959e1bcab1b2dca698c5/lib/isIP.js,https://github.com/chriso/validator.js/raw/c109ace77ada1dc4a5c96ce386db8e9be127350a/lib/isIP.js,"@@ -38,7 +38,7 @@ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { de
    where the interface ""ne0"" belongs to the 1st link, ""pvc1.3"" belongs
    to the 5th link, and ""interface10"" belongs to the 10th organization.
  * * */
-var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
+var ipv4Maybe = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
 var ipv6Block = /^[0-9A-F]{1,4}$/i;
 
 function isIP(str) {
",41,"var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;",var ipv4Maybe = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c109ace77ada1dc4a5c96ce386db8e9be127350a,c109ace77ada1dc4a5c96ce386db8e9be127350a,"fix(isIP): wrong IP address validation (#1211)

* Bugfix - Wrong IP address validation
https://github.com/validatorjs/validator.js/issues/1209

* Add tests for IPv4

Co-authored-by: Bar <bar@intsights.com>",2020-02-11 13:14:37+03:00,isIP.js,https://github.com/chriso/validator.js/raw/a87165ab4556773fe733959e1bcab1b2dca698c5/src/lib/isIP.js,https://github.com/chriso/validator.js/raw/c109ace77ada1dc4a5c96ce386db8e9be127350a/src/lib/isIP.js,"@@ -28,7 +28,7 @@ import assertString from './util/assertString';
    where the interface ""ne0"" belongs to the 1st link, ""pvc1.3"" belongs
    to the 5th link, and ""interface10"" belongs to the 10th organization.
  * * */
-const ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
+const ipv4Maybe = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
 const ipv6Block = /^[0-9A-F]{1,4}$/i;
 
 export default function isIP(str, version = '') {
",31,"const ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;",const ipv4Maybe = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1e4011a40e6a80618343be766d99d292e9211b7c,1e4011a40e6a80618343be766d99d292e9211b7c,"fix(isMobillePhone): update nl_NL locale (#1311)

* nl_NL formatting update

6 is not optional: 
  correct: 0612345678, incorrect: 012345678
  - change: '6?' to '6{1}'

countryCode ('+31'), may also contain '00' instead of '+'
  correct, either: '+31612345678' || '0031612345678'
  - change: '(\+)' to '(\+|00)'

when specifying country code it's optional to provide '0' between braces before 6 (eg: '+31(0)6...')
  correct, either: '+31(0)612345678' || +31612345678
- change: ^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$

* fix nl_NL mobile phone

same as previous commit

* updated test for new nl_NL mobile format

* replace ; with , to succeed tests

* updating (in)valid testdata to include previous data",2020-05-29 15:24:27+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/3dfad251a06952e526e5b4faa1ba3d9eddd1e1f9/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/1e4011a40e6a80618343be766d99d292e9211b7c/src/lib/isMobilePhone.js,"@@ -77,7 +77,7 @@ const phones = {
   'nb-NO': /^(\+?47)?[49]\d{7}$/,
   'ne-NP': /^(\+?977)?9[78]\d{8}$/,
   'nl-BE': /^(\+?32|0)4?\d{8}$/,
-  'nl-NL': /^(\+?31|0)6?\d{8}$/,
+  'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,
   'nn-NO': /^(\+?47)?[49]\d{7}$/,
   'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,
   'pt-BR': /(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,
",80,"'nl-NL': /^(\+?31|0)6?\d{8}$/,","'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/ccac8fd0d65cf1e5f773bea85ffafa830cdad3b4,ccac8fd0d65cf1e5f773bea85ffafa830cdad3b4,"fix(isSlug): fix to disallow spaces (#1338)

* Fix: Space Error in isSlug()

* Added Space Test for isSlug()",2020-05-31 19:42:45+03:00,isSlug.js,https://github.com/chriso/validator.js/raw/e501b9ce0918b1351d2779fe78b16b783a5e8c3e/src/lib/isSlug.js,https://github.com/chriso/validator.js/raw/ccac8fd0d65cf1e5f773bea85ffafa830cdad3b4/src/lib/isSlug.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-let charsetRegex = /^[^-_](?!.*?[-_]{2,})([a-z0-9\\-]{1,}).*[^-_]$/;
+let charsetRegex = /^[^\s-_](?!.*?[-_]{2,})([a-z0-9-\\]{1,})[^\s]*[^-_\s]$/;
 
 export default function isSlug(str) {
   assertString(str);
",3,"let charsetRegex = /^[^-_](?!.*?[-_]{2,})([a-z0-9\\-]{1,}).*[^-_]$/;","let charsetRegex = /^[^\s-_](?!.*?[-_]{2,})([a-z0-9-\\]{1,})[^\s]*[^-_\s]$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a0a2e77f07ac759dd531491fbbc97a25525ae3d3,a0a2e77f07ac759dd531491fbbc97a25525ae3d3,fix: fixed spaninsh postal code and mobile number regex (#1370),2020-07-02 16:11:18+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/a3cddc1aaf4d81525bb3c0097623541a1caca8e1/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/a0a2e77f07ac759dd531491fbbc97a25525ae3d3/src/lib/isMobilePhone.js,"@@ -51,7 +51,7 @@ const phones = {
   'es-CL': /^(\+?56|0)[2-9]\d{1}\d{7}$/,
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
-  'es-ES': /^(\+?34)?(6\d{1}|7[1234])\d{7}$/,
+  'es-ES': /^(\+?34)?[6|7]\d{8}$/,
   'es-MX': /^(\+?52)?(1|01)?\d{10,11}$/,
   'es-PA': /^(\+?507)\d{7,8}$/,
   'es-PY': /^(\+?595|0)9[9876]\d{7}$/,
",54,"'es-ES': /^(\+?34)?(6\d{1}|7[1234])\d{7}$/,","'es-ES': /^(\+?34)?[6|7]\d{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a0a2e77f07ac759dd531491fbbc97a25525ae3d3,a0a2e77f07ac759dd531491fbbc97a25525ae3d3,fix: fixed spaninsh postal code and mobile number regex (#1370),2020-07-02 16:11:18+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/a3cddc1aaf4d81525bb3c0097623541a1caca8e1/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/a0a2e77f07ac759dd531491fbbc97a25525ae3d3/src/lib/isPostalCode.js,"@@ -20,7 +20,7 @@ const patterns = {
   DK: fourDigit,
   DZ: fiveDigit,
   EE: fiveDigit,
-  ES: fiveDigit,
+  ES: /^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,
   FI: fiveDigit,
   FR: /^\d{2}\s?\d{3}$/,
   GB: /^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,
",23,"ES: fiveDigit,","ES: /^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/ebc6c8627c7d49b4eaab5bf2a461e42b80fb09e1,ebc6c8627c7d49b4eaab5bf2a461e42b80fb09e1,"chore: add missing tests and switch to coverall (#1376)

* chore: replace coverall with codecov

* chore: add missing old build artifacts

* chore: fix coverage report command

* test(isIdentityCard): remove unreachable code and add test cases

* fix: use regex flag to simplify isSemVer validator

* fix(isTaxID): use same behavior than other validators for invalid locale

* fix(multilineRegex): unset flag attribute default value

* remove line-break in readme

* fix: add info about province name in zh-CN identityCard validation",2020-07-20 09:54:59+03:00,isSemVer.js,https://github.com/chriso/validator.js/raw/7926341e6b418ebfc8e0aaf3654eea82c67c217f/es/lib/isSemVer.js,https://github.com/chriso/validator.js/raw/ebc6c8627c7d49b4eaab5bf2a461e42b80fb09e1/es/lib/isSemVer.js,"@@ -7,7 +7,7 @@ import multilineRegexp from './util/multilineRegex';
  * Reference: https://semver.org/
  */
 
-var semanticVersioningRegex = multilineRegexp(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))', '?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$']);
+var semanticVersioningRegex = multilineRegexp(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))', '?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$'], 'i');
 export default function isSemVer(str) {
   assertString(str);
   return semanticVersioningRegex.test(str);
",10,"var semanticVersioningRegex = multilineRegexp(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))', '?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$']);","var semanticVersioningRegex = multilineRegexp(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))', '?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$'], 'i');"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/ebc6c8627c7d49b4eaab5bf2a461e42b80fb09e1,ebc6c8627c7d49b4eaab5bf2a461e42b80fb09e1,"chore: add missing tests and switch to coverall (#1376)

* chore: replace coverall with codecov

* chore: add missing old build artifacts

* chore: fix coverage report command

* test(isIdentityCard): remove unreachable code and add test cases

* fix: use regex flag to simplify isSemVer validator

* fix(isTaxID): use same behavior than other validators for invalid locale

* fix(multilineRegex): unset flag attribute default value

* remove line-break in readme

* fix: add info about province name in zh-CN identityCard validation",2020-07-20 09:54:59+03:00,isSemVer.js,https://github.com/chriso/validator.js/raw/7926341e6b418ebfc8e0aaf3654eea82c67c217f/lib/isSemVer.js,https://github.com/chriso/validator.js/raw/ebc6c8627c7d49b4eaab5bf2a461e42b80fb09e1/lib/isSemVer.js,"@@ -17,7 +17,7 @@ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { de
  * built from multi-line, multi-parts regexp
  * Reference: https://semver.org/
  */
-var semanticVersioningRegex = (0, _multilineRegex.default)(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))', '?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$']);
+var semanticVersioningRegex = (0, _multilineRegex.default)(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))', '?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$'], 'i');
 
 function isSemVer(str) {
   (0, _assertString.default)(str);
",20,"var semanticVersioningRegex = (0, _multilineRegex.default)(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))', '?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$']);","var semanticVersioningRegex = (0, _multilineRegex.default)(['^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)', '(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))', '?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$'], 'i');"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f67a57f65ba16f655db8abfb4628a7659739f03f,f67a57f65ba16f655db8abfb4628a7659739f03f,"fix(isMobilePhone): update regex for de-DE (#1391)

fixes #1378",2020-07-25 09:29:49+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/9207b04ac6ec9e7320693df8a1341a002826c50a/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/f67a57f65ba16f655db8abfb4628a7659739f03f/src/lib/isMobilePhone.js,"@@ -20,7 +20,7 @@ const phones = {
   'bn-BD': /^(\+?880|0)1[13456789][0-9]{8}$/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
-  'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
+  'de-DE': /^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
   'de-AT': /^(\+43|0)\d{1,4}\d{3,12}$/,
   'de-CH': /^(\+41|0)(7[5-9])\d{1,7}$/,
   'el-GR': /^(\+?30|0)?(69\d{8})$/,
",23,"'de-DE': /^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,","'de-DE': /^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/0177658d9ad58dd3d217a8d40d9e287595414643,0177658d9ad58dd3d217a8d40d9e287595414643,fix(isUrl): add proper validation for emails (#1425),2020-08-31 10:25:03+03:00,isURL.js,https://github.com/chriso/validator.js/raw/2ec9426a3ce456665ac0ea79a91f9ea867122987/src/lib/isURL.js,https://github.com/chriso/validator.js/raw/0177658d9ad58dd3d217a8d40d9e287595414643/src/lib/isURL.js,"@@ -100,7 +100,7 @@ export default function isURL(url, options) {
       return false;
     }
     auth = split.shift();
-    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {
+    if (auth.indexOf(':') === -1 || (auth.indexOf(':') >= 0 && auth.split(':').length > 2)) {
       return false;
     }
   }
",103,if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {,if (auth.indexOf(':') === -1 || (auth.indexOf(':') >= 0 && auth.split(':').length > 2)) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/491d9c0eea23f8401b5739803fb8e55c6860b32b,491d9c0eea23f8401b5739803fb8e55c6860b32b,"fix: isBase64 and isBase32 seeing empty string as invalid (#1419)

Co-authored-by: Jonas Grosse-Holz <aber@der-b.art>",2020-09-06 21:42:03+03:00,isBase32.js,https://github.com/chriso/validator.js/raw/0177658d9ad58dd3d217a8d40d9e287595414643/src/lib/isBase32.js,https://github.com/chriso/validator.js/raw/491d9c0eea23f8401b5739803fb8e55c6860b32b/src/lib/isBase32.js,"@@ -5,7 +5,7 @@ const base32 = /^[A-Z2-7]+=*$/;
 export default function isBase32(str) {
   assertString(str);
   const len = str.length;
-  if (len > 0 && len % 8 === 0 && base32.test(str)) {
+  if (len % 8 === 0 && base32.test(str)) {
     return true;
   }
   return false;
",8,if (len > 0 && len % 8 === 0 && base32.test(str)) {,if (len % 8 === 0 && base32.test(str)) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/73ce41d8196d9f75ca02b7544a29c472fd93a3ba,73ce41d8196d9f75ca02b7544a29c472fd93a3ba,"fix(isMobilePhone): fixed pt-br locale (#1407)

* correct regex for pt-br phone numbers

* changed tests for pt-BR mobile phone number validation

* Removed valid number from invalid list of pt-br phones

* Added area code within parentheses after country code in pt-br phone numbers regex

* Numbers with 9 digits, second digit being 2-9

* Updated tests to check on pt-br phone numbers starting with 9 and followed by 2-9

* Trailing comma removed

* Updated trailing comma

* Updated tests to comply with new phone numbers",2020-10-21 16:22:06+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/39f2bdc432ea3abf145b2782e21bc11e38ca1c9e/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/73ce41d8196d9f75ca02b7544a29c472fd93a3ba/src/lib/isMobilePhone.js,"@@ -90,7 +90,7 @@ const phones = {
   'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,
   'nn-NO': /^(\+?47)?[49]\d{7}$/,
   'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,
-  'pt-BR': /(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,
+  'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,
   'pt-PT': /^(\+?351)?9[1236]\d{7}$/,
   'ro-RO': /^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,
   'ru-RU': /^(\+?7|8)?9\d{9}$/,
",93,"'pt-BR': /(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,","'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/13c012972b91c3fb6f5960cd02a9705843979fc0,13c012972b91c3fb6f5960cd02a9705843979fc0,"fix(docs): update supported locales (#1513)

* README.md: Add supported locale for isDecimal

* alpha.js: add Indonesian decimal",2020-11-19 04:58:09+03:00,alpha.js,https://github.com/chriso/validator.js/raw/27aa419ad796d38314e139aff986e6255210a5db/src/lib/alpha.js,https://github.com/chriso/validator.js/raw/13c012972b91c3fb6f5960cd02a9705843979fc0/src/lib/alpha.js,"@@ -108,7 +108,7 @@ for (let locale, i = 0; i < farsiLocales.length; i++) {
 // Source: https://en.wikipedia.org/wiki/Decimal_mark
 export const dotDecimal = ['ar-EG', 'ar-LB', 'ar-LY'];
 export const commaDecimal = [
-  'bg-BG', 'cs-CZ', 'da-DK', 'de-DE', 'el-GR', 'en-ZM', 'es-ES', 'fr-FR', 'it-IT', 'ku-IQ', 'hu-HU', 'nb-NO',
+  'bg-BG', 'cs-CZ', 'da-DK', 'de-DE', 'el-GR', 'en-ZM', 'es-ES', 'fr-FR', 'id-ID', 'it-IT', 'ku-IQ', 'hu-HU', 'nb-NO',
   'nn-NO', 'nl-NL', 'pl-PL', 'pt-PT', 'ru-RU', 'sl-SI', 'sr-RS@latin',
   'sr-RS', 'sv-SE', 'tr-TR', 'uk-UA', 'vi-VN',
 ];
",111,"'bg-BG', 'cs-CZ', 'da-DK', 'de-DE', 'el-GR', 'en-ZM', 'es-ES', 'fr-FR', 'it-IT', 'ku-IQ', 'hu-HU', 'nb-NO',","'bg-BG', 'cs-CZ', 'da-DK', 'de-DE', 'el-GR', 'en-ZM', 'es-ES', 'fr-FR', 'id-ID', 'it-IT', 'ku-IQ', 'hu-HU', 'nb-NO',"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/302d2957c924b515cb22f7e87b5e84fee8636d6e,302d2957c924b515cb22f7e87b5e84fee8636d6e,fix(isMobilePhone): update es-CO locale (#1541),2020-12-03 06:44:17+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/5810e36f634ee8cf7e9f1915721533eed5de8abf/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/302d2957c924b515cb22f7e87b5e84fee8636d6e/src/lib/isMobilePhone.js,"@@ -56,7 +56,7 @@ const phones = {
   'en-ZW': /^(\+263)[0-9]{9}$/,
   'es-AR': /^\+?549(11|[2368]\d)\d{8}$/,
   'es-BO': /^(\+?591)?(6|7)\d{7}$/,
-  'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,
+  'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[0-9]{1}\d{6}$/,
   'es-CL': /^(\+?56|0)[2-9]\d{1}\d{7}$/,
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
",59,"'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,","'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[0-9]{1}\d{6}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/302d2957c924b515cb22f7e87b5e84fee8636d6e,302d2957c924b515cb22f7e87b5e84fee8636d6e,fix(isMobilePhone): update es-CO locale (#1541),2020-12-03 06:44:17+03:00,validator.js,https://github.com/chriso/validator.js/raw/5810e36f634ee8cf7e9f1915721533eed5de8abf/validator.js,https://github.com/chriso/validator.js/raw/302d2957c924b515cb22f7e87b5e84fee8636d6e/validator.js,"@@ -3811,7 +3811,7 @@ var phones = {
   'en-ZW': /^(\+263)[0-9]{9}$/,
   'es-AR': /^\+?549(11|[2368]\d)\d{8}$/,
   'es-BO': /^(\+?591)?(6|7)\d{7}$/,
-  'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,
+  'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[0-9]{1}\d{6}$/,
   'es-CL': /^(\+?56|0)[2-9]\d{1}\d{7}$/,
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
",3814,"'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,","'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[0-9]{1}\d{6}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/8831db31e7d5de03cb9744f811ffd256494f97f6,8831db31e7d5de03cb9744f811ffd256494f97f6,"fix(isTaxID): fix el-GR locale when checksum is 10 (#1529)

Add correct tax identifier to demonstrate issue and fix.

Thanks to: Panos Papadopoulos",2020-12-17 13:11:58+03:00,isTaxID.js,https://github.com/chriso/validator.js/raw/edcd1618bfdb5a6b06b18123f0b9d9fcdeedca65/src/lib/isTaxID.js,https://github.com/chriso/validator.js/raw/8831db31e7d5de03cb9744f811ffd256494f97f6/src/lib/isTaxID.js,"@@ -280,7 +280,7 @@ function elGrCheck(tin) {
   for (let i = 0; i < 8; i++) {
     checksum += digits[i] * (2 ** (8 - i));
   }
-  return checksum % 11 === digits[8];
+  return ((checksum % 11) % 10) === digits[8];
 }
 
 /*
",283,return checksum % 11 === digits[8];,return ((checksum % 11) % 10) === digits[8];
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/6d87bfe20c542969e1c12a1f0c1f8979c3b97ff1,6d87bfe20c542969e1c12a1f0c1f8979c3b97ff1,fix(isSlug & rtrim): regex no longer exposed to ReDOS attacks (#1603),2021-03-03 13:49:47+03:00,isSlug.js,https://github.com/chriso/validator.js/raw/23311204bced77298657cbe23a00faf29787fcd5/src/lib/isSlug.js,https://github.com/chriso/validator.js/raw/6d87bfe20c542969e1c12a1f0c1f8979c3b97ff1/src/lib/isSlug.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-let charsetRegex = /^[^\s-_](?!.*?[-_]{2,})([a-z0-9-\\]{1,})[^\s]*[^-_\s]$/;
+let charsetRegex = /^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;
 
 export default function isSlug(str) {
   assertString(str);
",3,"let charsetRegex = /^[^\s-_](?!.*?[-_]{2,})([a-z0-9-\\]{1,})[^\s]*[^-_\s]$/;","let charsetRegex = /^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/418df05e8a096f85adf5041232d1b4183af34355,418df05e8a096f85adf5041232d1b4183af34355,"fix(isMobilePhone): prevent allowing landline numbers in es-CO (#1623)

* fix(isMobilePhone): prevent validator from allowing landline numbers in es-CO locale

* fix(isMobilePhone): prevent es-CO validator from allowing invalid number",2021-03-12 12:47:24+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/6262f6295b887c8231d41942ce7ecfb9b822b7f4/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/418df05e8a096f85adf5041232d1b4183af34355/src/lib/isMobilePhone.js,"@@ -56,7 +56,7 @@ const phones = {
   'en-ZW': /^(\+263)[0-9]{9}$/,
   'es-AR': /^\+?549(11|[2368]\d)\d{8}$/,
   'es-BO': /^(\+?591)?(6|7)\d{7}$/,
-  'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[0-9]{1}\d{6}$/,
+  'es-CO': /^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,
   'es-CL': /^(\+?56|0)[2-9]\d{1}\d{7}$/,
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
",59,"'es-CO': /^(\+?57)?([1-8]{1}|3[0-9]{2})?[0-9]{1}\d{6}$/,","'es-CO': /^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/b65ddc5afcfc4a29050763517d6f664a4378cbc6,b65ddc5afcfc4a29050763517d6f664a4378cbc6,"fix: fix A-z ranges (#1625)

A number of files contain ranges of [A-z] which allows the characters [\]^_\ and the back-tick character. Those have been replaced by [A-Za-z].",2021-04-17 16:32:27+03:00,isLocale.js,https://github.com/chriso/validator.js/raw/39830a9cbc3450bd4f649a53ab8aafda5a422db5/src/lib/isLocale.js,https://github.com/chriso/validator.js/raw/b65ddc5afcfc4a29050763517d6f664a4378cbc6/src/lib/isLocale.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-const localeReg = /^[A-z]{2,4}([_-]([A-z]{4}|[\d]{3}))?([_-]([A-z]{2}|[\d]{3}))?$/;
+const localeReg = /^[A-Za-z]{2,4}([_-]([A-Za-z]{4}|[\d]{3}))?([_-]([A-Za-z]{2}|[\d]{3}))?$/;
 
 export default function isLocale(str) {
   assertString(str);
",3,"const localeReg = /^[A-z]{2,4}([_-]([A-z]{4}|[\d]{3}))?([_-]([A-z]{2}|[\d]{3}))?$/;","const localeReg = /^[A-Za-z]{2,4}([_-]([A-Za-z]{4}|[\d]{3}))?([_-]([A-Za-z]{2}|[\d]{3}))?$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/b65ddc5afcfc4a29050763517d6f664a4378cbc6,b65ddc5afcfc4a29050763517d6f664a4378cbc6,"fix: fix A-z ranges (#1625)

A number of files contain ranges of [A-z] which allows the characters [\]^_\ and the back-tick character. Those have been replaced by [A-Za-z].",2021-04-17 16:32:27+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/39830a9cbc3450bd4f649a53ab8aafda5a422db5/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/b65ddc5afcfc4a29050763517d6f664a4378cbc6/src/lib/isPostalCode.js,"@@ -33,7 +33,7 @@ const patterns = {
   HT: /^HT\d{4}$/,
   HU: fourDigit,
   ID: fiveDigit,
-  IE: /^(?!.*(?:o))[A-z]\d[\dw]\s\w{4}$/i,
+  IE: /^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,
   IL: /^(\d{5}|\d{7})$/,
   IN: /^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,
   IR: /\b(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}\b/,
",36,"IE: /^(?!.*(?:o))[A-z]\d[\dw]\s\w{4}$/i,","IE: /^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d006e08472cc5981962fa6b098a392a54fc42608,d006e08472cc5981962fa6b098a392a54fc42608,fix(isMobilePhone): add support for new networks codes in GH (#1635),2021-04-17 16:44:05+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/c33fca687d2f1c9b809574c276838593abc40882/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d006e08472cc5981962fa6b098a392a54fc42608/src/lib/isMobilePhone.js,"@@ -33,7 +33,7 @@ const phones = {
   'en-AU': /^(\+?61|0)4\d{8}$/,
   'en-GB': /^(\+?44|0)7\d{9}$/,
   'en-GG': /^(\+?44|0)1481\d{6}$/,
-  'en-GH': /^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,
+  'en-GH': /^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,
   'en-HK': /^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,
   'en-MO': /^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,
   'en-IE': /^(\+?353|0)8[356789]\d{7}$/,
",36,"'en-GH': /^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,","'en-GH': /^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/01eeaef8f2b708c2e88a604e1668c77ad6aed990,01eeaef8f2b708c2e88a604e1668c77ad6aed990,"feat(isMobilePhone): change the german prefix from '+490' to '+49' or '0' (#1679)

* fix: restrict german numbers

* fix: allow 0 prefix

Co-authored-by: Anna-Maria Jansen <anna-maria.jansen@nui.care>",2021-07-16 15:09:05+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/044159d7b80aadef0c4b7aba7a4ea0e72a2eaa50/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/01eeaef8f2b708c2e88a604e1668c77ad6aed990/src/lib/isMobilePhone.js,"@@ -25,7 +25,7 @@ const phones = {
   'ca-AD': /^(\+376)?[346]\d{5}$/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
-  'de-DE': /^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,
+  'de-DE': /^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,
   'de-AT': /^(\+43|0)\d{1,4}\d{3,12}$/,
   'de-CH': /^(\+41|0)([1-9])\d{1,9}$/,
   'de-LU': /^(\+352)?((6\d1)\d{6})$/,
",28,"'de-DE': /^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,","'de-DE': /^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/e08e79a066641aa11ded770a8345d7c44be1ff1c,e08e79a066641aa11ded770a8345d7c44be1ff1c,fix(sMobilePhone): regexp for Vietnamese phone number (#1689),2021-07-16 20:26:54+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/cff8a2ebee8770079eb18a99cea97d6b368a4b9d/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/e08e79a066641aa11ded770a8345d7c44be1ff1c/src/lib/isMobilePhone.js,"@@ -113,7 +113,7 @@ const phones = {
   'tr-TR': /^(\+?90|0)?5\d{9}$/,
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
   'uz-UZ': /^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,
-  'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,
+  'vi-VN': /^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,
   'zh-CN': /^((\+|00)86)?1([3456789][0-9]|4[579]|6[2567]|7[01235678]|9[012356789])[0-9]{8}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/,
 };
",116,"'vi-VN': /^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,","'vi-VN': /^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5b04cc5216fa0419233861f824823bf791f1f370,5b04cc5216fa0419233861f824823bf791f1f370,"perf(isISO31661Alpha2): use a Set along with .has instead of includes (#1724)

fix(isBIC): refactor use of CountryCodes using Set's methods",2021-09-20 17:28:06+03:00,isBIC.js,https://github.com/chriso/validator.js/raw/8c4b3b35c3bd36dc3983aadb045422847154451b/src/lib/isBIC.js,https://github.com/chriso/validator.js/raw/5b04cc5216fa0419233861f824823bf791f1f370/src/lib/isBIC.js,"@@ -9,7 +9,7 @@ export default function isBIC(str) {
 
   // toUpperCase() should be removed when a new major version goes out that changes
   // the regex to [A-Z] (per the spec).
-  if (CountryCodes.indexOf(str.slice(4, 6).toUpperCase()) < 0) {
+  if (!CountryCodes.has(str.slice(4, 6).toUpperCase())) {
     return false;
   }
 
",12,"if (CountryCodes.indexOf(str.slice(4, 6).toUpperCase()) < 0) {","if (!CountryCodes.has(str.slice(4, 6).toUpperCase())) {"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/7376945b4ce028b65955ae57b8fccbbf3fe58467,7376945b4ce028b65955ae57b8fccbbf3fe58467,"fix(isMagnetURI): update validation regex (#1730)

* fix(isMagnetURI): update validation regex

- Validate only exact xn topics (btih,sha1,...)
- Validate only 32 or 40 hashes
- Make tr and dn parameters optional
- Allow any other parameter (protocol allow passing non standard parameters)
- Use placeholder hashes in tests 
- Fix ReDOS in old regex
- Add new tests

* fix(isMagnetURI): prevent matching hashes longer than 40 characters

* fix(isMagnetURI): check only string ending after hash or new parameter start",2021-09-21 08:08:15+03:00,isMagnetURI.js,https://github.com/chriso/validator.js/raw/5b04cc5216fa0419233861f824823bf791f1f370/src/lib/isMagnetURI.js,https://github.com/chriso/validator.js/raw/7376945b4ce028b65955ae57b8fccbbf3fe58467/src/lib/isMagnetURI.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-const magnetURI = /^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;
+const magnetURI = /^magnet:\?xt(?:\.1)?=urn:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?($|&)/i;
 
 export default function isMagnetURI(url) {
   assertString(url);
",3,"const magnetURI = /^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;",const magnetURI = /^magnet:\?xt(?:\.1)?=urn:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?($|&)/i;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/b0d49bd8aa91e7be58693cf99731d1b910614bd4,b0d49bd8aa91e7be58693cf99731d1b910614bd4,fix(isDate): fix isdate format validation (#1711),2021-09-26 19:05:49+03:00,isDate.js,https://github.com/chriso/validator.js/raw/5b649c66919952aa6655a87c4c7d8cc7e34a698f/src/lib/isDate.js,https://github.com/chriso/validator.js/raw/b0d49bd8aa91e7be58693cf99731d1b910614bd4/src/lib/isDate.js,"@@ -7,7 +7,7 @@ const default_date_options = {
 };
 
 function isValidFormat(format) {
-  return /(^(y{4}|y{2})[\/-](m{1,2})[\/-](d{1,2})$)|(^(m{1,2})[\/-](d{1,2})[\/-]((y{4}|y{2})$))|(^(d{1,2})[\/-](m{1,2})[\/-]((y{4}|y{2})$))/gi.test(format);
+  return /(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(format);
 }
 
 function zip(date, format) {
",10,"return /(^(y{4}|y{2})[\/-](m{1,2})[\/-](d{1,2})$)|(^(m{1,2})[\/-](d{1,2})[\/-]((y{4}|y{2})$))|(^(d{1,2})[\/-](m{1,2})[\/-]((y{4}|y{2})$))/gi.test(format);","return /(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(format);"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/e84623b06c7601845d60fdb7af8b4434a40bbc79,e84623b06c7601845d60fdb7af8b4434a40bbc79,"feat(isCreditCard): Fixed regex for Union Pay Credit cards with 81 range (#1715)

* Fixes #1680

* Added Tests",2021-09-26 19:08:31+03:00,isCreditCard.js,https://github.com/chriso/validator.js/raw/69881b6992f014e314719fad4f60a42d10e2a080/src/lib/isCreditCard.js,https://github.com/chriso/validator.js/raw/e84623b06c7601845d60fdb7af8b4434a40bbc79/src/lib/isCreditCard.js,"@@ -1,7 +1,7 @@
 import assertString from './util/assertString';
 
 /* eslint-disable max-len */
-const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;
+const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/;
 /* eslint-enable max-len */
 
 export default function isCreditCard(str) {
",4,"const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;","const creditCard = /^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a3497bddb7e15a5295f4c23fae007a2b70705907,a3497bddb7e15a5295f4c23fae007a2b70705907,fix(isEmail): replace all dots in gmail length validation (#1718),2021-09-26 19:12:09+03:00,isEmail.js,https://github.com/chriso/validator.js/raw/b069167f7a7537dc2e9eaee500f031465b385a57/src/lib/isEmail.js,https://github.com/chriso/validator.js/raw/a3497bddb7e15a5295f4c23fae007a2b70705907/src/lib/isEmail.js,"@@ -110,7 +110,7 @@ export default function isEmail(str, options) {
     const username = user.split('+')[0];
 
     // Dots are not included in gmail length restriction
-    if (!isByteLength(username.replace('.', ''), { min: 6, max: 30 })) {
+    if (!isByteLength(username.replace(/\./g, ''), { min: 6, max: 30 })) {
       return false;
     }
 
",113,"if (!isByteLength(username.replace('.', ''), { min: 6, max: 30 })) {","if (!isByteLength(username.replace(/\./g, ''), { min: 6, max: 30 })) {"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/4ec30b773be5dc9a7d42bb0cfd2c9c35d6e4874a,4ec30b773be5dc9a7d42bb0cfd2c9c35d6e4874a,"fix(isMobilePhone.js): regex for Belgium locale (#1746)

* Updating regex of Belgium and the valid and invalid phone numbers in validators.js

* Fixing accidental deletion of closing braces

* Fixing the test numbers for fr-BE (french Belgium) too in validators.js since phone number rules will be same for that too

Co-authored-by: Divik Shrivastava <divik.s@safe.security>",2021-10-02 22:55:36+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/f2a1587c56d8f450ec45006ecbcd134a7810f23a/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/4ec30b773be5dc9a7d42bb0cfd2c9c35d6e4874a/src/lib/isMobilePhone.js,"@@ -95,7 +95,7 @@ const phones = {
   'mz-MZ': /^(\+?258)?8[234567]\d{7}$/,
   'nb-NO': /^(\+?47)?[49]\d{7}$/,
   'ne-NP': /^(\+?977)?9[78]\d{8}$/,
-  'nl-BE': /^(\+?32|0)4?\d{8}$/,
+  'nl-BE': /^(\+?32|0)4\d{8}$/,
   'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,
   'nn-NO': /^(\+?47)?[49]\d{7}$/,
   'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,
",98,"'nl-BE': /^(\+?32|0)4?\d{8}$/,","'nl-BE': /^(\+?32|0)4\d{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/6b213cf8692f8680980fe43e1d6f28f483df2a9a,6b213cf8692f8680980fe43e1d6f28f483df2a9a,fix(isMobilePhone): use a loose and future-oriented way to verify Chinese mobile phone numbers (#1682),2021-10-30 08:57:49+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/622184e669162453e155499417e1a922f548e810/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/6b213cf8692f8680980fe43e1d6f28f483df2a9a/src/lib/isMobilePhone.js,"@@ -115,7 +115,7 @@ const phones = {
   'uk-UA': /^(\+?38|8)?0\d{9}$/,
   'uz-UZ': /^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,
   'vi-VN': /^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,
-  'zh-CN': /^((\+|00)86)?1([3456789][0-9]|4[579]|6[2567]|7[01235678]|9[012356789])[0-9]{8}$/,
+  'zh-CN': /^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,
   'zh-TW': /^(\+?886\-?|0)?9\d{8}$/,
 };
 /* eslint-enable max-len */
",118,"'zh-CN': /^((\+|00)86)?1([3456789][0-9]|4[579]|6[2567]|7[01235678]|9[012356789])[0-9]{8}$/,","'zh-CN': /^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/60dffb94086767eb003d2726be07b848f3cf193b,60dffb94086767eb003d2726be07b848f3cf193b,fix(isUrl): allow url with column and no port (#1751),2021-10-30 08:59:19+03:00,isURL.js,https://github.com/chriso/validator.js/raw/6b213cf8692f8680980fe43e1d6f28f483df2a9a/src/lib/isURL.js,https://github.com/chriso/validator.js/raw/60dffb94086767eb003d2726be07b848f3cf193b/src/lib/isURL.js,"@@ -136,7 +136,7 @@ export default function isURL(url, options) {
     }
   }
 
-  if (port_str !== null) {
+  if (port_str !== null && port_str.length > 0) {
     port = parseInt(port_str, 10);
     if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {
       return false;
",139,if (port_str !== null) {,if (port_str !== null && port_str.length > 0) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/050a424e1bda06a06b1f5e4a5ca1dd1d9a8ceea4,050a424e1bda06a06b1f5e4a5ca1dd1d9a8ceea4,"fix(isMobilePhone): regex for Pakistan(PK) (#1778)

* Fix Mobile Phone Regex Pakistan(PK)

Update the regex to validate mobile numbers correctly for Pakistan

* Add tests for mobile number validation locale en-PK (Pakistan)

* Linting fix

* Update src/lib/isMobilePhone.js

Update pakistan mobile regex according to suggestion

Co-authored-by: Sarhan Aissi <tux-tn@users.noreply.github.com>

* Update tests for PK phone numbers

Co-authored-by: Sarhan Aissi <tux-tn@users.noreply.github.com>",2021-10-30 09:22:38+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/9347d6d70141d71c5923cfdb02e712879d00895a/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/050a424e1bda06a06b1f5e4a5ca1dd1d9a8ceea4/src/lib/isMobilePhone.js,"@@ -43,7 +43,7 @@ const phones = {
   'en-MU': /^(\+?230|0)?\d{8}$/,
   'en-NG': /^(\+?234|0)?[789]\d{9}$/,
   'en-NZ': /^(\+?64|0)[28]\d{7,9}$/,
-  'en-PK': /^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,
+  'en-PK': /^((00|\+)?92|0)3[0-6]\d{8}$/,
   'en-PH': /^(09|\+639)\d{9}$/,
   'en-RW': /^(\+?250|0)?[7]\d{8}$/,
   'en-SG': /^(\+65)?[3689]\d{7}$/,
",46,"'en-PK': /^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,","'en-PK': /^((00|\+)?92|0)3[0-6]\d{8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/5ed7db173f7e7619ec7e46269239bf10dda5009e,5ed7db173f7e7619ec7e46269239bf10dda5009e,fix(isMobilePhone): update Sri Lanka locale  (#1785),2021-10-30 09:29:28+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/050a424e1bda06a06b1f5e4a5ca1dd1d9a8ceea4/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/5ed7db173f7e7619ec7e46269239bf10dda5009e/src/lib/isMobilePhone.js,"@@ -105,7 +105,7 @@ const phones = {
   'pt-AO': /^(\+244)\d{9}$/,
   'ro-RO': /^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,
   'ru-RU': /^(\+?7|8)?9\d{9}$/,
-  'si-LK': /^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,
+  'si-LK': /^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,
   'sl-SI': /^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,
   'sk-SK': /^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'sq-AL': /^(\+355|0)6[789]\d{6}$/,
",108,"'si-LK': /^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,","'si-LK': /^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/ba4106fe47bbd207b7cced49594e81f8307d8872,ba4106fe47bbd207b7cced49594e81f8307d8872,"fix(isMobilePhone): update Hungarian locale (#1826)

* Add internal country code option

* Add new area code options

* Add tests to hu mobile number validation",2021-10-30 10:00:34+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/a837e6fbb0aec52ff31ff5e328e1adca8c631d77/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/ba4106fe47bbd207b7cced49594e81f8307d8872/src/lib/isMobilePhone.js,"@@ -81,7 +81,7 @@ const phones = {
   'fr-MQ': /^(\+?596|0|00596)[67]\d{8}$/,
   'fr-RE': /^(\+?262|0|00262)[67]\d{8}$/,
   'he-IL': /^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,
-  'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,
+  'hu-HU': /^(\+?36|06)(20|30|31|50|70)\d{7}$/,
   'id-ID': /^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'it-SM': /^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,
",84,"'hu-HU': /^(\+?36)(20|30|70)\d{7}$/,","'hu-HU': /^(\+?36|06)(20|30|31|50|70)\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/9c12b4cc765ae6a893d5b4c7a651e30c1a8fc3a7,9c12b4cc765ae6a893d5b4c7a651e30c1a8fc3a7,"fix(isMobilePhone): update de-DE regex to exclude landline numbers (#1868)

* revert #1391

* remove invalid number blocks",2021-11-17 10:24:35+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/667b0bf988a168bd3c5e5b30fb2d32dd984ac577/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/9c12b4cc765ae6a893d5b4c7a651e30c1a8fc3a7/src/lib/isMobilePhone.js,"@@ -26,7 +26,7 @@ const phones = {
   'ca-AD': /^(\+376)?[346]\d{5}$/,
   'cs-CZ': /^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,
   'da-DK': /^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,
-  'de-DE': /^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,
+  'de-DE': /^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,
   'de-AT': /^(\+43|0)\d{1,4}\d{3,12}$/,
   'de-CH': /^(\+41|0)([1-9])\d{1,9}$/,
   'de-LU': /^(\+352)?((6\d1)\d{6})$/,
",29,"'de-DE': /^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,","'de-DE': /^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c605fe6d63bacd6f0ae89890d87f85050d10de5a,c605fe6d63bacd6f0ae89890d87f85050d10de5a,fix: option allow_numeric_tld option in isFQDN,2022-03-13 00:04:08-06:00,isFQDN.js,https://github.com/chriso/validator.js/raw/c1b21a9c8c5e6bd1597e26354c829ad232251f12/src/lib/isFQDN.js,https://github.com/chriso/validator.js/raw/c605fe6d63bacd6f0ae89890d87f85050d10de5a/src/lib/isFQDN.js,"@@ -32,7 +32,7 @@ export default function isFQDN(str, options) {
       return false;
     }
 
-    if (!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {
+    if (!options.allow_numeric_tld && !/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {
       return false;
     }
 
",35,"if (!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {","if (!options.allow_numeric_tld && !/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/1bb491c9c5b318c3b7be120797b3c2ffec00e975,1bb491c9c5b318c3b7be120797b3c2ffec00e975,Fix fi-FI mobile phone number format to support 050xxxx numbers,2022-03-28 10:03:30+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/c1b21a9c8c5e6bd1597e26354c829ad232251f12/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/1bb491c9c5b318c3b7be120797b3c2ffec00e975/src/lib/isMobilePhone.js,"@@ -80,7 +80,7 @@ const phones = {
   'es-VE': /^(\+?58)?(2|4)\d{9}$/,
   'et-EE': /^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,
   'fa-IR': /^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,
-  'fi-FI': /^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,
+  'fi-FI': /^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,
   'fj-FJ': /^(\+?679)?\s?\d{3}\s?\d{4}$/,
   'fo-FO': /^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'fr-BF': /^(\+226|0)[67]\d{7}$/,
",83,"'fi-FI': /^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,","'fi-FI': /^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/70b028ef776359382728f4696adf7915d7677ccf,70b028ef776359382728f4696adf7915d7677ccf,fix phone numner validation for ka-GE locale,2022-04-01 13:36:08+04:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/c1b21a9c8c5e6bd1597e26354c829ad232251f12/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/70b028ef776359382728f4696adf7915d7677ccf/src/lib/isMobilePhone.js,"@@ -97,7 +97,7 @@ const phones = {
   'it-IT': /^(\+?39)?\s?3\d{2} ?\d{6,7}$/,
   'it-SM': /^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,
   'ja-JP': /^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,
-  'ka-GE': /^(\+?995)?(5|79)\d{7}$/,
+  'ka-GE': /^(\+?995)?\d{9}$/,
   'kk-KZ': /^(\+?7|8)?7\d{9}$/,
   'kl-GL': /^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,
   'ko-KR': /^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,
",100,"'ka-GE': /^(\+?995)?(5|79)\d{7}$/,","'ka-GE': /^(\+?995)?\d{9}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/4b8eac55008c4c28f96b85baf679ea5e108fa06e,4b8eac55008c4c28f96b85baf679ea5e108fa06e,fix(isMobilePhone): update az-AZ (#1910),2022-04-22 06:22:09+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/495a175ab932b42ae7e3db9958299f8b77bc3e59/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/4b8eac55008c4c28f96b85baf679ea5e108fa06e/src/lib/isMobilePhone.js,"@@ -18,7 +18,7 @@ const phones = {
   'ar-SA': /^(!?(\+?966)|0)?5\d{8}$/,
   'ar-SY': /^(!?(\+?963)|0)?9\d{8}$/,
   'ar-TN': /^(\+?216)?[2459]\d{7}$/,
-  'az-AZ': /^(\+994|0)(5[015]|7[07]|99)\d{7}$/,
+  'az-AZ': /^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,
   'bs-BA': /^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,
   'be-BY': /^(\+?375)?(24|25|29|33|44)\d{7}$/,
   'bg-BG': /^(\+?359|0)?8[789]\d{7}$/,
",21,"'az-AZ': /^(\+994|0)(5[015]|7[07]|99)\d{7}$/,","'az-AZ': /^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/066869c4d6648c0851f80702b94c95cb3a5b4b99,066869c4d6648c0851f80702b94c95cb3a5b4b99,"fix(isDataURI): fix dataURI mediaType format (#1916)

* fix(isDataURI): fix dataURI mediaType format

* fix(isDataURI): add test dataURI for mediaType with dots

* fix(isDataURI): fix test dataURI for mediaType with dots",2022-04-22 06:26:46+03:00,isDataURI.js,https://github.com/chriso/validator.js/raw/4b8eac55008c4c28f96b85baf679ea5e108fa06e/src/lib/isDataURI.js,https://github.com/chriso/validator.js/raw/066869c4d6648c0851f80702b94c95cb3a5b4b99/src/lib/isDataURI.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-const validMediaType = /^[a-z]+\/[a-z0-9\-\+]+$/i;
+const validMediaType = /^[a-z]+\/[a-z0-9\-\+\.]+$/i;
 
 const validAttribute = /^[a-z\-]+=[a-z0-9\-]+$/i;
 
",3,const validMediaType = /^[a-z]+\/[a-z0-9\-\+]+$/i;,const validMediaType = /^[a-z]+\/[a-z0-9\-\+\.]+$/i;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/90555917447e9f406a9dde3a2822661c383a6229,90555917447e9f406a9dde3a2822661c383a6229,"Update isMobilePhone.js for pt-BR

Fix regex for pt-BR, now accepting number 1 after number 9 for mobile phone numbers",2022-05-10 14:53:41-03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/cfcf9113c69b97477c409909a8729fa8efa0d595/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/90555917447e9f406a9dde3a2822661c383a6229/src/lib/isMobilePhone.js,"@@ -113,7 +113,7 @@ const phones = {
   'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,
   'nn-NO': /^(\+?47)?[49]\d{7}$/,
   'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,
-  'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,
+  'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,
   'pt-PT': /^(\+?351)?9[1236]\d{7}$/,
   'pt-AO': /^(\+244)\d{9}$/,
   'ro-RO': /^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,
",116,"'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,","'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d88c7b61173b61f7ac176cb3a9386e4dde63158f,d88c7b61173b61f7ac176cb3a9386e4dde63158f,fix(Honduras_enhancement): added the correct regex for phone numbers in Honduras and added valid test cases for the change.,2022-06-11 12:21:56-07:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/cfcf9113c69b97477c409909a8729fa8efa0d595/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d88c7b61173b61f7ac176cb3a9386e4dde63158f/src/lib/isMobilePhone.js,"@@ -69,7 +69,7 @@ const phones = {
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-CU': /^(\+53|0053)?5\d{7}/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
-  'es-HN': /^(\+?504)?[9|8]\d{7}$/,
+  'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,
   'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
   'es-ES': /^(\+?34)?[6|7]\d{8}$/,
   'es-PE': /^(\+?51)?9\d{8}$/,
",72,"'es-HN': /^(\+?504)?[9|8]\d{7}$/,","'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/2280ff10c4cf8b7c80ea17980a85ec785cd86cf3,2280ff10c4cf8b7c80ea17980a85ec785cd86cf3,"Revert ""fix(Honduras_enhancement): added the correct regex for phone numbers in Honduras and added valid test cases for the change.""

This reverts commit d88c7b61",2022-06-13 08:19:33-07:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/68ea9c4a820c05ccc96ba8f250ae7e0aaf3e0edc/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/2280ff10c4cf8b7c80ea17980a85ec785cd86cf3/src/lib/isMobilePhone.js,"@@ -69,7 +69,7 @@ const phones = {
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-CU': /^(\+53|0053)?5\d{7}/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
-  'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,
+  'es-HN': /^(\+?504)?[9|8]\d{7}$/,
   'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
   'es-ES': /^(\+?34)?[6|7]\d{8}$/,
   'es-PE': /^(\+?51)?9\d{8}$/,
",72,"'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,","'es-HN': /^(\+?504)?[9|8]\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d50c8607af7a0b0dbefa2205893f9639ffa85550,d50c8607af7a0b0dbefa2205893f9639ffa85550,"""fix(Honduras_enhancement): added the correct regex for phone numbers in Honduras and added valid test cases for the change.""",2022-06-13 08:24:43-07:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/2280ff10c4cf8b7c80ea17980a85ec785cd86cf3/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d50c8607af7a0b0dbefa2205893f9639ffa85550/src/lib/isMobilePhone.js,"@@ -69,7 +69,7 @@ const phones = {
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-CU': /^(\+53|0053)?5\d{7}/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
-  'es-HN': /^(\+?504)?[9|8]\d{7}$/,
+  'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,
   'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
   'es-ES': /^(\+?34)?[6|7]\d{8}$/,
   'es-PE': /^(\+?51)?9\d{8}$/,
",72,"'es-HN': /^(\+?504)?[9|8]\d{7}$/,","'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/47443d18975cd1c3adb3f29aea845e5857fbfa54,47443d18975cd1c3adb3f29aea845e5857fbfa54,"fix: Modify pattern of pt-Br regex (#1951)

- A Brazilian cellphone number can start with 1 after its country code and local code
- Fix test case to accept +55 11 91431-4567 and similar ones as valid

Signed-off-by: Matheus Gomes <matheusnascgomes@gmail.com>",2022-06-30 05:51:00+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/73098eb7d6dc0c10ab4bc50fd0b8755605977613/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/47443d18975cd1c3adb3f29aea845e5857fbfa54/src/lib/isMobilePhone.js,"@@ -114,7 +114,7 @@ const phones = {
   'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,
   'nn-NO': /^(\+?47)?[49]\d{7}$/,
   'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,
-  'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,
+  'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,
   'pt-PT': /^(\+?351)?9[1236]\d{7}$/,
   'pt-AO': /^(\+244)\d{9}$/,
   'ro-RO': /^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,
",117,"'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,","'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/9a0bb35b9e3e6fdccb4ad604e241063e8fbb036a,9a0bb35b9e3e6fdccb4ad604e241063e8fbb036a,fix(matches): prevent regex state from breaking following validations (#1975),2022-06-30 05:55:34+03:00,matches.js,https://github.com/chriso/validator.js/raw/97d992c5c018d5d331189ae330697d7b9986739a/src/lib/matches.js,https://github.com/chriso/validator.js/raw/9a0bb35b9e3e6fdccb4ad604e241063e8fbb036a/src/lib/matches.js,"@@ -5,5 +5,5 @@ export default function matches(str, pattern, modifiers) {
   if (Object.prototype.toString.call(pattern) !== '[object RegExp]') {
     pattern = new RegExp(pattern, modifiers);
   }
-  return pattern.test(str);
+  return !!str.match(pattern);
 }
",8,return pattern.test(str);,return !!str.match(pattern);
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/ee81073d2586e2caa4c491bfb9691e6ce40e2223,ee81073d2586e2caa4c491bfb9691e6ce40e2223,fix(isStrongPassword): add £ as symbol (#2148),2023-01-22 22:09:17+03:00,isStrongPassword.js,https://github.com/chriso/validator.js/raw/41c7a16cce4902a09f87b9d79aa1972e58839d4e/src/lib/isStrongPassword.js,https://github.com/chriso/validator.js/raw/ee81073d2586e2caa4c491bfb9691e6ce40e2223/src/lib/isStrongPassword.js,"@@ -4,7 +4,7 @@ import assertString from './util/assertString';
 const upperCaseRegex = /^[A-Z]$/;
 const lowerCaseRegex = /^[a-z]$/;
 const numberRegex = /^[0-9]$/;
-const symbolRegex = /^[-#!$@%^&*()_+|~=`{}\[\]:"";'<>?,.\/ ]$/;
+const symbolRegex = /^[-#!$@£%^&*()_+|~=`{}\[\]:"";'<>?,.\/ ]$/;
 
 const defaultOptions = {
   minLength: 8,
",7,"const symbolRegex = /^[-#!$@%^&*()_+|~=`{}\[\]:"";'<>?,.\/ ]$/;","const symbolRegex = /^[-#!$@£%^&*()_+|~=`{}\[\]:"";'<>?,.\/ ]$/;"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cca678a2f8d0ed712ad10a86f5b48719c480de4a,cca678a2f8d0ed712ad10a86f5b48719c480de4a,"fix(isMobilePhone): added extra prefix for ar-KW locale (#2138)

* feat(isMobilePhone): added Virgin Mobile provider mobile number validation (ar-KW)

Added Virgin Mobile provider range (41XXXXXX) to ar-KW.
**References**:
-  [Virgin Mobile Kuwait Official Website FAQ](https://www.virginmobile.com.kw/en/faq/the-available-numbers-all-start-with-410-411-will-a-new-range-of-numbers-be-available-soon/)

* Update src/lib/isMobilePhone.js

Co-authored-by: Rik Smale <13023439+WikiRik@users.noreply.github.com>",2023-01-22 22:18:29+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/ee81073d2586e2caa4c491bfb9691e6ce40e2223/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/cca678a2f8d0ed712ad10a86f5b48719c480de4a/src/lib/isMobilePhone.js,"@@ -10,7 +10,7 @@ const phones = {
   'ar-EG': /^((\+?20)|0)?1[0125]\d{8}$/,
   'ar-IQ': /^(\+?964|0)?7[0-9]\d{8}$/,
   'ar-JO': /^(\+?962|0)?7[789]\d{7}$/,
-  'ar-KW': /^(\+?965)[569]\d{7}$/,
+  'ar-KW': /^(\+?965)([569]\d{7}|41\d{6})$/,
   'ar-LY': /^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,
   'ar-MA': /^(?:(?:\+|00)212|0)[5-7]\d{8}$/,
   'ar-OM': /^((\+|00)968)?(9[1-9])\d{6}$/,
",13,"'ar-KW': /^(\+?965)[569]\d{7}$/,","'ar-KW': /^(\+?965)([569]\d{7}|41\d{6})$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/394eebf17014c6f1b5ac52e9906fce7e40f16208,394eebf17014c6f1b5ac52e9906fce7e40f16208,"fix(isPostalCode): fix overly permissive IR regexp (#2136)

* fix(isPostalCode): fix overly permissive IR regexp

replace ""word boundary"" anchor `\b` with start/end of line anchors `^` / `$`, to fix this

fixes #2135

* test(validators): add invalid tests for isPostalCode locale IR",2023-01-22 22:22:22+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/f394da0195b10d908df1bbb929cd11c41403daca/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/394eebf17014c6f1b5ac52e9906fce7e40f16208/src/lib/isPostalCode.js,"@@ -37,7 +37,7 @@ const patterns = {
   IE: /^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,
   IL: /^(\d{5}|\d{7})$/,
   IN: /^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,
-  IR: /\b(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}\b/,
+  IR: /^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,
   IS: threeDigit,
   IT: fiveDigit,
   JP: /^\d{3}\-\d{4}$/,
",40,"IR: /\b(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}\b/,","IR: /^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d8f3a24b048a9faf13d21819c510c281dee0219a,d8f3a24b048a9faf13d21819c510c281dee0219a,"fix(isMobilePhone): re-add es-HN fix from #1983 (#2129)

The fix was accidentally removed in #1986",2023-01-22 22:24:44+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/dcb6cb6a3f0e0d3b1584c15514882acb59f1f9fe/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d8f3a24b048a9faf13d21819c510c281dee0219a/src/lib/isMobilePhone.js,"@@ -77,7 +77,7 @@ const phones = {
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
   'es-CU': /^(\+53|0053)?5\d{7}/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
-  'es-HN': /^(\+?504)?[9|8]\d{7}$/,
+  'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,
   'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
   'es-ES': /^(\+?34)?[6|7]\d{8}$/,
   'es-PE': /^(\+?51)?9\d{8}$/,
",80,"'es-HN': /^(\+?504)?[9|8]\d{7}$/,","'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/a571b3efc65df309828e0aca34d3835c6515371d,a571b3efc65df309828e0aca34d3835c6515371d,"fix(isDataURI): fix MIME types with underscores not getting matched  (#2122)

* test(isDataURI): add test case with an underscore in MIME type

preparation for fixing #2121

* fix(isDataURI): add underscore to RegExp

also match valid MIME types with an underscore in their name

fixes #2121",2023-01-22 22:26:14+03:00,isDataURI.js,https://github.com/chriso/validator.js/raw/d8f3a24b048a9faf13d21819c510c281dee0219a/src/lib/isDataURI.js,https://github.com/chriso/validator.js/raw/a571b3efc65df309828e0aca34d3835c6515371d/src/lib/isDataURI.js,"@@ -1,6 +1,6 @@
 import assertString from './util/assertString';
 
-const validMediaType = /^[a-z]+\/[a-z0-9\-\+\.]+$/i;
+const validMediaType = /^[a-z]+\/[a-z0-9\-\+\._]+$/i;
 
 const validAttribute = /^[a-z\-]+=[a-z0-9\-]+$/i;
 
",3,const validMediaType = /^[a-z]+\/[a-z0-9\-\+\.]+$/i;,const validMediaType = /^[a-z]+\/[a-z0-9\-\+\._]+$/i;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/44224d7d2f8fe9f686891fca11f19a412258a7c2,44224d7d2f8fe9f686891fca11f19a412258a7c2,"fix(isMobilePhone): fix el-GR validation - add missing ranges and correctly exclude certain ranges (#2112)

* fix(isMobilePhone): el-GR RegExp fixed

update the RegExp to correctly match (and exclude) number ranges as per  official ITU numbering plan:
https://web.archive.org/web/20221205170159/https://www.itu.int/dms_pub/itu-t/oth/02/02/T02020000550002PDFE.pdf

fixes #2111

* tests: update tests for fixed el-GR RegExp

belongs to #2111",2023-01-22 22:27:40+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/a571b3efc65df309828e0aca34d3835c6515371d/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/44224d7d2f8fe9f686891fca11f19a412258a7c2/src/lib/isMobilePhone.js,"@@ -31,7 +31,7 @@ const phones = {
   'de-CH': /^(\+41|0)([1-9])\d{1,9}$/,
   'de-LU': /^(\+352)?((6\d1)\d{6})$/,
   'dv-MV': /^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,
-  'el-GR': /^(\+?30|0)?(69\d{8})$/,
+  'el-GR': /^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,
   'el-CY': /^(\+?357?)?(9(9|6)\d{6})$/,
   'en-AI': /^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,
   'en-AU': /^(\+?61|0)4\d{8}$/,
",34,"'el-GR': /^(\+?30|0)?(69\d{8})$/,","'el-GR': /^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/7bef722a790b9a7709d7b2fd05afb9ce89f6f415,7bef722a790b9a7709d7b2fd05afb9ce89f6f415,"fix(isPostalCode): fix overly permissive BY regexp (#2134)

fixes #2133",2023-01-22 22:34:46+03:00,isPostalCode.js,https://github.com/chriso/validator.js/raw/8e004e0203f18b1724e40a110adbbdee23546fe2/src/lib/isPostalCode.js,https://github.com/chriso/validator.js/raw/7bef722a790b9a7709d7b2fd05afb9ce89f6f415/src/lib/isPostalCode.js,"@@ -15,7 +15,7 @@ const patterns = {
   BE: fourDigit,
   BG: fourDigit,
   BR: /^\d{5}-\d{3}$/,
-  BY: /2[1-4]{1}\d{4}$/,
+  BY: /^2[1-4]\d{4}$/,
   CA: /^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,
   CH: fourDigit,
   CN: /^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,
",18,"BY: /2[1-4]{1}\d{4}$/,","BY: /^2[1-4]\d{4}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d25559b7c8b655e9aec9124c1eaece5410162bc0,d25559b7c8b655e9aec9124c1eaece5410162bc0,"fix(isMobilePhone): fix wrong dv-MV mobile phone matching (issue #2101) (#2109)

* fix(isMobilePhone): fix invalid RegExp for dv-MV

The RegExp and corresponding tests were testing a wrong format.
Correct format can be found in the numbering plan:
https://web.archive.org/web/20220614004138/https://cam.gov.mv/docs/Numbering_plan.pdf

fixes issue #2101

* test(isMobilePhone): fix tests for dv-MV RegExp

associated with issue #2101",2023-01-29 20:38:25+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/f97e8d43de4a90f8f06611275b581fdbc5c26f99/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d25559b7c8b655e9aec9124c1eaece5410162bc0/src/lib/isMobilePhone.js,"@@ -30,7 +30,7 @@ const phones = {
   'de-AT': /^(\+43|0)\d{1,4}\d{3,12}$/,
   'de-CH': /^(\+41|0)([1-9])\d{1,9}$/,
   'de-LU': /^(\+352)?((6\d1)\d{6})$/,
-  'dv-MV': /^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,
+  'dv-MV': /^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,
   'el-GR': /^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,
   'el-CY': /^(\+?357?)?(9(9|6)\d{6})$/,
   'en-AI': /^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,
",33,"'dv-MV': /^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,","'dv-MV': /^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/d61322ca5e7f38a747e3228d121e78feea6c7df9,d61322ca5e7f38a747e3228d121e78feea6c7df9,"fix(isMobilePhone): fix 'ro-RO' matching invalid numbers (#2156)

fixes #2055",2023-01-29 20:47:13+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/c332e5cb2b3d7f4d6f9167d37a30617d9c640f3b/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/d61322ca5e7f38a747e3228d121e78feea6c7df9/src/lib/isMobilePhone.js,"@@ -131,7 +131,7 @@ const phones = {
   'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,
   'pt-PT': /^(\+?351)?9[1236]\d{7}$/,
   'pt-AO': /^(\+244)\d{9}$/,
-  'ro-RO': /^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,
+  'ro-RO': /^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,
   'ru-RU': /^(\+?7|8)?9\d{9}$/,
   'si-LK': /^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,
   'sl-SI': /^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,
",134,"'ro-RO': /^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,","'ro-RO': /^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/f9d49fc962816fc194a7f3e15ac1b2704e106bd9,f9d49fc962816fc194a7f3e15ac1b2704e106bd9,"fix(isMobilePhone): fix 'ms-MY' regexp (#2155)

refactored the regexp:
---
* removed meaningless {1} quantifiers
* simplified regexp a bit (removing useless escape character)
* fixed the bug that would cause it to match invalid numbers

tests
---
* added tests for invalid numbers

fixes #1066",2023-01-29 20:48:06+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/d61322ca5e7f38a747e3228d121e78feea6c7df9/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/f9d49fc962816fc194a7f3e15ac1b2704e106bd9/src/lib/isMobilePhone.js,"@@ -119,7 +119,7 @@ const phones = {
   'mg-MG': /^((\+?261|0)(2|3)\d)?\d{7}$/,
   'mn-MN': /^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,
   'my-MM': /^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,
-  'ms-MY': /^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,
+  'ms-MY': /^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,
   'mz-MZ': /^(\+?258)?8[234567]\d{7}$/,
   'nb-NO': /^(\+?47)?[49]\d{7}$/,
   'ne-NP': /^(\+?977)?9[78]\d{8}$/,
",122,"'ms-MY': /^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,","'ms-MY': /^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c81df18fc740a4bdfaf0d5203d2c95f01d49fe05,c81df18fc740a4bdfaf0d5203d2c95f01d49fe05,"fix(isMobilePhone): Fix en-BM matching invalid numbers due to missing end-of-string anchor (#2116)

fixes #2115
related to #2115",2023-01-29 20:52:28+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/f9d49fc962816fc194a7f3e15ac1b2704e106bd9/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/c81df18fc740a4bdfaf0d5203d2c95f01d49fe05/src/lib/isMobilePhone.js,"@@ -36,7 +36,7 @@ const phones = {
   'en-AI': /^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,
   'en-AU': /^(\+?61|0)4\d{8}$/,
   'en-AG': /^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,
-  'en-BM': /^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,
+  'en-BM': /^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,
   'en-BS': /^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,
   'en-GB': /^(\+?44|0)7\d{9}$/,
   'en-GG': /^(\+?44|0)1481\d{6}$/,
",39,"'en-BM': /^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,","'en-BM': /^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/c6f21969f89b3bc2f892369d9b154979f4631528,c6f21969f89b3bc2f892369d9b154979f4631528,"fix(isFloat): fix comma passing as float (#2174)

Co-authored-by: Frederike Ramin <frederike.ramin@digitalservice.bund.de>",2023-02-02 06:36:13+03:00,isFloat.js,https://github.com/chriso/validator.js/raw/58f4b13b2dfe9d114251f399856517f9d7d83f63/src/lib/isFloat.js,https://github.com/chriso/validator.js/raw/c6f21969f89b3bc2f892369d9b154979f4631528/src/lib/isFloat.js,"@@ -5,7 +5,7 @@ export default function isFloat(str, options) {
   assertString(str);
   options = options || {};
   const float = new RegExp(`^(?:[-+])?(?:[0-9]+)?(?:\\${options.locale ? decimal[options.locale] : '.'}[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$`);
-  if (str === '' || str === '.' || str === '-' || str === '+') {
+  if (str === '' || str === '.' || str === ',' || str === '-' || str === '+') {
     return false;
   }
   const value = parseFloat(str.replace(',', '.'));
",8,if (str === '' || str === '.' || str === '-' || str === '+') {,"if (str === '' || str === '.' || str === ',' || str === '-' || str === '+') {"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/cb919714d4904892bcf331017989f1510a94dfb7,cb919714d4904892bcf331017989f1510a94dfb7,"fix(isMobilePhone): fixed es-CU matching all numbers that start with 5 longer than 8 digits (#2197)

Co-authored-by: Kevin Laframboise <kevin@wisesystems.com>

fixes #2196",2023-03-07 07:46:08+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/43803c08d23b9cf316f2e804445b643b52920121/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/cb919714d4904892bcf331017989f1510a94dfb7/src/lib/isMobilePhone.js,"@@ -76,7 +76,7 @@ const phones = {
   'es-CO': /^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,
   'es-CL': /^(\+?56|0)[2-9]\d{1}\d{7}$/,
   'es-CR': /^(\+506)?[2-8]\d{7}$/,
-  'es-CU': /^(\+53|0053)?5\d{7}/,
+  'es-CU': /^(\+53|0053)?5\d{7}$/,
   'es-DO': /^(\+?1)?8[024]9\d{7}$/,
   'es-HN': /^(\+?504)?[9|8|3|2]\d{7}$/,
   'es-EC': /^(\+?593|0)([2-7]|9[2-9])\d{7}$/,
",79,"'es-CU': /^(\+53|0053)?5\d{7}/,","'es-CU': /^(\+53|0053)?5\d{7}$/,"
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/63b1e4dc16ad77489745d2b2309431bce16dab60,63b1e4dc16ad77489745d2b2309431bce16dab60,"fix(isEmail) do not allow non-breaking space in user part (#2237)

Co-authored-by: jpoole <jpoole@maxmind.com>

fixes #2218",2023-06-26 06:42:28+03:00,isEmail.js,https://github.com/chriso/validator.js/raw/4f639099e29f3f23b9aac05519f3acadb3df3e08/src/lib/isEmail.js,https://github.com/chriso/validator.js/raw/63b1e4dc16ad77489745d2b2309431bce16dab60/src/lib/isEmail.js,"@@ -22,7 +22,7 @@ const splitNameAddress = /^([^\x00-\x1F\x7F-\x9F\cX]+)</i;
 const emailUserPart = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i;
 const gmailUserPart = /^[a-z\d]+$/;
 const quotedEmailUser = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i;
-const emailUserUtf8Part = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;
+const emailUserUtf8Part = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;
 const quotedEmailUserUtf8 = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;
 const defaultMaxEmailLength = 254;
 /* eslint-enable max-len */
",25,const emailUserUtf8Part = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;,const emailUserUtf8Part = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/3507d272b09e67e8762397450f8b84378ea64bb1,3507d272b09e67e8762397450f8b84378ea64bb1,"fix(isJWT): fix validation issue in isJWT function (#2217)

* Update isJWT.js

fix: Ensure isJWT returns false for 2 part invalid JWT tokens

Previously, the isJWT function would return true for 2 part invalid JWT tokens. This has been fixed by updating the isJWT function to return false for such tokens.

* Update validators.test.js

Added test case for validating JSON web tokens (JWT)

* Update validators.test.js

Removed trailing spaces

* Update validators.test.js

Refactor tests in isjwt and remove redundant test case

* Update validators.test.js

Removed redundant test in isJWT",2023-06-26 06:47:58+03:00,isJWT.js,https://github.com/chriso/validator.js/raw/63b1e4dc16ad77489745d2b2309431bce16dab60/src/lib/isJWT.js,https://github.com/chriso/validator.js/raw/3507d272b09e67e8762397450f8b84378ea64bb1/src/lib/isJWT.js,"@@ -7,7 +7,7 @@ export default function isJWT(str) {
   const dotSplit = str.split('.');
   const len = dotSplit.length;
 
-  if (len > 3 || len < 2) {
+  if (len !== 3) {
     return false;
   }
 
",10,if (len > 3 || len < 2) {,if (len !== 3) {
validator.js,https://github.com/chriso/validator.js,https://github.com/chriso/validator.js/commit/2f551c699c509e744885fe2b228785532c7a7ee9,2f551c699c509e744885fe2b228785532c7a7ee9,"fix(isMobilePhone): fixed pl-PL matching numbers that start with 45 (#2202)

Co-authored-by: Mariusz Wroński <mwronski@trans.eu>",2023-08-03 16:28:41+03:00,isMobilePhone.js,https://github.com/chriso/validator.js/raw/ad41ebab5a9185ca13ca8e3725aa56782c8dac9a/src/lib/isMobilePhone.js,https://github.com/chriso/validator.js/raw/2f551c699c509e744885fe2b228785532c7a7ee9/src/lib/isMobilePhone.js,"@@ -131,7 +131,7 @@ const phones = {
   'nl-NL': /^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,
   'nl-AW': /^(\+)?297(56|59|64|73|74|99)\d{5}$/,
   'nn-NO': /^(\+?47)?[49]\d{7}$/,
-  'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,
+  'pl-PL': /^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,
   'pt-BR': /^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,
   'pt-PT': /^(\+?351)?9[1236]\d{7}$/,
   'pt-AO': /^(\+244)\d{9}$/,
",134,"'pl-PL': /^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,","'pl-PL': /^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/10b2ad05a65772a07a94c4c9027e4f24e89b7e64,10b2ad05a65772a07a94c4c9027e4f24e89b7e64,fix sync calling of callbacks in waterfall,2010-05-13 20:22:15+01:00,test-async.js,https://github.com/caolan/async/raw/39e0958ff98f3937401a66eafd9fd8fabdaab443/test/test-async.js,https://github.com/caolan/async/raw/10b2ad05a65772a07a94c4c9027e4f24e89b7e64/test/test-async.js,"@@ -69,7 +69,7 @@ exports.testWaterfall = function(test){
             test.equals(arg1, 'one');
             test.equals(arg2, 'two');
             test.equals(arg3, 'three');
-            process.nextTick(function(){callback('four');});
+            callback('four');
         },
         function(arg4, callback){
             call_order.push('fn4');
",72,process.nextTick(function(){callback('four');});,callback('four');
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/293fecf8d6827989a78565671a3f7764a662a685,293fecf8d6827989a78565671a3f7764a662a685,Fixed bug when listeners were not called in parallel.,2011-04-29 15:30:47+03:00,async.js,https://github.com/caolan/async/raw/570cf8e16ae6775a10c00302d5b36a7f2d56bf9d/lib/async.js,https://github.com/caolan/async/raw/293fecf8d6827989a78565671a3f7764a662a685/lib/async.js,"@@ -339,7 +339,7 @@
             }
         };
         var taskComplete = function () {
-            _forEach(listeners, function (fn) {
+            _forEach(listeners.slice(0), function (fn) {
                 fn();
             });
         };
",342,"_forEach(listeners, function (fn) {","_forEach(listeners.slice(0), function (fn) {"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/010c3a530cd1a59305081610e26ea4061a1eb82e,010c3a530cd1a59305081610e26ea4061a1eb82e,Fix bug in auto. Results wern't being passed to functions that were immediately ready to run.,2011-07-19 14:53:05-07:00,async.js,https://github.com/caolan/async/raw/c66881d411fe3797aca1b93eec17043496b568eb/lib/async.js,https://github.com/caolan/async/raw/010c3a530cd1a59305081610e26ea4061a1eb82e/lib/async.js,"@@ -375,7 +375,7 @@
                 }, true);
             };
             if (ready()) {
-                task[task.length - 1](taskCallback);
+                task[task.length - 1](taskCallback, results);
             }
             else {
                 var listener = function () {
",378,task[task.length - 1](taskCallback);,"task[task.length - 1](taskCallback, results);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/6bcbcc250fe95366b6347e35f150fb20e1e19aca,6bcbcc250fe95366b6347e35f150fb20e1e19aca,fixed noConflict test,2012-02-12 14:51:58+01:00,test-async.js,https://github.com/caolan/async/raw/f7fec588ee9d53c22e2009a7e38e386c7d5b7ce4/test/test-async.js,https://github.com/caolan/async/raw/6bcbcc250fe95366b6347e35f150fb20e1e19aca/test/test-async.js,"@@ -1072,7 +1072,7 @@ exports['noConflict - node only'] = function(test){
         var filename = __dirname + '/../lib/async.js';
         fs.readFile(filename, function(err, content){
             if(err) return test.done();
-            var Script = process.binding('evals').Script;
+            var Script = process.binding('evals').NodeScript;
 
             var s = new Script(content, filename);
             var s2 = new Script(
",1075,var Script = process.binding('evals').Script;,var Script = process.binding('evals').NodeScript;
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/b4e54272064471815d42e80cc91c2d124320d878,b4e54272064471815d42e80cc91c2d124320d878,fix issue #98,2012-04-26 16:38:20+02:00,async.js,https://github.com/caolan/async/raw/035c5c81938d066fe7b3792cf9eba9f9f8c19065/lib/async.js,https://github.com/caolan/async/raw/b4e54272064471815d42e80cc91c2d124320d878/lib/async.js,"@@ -113,7 +113,7 @@
                 else {
                     completed += 1;
                     if (completed === arr.length) {
-                        callback();
+                        callback(null);
                     }
                     else {
                         iterate();
",116,callback();,callback(null);
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/639fb496f201c32b182a50f75db65d58348e4045,639fb496f201c32b182a50f75db65d58348e4045,moar fixes for #98,2012-04-26 16:40:57+02:00,async.js,https://github.com/caolan/async/raw/b4e54272064471815d42e80cc91c2d124320d878/lib/async.js,https://github.com/caolan/async/raw/639fb496f201c32b182a50f75db65d58348e4045/lib/async.js,"@@ -91,7 +91,7 @@
                 else {
                     completed += 1;
                     if (completed === arr.length) {
-                        callback();
+                        callback(null);
                     }
                 }
             });
",94,callback();,callback(null);
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/08e48cfdfcc2d654199a9eb9092c46d962801771,08e48cfdfcc2d654199a9eb9092c46d962801771,"Fix for cargo on IE8

IE8 is strict about having a second argument to Array.splice; without the second argument, it silently fails, causing the worker to not get any work, and the cargo to spin infinitely.",2014-03-27 12:09:56-07:00,async.js,https://github.com/caolan/async/raw/2d5bc3f5a6db2d699646e59a551355a21cd98637/lib/async.js,https://github.com/caolan/async/raw/08e48cfdfcc2d654199a9eb9092c46d962801771/lib/async.js,"@@ -775,7 +775,7 @@
 
                 var ts = typeof payload === 'number'
                             ? tasks.splice(0, payload)
-                            : tasks.splice(0);
+                            : tasks.splice(0, tasks.length);
 
                 var ds = _map(ts, function (task) {
                     return task.data;
",778,: tasks.splice(0);,": tasks.splice(0, tasks.length);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/fb8a0ed14fedd36e3e2e47b4f950cd5259f02f81,fb8a0ed14fedd36e3e2e47b4f950cd5259f02f81,Bugfix: sending saturated event should respect current concurrency.,2014-03-28 16:35:57+00:00,async.js,https://github.com/caolan/async/raw/34d643fd6051f4b02cea6724ee0fcf711632dd77/lib/async.js,https://github.com/caolan/async/raw/fb8a0ed14fedd36e3e2e47b4f950cd5259f02f81/lib/async.js,"@@ -709,7 +709,7 @@
                 q.tasks.push(item);
               }
 
-              if (q.saturated && q.tasks.length === concurrency) {
+              if (q.saturated && q.tasks.length === q.concurrency) {
                   q.saturated();
               }
               async.setImmediate(q.process);
",712,if (q.saturated && q.tasks.length === concurrency) {,if (q.saturated && q.tasks.length === q.concurrency) {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/10c1d677b2727c88dca00c2a74440f7ad3adf2e2,10c1d677b2727c88dca00c2a74440f7ad3adf2e2,ensure proper conditions for queue.drain().  fixes #668,2015-05-31 19:27:05-07:00,async.js,https://github.com/caolan/async/raw/4547ee9a1aa7db2cf8494b19448e7f76a843ea3f/lib/async.js,https://github.com/caolan/async/raw/10c1d677b2727c88dca00c2a74440f7ad3adf2e2/lib/async.js,"@@ -811,7 +811,7 @@
             if (!_isArray(data)) {
                 data = [data];
             }
-            if(data.length === 0) {
+            if(data.length === 0 && q.idle()) {
                 // call drain immediately if there are no tasks
                 return async.setImmediate(function() {
                    q.drain();
",814,if(data.length === 0) {,if(data.length === 0 && q.idle()) {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/02b715cc237c4080d0f0c607e294d0ad76bc3a11,02b715cc237c4080d0f0c607e294d0ad76bc3a11,fix tests in node 0.12,2015-06-02 00:42:19+00:00,async.js,https://github.com/caolan/async/raw/b25793cd0f3e2f08e4a2eba2eac79a693316d7be/lib/async.js,https://github.com/caolan/async/raw/02b715cc237c4080d0f0c607e294d0ad76bc3a11/lib/async.js,"@@ -886,7 +886,7 @@
                         }
                         workers += 1;
                         var cb = only_once(_next(q, tasks));
-                        async.setImmediate(worker(data, cb));
+                        worker(data, cb);
                     }
                 }
             },
",889,"async.setImmediate(worker(data, cb));","worker(data, cb);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/63948a81dd6196227af3f382575982f89b5cf7d8,63948a81dd6196227af3f382575982f89b5cf7d8,fix(each): each with empty array that has other property never calls final callback,2015-06-02 20:45:44+02:00,async.js,https://github.com/caolan/async/raw/ba7c7ba719d48c910879998be0900f5d210ce746/lib/async.js,https://github.com/caolan/async/raw/63948a81dd6196227af3f382575982f89b5cf7d8/lib/async.js,"@@ -221,7 +221,7 @@
     async.eachOf = function (object, iterator, callback) {
         callback = _once(callback || noop);
         object = object || [];
-        var size = object.length || _keys(object).length;
+        var size = _isArrayLike(object) ? object.length : _keys(object).length;
         var completed = 0;
         if (!size) {
             return callback(null);
",224,var size = object.length || _keys(object).length;,var size = _isArrayLike(object) ? object.length : _keys(object).length;
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/130d395ae38a1b780b58aabe91eb473392074aef,130d395ae38a1b780b58aabe91eb473392074aef,Fix linting issue,2015-07-20 00:35:09-04:00,test-async.js,https://github.com/caolan/async/raw/d06ff43f67e523e31b8191b0a0f429bd9a9d3271/test/test-async.js,https://github.com/caolan/async/raw/130d395ae38a1b780b58aabe91eb473392074aef/test/test-async.js,"@@ -2485,7 +2485,7 @@ exports['sortBy error'] = function(test){
         async.setImmediate(function(){
             callback(error);
         });
-    }, function(err, result){
+    }, function(err){
         test.equal(err, error);
         test.done();
     });
",2488,"}, function(err, result){","}, function(err){"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/5a0aa3eeffdb44234d6a1186d62f754ceba26b01,5a0aa3eeffdb44234d6a1186d62f754ceba26b01,"added not about mocha migration, fixed linting",2015-07-19 23:24:57-07:00,is_browser.js,https://github.com/caolan/async/raw/2dae7878ef485d40bd14eef4b5be70a246633659/mocha_test/support/is_browser.js,https://github.com/caolan/async/raw/5a0aa3eeffdb44234d6a1186d62f754ceba26b01/mocha_test/support/is_browser.js,"@@ -1,4 +1,4 @@
 module.exports = function() {
     return (typeof process === ""undefined"") ||
         (process + """" !== ""[object process]""); // browserify
-}
+};
",4,},};
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/1f97538586e09ce76168fa1ceb04288fd958b0a0,1f97538586e09ce76168fa1ceb04288fd958b0a0,Fix mocha_test lint warnings,2015-07-26 21:35:53-04:00,compose.js,https://github.com/caolan/async/raw/f629c02300ff7750f717c670cbc054339da11fc3/mocha_test/compose.js,https://github.com/caolan/async/raw/1f97538586e09ce76168fa1ceb04288fd958b0a0/mocha_test/compose.js,"@@ -31,7 +31,7 @@ describe('compose', function(){
     context('a function errors', function(){
         it('yields the error and does not call later functions', function(done){
             var add1called = false;
-            var mul3error = new Error('mul3 error')
+            var mul3error = new Error('mul3 error');
             var add2 = function (n, cb) {
                 setTimeout(function () {
                     cb(null, n + 2);
",34,var mul3error = new Error('mul3 error'),var mul3error = new Error('mul3 error');
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/3803e0892e6ea9c0372ccdd7467d703922c0cf50,3803e0892e6ea9c0372ccdd7467d703922c0cf50,"Fixed incorrect handling of arguments in ""auto"" in case of empty callback",2015-11-30 10:22:05-02:00,async.js,https://github.com/caolan/async/raw/a92b163ec46e36eef828c620543aa88e95c48b1f/lib/async.js,https://github.com/caolan/async/raw/3803e0892e6ea9c0372ccdd7467d703922c0cf50/lib/async.js,"@@ -510,7 +510,7 @@
     };
 
     async.auto = function (tasks, concurrency, callback) {
-        if (!callback) {
+        if (typeof arguments[1] === 'function') {
             // concurrency is optional, shift the args.
             callback = concurrency;
             concurrency = null;
",513,if (!callback) {,if (typeof arguments[1] === 'function') {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/1448f24a5e7d5c4b9ff56ef573d35291511c2a71,1448f24a5e7d5c4b9ff56ef573d35291511c2a71,Fix implementations (test green lights),2015-12-29 16:48:48-05:00,doWhilst.js,https://github.com/caolan/async/raw/18e61d4f07f48604601f2effdbe2a7e188d14d4a/lib/doWhilst.js,https://github.com/caolan/async/raw/1448f24a5e7d5c4b9ff56ef573d35291511c2a71/lib/doWhilst.js,"@@ -7,4 +7,4 @@ export default function doWhilst(iterator, test, cb) {
     return whilst(function() {
         return ++calls <= 1 || test.apply(this, arguments);
     }, iterator, cb);
-};
+}
",10,};,}
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/1448f24a5e7d5c4b9ff56ef573d35291511c2a71,1448f24a5e7d5c4b9ff56ef573d35291511c2a71,Fix implementations (test green lights),2015-12-29 16:48:48-05:00,timesLimit.js,https://github.com/caolan/async/raw/18e61d4f07f48604601f2effdbe2a7e188d14d4a/lib/timesLimit.js,https://github.com/caolan/async/raw/1448f24a5e7d5c4b9ff56ef573d35291511c2a71/lib/timesLimit.js,"@@ -5,4 +5,4 @@ import range from 'lodash/utility/range';
 
 export default function timeLimit(count, limit, iterator, cb) {
     return mapLimit(range(0, count), limit, iterator, cb);
-};
+}
",8,};,}
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/1448f24a5e7d5c4b9ff56ef573d35291511c2a71,1448f24a5e7d5c4b9ff56ef573d35291511c2a71,Fix implementations (test green lights),2015-12-29 16:48:48-05:00,unmemoize.js,https://github.com/caolan/async/raw/18e61d4f07f48604601f2effdbe2a7e188d14d4a/lib/unmemoize.js,https://github.com/caolan/async/raw/1448f24a5e7d5c4b9ff56ef573d35291511c2a71/lib/unmemoize.js,"@@ -4,4 +4,4 @@ export default  function unmemoize(fn) {
     return function () {
         return (fn.unmemoized || fn).apply(null, arguments);
     };
-};
+}
",7,};,}
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/5d2f19b360b7ec74db659ae571d730c1acc58b76,5d2f19b360b7ec74db659ae571d730c1acc58b76,fix lint error,2016-04-05 13:26:34-07:00,detect.js,https://github.com/caolan/async/raw/ae248812d8e87afd0a50661b6d2e82060d22f6cb/mocha_test/detect.js,https://github.com/caolan/async/raw/5d2f19b360b7ec74db659ae571d730c1acc58b76/mocha_test/detect.js,"@@ -83,7 +83,7 @@ describe(""detect"", function () {
         setTimeout(function () {
             expect(calls).to.eql([1, 2, 3]);
             done();
-        }, 10)
+        }, 10);
     });
 
     it('detectSeries - ensure stop', function (done) {
",86,"}, 10)","}, 10);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/5d2f19b360b7ec74db659ae571d730c1acc58b76,5d2f19b360b7ec74db659ae571d730c1acc58b76,fix lint error,2016-04-05 13:26:34-07:00,some.js,https://github.com/caolan/async/raw/ae248812d8e87afd0a50661b6d2e82060d22f6cb/mocha_test/some.js,https://github.com/caolan/async/raw/5d2f19b360b7ec74db659ae571d730c1acc58b76/mocha_test/some.js,"@@ -60,7 +60,7 @@ describe(""some"", function () {
         setTimeout(function () {
             expect(calls).to.eql([1, 2, 3]);
             done();
-        }, 10)
+        }, 10);
     });
 
     it('someLimit true', function(done){
",63,"}, 10)","}, 10);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,applyEachSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/applyEachSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/applyEachSeries.js,"@@ -9,7 +9,7 @@ import mapSeries from './mapSeries';
  * @name applyEachSeries
  * @static
  * @memberOf async
- * @see `async.applyEach`
+ * @see async.applyEach
  * @category Control Flow
  * @param {Array|Object} fns - A collection of asynchronous functions to all
  * call with the same arguments
",12,* @see `async.applyEach`,* @see async.applyEach
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,concatSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/concatSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/concatSeries.js,"@@ -9,7 +9,7 @@ import doSeries from './internal/doSeries';
  * @name concatSeries
  * @static
  * @memberOf async
- * @see `async.concat`
+ * @see async.concat
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
  * @param {Function} iteratee - A function to apply to each item in `coll`.
",12,* @see `async.concat`,* @see async.concat
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,detectLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/detectLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/detectLimit.js,"@@ -13,7 +13,7 @@ import findGetResult from './internal/findGetResult';
  * @name detectLimit
  * @static
  * @memberOf async
- * @see `async.detect`
+ * @see async.detect
  * @alias findLimit
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",16,* @see `async.detect`,* @see async.detect
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,detectSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/detectSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/detectSeries.js,"@@ -12,7 +12,7 @@ import findGetResult from './internal/findGetResult';
  * @name detectSeries
  * @static
  * @memberOf async
- * @see `async.detect`
+ * @see async.detect
  * @alias findSeries
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",15,* @see `async.detect`,* @see async.detect
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,eachLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/eachLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/eachLimit.js,"@@ -9,7 +9,7 @@ import withoutIndex from './internal/withoutIndex';
  * @name eachLimit
  * @static
  * @memberOf async
- * @see `async.each`
+ * @see async.each
  * @alias forEachLimit
  * @category Collection
  * @param {Array|Object} coll - A colleciton to iterate over.
",12,* @see `async.each`,* @see async.each
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,eachOfLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/eachOfLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/eachOfLimit.js,"@@ -9,7 +9,7 @@ import _eachOfLimit from './internal/eachOfLimit';
  * @name eachOfLimit
  * @static
  * @memberOf async
- * @see `async.eachOf`
+ * @see async.eachOf
  * @alias forEachOfLimit
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",12,* @see `async.eachOf`,* @see async.eachOf
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,eachOfSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/eachOfSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/eachOfSeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name eachOfSeries
  * @static
  * @memberOf async
- * @see `async.eachOf`
+ * @see async.eachOf
  * @alias forEachOfSeries
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",12,* @see `async.eachOf`,* @see async.eachOf
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,eachSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/eachSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/eachSeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name eachSeries
  * @static
  * @memberOf async
- * @see `async.each`
+ * @see async.each
  * @alias forEachSeries
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",12,* @see `async.each`,* @see async.each
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,everyLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/everyLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/everyLimit.js,"@@ -10,7 +10,7 @@ import notId from './internal/notId';
  * @name everyLimit
  * @static
  * @memberOf async
- * @see `async.every`
+ * @see async.every
  * @alias allLimit
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",13,* @see `async.every`,* @see async.every
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,everySeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/everySeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/everySeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name everySeries
  * @static
  * @memberOf async
- * @see `async.every`
+ * @see async.every
  * @alias allSeries
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",12,* @see `async.every`,* @see async.every
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,filterLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/filterLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/filterLimit.js,"@@ -10,7 +10,7 @@ import doParallelLimit from './internal/doParallelLimit';
  * @name filterLimit
  * @static
  * @memberOf async
- * @see `async.filter`
+ * @see async.filter
  * @alias selectLimit
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",13,* @see `async.filter`,* @see async.filter
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,filterSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/filterSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/filterSeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name filterSeries
  * @static
  * @memberOf async
- * @see `async.filter`
+ * @see async.filter
  * @alias selectSeries
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",12,* @see `async.filter`,* @see async.filter
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,mapLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/mapLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/mapLimit.js,"@@ -9,7 +9,7 @@ import map from './internal/map';
  * @name mapLimit
  * @static
  * @memberOf async
- * @see `async.map`
+ * @see async.map
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
  * @param {number} limit - The maximum number of async operations at a time.
",12,* @see `async.map`,* @see async.map
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,mapSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/mapSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/mapSeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name mapSeries
  * @static
  * @memberOf async
- * @see `async.map`
+ * @see async.map
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
  * @param {Function} iteratee - A function to apply to each item in `coll`.
",12,* @see `async.map`,* @see async.map
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,parallel.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/parallel.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/parallel.js,"@@ -19,7 +19,7 @@ import doLimit from './internal/doLimit';
  * It is also possible to use an object instead of an array. Each property will
  * be run as a function and the results will be passed to the final `callback`
  * as an object instead of an array. This can be a more readable way of handling
- * results from [`parallel`](#parallel).
+ * results from {@link async.parallel}.
  *
  * @name parallel
  * @static
",22,* results from [`parallel`](#parallel).,* results from {@link async.parallel}.
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,parallelLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/parallelLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/parallelLimit.js,"@@ -10,7 +10,7 @@ import parallel from './internal/parallel';
  * @name parallel
  * @static
  * @memberOf async
- * @see `async.parallel`
+ * @see async.parallel
  * @category Control Flow
  * @param {Array|Collection} tasks - A collection containing functions to run.
  * Each function is passed a `callback(err, result)` which it must call on
",13,* @see `async.parallel`,* @see async.parallel
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,reduceRight.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/reduceRight.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/reduceRight.js,"@@ -10,7 +10,7 @@ var slice = Array.prototype.slice;
  * @name reduceRight
  * @static
  * @memberOf async
- * @see `async.reduce`
+ * @see async.reduce
  * @alias foldr
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",13,* @see `async.reduce`,* @see async.reduce
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,reflectAll.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/reflectAll.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/reflectAll.js,"@@ -8,7 +8,7 @@ import reflect from './reflect';
  * @name reflectAll
  * @static
  * @memberOf async
- * @see `async.reflect`
+ * @see async.reflect
  * @category Util
  * @param {Array} tasks - The array of functions to wrap in `async.reflect`.
  * @returns {Array} Returns an array of functions, each function wrapped in
",11,* @see `async.reflect`,* @see async.reflect
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,reject.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/reject.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/reject.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name reject
  * @static
  * @memberOf async
- * @see `async.filter`
+ * @see async.filter
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
  * @param {Function} iteratee - A truth test to apply to each item in `coll`.
",12,* @see `async.filter`,* @see async.filter
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,rejectLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/rejectLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/rejectLimit.js,"@@ -10,7 +10,7 @@ import doParallelLimit from './internal/doParallelLimit';
  * @name rejectLimit
  * @static
  * @memberOf async
- * @see `async.reject`
+ * @see async.reject
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
  * @param {number} limit - The maximum number of async operations at a time.
",13,* @see `async.reject`,* @see async.reject
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,rejectSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/rejectSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/rejectSeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name rejectSeries
  * @static
  * @memberOf async
- * @see `async.reject`
+ * @see async.reject
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
  * @param {Function} iteratee - A truth test to apply to each item in `coll`.
",12,* @see `async.reject`,* @see async.reject
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,retryable.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/retryable.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/retryable.js,"@@ -8,7 +8,7 @@ import initialParams from './internal/initialParams';
  * @name retryable
  * @static
  * @memberOf async
- * @see `async.retry`
+ * @see async.retry
  * @category Control Flow
  * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - optional
  * options, exactly the same as from `retry`
",11,* @see `async.retry`,* @see async.retry
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,series.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/series.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/series.js,"@@ -13,7 +13,7 @@ import eachOfSeries from './eachOfSeries';
  * It is also possible to use an object instead of an array. Each property will
  * be run as a function, and the results will be passed to the final `callback`
  * as an object instead of an array. This can be a more readable way of handling
- *  results from [`series`](#series).
+ *  results from {@link async.series}.
  *
  * **Note** that while many implementations preserve the order of object
  * properties, the [ECMAScript Language Specification](http://www.ecma-international.org/ecma-262/5.1/#sec-8.6)
",16,*  results from [`series`](#series).,*  results from {@link async.series}.
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,someLimit.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/someLimit.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/someLimit.js,"@@ -10,7 +10,7 @@ import identity from 'lodash/identity';
  * @name someLimit
  * @static
  * @memberOf async
- * @see `async.some`
+ * @see async.some
  * @alias anyLimit
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",13,* @see `async.some`,* @see async.some
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,ec9f81adfda9ec9681b3f33f24d3c2e917b4b908,Fix doc linking (see #1135),2016-04-29 15:26:25-04:00,someSeries.js,https://github.com/caolan/async/raw/a9636c00e269c1bf2f3def12cba36563e7658201/lib/someSeries.js,https://github.com/caolan/async/raw/ec9f81adfda9ec9681b3f33f24d3c2e917b4b908/lib/someSeries.js,"@@ -9,7 +9,7 @@ import doLimit from './internal/doLimit';
  * @name someSeries
  * @static
  * @memberOf async
- * @see `async.some`
+ * @see async.some
  * @alias anySeries
  * @category Collection
  * @param {Array|Object} coll - A collection to iterate over.
",12,* @see `async.some`,* @see async.some
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/96eab09439d4c2e9853909f205cff188c994cd0f,96eab09439d4c2e9853909f205cff188c994cd0f,fix lint errors,2016-05-09 13:49:28-07:00,auto.js,https://github.com/caolan/async/raw/e235125fc58fb2b04322c6b0d2b06158da4919b3/mocha_test/auto.js,https://github.com/caolan/async/raw/96eab09439d4c2e9853909f205cff188c994cd0f/mocha_test/auto.js,"@@ -375,7 +375,7 @@ describe('auto', function () {
                 expect(results.a).to.equal(1);
                 cb();
             }]
-        }, done)
+        }, done);
     });
 
     it(""should avoid unncecessary deferrals"", function (done) {
",378,"}, done)","}, done);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/96eab09439d4c2e9853909f205cff188c994cd0f,96eab09439d4c2e9853909f205cff188c994cd0f,fix lint errors,2016-05-09 13:49:28-07:00,autoInject.js,https://github.com/caolan/async/raw/e235125fc58fb2b04322c6b0d2b06158da4919b3/mocha_test/autoInject.js,https://github.com/caolan/async/raw/96eab09439d4c2e9853909f205cff188c994cd0f/mocha_test/autoInject.js,"@@ -83,7 +83,7 @@ describe('autoInject', function () {
                 expect(a).to.equal(1);
                 cb();
             }]
-        }, done)
+        }, done);
     });
 
 });
",86,"}, done)","}, done);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/428a3004417c1c456dceecc1ba1c68afe24122fc,428a3004417c1c456dceecc1ba1c68afe24122fc,fix new lint errors,2016-06-07 18:32:02-07:00,reflect.js,https://github.com/caolan/async/raw/6932085d7ca452e8c081ea709d8994fcb0246e27/lib/reflect.js,https://github.com/caolan/async/raw/428a3004417c1c456dceecc1ba1c68afe24122fc/lib/reflect.js,"@@ -11,7 +11,7 @@ import rest from 'lodash/rest';
  * @static
  * @memberOf async
  * @category Util
- * @param {Function} function - The function you want to wrap
+ * @param {Function} fn - The function you want to wrap
  * @returns {Function} - A function that always passes null to it's callback as
  * the error. The second argument to the callback will be an `object` with
  * either an `error` or a `value` property.
",14,* @param {Function} function - The function you want to wrap,* @param {Function} fn - The function you want to wrap
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/428a3004417c1c456dceecc1ba1c68afe24122fc,428a3004417c1c456dceecc1ba1c68afe24122fc,fix new lint errors,2016-06-07 18:32:02-07:00,timeout.js,https://github.com/caolan/async/raw/6932085d7ca452e8c081ea709d8994fcb0246e27/lib/timeout.js,https://github.com/caolan/async/raw/428a3004417c1c456dceecc1ba1c68afe24122fc/lib/timeout.js,"@@ -9,7 +9,7 @@ import initialParams from './internal/initialParams';
  * @static
  * @memberOf async
  * @category Util
- * @param {Function} function - The asynchronous function you want to set the
+ * @param {Function} asyncFn - The asynchronous function you want to set the
  * time limit.
  * @param {number} miliseconds - The specified time limit.
  * @param {*} [info] - Any variable you want attached (`string`, `object`, etc)
",12,* @param {Function} function - The asynchronous function you want to set the,* @param {Function} asyncFn - The asynchronous function you want to set the
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/428a3004417c1c456dceecc1ba1c68afe24122fc,428a3004417c1c456dceecc1ba1c68afe24122fc,fix new lint errors,2016-06-07 18:32:02-07:00,memoize.js,https://github.com/caolan/async/raw/6932085d7ca452e8c081ea709d8994fcb0246e27/mocha_test/memoize.js,https://github.com/caolan/async/raw/428a3004417c1c456dceecc1ba1c68afe24122fc/mocha_test/memoize.js,"@@ -153,7 +153,7 @@ describe(""memoize"", function() {
 
     it('manually added memo value', function(done) {
         var fn = async.memoize(function() {
-            test(false, ""Function should never be called"");
+            throw new Error(""Function should never be called"");
         });
         fn.memo.foo = [""bar""];
         fn(""foo"", function(val) {
",156,"test(false, ""Function should never be called"");","throw new Error(""Function should never be called"");"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/066c3f193b36e8430c23762889306b9d6e0adf5c,066c3f193b36e8430c23762889306b9d6e0adf5c,Fixed callback being able to be called twice in asyncify,2016-06-22 18:24:00-07:00,asyncify.js,https://github.com/caolan/async/raw/1706048929a1882c0ee7391065616b15dd9fd621/lib/asyncify.js,https://github.com/caolan/async/raw/066c3f193b36e8430c23762889306b9d6e0adf5c/lib/asyncify.js,"@@ -67,7 +67,7 @@ export default function asyncify(func) {
         if (isObject(result) && typeof result.then === 'function') {
             result.then(function(value) {
                 callback(null, value);
-            })['catch'](function(err) {
+            }, function(err) {
                 callback(err.message ? err : new Error(err));
             });
         } else {
",70,})['catch'](function(err) {,"}, function(err) {"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/f2cd951d15326de4a585b264d57189658109f757,f2cd951d15326de4a585b264d57189658109f757,Fixed callback being able to be called twice in asyncify,2016-06-29 18:38:51-04:00,asyncify.js,https://github.com/caolan/async/raw/ed6efaa6429e7d9977d3962f175b56a8cdc30ab3/lib/asyncify.js,https://github.com/caolan/async/raw/f2cd951d15326de4a585b264d57189658109f757/lib/asyncify.js,"@@ -68,7 +68,7 @@ export default function asyncify(func) {
         if (isObject(result) && typeof result.then === 'function') {
             result.then(function(value) {
                 callback(null, value);
-            })['catch'](function(err) {
+            }, function(err) {
                 callback(err.message ? err : new Error(err));
             });
         } else {
",71,})['catch'](function(err) {,"}, function(err) {"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/b77396c5e96ce6e2a88b4bd2fa685e956a1c86ba,b77396c5e96ce6e2a88b4bd2fa685e956a1c86ba,Fix optional callbacks being actually optional (fixes #1223),2016-07-09 20:15:35-04:00,sortBy.js,https://github.com/caolan/async/raw/f4acefdbbe7ea4e7271a4c97da4f3e28b3404987/lib/sortBy.js,https://github.com/caolan/async/raw/b77396c5e96ce6e2a88b4bd2fa685e956a1c86ba/lib/sortBy.js,"@@ -17,7 +17,7 @@ import map from './map';
  * The iteratee is passed a `callback(err, sortValue)` which must be called once
  * it has completed with an error (which can be `null`) and a value to use as
  * the sort criteria. Invoked with (item, callback).
- * @param {Function} [callback] - A callback which is called after all the
+ * @param {Function} callback - A callback which is called after all the
  * `iteratee` functions have finished, or an error occurs. Results is the items
  * from the original `coll` sorted by the values returned by the `iteratee`
  * calls. Invoked with (err, results).
",20,* @param {Function} [callback] - A callback which is called after all the,* @param {Function} callback - A callback which is called after all the
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/4367751bc420f4f279d83e8eae291708bf7990f6,4367751bc420f4f279d83e8eae291708bf7990f6,fix errorFilter comment to reflect that we only pass err argument. Removed setTimeout from retryable tests,2016-08-08 08:58:49-03:00,retry.js,https://github.com/caolan/async/raw/0af976cc89096ee64db3bd08fe65e2b3445f56d5/lib/retry.js,https://github.com/caolan/async/raw/4367751bc420f4f279d83e8eae291708bf7990f6/lib/retry.js,"@@ -23,7 +23,7 @@ import constant from 'lodash/constant';
  *   erroneous result. If it returns `true` the retry attempts will continue;
  *   if the function returns `false` the retry flow is aborted with the current
  *   attempt's error and result being returned to the final callback.
- *   Invoked with (err, result).
+ *   Invoked with (err).
  * * If `opts` is a number, the number specifies the number of times to retry,
  *   with the default interval of `0`.
  * @param {Function} task - A function which receives two arguments: (1) a
",26,"*   Invoked with (err, result).",*   Invoked with (err).
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/75d4a2e2b533ee3577954729b65967f21f212ad8,75d4a2e2b533ee3577954729b65967f21f212ad8,"apply #1282 to master, fixes misspelled word",2016-09-13 22:20:08-04:00,eachLimit.js,https://github.com/caolan/async/raw/166b856617380319395a14c691c79b71566b042c/lib/eachLimit.js,https://github.com/caolan/async/raw/75d4a2e2b533ee3577954729b65967f21f212ad8/lib/eachLimit.js,"@@ -11,7 +11,7 @@ import withoutIndex from './internal/withoutIndex';
  * @see [async.each]{@link module:Collections.each}
  * @alias forEachLimit
  * @category Collection
- * @param {Array|Iterable|Object} coll - A colleciton to iterate over.
+ * @param {Array|Iterable|Object} coll - A collection to iterate over.
  * @param {number} limit - The maximum number of async operations at a time.
  * @param {Function} iteratee - A function to apply to each item in `coll`. The
  * iteratee is passed a `callback(err)` which must be called once it has
",14,* @param {Array|Iterable|Object} coll - A colleciton to iterate over.,* @param {Array|Iterable|Object} coll - A collection to iterate over.
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ee1dd28376164989658eba379afd63ec2ba509b1,ee1dd28376164989658eba379afd63ec2ba509b1,"Minor typo fix

Noticed this in the docs.",2016-10-12 11:18:33+02:00,race.js,https://github.com/caolan/async/raw/7d6ec8bc767fa3ff290f712686bb49b59dbd6da9/lib/race.js,https://github.com/caolan/async/raw/ee1dd28376164989658eba379afd63ec2ba509b1/lib/race.js,"@@ -4,7 +4,7 @@ import once from './internal/once';
 
 /**
  * Runs the `tasks` array of functions in parallel, without waiting until the
- * previous function has completed. Once any the `tasks` completed or pass an
+ * previous function has completed. Once any of the `tasks` completed or pass an
  * error to its callback, the main `callback` is immediately called. It's
  * equivalent to `Promise.race()`.
  *
",7,* previous function has completed. Once any the `tasks` completed or pass an,* previous function has completed. Once any of the `tasks` completed or pass an
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/80a64f417b1a05fcfd2a3f6b342ab4b79d776e36,80a64f417b1a05fcfd2a3f6b342ab4b79d776e36,fix second minor typo in race docs,2016-10-12 12:25:32-04:00,race.js,https://github.com/caolan/async/raw/df05afb0e57f0987f0c8895f042183826c07da79/lib/race.js,https://github.com/caolan/async/raw/80a64f417b1a05fcfd2a3f6b342ab4b79d776e36/lib/race.js,"@@ -4,7 +4,7 @@ import once from './internal/once';
 
 /**
  * Runs the `tasks` array of functions in parallel, without waiting until the
- * previous function has completed. Once any of the `tasks` completed or pass an
+ * previous function has completed. Once any of the `tasks` complete or pass an
  * error to its callback, the main `callback` is immediately called. It's
  * equivalent to `Promise.race()`.
  *
",7,* previous function has completed. Once any of the `tasks` completed or pass an,* previous function has completed. Once any of the `tasks` complete or pass an
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/7a6a50040db4997db3e8bf8726338a86e759e949,7a6a50040db4997db3e8bf8726338a86e759e949,docs: fix missing caret,2016-11-23 23:27:47-05:00,jsdoc-fix-html.js,https://github.com/caolan/async/raw/e6b10d5a5e384fa927ed6a7b31d9c0862ccad7f2/support/jsdoc/jsdoc-fix-html.js,https://github.com/caolan/async/raw/7a6a50040db4997db3e8bf8726338a86e759e949/support/jsdoc/jsdoc-fix-html.js,"@@ -190,7 +190,7 @@ function fixModuleLinks(files, callback) {
             var $file = $(applyPreCheerioFixes(fileData));
 
             var $vDropdown = $file.find('#version-dropdown');
-            $vDropdown.find('.dropdown-toggle').text('v'+VERSION);
+            $vDropdown.find('.dropdown-toggle').contents().get(0).data = 'v'+VERSION+' ';
             $vDropdown.find('a[href=""'+docFilename+'""]').text('v'+VERSION);
 
             fixToc(file, $file, moduleFiles);
",193,$vDropdown.find('.dropdown-toggle').text('v'+VERSION);,$vDropdown.find('.dropdown-toggle').contents().get(0).data = 'v'+VERSION+' ';
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/aa3fbfeedfd780aa1b39e333a7f56a2534ffd977,aa3fbfeedfd780aa1b39e333a7f56a2534ffd977,"Make async.transform actually support 2 arguments

The documentation suggests that both the `accumulator` and `callback` arguments to transform is optional. 

However, if both are left out (and transform therefore is called with only 2 arguments), transform crashes with a `iteratee is not a function` exception. 
This fixes that.",2017-03-13 10:34:06+01:00,transform.js,https://github.com/caolan/async/raw/bdc3d814b3eb574fa6ab2824fc19b3acf0c35d2c/lib/transform.js,https://github.com/caolan/async/raw/aa3fbfeedfd780aa1b39e333a7f56a2534ffd977/lib/transform.js,"@@ -50,7 +50,7 @@ import once from './internal/once';
  * })
  */
 export default function transform (coll, accumulator, iteratee, callback) {
-    if (arguments.length === 3) {
+    if (arguments.length <= 3) {
         callback = iteratee;
         iteratee = accumulator;
         accumulator = isArray(coll) ? [] : {};
",53,if (arguments.length === 3) {,if (arguments.length <= 3) {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/90ff91a6b77489ca092abee880aa132d77784b99,90ff91a6b77489ca092abee880aa132d77784b99,Fix a typo: occured -> occurred,2017-03-30 22:42:33+08:00,doDuring.js,https://github.com/caolan/async/raw/75cb35760e8a2a7ca7917b865ec8c975886f9db2/lib/doDuring.js,https://github.com/caolan/async/raw/90ff91a6b77489ca092abee880aa132d77784b99/lib/doDuring.js,"@@ -21,7 +21,7 @@ import onlyOnce from './internal/onlyOnce';
  * non-error args from the previous callback of `fn`.
  * @param {Function} [callback] - A callback which is called after the test
  * function has failed and repeated execution of `fn` has stopped. `callback`
- * will be passed an error if one occured, otherwise `null`.
+ * will be passed an error if one occurred, otherwise `null`.
  */
 export default function doDuring(fn, test, callback) {
     callback = onlyOnce(callback || noop);
",24,"* will be passed an error if one occured, otherwise `null`.","* will be passed an error if one occurred, otherwise `null`."
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/90ff91a6b77489ca092abee880aa132d77784b99,90ff91a6b77489ca092abee880aa132d77784b99,Fix a typo: occured -> occurred,2017-03-30 22:42:33+08:00,during.js,https://github.com/caolan/async/raw/75cb35760e8a2a7ca7917b865ec8c975886f9db2/lib/during.js,https://github.com/caolan/async/raw/90ff91a6b77489ca092abee880aa132d77784b99/lib/during.js,"@@ -20,7 +20,7 @@ import onlyOnce from './internal/onlyOnce';
  * completed with an optional `err` argument. Invoked with (callback).
  * @param {Function} [callback] - A callback which is called after the test
  * function has failed and repeated execution of `fn` has stopped. `callback`
- * will be passed an error, if one occured, otherwise `null`.
+ * will be passed an error, if one occurred, otherwise `null`.
  * @example
  *
  * var count = 0;
",23,"* will be passed an error, if one occured, otherwise `null`.","* will be passed an error, if one occurred, otherwise `null`."
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/fab1e45a4a61659049eb43460a1b6183d7429c4d,fab1e45a4a61659049eb43460a1b6183d7429c4d,fix lint error,2017-04-01 16:12:45-07:00,whilst.js,https://github.com/caolan/async/raw/94a8b2d18bf10cca67cf4c308253f642bbb2b160/lib/whilst.js,https://github.com/caolan/async/raw/fab1e45a4a61659049eb43460a1b6183d7429c4d/lib/whilst.js,"@@ -15,7 +15,7 @@ import wrapAsync from './internal/wrapAsync';
  * @category Control Flow
  * @param {Function} test - synchronous truth test to perform before each
  * execution of `iteratee`. Invoked with ().
- * @param {AsyncFunction} fn - An async function which is called each time
+ * @param {AsyncFunction} iteratee - An async function which is called each time
  * `test` passes. Invoked with (callback).
  * @param {Function} [callback] - A callback which is called after the test
  * function has failed and repeated execution of `iteratee` has stopped. `callback`
",18,* @param {AsyncFunction} fn - An async function which is called each time,* @param {AsyncFunction} iteratee - An async function which is called each time
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/beae27cf141e362ad2b057090bc35d0f8de8fdd9,beae27cf141e362ad2b057090bc35d0f8de8fdd9,"Fix typo

Fix typo in asyncify documentation",2017-04-22 20:09:30+02:00,asyncify.js,https://github.com/caolan/async/raw/8fd0183c51cd519c1f298e8a0c60b741a285e3db/lib/asyncify.js,https://github.com/caolan/async/raw/beae27cf141e362ad2b057090bc35d0f8de8fdd9/lib/asyncify.js,"@@ -20,7 +20,7 @@ import initialParams from './internal/initialParams';
  * @method
  * @alias wrapSync
  * @category Util
- * @param {Function} func - The synchronous funuction, or Promise-returning
+ * @param {Function} func - The synchronous function, or Promise-returning
  * function to convert to an {@link AsyncFunction}.
  * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be
  * invoked with `(args..., callback)`.
",23,"* @param {Function} func - The synchronous funuction, or Promise-returning","* @param {Function} func - The synchronous function, or Promise-returning"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/e9b28554fd139ae15cf53496dbfb966b13904858,e9b28554fd139ae15cf53496dbfb966b13904858,"preserve order, make variadic and handle falsy values in concat [fixes #1437] (#1436)

* preserve order in concat

* remove comment

* fix concatLimit linting

* handle variadic and falsy results in concatLimit [fixes #1437]

* fix tests (typos)

* PR fixes",2017-06-23 00:21:33-04:00,groupBy.js,https://github.com/caolan/async/raw/2f14cac2757158cf0b12fc1252733a81d7b29310/mocha_test/groupBy.js,https://github.com/caolan/async/raw/e9b28554fd139ae15cf53496dbfb966b13904858/mocha_test/groupBy.js,"@@ -330,7 +330,7 @@ describe('groupBy', function() {
         });
 
         it('handles empty object', function(done) {
-            async.groupByLimit({}, 2, function(val, next) {
+            async.groupBySeries({}, function(val, next) {
                 assert(false, 'iteratee should not be called');
                 next();
             }, function(err, result) {
",333,"async.groupByLimit({}, 2, function(val, next) {","async.groupBySeries({}, function(val, next) {"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/3aa2fc05dd48961b6f622621d4680dae26ffefdc,3aa2fc05dd48961b6f622621d4680dae26ffefdc,Fix tryEach documentation code example,2017-09-12 14:30:33-04:00,tryEach.js,https://github.com/caolan/async/raw/fa206affed3a13261c4fb4b314a5bf0df8e50308/lib/tryEach.js,https://github.com/caolan/async/raw/3aa2fc05dd48961b6f622621d4680dae26ffefdc/lib/tryEach.js,"@@ -23,7 +23,7 @@ import slice from './internal/slice';
  * `result` arguments of the last attempt at completing the `task`. Invoked with
  * (err, results).
  * @example
- * async.try([
+ * async.tryEach([
  *     function getDataFromFirstWebsite(callback) {
  *         // Try getting the data from the first website
  *         callback(err, data);
",26,* async.try([,* async.tryEach([
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/53f613039af68353371c2953446fa8084b3fc86b,53f613039af68353371c2953446fa8084b3fc86b,"feat: Canceling flows (#1542)

* cancelable foreach

* cancelable waterfall

* cancellable auto

* fix lint

* fix tests

* cancelable whilst/until/during/forever

* fix waterfall test.  It WILL get there

* docs

* auto should not start other tasks once canceled

* simplify waterfall, add test for arrays

* simplify eachOf

* cancelable retry

* cancelable eachOf for arrays

* revert test tweak",2018-07-01 17:12:06-07:00,tryEach.js,https://github.com/caolan/async/raw/2a135a422f5da6ab6c8d242b2428828bb51eb1f8/lib/tryEach.js,https://github.com/caolan/async/raw/53f613039af68353371c2953446fa8084b3fc86b/lib/tryEach.js,"@@ -52,7 +52,7 @@ export default function tryEach(tasks, callback) {
                 result = res;
             }
             error = err;
-            callback(!err);
+            callback(err ? null : {});
         });
     }, function () {
         callback(error, result);
",55,callback(!err);,callback(err ? null : {});
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/6405b109fe60541ff42d7638ac891d321d6a7bb3,6405b109fe60541ff42d7638ac891d321d6a7bb3,"limits of less than 1 are now an error (#1552)

* BREAKING CHANGE: limits of less than 1 are now an error

* fix lint",2018-07-01 17:54:54-07:00,queue.js,https://github.com/caolan/async/raw/53f613039af68353371c2953446fa8084b3fc86b/lib/internal/queue.js,https://github.com/caolan/async/raw/6405b109fe60541ff42d7638ac891d321d6a7bb3/lib/internal/queue.js,"@@ -9,7 +9,7 @@ export default function queue(worker, concurrency, payload) {
         concurrency = 1;
     }
     else if(concurrency === 0) {
-        throw new Error('Concurrency must not be zero');
+        throw new RangeError('Concurrency must not be zero');
     }
 
     var _worker = wrapAsync(worker);
",12,throw new Error('Concurrency must not be zero');,throw new RangeError('Concurrency must not be zero');
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/e4751178540a3c6e64598b93977481ec599704d2,e4751178540a3c6e64598b93977481ec599704d2,"ES6-ify codebase (#1553)

* cancelable foreach

* cancelable waterfall

* cancellable auto

* fix lint

* fix tests

* cancelable whilst/until/during/forever

* fix waterfall test.  It WILL get there

* docs

* use rest params instead of slice

* clean up internals

* remove property func

* clarify uses of createTester

* happy path async funtions in asyncify

* stop using arguments

* DLL to class

* moar arrows

* fix merge issues

* remove forOwn

* moar arrows

* fix merge mistake

* even more arrows, what can stop him

* mo more fn.apply(null,...)

* remove more spurious uses of apply

* update lint config

* just when you thought there couldn't possibly be more arrows

* use eslint:recommended

* even less uses or aguments

* get rid of prototype cuteness

* fix concat tests

* fix more tests",2018-07-08 16:58:36-07:00,iterator.js,https://github.com/caolan/async/raw/6405b109fe60541ff42d7638ac891d321d6a7bb3/lib/internal/iterator.js,https://github.com/caolan/async/raw/e4751178540a3c6e64598b93977481ec599704d2/lib/internal/iterator.js,"@@ -26,7 +26,7 @@ function createObjectIterator(obj) {
     var len = okeys.length;
     return function next() {
         var key = okeys[++i];
-        return i < len ? {value: obj[key], key: key} : null;
+        return i < len ? {value: obj[key], key} : null;
     };
 }
 
",29,"return i < len ? {value: obj[key], key: key} : null;","return i < len ? {value: obj[key], key} : null;"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/e4751178540a3c6e64598b93977481ec599704d2,e4751178540a3c6e64598b93977481ec599704d2,"ES6-ify codebase (#1553)

* cancelable foreach

* cancelable waterfall

* cancellable auto

* fix lint

* fix tests

* cancelable whilst/until/during/forever

* fix waterfall test.  It WILL get there

* docs

* use rest params instead of slice

* clean up internals

* remove property func

* clarify uses of createTester

* happy path async funtions in asyncify

* stop using arguments

* DLL to class

* moar arrows

* fix merge issues

* remove forOwn

* moar arrows

* fix merge mistake

* even more arrows, what can stop him

* mo more fn.apply(null,...)

* remove more spurious uses of apply

* update lint config

* just when you thought there couldn't possibly be more arrows

* use eslint:recommended

* even less uses or aguments

* get rid of prototype cuteness

* fix concat tests

* fix more tests",2018-07-08 16:58:36-07:00,queue.js,https://github.com/caolan/async/raw/6405b109fe60541ff42d7638ac891d321d6a7bb3/lib/queue.js,https://github.com/caolan/async/raw/e4751178540a3c6e64598b93977481ec599704d2/lib/queue.js,"@@ -113,7 +113,7 @@ import wrapAsync from './internal/wrapAsync';
  */
 export default function (worker, concurrency) {
     var _worker = wrapAsync(worker);
-    return queue(function (items, cb) {
+    return queue((items, cb) => {
         _worker(items[0], cb);
     }, concurrency, 1);
 }
",116,"return queue(function (items, cb) {","return queue((items, cb) => {"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/e4751178540a3c6e64598b93977481ec599704d2,e4751178540a3c6e64598b93977481ec599704d2,"ES6-ify codebase (#1553)

* cancelable foreach

* cancelable waterfall

* cancellable auto

* fix lint

* fix tests

* cancelable whilst/until/during/forever

* fix waterfall test.  It WILL get there

* docs

* use rest params instead of slice

* clean up internals

* remove property func

* clarify uses of createTester

* happy path async funtions in asyncify

* stop using arguments

* DLL to class

* moar arrows

* fix merge issues

* remove forOwn

* moar arrows

* fix merge mistake

* even more arrows, what can stop him

* mo more fn.apply(null,...)

* remove more spurious uses of apply

* update lint config

* just when you thought there couldn't possibly be more arrows

* use eslint:recommended

* even less uses or aguments

* get rid of prototype cuteness

* fix concat tests

* fix more tests",2018-07-08 16:58:36-07:00,jsdoc-import-path-plugin.js,https://github.com/caolan/async/raw/6405b109fe60541ff42d7638ac891d321d6a7bb3/support/jsdoc/jsdoc-import-path-plugin.js,https://github.com/caolan/async/raw/e4751178540a3c6e64598b93977481ec599704d2/support/jsdoc/jsdoc-import-path-plugin.js,"@@ -1,7 +1,7 @@
 const path = require('path');
 
 exports.handlers = {
-    jsdocCommentFound: function(e) {
+    jsdocCommentFound(e) {
         var moduleName = path.parse(e.filename).name;
 
 
",4,jsdocCommentFound: function(e) {,jsdocCommentFound(e) {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/5c174fa63b5a7197ff6abe19a97b74ed7e77646d,5c174fa63b5a7197ff6abe19a97b74ed7e77646d,[issue-1568][bug]: make sure error object defined before access its message (#1569),2018-08-02 11:13:46-07:00,asyncify.js,https://github.com/caolan/async/raw/3741f80b958bd6afde7fa39af55cea886e8bb3ad/lib/asyncify.js,https://github.com/caolan/async/raw/5c174fa63b5a7197ff6abe19a97b74ed7e77646d/lib/asyncify.js,"@@ -87,7 +87,7 @@ function handlePromise(promise, callback) {
     return promise.then(value => {
         invokeCallback(callback, null, value);
     }, err => {
-        invokeCallback(callback, err.message ? err : new Error(err));
+        invokeCallback(callback, err && err.message ? err : new Error(err));
     });
 }
 
",90,"invokeCallback(callback, err.message ? err : new Error(err));","invokeCallback(callback, err && err.message ? err : new Error(err));"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/df41256f49c9bb3126e035c95aca7860329b6acf,df41256f49c9bb3126e035c95aca7860329b6acf,"sentence fix (#1581)

Just a little thing I noticed :)",2018-09-21 10:20:53-07:00,queue.js,https://github.com/caolan/async/raw/74adae1c02ced2141504a5e7938b63bee07ddc8d/lib/queue.js,https://github.com/caolan/async/raw/df41256f49c9bb3126e035c95aca7860329b6acf/lib/queue.js,"@@ -84,7 +84,7 @@ import wrapAsync from './internal/wrapAsync';
  * @param {number} [concurrency=1] - An `integer` for determining how many
  * `worker` functions should be run in parallel.  If omitted, the concurrency
  * defaults to `1`.  If the concurrency is `0`, an error is thrown.
- * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can
+ * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can be
  * attached as certain properties to listen for specific events during the
  * lifecycle of the queue.
  * @example
",87,* @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can,* @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can be
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/bf67791e75d329a39f71f81e055091ad76088f81,bf67791e75d329a39f71f81e055091ad76088f81,"Fixes #1582 (#1597)

* ensure err is passed on for cancelable methods

* fix test descriptions",2018-11-27 17:04:13-06:00,concatLimit.js,https://github.com/caolan/async/raw/a5a9f13ee024e58a3bd074f9c4e0130f0499d27b/lib/concatLimit.js,https://github.com/caolan/async/raw/bf67791e75d329a39f71f81e055091ad76088f81/lib/concatLimit.js,"@@ -26,7 +26,7 @@ function concatLimit(coll, limit, iteratee, callback) {
     return mapLimit(coll, limit, (val, iterCb) => {
         _iteratee(val, (err, ...args) => {
             if (err) return iterCb(err);
-            return iterCb(null, args);
+            return iterCb(err, args);
         });
     }, (err, mapResults) => {
         var result = [];
",29,"return iterCb(null, args);","return iterCb(err, args);"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/bf67791e75d329a39f71f81e055091ad76088f81,bf67791e75d329a39f71f81e055091ad76088f81,"Fixes #1582 (#1597)

* ensure err is passed on for cancelable methods

* fix test descriptions",2018-11-27 17:04:13-06:00,groupByLimit.js,https://github.com/caolan/async/raw/a5a9f13ee024e58a3bd074f9c4e0130f0499d27b/lib/groupByLimit.js,https://github.com/caolan/async/raw/bf67791e75d329a39f71f81e055091ad76088f81/lib/groupByLimit.js,"@@ -27,7 +27,7 @@ function groupByLimit(coll, limit, iteratee, callback) {
     return mapLimit(coll, limit, (val, iterCb) => {
         _iteratee(val, (err, key) => {
             if (err) return iterCb(err);
-            return iterCb(null, {key, val});
+            return iterCb(err, {key, val});
         });
     }, (err, mapResults) => {
         var result = {};
",30,"return iterCb(null, {key, val});","return iterCb(err, {key, val});"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/bf67791e75d329a39f71f81e055091ad76088f81,bf67791e75d329a39f71f81e055091ad76088f81,"Fixes #1582 (#1597)

* ensure err is passed on for cancelable methods

* fix test descriptions",2018-11-27 17:04:13-06:00,createTester.js,https://github.com/caolan/async/raw/a5a9f13ee024e58a3bd074f9c4e0130f0499d27b/lib/internal/createTester.js,https://github.com/caolan/async/raw/bf67791e75d329a39f71f81e055091ad76088f81/lib/internal/createTester.js,"@@ -8,7 +8,7 @@ export default function _createTester(check, getResult) {
         const iteratee = wrapAsync(_iteratee)
         eachfn(arr, (value, _, callback) => {
             iteratee(value, (err, result) => {
-                if (err) return callback(err)
+                if (err || err === false) return callback(err);
 
                 if (check(result) && !testResult) {
                     testPassed = true;
",11,if (err) return callback(err),if (err || err === false) return callback(err);
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/bf67791e75d329a39f71f81e055091ad76088f81,bf67791e75d329a39f71f81e055091ad76088f81,"Fixes #1582 (#1597)

* ensure err is passed on for cancelable methods

* fix test descriptions",2018-11-27 17:04:13-06:00,filter.js,https://github.com/caolan/async/raw/a5a9f13ee024e58a3bd074f9c4e0130f0499d27b/lib/internal/filter.js,https://github.com/caolan/async/raw/bf67791e75d329a39f71f81e055091ad76088f81/lib/internal/filter.js,"@@ -27,7 +27,7 @@ function filterGeneric(eachfn, coll, iteratee, callback) {
             if (v) {
                 results.push({index, value: x});
             }
-            iterCb();
+            iterCb(err);
         });
     }, err => {
         if (err) return callback(err);
",30,iterCb();,iterCb(err);
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/bf67791e75d329a39f71f81e055091ad76088f81,bf67791e75d329a39f71f81e055091ad76088f81,"Fixes #1582 (#1597)

* ensure err is passed on for cancelable methods

* fix test descriptions",2018-11-27 17:04:13-06:00,mapValuesLimit.js,https://github.com/caolan/async/raw/a5a9f13ee024e58a3bd074f9c4e0130f0499d27b/lib/mapValuesLimit.js,https://github.com/caolan/async/raw/bf67791e75d329a39f71f81e055091ad76088f81/lib/mapValuesLimit.js,"@@ -33,7 +33,7 @@ function mapValuesLimit(obj, limit, iteratee, callback) {
         _iteratee(val, key, (err, result) => {
             if (err) return next(err);
             newObj[key] = result;
-            next();
+            next(err);
         });
     }, err => callback(err, newObj));
 }
",36,next();,next(err);
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/bf67791e75d329a39f71f81e055091ad76088f81,bf67791e75d329a39f71f81e055091ad76088f81,"Fixes #1582 (#1597)

* ensure err is passed on for cancelable methods

* fix test descriptions",2018-11-27 17:04:13-06:00,sortBy.js,https://github.com/caolan/async/raw/a5a9f13ee024e58a3bd074f9c4e0130f0499d27b/lib/sortBy.js,https://github.com/caolan/async/raw/bf67791e75d329a39f71f81e055091ad76088f81/lib/sortBy.js,"@@ -55,7 +55,7 @@ function sortBy (coll, iteratee, callback) {
     return map(coll, (x, iterCb) => {
         _iteratee(x, (err, criteria) => {
             if (err) return iterCb(err);
-            iterCb(null, {value: x, criteria});
+            iterCb(err, {value: x, criteria});
         });
     }, (err, results) => {
         if (err) return callback(err);
",58,"iterCb(null, {value: x, criteria});","iterCb(err, {value: x, criteria});"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/59a8662da2d8a3f26e19b484627a87d45382006f,59a8662da2d8a3f26e19b484627a87d45382006f,"fix: send proper retry count to retry's interaval func (#1621)

Closes #1578",2019-02-13 17:22:30-08:00,retry.js,https://github.com/caolan/async/raw/aa8a3ee08e0af40a0409fe287a9b3a7a51fa46d3/lib/retry.js,https://github.com/caolan/async/raw/59a8662da2d8a3f26e19b484627a87d45382006f/lib/retry.js,"@@ -122,7 +122,7 @@ export default function retry(opts, task, callback) {
             if (err && attempt++ < options.times &&
                 (typeof options.errorFilter != 'function' ||
                     options.errorFilter(err))) {
-                setTimeout(retryAttempt, options.intervalFunc(attempt));
+                setTimeout(retryAttempt, options.intervalFunc(attempt - 1));
             } else {
                 callback(err, ...args);
             }
",125,"setTimeout(retryAttempt, options.intervalFunc(attempt));","setTimeout(retryAttempt, options.intervalFunc(attempt - 1));"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ce0a7e203e8d3b2a68ca674038dad86e1a221e00,ce0a7e203e8d3b2a68ca674038dad86e1a221e00,"fix: stop priorityQueue from draining while items still pending (#1623)

* fix: priorityQueue drains while items still pending

Priority queue should check if the underlying queue is idle before draining.

Currently the priorityQueue drains if an empty array of tasks is pushed even if other tasks are processing.

* test: adds test for priorityQueue draining before tasks ended

* test: lint fix

* test: adds running assert to drain on test/priorityQueue.js

Co-Authored-By: andrebsguedes <andrebsguedes@gmail.com>",2019-02-20 13:45:16-05:00,priorityQueue.js,https://github.com/caolan/async/raw/59a8662da2d8a3f26e19b484627a87d45382006f/lib/priorityQueue.js,https://github.com/caolan/async/raw/ce0a7e203e8d3b2a68ca674038dad86e1a221e00/lib/priorityQueue.js,"@@ -40,7 +40,7 @@ export default function(worker, concurrency) {
         if (!Array.isArray(data)) {
             data = [data];
         }
-        if (data.length === 0) {
+        if (data.length === 0 && q.idle()) {
             // call drain immediately if there are no tasks
             return setImmediate(() => q.drain());
         }
",43,if (data.length === 0) {,if (data.length === 0 && q.idle()) {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/b418cb788f1a57bd34e43ac2a72768e0f3561d36,b418cb788f1a57bd34e43ac2a72768e0f3561d36,initialize results in whilst [fixes #1626] (#1628),2019-03-01 20:08:53-08:00,whilst.js,https://github.com/caolan/async/raw/267eb9cee18347871c1cb3e85fcc6f2452be65f4/lib/whilst.js,https://github.com/caolan/async/raw/b418cb788f1a57bd34e43ac2a72768e0f3561d36/lib/whilst.js,"@@ -40,7 +40,7 @@ function whilst(test, iteratee, callback) {
     callback = onlyOnce(callback);
     var _fn = wrapAsync(iteratee);
     var _test = wrapAsync(test);
-    var results
+    var results = [];
 
     function next(err, ...rest) {
         if (err) return callback(err);
",43,var results,var results = [];
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/4330d536c106592139fa82062494c9dba0da1fdb,4330d536c106592139fa82062494c9dba0da1fdb,"chore: Add Azure Pipelines for CI (Windows, Linux, Mac) (#1630), Fix async function serialization in Safari.

* Add azure pipelines CI.

* Publish test results.

* Enable coveralls

* Use Safari  for OSX browser tests.

* Adding missing lib files to karma (only Safari complained).

* Rename with dot so it gets better placed in order.

* Use ci instead of install, so we stick with package-lock.json

* Use npm test instead of mocha directly. It just needed a double -- escape.

* Move DISPLAY to Linux only, with value set just once.

* Use variables for DISPLAY, browser tests and coveralls.

* Simplify steps with a browser name variable.

* Run junit reporter on CI only.

* DISPLAY should be already an environment variable.

* Use vmImage for consistency with other OS.

* Don't use verbose npm@1 task.

* No need to setTimeout, let's `done` on the callback.

* Don't resume twice.
Check queue length on callback for safety, setTimeout may be delayed.

* Avoid time dependency, act on events instead.

* Avoid dependency on timing to final assertion.

* Rewrite test to avoid setTimeout

* Fix formatting.

* Make diff more significant (125+50 ~= 200)

* Make diff more significant to avoid race conditions.

* Wait a bit more so default 5 retries did happen.

* Make delays shorter to avoid ""Timeout of 250ms exceeded""

* Shorten delay to avoid 200ms test timeout in browser tests.

* Shorten timeout to mitigate 200ms test timeout.

* Add more diff on delays to enforce test behavior.

* Make delays more significant to avoid race conditions.

* Stop using setTimeout and rely on events to push new items, so order is enforced.

* Fix async function serialization in Safari.

* Add more delay so 4 never completes before 3.

* Ensure 3 never completes before 4.

* Use drain instead of task count.
Trying to ensure done is called from Windows browser tests that fail frequently.

* Ensure 2 starts before 3 arrives.Avoid expected 'process 2 3' to equal 'process 2'

* Add retries to browser tests.

* Don't fail all on Mac & Windows browser tests.

* Ensure 3 happens before 2, it fails sparely on OSX.
AssertionError: expected [ 1, 2, 3 ] to deeply equal [ 1, 3, 2 ]

* Avoid unnecessary multilines.

* Use Edge for Windows browser tests.",2019-04-07 15:25:07-07:00,autoInject.js,https://github.com/caolan/async/raw/a4c00358cf3c638398735f4006b65e3a82d80ca9/lib/autoInject.js,https://github.com/caolan/async/raw/4330d536c106592139fa82062494c9dba0da1fdb/lib/autoInject.js,"@@ -3,7 +3,7 @@ import wrapAsync from './internal/wrapAsync';
 import { isAsync } from './internal/wrapAsync';
 
 var FN_ARGS = /^(?:async\s+)?(?:function)?\s*[^(]*\(\s*([^)]+)\s*\)(?:\s*{)/m;
-var ARROW_FN_ARGS = /^(?:async\s+)?\(?\s*([^)^=]+)\s*\)?(?:\s*=>)/m;
+var ARROW_FN_ARGS = /^(?:async\s+)?(?:function\s+)?\(?\s*([^)^=]+)\s*\)?(?:\s*=>)/m;
 var FN_ARG_SPLIT = /,/;
 var FN_ARG = /(=.+)?(\s*)$/;
 var STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;
",6,var ARROW_FN_ARGS = /^(?:async\s+)?\(?\s*([^)^=]+)\s*\)?(?:\s*=>)/m;,var ARROW_FN_ARGS = /^(?:async\s+)?(?:function\s+)?\(?\s*([^)^=]+)\s*\)?(?:\s*=>)/m;
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/2f329d082c8bdd0d92603574d8fafcd24f1a8533,2f329d082c8bdd0d92603574d8fafcd24f1a8533,fix(docs): fix code example in whilst docs (#1703),2020-02-15 17:05:09-08:00,whilst.js,https://github.com/caolan/async/raw/1feecdcf4955d1ad73eb4f90d4895bc121dfbb0a/lib/whilst.js,https://github.com/caolan/async/raw/2f329d082c8bdd0d92603574d8fafcd24f1a8533/lib/whilst.js,"@@ -24,7 +24,7 @@ import awaitify from './internal/awaitify';
  *
  * var count = 0;
  * async.whilst(
- *     function test(cb) { cb(null, count < 5;) },
+ *     function test(cb) { cb(null, count < 5); },
  *     function iter(callback) {
  *         count++;
  *         setTimeout(function() {
",27,"*     function test(cb) { cb(null, count < 5;) },","*     function test(cb) { cb(null, count < 5); },"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/8141ac011ee1c73c0e4f1eacfdc43a29a7b61b41,8141ac011ee1c73c0e4f1eacfdc43a29a7b61b41,fix cargoQueue return type. Closes #1704,2020-02-23 18:06:15-08:00,cargoQueue.js,https://github.com/caolan/async/raw/d13a5894dd35bf14e5c492eefb2b843e04e6b208/lib/cargoQueue.js,https://github.com/caolan/async/raw/8141ac011ee1c73c0e4f1eacfdc43a29a7b61b41/lib/cargoQueue.js,"@@ -27,7 +27,7 @@ import queue from './internal/queue';
  * @param {number} [payload=Infinity] - An optional `integer` for determining
  * how many tasks should be processed per round; if omitted, the default is
  * unlimited.
- * @returns {module:ControlFlow.CargoObject} A cargoQueue object to manage the tasks. Callbacks can
+ * @returns {module:ControlFlow.QueueObject} A cargoQueue object to manage the tasks. Callbacks can
  * attached as certain properties to listen for specific events during the
  * lifecycle of the cargoQueue and inner queue.
  * @example
",30,* @returns {module:ControlFlow.CargoObject} A cargoQueue object to manage the tasks. Callbacks can,* @returns {module:ControlFlow.QueueObject} A cargoQueue object to manage the tasks. Callbacks can
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/5e1fd9e925cc3ed5ffeb9e843727be9063ab9d9f,5e1fd9e925cc3ed5ffeb9e843727be9063ab9d9f,Fix code until code example (#1708),2020-03-03 09:55:44-08:00,until.js,https://github.com/caolan/async/raw/4e23a9d9a74d422a7f5c3b01ba11f4e431e9a3bf/lib/until.js,https://github.com/caolan/async/raw/5e1fd9e925cc3ed5ffeb9e843727be9063ab9d9f/lib/until.js,"@@ -27,7 +27,7 @@ import wrapAsync from './internal/wrapAsync';
  * @example
  * const results = []
  * let finished = false
- * async.until(function test(page, cb) {
+ * async.until(function test(cb) {
  *     cb(null, finished)
  * }, function iter(next) {
  *     fetchPage(url, (err, body) => {
",30,"* async.until(function test(page, cb) {",* async.until(function test(cb) {
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b,62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b,fix typo (#1707),2020-03-03 09:56:04-08:00,async.js,https://github.com/caolan/async/raw/5e1fd9e925cc3ed5ffeb9e843727be9063ab9d9f/dist/async.js,https://github.com/caolan/async/raw/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b/dist/async.js,"@@ -3120,7 +3120,7 @@
      * should be pushed to the queue after calling this function. Invoke with `queue.kill()`.
      *
      * @example
-     * const q = aync.queue(worker, 2)
+     * const q = async.queue(worker, 2)
      * q.push(item1)
      * q.push(item2)
      * q.push(item3)
",3123,"* const q = aync.queue(worker, 2)","* const q = async.queue(worker, 2)"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b,62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b,fix typo (#1707),2020-03-03 09:56:04-08:00,async.js,https://github.com/caolan/async/raw/5e1fd9e925cc3ed5ffeb9e843727be9063ab9d9f/docs/v3/scripts/async.js,https://github.com/caolan/async/raw/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b/docs/v3/scripts/async.js,"@@ -3120,7 +3120,7 @@
      * should be pushed to the queue after calling this function. Invoke with `queue.kill()`.
      *
      * @example
-     * const q = aync.queue(worker, 2)
+     * const q = async.queue(worker, 2)
      * q.push(item1)
      * q.push(item2)
      * q.push(item3)
",3123,"* const q = aync.queue(worker, 2)","* const q = async.queue(worker, 2)"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b,62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b,fix typo (#1707),2020-03-03 09:56:04-08:00,queue.js,https://github.com/caolan/async/raw/5e1fd9e925cc3ed5ffeb9e843727be9063ab9d9f/lib/queue.js,https://github.com/caolan/async/raw/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b/lib/queue.js,"@@ -68,7 +68,7 @@ import wrapAsync from './internal/wrapAsync';
  * should be pushed to the queue after calling this function. Invoke with `queue.kill()`.
  *
  * @example
- * const q = aync.queue(worker, 2)
+ * const q = async.queue(worker, 2)
  * q.push(item1)
  * q.push(item2)
  * q.push(item3)
",71,"* const q = aync.queue(worker, 2)","* const q = async.queue(worker, 2)"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/819a34b0e02c21e7f3390d70e72430d98d327d11,819a34b0e02c21e7f3390d70e72430d98d327d11,"docs: Fix simple typo, whoses -> whose (#1717)

There is a small typo in dist/async.js, docs/v2/scripts/async.js, docs/v3/scripts/async.js, lib/groupBySeries.js.

Should read `whose` rather than `whoses`.",2020-05-18 13:18:57-07:00,groupBySeries.js,https://github.com/caolan/async/raw/62cb8ea8ce3e3b4b66cf9abc66153d2d7255985b/lib/groupBySeries.js,https://github.com/caolan/async/raw/819a34b0e02c21e7f3390d70e72430d98d327d11/lib/groupBySeries.js,"@@ -15,7 +15,7 @@ import groupByLimit from './groupByLimit';
  * The iteratee should complete with a `key` to group the value under.
  * Invoked with (value, callback).
  * @param {Function} [callback] - A callback which is called when all `iteratee`
- * functions have finished, or an error occurs. Result is an `Object` whoses
+ * functions have finished, or an error occurs. Result is an `Object` whose
  * properties are arrays of values which returned the corresponding key.
  * @returns {Promise} a promise, if no callback is passed
  */
",18,"* functions have finished, or an error occurs. Result is an `Object` whoses","* functions have finished, or an error occurs. Result is an `Object` whose"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/aff1716608b1a0ece2fdb18e32b969ea8ed48951,aff1716608b1a0ece2fdb18e32b969ea8ed48951,"V3 Docs :: Fix ""unshirtAsync"" typo (#1712)",2020-08-18 16:05:43-07:00,queue.js,https://github.com/caolan/async/raw/819a34b0e02c21e7f3390d70e72430d98d327d11/lib/queue.js,https://github.com/caolan/async/raw/aff1716608b1a0ece2fdb18e32b969ea8ed48951/lib/queue.js,"@@ -29,7 +29,7 @@ import wrapAsync from './internal/wrapAsync';
  * Invoke with `queue.unshift(task, [callback])`.
  * @property {AsyncFunction} pushAsync - the same as `q.push`, except this returns
  * a promise that rejects if an error occurs.
- * @property {AsyncFunction} unshirtAsync - the same as `q.unshift`, except this returns
+ * @property {AsyncFunction} unshiftAsync - the same as `q.unshift`, except this returns
  * a promise that rejects if an error occurs.
  * @property {Function} remove - remove items from the queue that match a test
  * function.  The test function will be passed an object with a `data` property,
",32,"* @property {AsyncFunction} unshirtAsync - the same as `q.unshift`, except this returns","* @property {AsyncFunction} unshiftAsync - the same as `q.unshift`, except this returns"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/b7361922b1fd231cefa13ff80bfd359f482b5e6e,b7361922b1fd231cefa13ff80bfd359f482b5e6e,"Fix typo: `unshift` instead `unshirt` (#1740)

Co-authored-by: Yehuda Y <yehuda@zyx.bz>",2020-12-29 22:32:33-08:00,async.js,https://github.com/caolan/async/raw/d589a517534ad33e6cac92108f9be603814f0996/dist/async.js,https://github.com/caolan/async/raw/b7361922b1fd231cefa13ff80bfd359f482b5e6e/dist/async.js,"@@ -3081,7 +3081,7 @@
      * Invoke with `queue.unshift(task, [callback])`.
      * @property {AsyncFunction} pushAsync - the same as `q.push`, except this returns
      * a promise that rejects if an error occurs.
-     * @property {AsyncFunction} unshirtAsync - the same as `q.unshift`, except this returns
+     * @property {AsyncFunction} unshiftAsync - the same as `q.unshift`, except this returns
      * a promise that rejects if an error occurs.
      * @property {Function} remove - remove items from the queue that match a test
      * function.  The test function will be passed an object with a `data` property,
",3084,"* @property {AsyncFunction} unshirtAsync - the same as `q.unshift`, except this returns","* @property {AsyncFunction} unshiftAsync - the same as `q.unshift`, except this returns"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/b7361922b1fd231cefa13ff80bfd359f482b5e6e,b7361922b1fd231cefa13ff80bfd359f482b5e6e,"Fix typo: `unshift` instead `unshirt` (#1740)

Co-authored-by: Yehuda Y <yehuda@zyx.bz>",2020-12-29 22:32:33-08:00,async.js,https://github.com/caolan/async/raw/d589a517534ad33e6cac92108f9be603814f0996/docs/v3/scripts/async.js,https://github.com/caolan/async/raw/b7361922b1fd231cefa13ff80bfd359f482b5e6e/docs/v3/scripts/async.js,"@@ -3081,7 +3081,7 @@
      * Invoke with `queue.unshift(task, [callback])`.
      * @property {AsyncFunction} pushAsync - the same as `q.push`, except this returns
      * a promise that rejects if an error occurs.
-     * @property {AsyncFunction} unshirtAsync - the same as `q.unshift`, except this returns
+     * @property {AsyncFunction} unshiftAsync - the same as `q.unshift`, except this returns
      * a promise that rejects if an error occurs.
      * @property {Function} remove - remove items from the queue that match a test
      * function.  The test function will be passed an object with a `data` property,
",3084,"* @property {AsyncFunction} unshirtAsync - the same as `q.unshift`, except this returns","* @property {AsyncFunction} unshiftAsync - the same as `q.unshift`, except this returns"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/c243b0e9e4a21f50b573820cf0d9059524833f50,c243b0e9e4a21f50b573820cf0d9059524833f50,fixing the grammar in documentation (#1756),2021-08-05 15:51:22-07:00,reduceRight.js,https://github.com/caolan/async/raw/e02c3c6396bf7c840e2420742648d15b3bfcd849/lib/reduceRight.js,https://github.com/caolan/async/raw/c243b0e9e4a21f50b573820cf0d9059524833f50/lib/reduceRight.js,"@@ -15,7 +15,7 @@ import reduce from './reduce';
  * @param {AsyncFunction} iteratee - A function applied to each item in the
  * array to produce the next step in the reduction.
  * The `iteratee` should complete with the next state of the reduction.
- * If the iteratee complete with an error, the reduction is stopped and the
+ * If the iteratee completes with an error, the reduction is stopped and the
  * main `callback` is immediately called with the error.
  * Invoked with (memo, item, callback).
  * @param {Function} [callback] - A callback which is called after all the
",18,"* If the iteratee complete with an error, the reduction is stopped and the","* If the iteratee completes with an error, the reduction is stopped and the"
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/fc9ba651341af5ab974aade6b1640e345912be83,fc9ba651341af5ab974aade6b1640e345912be83,Fix(docs): use plural `callbacks` word in `lib/map.js` (#1765),2021-10-04 15:18:30-07:00,map.js,https://github.com/caolan/async/raw/b1b69b03b35022c6c9dfb8f4b9c1ace8f1baf5be/lib/map.js,https://github.com/caolan/async/raw/fc9ba651341af5ab974aade6b1640e345912be83/lib/map.js,"@@ -5,7 +5,7 @@ import awaitify from './internal/awaitify'
 /**
  * Produces a new collection of values by mapping each value in `coll` through
  * the `iteratee` function. The `iteratee` is called with an item from `coll`
- * and a callback for when it has finished processing. Each of these callback
+ * and a callback for when it has finished processing. Each of these callbacks
  * takes 2 arguments: an `error`, and the transformed item from `coll`. If
  * `iteratee` passes an error to its callback, the main `callback` (for the
  * `map` function) is immediately called with the error.
",8,* and a callback for when it has finished processing. Each of these callback,* and a callback for when it has finished processing. Each of these callbacks
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/cdfb4917e6028c8f966276d6e792018c7fd2ae3c,cdfb4917e6028c8f966276d6e792018c7fd2ae3c,"Fix an inefficient regex in autoInject (#1767)

* Fix an inefficient regex in autoInject

* 'properly strip comments in argument definitions' test failure

* Update test/autoInject.js

Co-authored-by: Rich Trott <rtrott@gmail.com>

* Update on url-comments lib/autoInject.js

Co-authored-by: Rich Trott <rtrott@gmail.com>

* move new tests test/autoInject.js

* indentation fix test/autoInject.js

Co-authored-by: Rich Trott <rtrott@gmail.com>",2021-12-02 10:29:38-08:00,autoInject.js,https://github.com/caolan/async/raw/bb41f2a59aa41af0b906f0cb9a11ffa6332e56dd/lib/autoInject.js,https://github.com/caolan/async/raw/cdfb4917e6028c8f966276d6e792018c7fd2ae3c/lib/autoInject.js,"@@ -6,7 +6,7 @@ var FN_ARGS = /^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/;
 var ARROW_FN_ARGS = /^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/;
 var FN_ARG_SPLIT = /,/;
 var FN_ARG = /(=.+)?(\s*)$/;
-var STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;
+var STRIP_COMMENTS = /(\/\*(?:[^/]|\/(?!\*))*\*\/)|\/\/.*$/mg;
 
 function parseParams(func) {
     const src = func.toString().replace(STRIP_COMMENTS, '');
",9,var STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;,var STRIP_COMMENTS = /(\/\*(?:[^/]|\/(?!\*))*\*\/)|\/\/.*$/mg;
async,https://github.com/caolan/async,https://github.com/caolan/async/commit/ab83de5eee02230d9b5f2f9b1fc7ddacface2d0d,ab83de5eee02230d9b5f2f9b1fc7ddacface2d0d,fix: typo in jsdoc description for whilst (#1850),2022-06-22 11:05:30-07:00,whilst.js,https://github.com/caolan/async/raw/63d0de2fd9f85d9e0727c3a82a250a561294a3fd/lib/whilst.js,https://github.com/caolan/async/raw/ab83de5eee02230d9b5f2f9b1fc7ddacface2d0d/lib/whilst.js,"@@ -12,7 +12,7 @@ import awaitify from './internal/awaitify.js'
  * @method
  * @category Control Flow
  * @param {AsyncFunction} test - asynchronous truth test to perform before each
- * execution of `iteratee`. Invoked with ().
+ * execution of `iteratee`. Invoked with (callback).
  * @param {AsyncFunction} iteratee - An async function which is called each time
  * `test` passes. Invoked with (callback).
  * @param {Function} [callback] - A callback which is called after the test
",15,* execution of `iteratee`. Invoked with ().,* execution of `iteratee`. Invoked with (callback).
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/f74f2af725b6e42515f2b3a2a4c7e3fb5ab104e6,f74f2af725b6e42515f2b3a2a4c7e3fb5ab104e6,set the coffee exec to the proper program.options.exec property. Fixes #53,2012-01-12 22:48:18+00:00,nodemon.js,https://github.com/remy/nodemon/raw/4208c11a92fdba7cf642e3f4c7661151b81d6a32/nodemon.js,https://github.com/remy/nodemon/raw/f74f2af725b6e42515f2b3a2a4c7e3fb5ab104e6/nodemon.js,"@@ -288,7 +288,7 @@ function getAppScript(program) {
     }
     // monitor both types - TODO possibly make this an option?
     program.ext = '.coffee|.js';
-    program.exec = 'coffee';
+    program.options.exec = 'coffee';
   }
 }
 
",291,program.exec = 'coffee';,program.options.exec = 'coffee';
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/dc0fb6aeb92bb7952e770d3027b226a3fd2948ef,dc0fb6aeb92bb7952e770d3027b226a3fd2948ef,"Fixes error formatting, eliminating extra newlines caused by using util.error",2012-04-19 13:37:22-03:00,nodemon.js,https://github.com/remy/nodemon/raw/15a98031341c9b9ca5c37b63c68ae788416c0e91/nodemon.js,https://github.com/remy/nodemon/raw/dc0fb6aeb92bb7952e770d3027b226a3fd2948ef/nodemon.js,"@@ -45,7 +45,7 @@ function startNode() {
   });
 
   child.stderr.on('data', function (data) {
-    util.error(data);
+    process.stderr.write(data);
   });
 
   child.on('exit', function (code, signal) {
",48,util.error(data);,process.stderr.write(data);
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/ae1255e61b5480a78e5b454b339723eba8138347,ae1255e61b5480a78e5b454b339723eba8138347,"native watch was not passing through directory, so it was failing to match ignore rules. Fixes #83",2012-04-23 23:43:36+01:00,nodemon.js,https://github.com/remy/nodemon/raw/079682c909c795052b629da260be1696c4a05a63/nodemon.js,https://github.com/remy/nodemon/raw/ae1255e61b5480a78e5b454b339723eba8138347/nodemon.js,"@@ -116,7 +116,7 @@ function startMonitor() {
       var watch = function (err, dir) {
         try {
           fs.watch(dir, { persistent: false }, function (event, filename) {
-            callback([filename]);
+            callback([dir + '/' + filename]);
           });
 
           fs.readdir(dir, function (err, files) {
",119,callback([filename]);,callback([dir + '/' + filename]);
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/d81840defd578dcaf84d8af321f5374eeae1ae6b,d81840defd578dcaf84d8af321f5374eeae1ae6b,"--ext option was not reading the alternative syntax, even after regex/split magic jig. Fixes #139 with version 0.7.1 on npm",2013-01-14 22:52:49+00:00,nodemon.js,https://github.com/remy/nodemon/raw/e73c05afbb588998d730b65ef6e6f1c823ea4242/nodemon.js,https://github.com/remy/nodemon/raw/d81840defd578dcaf84d8af321f5374eeae1ae6b/nodemon.js,"@@ -759,7 +759,7 @@ dirs.forEach(function(dir) {
 // findStatOffset();
 
 if (program.options.ext) {
-  addIgnoreRule('^((?!' + program.options.ext.replace(/\./g, '\\.') + '$).)*$', true);
+  addIgnoreRule('^((?!' + program.ext.replace(/\./g, '\\.') + '$).)*$', true);
 }
 
 exists(ignoreFilePath, function (exist) {
",762,"addIgnoreRule('^((?!' + program.options.ext.replace(/\./g, '\\.') + '$).)*$', true);","addIgnoreRule('^((?!' + program.ext.replace(/\./g, '\\.') + '$).)*$', true);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/20a95635b31ed0229dbeba7e4280a9e9738ac032,20a95635b31ed0229dbeba7e4280a9e9738ac032,"change to fix #127 and fix #142 by adding Date.now to watchfile, though I was not able to replicate initial bug, change does not hurt nodemon",2013-01-31 17:25:09+00:00,nodemon.js,https://github.com/remy/nodemon/raw/70a2435c4e1fb220535dc201c604315ecea41995/nodemon.js,https://github.com/remy/nodemon/raw/20a95635b31ed0229dbeba7e4280a9e9738ac032/nodemon.js,"@@ -143,7 +143,7 @@ watchFileChecker.check = function(cb) {
   } else {
     tmpdir = '/tmp';
   }
-  var watchFileName = tmpdir + seperator + 'nodemonCheckFsWatch';
+  var watchFileName = tmpdir + seperator + 'nodemonCheckFsWatch' + Date.now();
   var watchFile = fs.openSync(watchFileName, 'w');
   if (!watchFile) {
     util.log('\x1B[32m[nodemon] Unable to write to temp directory. If you experience problems with file reloading, ensure ' + tmpdir + ' is writable.\x1B[0m');
",146,var watchFileName = tmpdir + seperator + 'nodemonCheckFsWatch';,var watchFileName = tmpdir + seperator + 'nodemonCheckFsWatch' + Date.now();
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/87a8a2c5312513aff6904fe992c931a23d74a871,87a8a2c5312513aff6904fe992c931a23d74a871,Fix #156 - dont wait for children to die on windows platform,2013-03-29 18:56:06-04:00,nodemon.js,https://github.com/remy/nodemon/raw/f535e37edb4e598e6864152aefde0cb553f523ae/nodemon.js,https://github.com/remy/nodemon/raw/87a8a2c5312513aff6904fe992c931a23d74a871/nodemon.js,"@@ -721,7 +721,7 @@ if (!isWindows) { // because windows borks when listening for the SIG* events
           process.exit(0);
         };
 
-    if (child) {
+    if (child && !isWindows) {
       child.removeAllListeners('exit');
       child.on('exit', exit);
       child.kill('SIGINT');
",724,if (child) {,if (child && !isWindows) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/929633e3a57cb84e3e581d0c10cfa0ac8ac2c8a9,929633e3a57cb84e3e581d0c10cfa0ac8ac2c8a9,"Fix #145. If "".coffee"" is in the --ext args or in the filename - rather than a hard match, then use coffeescript as the executable",2013-04-03 10:57:06+01:00,nodemon.js,https://github.com/remy/nodemon/raw/f535e37edb4e598e6864152aefde0cb553f523ae/nodemon.js,https://github.com/remy/nodemon/raw/929633e3a57cb84e3e581d0c10cfa0ac8ac2c8a9/nodemon.js,"@@ -582,7 +582,7 @@ function getAppScript(program) {
     program.args = execOptions.concat(program.args);
   }
 
-  if (program.options.exec === 'node' && program.ext === '.coffee') {
+  if (program.options.exec === 'node' && program.ext.indexOf('.coffee') !== -1) {
     program.options.exec = 'coffee';
   }
 
",585,if (program.options.exec === 'node' && program.ext === '.coffee') {,if (program.options.exec === 'node' && program.ext.indexOf('.coffee') !== -1) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/9a86e7bfff01df928898c90998086c4bd3288026,9a86e7bfff01df928898c90998086c4bd3288026,"Fixed cli parser so that it add watch, ignore, etc",2013-10-29 18:33:24+00:00,nodemon.js,https://github.com/remy/nodemon/raw/d90fee7a4ca71e10b380cee07dea3c34b8f605ac/lib/nodemon.js,https://github.com/remy/nodemon/raw/9a86e7bfff01df928898c90998086c4bd3288026/lib/nodemon.js,"@@ -47,7 +47,7 @@ var nodemon = function (settings) {
       utils.log.detail('ignoring: ' + pattern);
     });
 
-    monitor.run(config.options.exec, [config.options.userScript].concat(config.options.args), config.options);
+    monitor.run(config.options.execOptions, [config.options.userScript].concat(config.options.args), config.options);
   });
 }
 
",50,"monitor.run(config.options.exec, [config.options.userScript].concat(config.options.args), config.options);","monitor.run(config.options.execOptions, [config.options.userScript].concat(config.options.args), config.options);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/aceee649f314f1c4363c69ae913876af6e8b53a5,aceee649f314f1c4363c69ae913876af6e8b53a5,"Fixed #216. If --exec is used, don't try to detect userScript

Also simplified the exec and arguments logic",2013-10-29 20:02:30+00:00,exec.js,https://github.com/remy/nodemon/raw/ed040edceec5dc73d07aabf844a97431146afd26/lib/cli/exec.js,https://github.com/remy/nodemon/raw/aceee649f314f1c4363c69ae913876af6e8b53a5/lib/cli/exec.js,"@@ -34,7 +34,7 @@ function exec(script, nodemonOptions, extentionMap) {
   if (options.exec.indexOf(' ') !== -1) {
     var execOptions = options.exec.split(' ');
     options.exec = execOptions.splice(0, 1)[0];
-    options.execArgs = execOptions.join(' ');
+    options.execArgs = execOptions;
   }
 
   if (extentionMap[extention] !== undefined) {
",37,options.execArgs = execOptions.join(' ');,options.execArgs = execOptions;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/aceee649f314f1c4363c69ae913876af6e8b53a5,aceee649f314f1c4363c69ae913876af6e8b53a5,"Fixed #216. If --exec is used, don't try to detect userScript

Also simplified the exec and arguments logic",2013-10-29 20:02:30+00:00,parse.js,https://github.com/remy/nodemon/raw/ed040edceec5dc73d07aabf844a97431146afd26/lib/cli/parse.js,https://github.com/remy/nodemon/raw/aceee649f314f1c4363c69ae913876af6e8b53a5/lib/cli/parse.js,"@@ -65,7 +65,7 @@ function parse(argv) {
     }
   }
 
-  if (script === null) {
+  if (script === null && !nodemonOptions.exec) {
     script = findAppScript();
   }
 
",68,if (script === null) {,if (script === null && !nodemonOptions.exec) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/aceee649f314f1c4363c69ae913876af6e8b53a5,aceee649f314f1c4363c69ae913876af6e8b53a5,"Fixed #216. If --exec is used, don't try to detect userScript

Also simplified the exec and arguments logic",2013-10-29 20:02:30+00:00,nodemon.js,https://github.com/remy/nodemon/raw/ed040edceec5dc73d07aabf844a97431146afd26/lib/nodemon.js,https://github.com/remy/nodemon/raw/aceee649f314f1c4363c69ae913876af6e8b53a5/lib/nodemon.js,"@@ -47,7 +47,7 @@ var nodemon = function (settings) {
       utils.log.detail('ignoring: ' + pattern);
     });
 
-    monitor.run(config.options.execOptions, [config.options.userScript].concat(config.options.args), config.options);
+    monitor.run(config.options);
   });
 }
 
",50,"monitor.run(config.options.execOptions, [config.options.userScript].concat(config.options.args), config.options);",monitor.run(config.options);
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/cc44b58641035c609893e9d9c7729d963615a598,cc44b58641035c609893e9d9c7729d963615a598,"Fixed extension watching and fixed perf bug in check

Needs careful testing in linux and windows.

Also fixed #204 but requires config file to set `restartable` to false, since there's so many options to configure stdin and this particular case has narrow use.",2013-10-31 00:25:36+00:00,watchable.js,https://github.com/remy/nodemon/raw/fcc843cd8841c61256fb02e2dc9c9f4bd224e24c/lib/config/watchable.js,https://github.com/remy/nodemon/raw/cc44b58641035c609893e9d9c7729d963615a598/lib/config/watchable.js,"@@ -51,7 +51,7 @@ var verify = function() {
 
 var watchable = module.exports = function (config, ready) {
   check(function(success) {
-    config.watchWorks = success;
+    config.system.watchWorks = success;
     ready();
   });
 };
",54,config.watchWorks = success;,config.system.watchWorks = success;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/d9aa343b208125dd8f150166a074a2f2086ebd4c,d9aa343b208125dd8f150166a074a2f2086ebd4c,Fix wrong detection when run in background in shell script,2013-11-30 20:09:11+00:00,nodemon.js,https://github.com/remy/nodemon/raw/11d5a64e7789a241091ed33de0e584dd21a81974/nodemon.js,https://github.com/remy/nodemon/raw/d9aa343b208125dd8f150166a074a2f2086ebd4c/nodemon.js,"@@ -153,7 +153,7 @@ watchFileChecker.check = function(cb) {
   }
   var watchFileName = tmpdir + seperator + 'nodemonCheckFsWatch' + Date.now();
   var watchFile = fs.openSync(watchFileName, 'w');
-  if (!watchFile) {
+  if (watchFile < 0) {
     util.log('\x1B[32m[nodemon] Unable to write to temp directory. If you experience problems with file reloading, ensure ' + tmpdir + ' is writable.\x1B[0m');
     cb(true);
     return;
",156,if (!watchFile) {,if (watchFile < 0) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/ccb050b2277eba5a63a79911abc757c8fb36fd3f,ccb050b2277eba5a63a79911abc757c8fb36fd3f,Copy across fix #228,2013-12-03 13:40:06+00:00,watchable.js,https://github.com/remy/nodemon/raw/306eb6cd1756cdb69daf6b87f4e116156dee1837/lib/config/watchable.js,https://github.com/remy/nodemon/raw/ccb050b2277eba5a63a79911abc757c8fb36fd3f/lib/config/watchable.js,"@@ -26,7 +26,7 @@ function check(cb) {
   }
   var watchFileName = path.join(tmpdir, 'nodemonCheckFsWatch' + Date.now());
   var watchFile = fs.openSync(watchFileName, 'w');
-  if (!watchFile) {
+  if (watchFile < 0) {
     util.log.fail('Unable to write to temp directory. If you experience problems with file reloading, ensure ' + tmpdir + ' is writable.');
     cb(true);
     return;
",29,if (!watchFile) {,if (watchFile < 0) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/61572250dbc463abb2dca12bbc82aa9aac49e9f5,61572250dbc463abb2dca12bbc82aa9aac49e9f5,Start initial watch right away - fixes timing issues in tests,2013-12-03 23:23:40+00:00,watch.js,https://github.com/remy/nodemon/raw/ccb050b2277eba5a63a79911abc757c8fb36fd3f/lib/monitor/watch.js,https://github.com/remy/nodemon/raw/61572250dbc463abb2dca12bbc82aa9aac49e9f5/lib/monitor/watch.js,"@@ -37,7 +37,7 @@ bus.on('config:update', function () {
       // recursive watch - watch each directory and it's subdirectories, etc, etc
       function watch(err, dir) {
         try {
-          if (watched.indexOf(dir) === -1) {
+          if (watched.indexOf(dir) === -1 && ignoredFilter(dir)) {
             fs.watch(dir, { persistent: false }, function (event, filename) {
               var filepath = path.join(dir, filename || '');
               callback([filepath]);
",40,if (watched.indexOf(dir) === -1) {,if (watched.indexOf(dir) === -1 && ignoredFilter(dir)) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/abc27cd5cad41d3cdfb199f0ada6e54e387b9b25,abc27cd5cad41d3cdfb199f0ada6e54e387b9b25,"Correct signal passing. Fixes #232.

Also more linting, tweaks to FAQ & contributing and added .jshint file.

Also adds test for signal test (though needs mocha to timeout at 15 seconds!)",2013-12-10 00:06:25+00:00,change-detect.test.js,https://github.com/remy/nodemon/raw/71d6f2d65075e2cf052d9f7b06a67c1fff1dc733/test/monitor/change-detect.test.js,https://github.com/remy/nodemon/raw/abc27cd5cad41d3cdfb199f0ada6e54e387b9b25/test/monitor/change-detect.test.js,"@@ -20,7 +20,7 @@ describe('nodemon simply running', function () {
       },
       error: function (data) {
         assert(false, 'nodemon failed with ' + data);
-        cleanup(p, done, new Error(data));
+        cleanup(p, done);
       }
     });
   });
",23,"cleanup(p, done, new Error(data));","cleanup(p, done);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/13770da9f3bd61bbd83e4372a748fb1bbe31be35,13770da9f3bd61bbd83e4372a748fb1bbe31be35,"Fixed nodemon.once. Add config.run. Tests not 100% passing

Something weird is happening with required nodemon and re-running lots of times, that somehow resets the config. I know it's due to my tests, but I'm unsure which one is actually causing the damn issue. Anyway, bed for me, it's almost 2am. Sod this for a game of cricket.",2014-01-05 01:42:37+00:00,log.js,https://github.com/remy/nodemon/raw/08c758f884e639816d8c7d61a9484433e8d21615/lib/utils/log.js,https://github.com/remy/nodemon/raw/13770da9f3bd61bbd83e4372a748fb1bbe31be35/lib/utils/log.js,"@@ -51,7 +51,7 @@ Logger.prototype.required = function (val) {
 Logger.prototype.debug = false;
 Logger.prototype._log = function (type, msg) {
   if (required) {
-    bus.emit('log', { type: type, message: msg, colour: msg });
+    bus.emit('log', { type: type, message: msg || '', colour: msg || '' });
   } else if (type === 'error') {
     util.error(msg);
   } else {
",54,"bus.emit('log', { type: type, message: msg, colour: msg });","bus.emit('log', { type: type, message: msg || '', colour: msg || '' });"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/a5f81bd88303db510f7ad801d80065b38831d610,a5f81bd88303db510f7ad801d80065b38831d610,Fixed old nodemon ignore file support,2014-01-05 14:59:58+00:00,load.js,https://github.com/remy/nodemon/raw/d990b478a17c15e217b1b36a111a888c7de05362/lib/config/load.js,https://github.com/remy/nodemon/raw/a5f81bd88303db510f7ad801d80065b38831d610/lib/config/load.js,"@@ -60,7 +60,7 @@ function load(settings, options, config, callback) {
 
       // if we didn't pick up a nodemon.json file & there's no cli ignores
       // then try loading an old style .nodemonignore file
-      if (config.loaded.length === 0 && options.ignore.length === 0) {
+      if (config.loaded.length === 0) {
         // TODO decide whether this is just confusing...
         var legacy = loadLegacyIgnore.bind(null, options, ready);
 
",63,if (config.loaded.length === 0 && options.ignore.length === 0) {,if (config.loaded.length === 0) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/a5f81bd88303db510f7ad801d80065b38831d610,a5f81bd88303db510f7ad801d80065b38831d610,Fixed old nodemon ignore file support,2014-01-05 14:59:58+00:00,load.test.js,https://github.com/remy/nodemon/raw/d990b478a17c15e217b1b36a111a888c7de05362/test/config/load.test.js,https://github.com/remy/nodemon/raw/a5f81bd88303db510f7ad801d80065b38831d610/test/config/load.test.js,"@@ -73,7 +73,7 @@ describe('config load', function () {
         options = {};
 
     load(settings, options, config, function (config) {
-      assert(config.ignore.length > 0, 'no ignore rules found');
+      assert(config.ignore.length === 5, '5 rules found: ' + config.ignore);
       done();
     });
   });
",76,"assert(config.ignore.length > 0, 'no ignore rules found');","assert(config.ignore.length === 5, '5 rules found: ' + config.ignore);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/a9212e748ef74d68478f0c8ede427045ad404222,a9212e748ef74d68478f0c8ede427045ad404222,"Fixed #252. The timeout was too quick for fs.watch

I also have disabled the default assumption that watch won't work on mac (though I reserve the right to switch back!).",2014-01-06 15:07:09+00:00,checkWatchSupport.js,https://github.com/remy/nodemon/raw/b7bb663ab2689c030c8ae93fe29ec9e601402930/lib/config/checkWatchSupport.js,https://github.com/remy/nodemon/raw/a9212e748ef74d68478f0c8ede427045ad404222/lib/config/checkWatchSupport.js,"@@ -34,7 +34,7 @@ function checkWatchSupport(config, callback) {
     });
   };
 
-  config.system.noWatch = !utils.isWindows || !fs.watch;
+  config.system.noWatch = !fs.watch;
   if (config.system.noWatch) {
     exec('find -L /dev/null -type f -mtime -1s -print', function(error) {
       if (error) {
",37,config.system.noWatch = !utils.isWindows || !fs.watch;,config.system.noWatch = !fs.watch;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/96e78e672d944d4bcf8e395f4fea1e16c6940c4e,96e78e672d944d4bcf8e395f4fea1e16c6940c4e,"If user exec, then don't require script. Fixes #259.",2014-01-07 22:34:15+00:00,nodemon.js,https://github.com/remy/nodemon/raw/257098a3f2992572092eff3cb9ba8cdda22800d3/lib/nodemon.js,https://github.com/remy/nodemon/raw/96e78e672d944d4bcf8e395f4fea1e16c6940c4e/lib/nodemon.js,"@@ -50,7 +50,7 @@ function nodemon(settings) {
   }
 
   config.load(settings, function (config) {
-    if (!config.options.script) {
+    if (!config.options.script && config.options.execOptions.exec === 'node') {
       if (!config.required) {
         console.log(help('usage'));
         process.exit();
",53,if (!config.options.script) {,if (!config.options.script && config.options.execOptions.exec === 'node') {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/85b6349522571635e55eb0bc9f3382dfba7fbc19,85b6349522571635e55eb0bc9f3382dfba7fbc19,"Fixed #260 by using watchFile.

Should also close #74 as it's a similar problem. Also clarified the system
flags.",2014-01-07 15:32:52-08:00,watchable.js,https://github.com/remy/nodemon/raw/b35c3347b263e48c56638f51fbd4258fdabb54bd/lib/config/watchable.js,https://github.com/remy/nodemon/raw/85b6349522571635e55eb0bc9f3382dfba7fbc19/lib/config/watchable.js,"@@ -62,7 +62,7 @@ var finish = function() {
 
 var watchable = module.exports = function (config, ready) {
   check(function(success) {
-    config.system.watchWorks = success;
+    config.system.useWatch = success;
     if (changeDetected) {
       console.log('second call');
       utils.bus.emit('config:update');
",65,config.system.watchWorks = success;,config.system.useWatch = success;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/f636bc16f58289c8b20d04beeb22014a31117b8d,f636bc16f58289c8b20d04beeb22014a31117b8d,"execMap uses script ext to lookup. Fixes #265

+ tests",2014-01-16 22:52:39+00:00,run.js,https://github.com/remy/nodemon/raw/25abc37fd2cd47febe930e9c9324424d5b44b91e/lib/monitor/run.js,https://github.com/remy/nodemon/raw/f636bc16f58289c8b20d04beeb22014a31117b8d/lib/monitor/run.js,"@@ -161,7 +161,7 @@ run.command = function (options) {
 
   // after the ""executable"" goes the user's script
   if (options.script) {
-    args.splice(options.scriptPosition + options.execOptions.execArgs.length, 0, options.script);
+    args.splice((options.scriptPosition || 0) + options.execOptions.execArgs.length, 0, options.script);
   }
 
   return {
",164,"args.splice(options.scriptPosition + options.execOptions.execArgs.length, 0, options.script);","args.splice((options.scriptPosition || 0) + options.execOptions.execArgs.length, 0, options.script);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/2a2f1260e48d4e1ed4db08d540a67c70543acc05,2a2f1260e48d4e1ed4db08d540a67c70543acc05,"If no script, default is null, not -1. Fixes #265

Includes test and exposing the command run for debugging.",2014-01-21 07:57:27+00:00,parse.js,https://github.com/remy/nodemon/raw/43fa35a950af33286310dc9c3c448b195bf3a267/lib/cli/parse.js,https://github.com/remy/nodemon/raw/2a2f1260e48d4e1ed4db08d540a67c70543acc05/lib/cli/parse.js,"@@ -41,7 +41,7 @@ function parse(argv) {
 
   var args = argv.slice(2),
       script = null,
-      nodemonOptions = { scriptPosition: -1 };
+      nodemonOptions = { scriptPosition: null };
 
   var nodemonOpt = nodemonOption.bind(null, nodemonOptions),
       lookForArgs = true;
",44,nodemonOptions = { scriptPosition: -1 };,nodemonOptions = { scriptPosition: null };
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/2a2f1260e48d4e1ed4db08d540a67c70543acc05,2a2f1260e48d4e1ed4db08d540a67c70543acc05,"If no script, default is null, not -1. Fixes #265

Includes test and exposing the command run for debugging.",2014-01-21 07:57:27+00:00,utils.js,https://github.com/remy/nodemon/raw/43fa35a950af33286310dc9c3c448b195bf3a267/test/utils.js,https://github.com/remy/nodemon/raw/2a2f1260e48d4e1ed4db08d540a67c70543acc05/test/utils.js,"@@ -17,7 +17,7 @@ function match(str, key) {
 }
 
 function run(cmd, callbacks) {
-  var cli = asCLI(cmd);
+  var cli = typeof cmd === 'string' ? asCLI(cmd) : cmd;
   var proc = fork(cli.exec, cli.args, {
     env: process.env,
     cwd: process.cwd(),
",20,var cli = asCLI(cmd);,var cli = typeof cmd === 'string' ? asCLI(cmd) : cmd;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/f9e056b6502801a707c3c2fa5d794550b42781c9,f9e056b6502801a707c3c2fa5d794550b42781c9,"Don't follow symlinks on stat

Fixes #395 (somehow I fucked up the merge)",2014-12-05 09:19:53+00:00,watch.js,https://github.com/remy/nodemon/raw/06bcabef902c65d9db7f883db87ab35eba296a30/lib/monitor/watch.js,https://github.com/remy/nodemon/raw/f9e056b6502801a707c3c2fa5d794550b42781c9/lib/monitor/watch.js,"@@ -109,7 +109,7 @@ bus.on('config:update', function () {
             files.forEach(function (rawfile) {
               var file = path.join(dir, rawfile);
               if (watched.indexOf(file) === -1 && ignoredFilter(file)) {
-                fs.stat(file, function (err, stat) {
+                fs.lstat(file, function (err, stat) {
                   if (err || !stat) { return; }
 
                   // if we're using fs.watch, then watch directories
",112,"fs.stat(file, function (err, stat) {","fs.lstat(file, function (err, stat) {"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/da72f41e4692ebe25107badb81e9bbd94ac58b3b,da72f41e4692ebe25107badb81e9bbd94ac58b3b,"Fixed windows support

Except windows shutdown before I had a chance run npm test - but it work!",2014-12-09 17:09:52+00:00,run.js,https://github.com/remy/nodemon/raw/fb26d42982e6bbc2dcedca7f38e46dc5872699e2/lib/monitor/run.js,https://github.com/remy/nodemon/raw/da72f41e4692ebe25107badb81e9bbd94ac58b3b/lib/monitor/run.js,"@@ -34,7 +34,7 @@ function run(options) {
   var sh = 'sh';
   var shFlag = '-c';
 
-  if (utils.isWindows === 'win32') {
+  if (utils.isWindows) {
     sh = 'cmd';
     shFlag = '/c';
   }
",37,if (utils.isWindows === 'win32') {,if (utils.isWindows) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/bab695de9733e36a72ca9af7bc5bd7cf026c47c7,bab695de9733e36a72ca9af7bc5bd7cf026c47c7,Fixing tests on windows,2014-12-09 22:06:15+00:00,utils.js,https://github.com/remy/nodemon/raw/f13539a3f364f776f49e335ed65e114dc4c069b3/test/utils.js,https://github.com/remy/nodemon/raw/bab695de9733e36a72ca9af7bc5bd7cf026c47c7/test/utils.js,"@@ -70,7 +70,7 @@ function run(cmd, callbacks) {
 
 function cleanup(p, done, err) {
   if (p) {
-    p.on('exit', function () {
+    p.once('exit', function () {
       p = null;
       done(err);
     });
",73,"p.on('exit', function () {","p.once('exit', function () {"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/b70b81612c403a6d92ad262ac9298c459405579c,b70b81612c403a6d92ad262ac9298c459405579c,"Removed script, exec, ext from options

This commit removes the duplication that happened at the options and options.execOptions level. Now all exec related information lives in options.execOptions.

I've updated all the references and tests that referred to things like options.script, etc.

This also fixes the (new) bug with exec argments not being placed in the right position when the script is detected via a package (so it reads `node --debug app.js` - this is resolved in command.js (due to the flattening of the config).

I've also fixed a few tests that said they were passing, but actually should have failed (but didn't because I was mocking too much of the code).",2015-01-03 15:35:11+00:00,nodemon.js,https://github.com/remy/nodemon/raw/e3faa34c7f70b3c421cd78b920174ecbe00e2318/lib/nodemon.js,https://github.com/remy/nodemon/raw/b70b81612c403a6d92ad262ac9298c459405579c/lib/nodemon.js,"@@ -62,7 +62,7 @@ function nodemon(settings) {
   }
 
   config.load(settings, function (config) {
-    if (!config.options.dump && !config.options.script && config.options.execOptions.exec === 'node') {
+    if (!config.options.dump && !config.options.execOptions.script && config.options.execOptions.exec === 'node') {
       if (!config.required) {
         console.log(help('usage'));
         process.exit();
",65,if (!config.options.dump && !config.options.script && config.options.execOptions.exec === 'node') {,if (!config.options.dump && !config.options.execOptions.script && config.options.execOptions.exec === 'node') {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/b09a37f2e81f86423cd53e67ae8f491335dc23f2,b09a37f2e81f86423cd53e67ae8f491335dc23f2,"Fixed ""watching extension: undefined""",2015-01-07 21:45:14+00:00,nodemon.js,https://github.com/remy/nodemon/raw/061454555a5f736bf27bca95f05243ba4630d588/lib/nodemon.js,https://github.com/remy/nodemon/raw/b09a37f2e81f86423cd53e67ae8f491335dc23f2/lib/nodemon.js,"@@ -138,7 +138,7 @@ function nodemon(settings) {
       return rule.slice(0, 1) !== '!' ? rule : false;
     }).filter(none).join(' '));
 
-    utils.log.detail('watching extensions: ' + config.options.ext);
+    utils.log.detail('watching extensions: ' + config.options.execOptions.ext);
 
 
     if (config.options.dump) {
",141,utils.log.detail('watching extensions: ' + config.options.ext);,utils.log.detail('watching extensions: ' + config.options.execOptions.ext);
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/8d08b183a19d4c62e43c26df178007497f379a34,8d08b183a19d4c62e43c26df178007497f379a34,"Fixed nodemon require reset fully

And related events test",2015-01-07 21:45:14+00:00,nodemon.js,https://github.com/remy/nodemon/raw/b09a37f2e81f86423cd53e67ae8f491335dc23f2/lib/nodemon.js,https://github.com/remy/nodemon/raw/8d08b183a19d4c62e43c26df178007497f379a34/lib/nodemon.js,"@@ -219,7 +219,7 @@ nodemon.reset = function (done) {
   monitor.run.kill(true, function () {
     nodemon.removeAllListeners();
     utils.reset();
-    rules.reset();
+    config.reset();
     config.run = false;
     if (done) {
       done();
",222,rules.reset();,config.reset();
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/89f0dd32e1a54382e6da19992adc1f7eca32fb7f,89f0dd32e1a54382e6da19992adc1f7eca32fb7f,Trying to fix test that randomly breaks,2015-01-16 10:19:40+00:00,change-detect.test.js,https://github.com/remy/nodemon/raw/65d2d49120aa8fe2ee29c649db0de1af543a7406/test/fork/change-detect.test.js,https://github.com/remy/nodemon/raw/89f0dd32e1a54382e6da19992adc1f7eca32fb7f/test/fork/change-detect.test.js,"@@ -37,7 +37,7 @@ describe('nodemon fork monitor', function () {
           startWatch = true;
         }
         if (startWatch && match(data, 'changes after filters')) {
-          var changes = colour.strip(data.trim()).slice(-5).split('/');
+          var changes = colour.strip(data.split('\n').shift().trim()).slice(-5).split('/');
           var restartedOn = changes.pop();
           assert(restartedOn === '1', 'nodemon restarted on 1 file: ' + restartedOn + ' / ' + data.toString());
         }
",40,var changes = colour.strip(data.trim()).slice(-5).split('/');,var changes = colour.strip(data.split('\n').shift().trim()).slice(-5).split('/');
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/bac129079ae49b022a593036bc7ea32d2b64638d,bac129079ae49b022a593036bc7ea32d2b64638d,"Fix broken regexp

> nodemon fork monitor should restart on .js file changes with no arguments",2015-01-16 16:16:40+00:00,change-detect.test.js,https://github.com/remy/nodemon/raw/a36dece91d120ec8fecc87f594d134cd00134d0c/test/fork/change-detect.test.js,https://github.com/remy/nodemon/raw/bac129079ae49b022a593036bc7ea32d2b64638d/test/fork/change-detect.test.js,"@@ -37,7 +37,7 @@ describe('nodemon fork monitor', function () {
           startWatch = true;
         }
         if (startWatch && match(data, 'changes after filters')) {
-          var changes = colour.strip(data.split('\n').shift().trim()).slice(-5).split('/');
+          var changes = colour.strip(data.trim()).split('changes after filters').pop().split('/');
           var restartedOn = changes.pop();
           assert(restartedOn === '1', 'nodemon restarted on 1 file: ' + restartedOn + ' / ' + data.toString());
         }
",40,var changes = colour.strip(data.split('\n').shift().trim()).slice(-5).split('/');,var changes = colour.strip(data.trim()).split('changes after filters').pop().split('/');
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/5016a38b0a3951e09dcbb6924e50fdca0c8ae445,5016a38b0a3951e09dcbb6924e50fdca0c8ae445,"Fixed crazy restart loop

Ensure we don't restart when the last find was 0 seconds ago",2015-01-19 17:07:17+00:00,complete.test.js,https://github.com/remy/nodemon/raw/1bb7c01fb69362a9a333c82cd203e8b02e77a7cc/test/events/complete.test.js,https://github.com/remy/nodemon/raw/5016a38b0a3951e09dcbb6924e50fdca0c8ae445/test/events/complete.test.js,"@@ -98,7 +98,7 @@ describe('events should follow normal flow on user triggered change', function (
     nodemon(conf()).on('restart', function (files) {
       assert(true, '""restart"" event with ' + files);
       assert(files[0] === appjs, 'restart due to ' + files.join(' ') + ' changing');
-    }).on('exit', function () {
+    }).once('exit', function () {
       plan.assert(true, '""exit"" event');
       setTimeout(function () {
         plan.assert(true, 'restarting');
",101,"}).on('exit', function () {","}).once('exit', function () {"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/a71db72eceec552a405298f544b24d962ac6a0f3,a71db72eceec552a405298f544b24d962ac6a0f3,"when running a coffee file, use --nodejs correctly

Previously, the --nodejs flag was being prepended if you had any
arguments prefixed with '--', even if they were intended for your
application. There is an additional problem where arguments intended for
node js need to be grouped into a single argument passed after --nodejs.

After this patch, any flag before your script is considered a nodejs
argument. These, along with any other exec arguments are bundled into a
single argument separated by spaces.

Fixes #530",2015-04-22 13:42:52-04:00,exec.test.js,https://github.com/remy/nodemon/raw/55320b7d85fa3f909cf997181b9b8a0bd22052e2/test/cli/exec.test.js,https://github.com/remy/nodemon/raw/a71db72eceec552a405298f544b24d962ac6a0f3/test/cli/exec.test.js,"@@ -87,7 +87,7 @@ describe('nodemon exec', function () {
     var options = exec({ script: 'app.coffee', nodeArgs: [ '--debug' ] });
 
     assert(options.exec.indexOf('coffee') === 0, 'using coffeescript to execute');
-    assert(options.execArgs.indexOf('--debug') !== -1);
+    assert(options.execArgs[1].indexOf('--debug') !== -1);
     assert(options.ext.indexOf('coffee') !== -1);
   });
 
",90,assert(options.execArgs.indexOf('--debug') !== -1);,assert(options.execArgs[1].indexOf('--debug') !== -1);
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/7250919e6df55f6dfce3ee0ce68fcb32ceceacff,7250919e6df55f6dfce3ee0ce68fcb32ceceacff,fix: restore file count in verbose mode,2015-09-12 11:34:20+01:00,index.test.js,https://github.com/remy/nodemon/raw/0a8b986239d4b376be52029c7fb8aa48adfb022e/test/rules/index.test.js,https://github.com/remy/nodemon/raw/7250919e6df55f6dfce3ee0ce68fcb32ceceacff/test/rules/index.test.js,"@@ -19,7 +19,7 @@ describe('nodemon rules', function () {
     regexp: loadfixtures('regexp'),
     default: loadfixtures('default'),
     simple: loadfixtures('simple'),
-    simplejson: loadfixtures('simple.json')
+    simplejson: loadfixtures('simple.json'),
   };
 
   beforeEach(function (done) {
",22,simplejson: loadfixtures('simple.json'),"simplejson: loadfixtures('simple.json'),"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/489f22dc9349e388c1ec8f3a7d06f30876dcf979,489f22dc9349e388c1ec8f3a7d06f30876dcf979,"fix: restore --legacy-watch

Pass the `usePolling` flag to Chokidar when in legacy mode, which is supposed to/hopefully fix containers watching network attached drives.

Fixes #639
Fixes #633",2015-09-19 08:20:39+01:00,parse.test.js,https://github.com/remy/nodemon/raw/223542e79285c8a55fe81b8b78a84f5755e8101f/test/cli/parse.test.js,https://github.com/remy/nodemon/raw/489f22dc9349e388c1ec8f3a7d06f30876dcf979/test/cli/parse.test.js,"@@ -39,7 +39,7 @@ describe('nodemon CLI parser', function () {
     var settings = parse(asCLI('--debug'));
     var cmd = commandToString(command(settings));
     process.chdir(cwd);
-    assert(cmd === 'node --debug ./bin/www')
+    assert(cmd === 'node --debug ./bin/www');
   });
 
   it('should replace {{filename}}', function () {
",42,assert(cmd === 'node --debug ./bin/www'),assert(cmd === 'node --debug ./bin/www');
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/8af4b4bc81667ffb944576bd83a2d61cec28db92,8af4b4bc81667ffb944576bd83a2d61cec28db92,"fix: make control over ignoreRoot easier

And add documentation and tests",2015-09-21 10:23:19+01:00,defaults.js,https://github.com/remy/nodemon/raw/d817866eaba43078f6746ce05189f3dba836bf84/lib/config/defaults.js,https://github.com/remy/nodemon/raw/8af4b4bc81667ffb944576bd83a2d61cec28db92/lib/config/defaults.js,"@@ -9,7 +9,7 @@ module.exports = {
     // compatible with linux, mac and windows, or make the default.js
     // dynamically append the `.cmd` for node based utilities
   },
-  ignore: ['.git', 'node_modules', 'bower_components', '.sass-cache'],
+  ignoreRoot: ['.git', 'node_modules', 'bower_components', '.sass-cache'],
   watch: ['*.*'],
   stdin: true,
   runOnChangeOnly: false,
",12,"ignore: ['.git', 'node_modules', 'bower_components', '.sass-cache'],","ignoreRoot: ['.git', 'node_modules', 'bower_components', '.sass-cache'],"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/6a5397e1664b40bacc10224065e00bae81595c2c,6a5397e1664b40bacc10224065e00bae81595c2c,"fix: allows user to not watch

Fixes #516",2015-09-21 11:24:16+01:00,load.js,https://github.com/remy/nodemon/raw/8af4b4bc81667ffb944576bd83a2d61cec28db92/lib/config/load.js,https://github.com/remy/nodemon/raw/6a5397e1664b40bacc10224065e00bae81595c2c/lib/config/load.js,"@@ -137,7 +137,7 @@ function normaliseRules(options, ready) {
   rules.ignore.add(options.ignore);
 
   // normalise the watch and ignore arrays
-  options.watch = rules.rules.watch;
+  options.watch = options.watch === false ? false : rules.rules.watch;
   options.ignore = rules.rules.ignore;
 
   ready(options);
",140,options.watch = rules.rules.watch;,options.watch = options.watch === false ? false : rules.rules.watch;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/526811d9b020e8460037656f3d983b69853fcbfc,526811d9b020e8460037656f3d983b69853fcbfc,"fix: make control over ignoreRoot easier

And add documentation and tests",2015-10-19 12:27:53+01:00,defaults.js,https://github.com/remy/nodemon/raw/29cf71e9795177b0572e334065bcc439d051fe08/lib/config/defaults.js,https://github.com/remy/nodemon/raw/526811d9b020e8460037656f3d983b69853fcbfc/lib/config/defaults.js,"@@ -9,7 +9,7 @@ module.exports = {
     // compatible with linux, mac and windows, or make the default.js
     // dynamically append the `.cmd` for node based utilities
   },
-  ignore: ['.git', 'node_modules', 'bower_components', '.sass-cache'],
+  ignoreRoot: ['.git', 'node_modules', 'bower_components', '.sass-cache'],
   watch: ['*.*'],
   stdin: true,
   runOnChangeOnly: false,
",12,"ignore: ['.git', 'node_modules', 'bower_components', '.sass-cache'],","ignoreRoot: ['.git', 'node_modules', 'bower_components', '.sass-cache'],"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/a3b6c3ec266ca585c452df69cd9dcb671f0b2b25,a3b6c3ec266ca585c452df69cd9dcb671f0b2b25,"fix: allows user to not watch

Fixes #516",2015-10-19 12:27:53+01:00,load.js,https://github.com/remy/nodemon/raw/526811d9b020e8460037656f3d983b69853fcbfc/lib/config/load.js,https://github.com/remy/nodemon/raw/a3b6c3ec266ca585c452df69cd9dcb671f0b2b25/lib/config/load.js,"@@ -137,7 +137,7 @@ function normaliseRules(options, ready) {
   rules.ignore.add(options.ignore);
 
   // normalise the watch and ignore arrays
-  options.watch = rules.rules.watch;
+  options.watch = options.watch === false ? false : rules.rules.watch;
   options.ignore = rules.rules.ignore;
 
   ready(options);
",140,options.watch = rules.rules.watch;,options.watch = options.watch === false ? false : rules.rules.watch;
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/4c195df510eb97a6c86cc479f110a2f71e338062,4c195df510eb97a6c86cc479f110a2f71e338062,"fix: JSON extension not watched when ""scriptExt"" is defined

Fix a bug that caused "".json"" files to not be watched by default.

closes #643",2015-10-20 15:38:50+02:00,exec.js,https://github.com/remy/nodemon/raw/e9d85b2afd55604b416a65eefe2653c7b1af0907/lib/config/exec.js,https://github.com/remy/nodemon/raw/4c195df510eb97a6c86cc479f110a2f71e338062/lib/config/exec.js,"@@ -73,7 +73,7 @@ function exec(nodemonOptions, execMap) {
   var options = utils.clone(nodemonOptions || {});
   var script = path.basename(options.script || '');
   var scriptExt = path.extname(script).slice(1);
-  var extension = options.ext || scriptExt || 'js,json';
+  var extension = options.ext || scriptExt + ',json' || 'js,json';
   var execDefined = !!options.exec;
 
   // allows the user to simplify cli usage:
",76,"var extension = options.ext || scriptExt || 'js,json';","var extension = options.ext || scriptExt + ',json' || 'js,json';"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/3480f37aab325b6ae4e17058078742d586724860,3480f37aab325b6ae4e17058078742d586724860,"fix: watch js, json files by default

In node the file extension is optional, so by default nodemon should watch
js and json files.

Closes #710",2015-10-29 20:03:43+01:00,exec.js,https://github.com/remy/nodemon/raw/f5d1a04cc80f1bc963c20627177e545be42aeee7/lib/config/exec.js,https://github.com/remy/nodemon/raw/3480f37aab325b6ae4e17058078742d586724860/lib/config/exec.js,"@@ -73,7 +73,7 @@ function exec(nodemonOptions, execMap) {
   var options = utils.clone(nodemonOptions || {});
   var script = path.basename(options.script || '');
   var scriptExt = path.extname(script).slice(1);
-  var extension = options.ext || scriptExt + ',json' || 'js,json';
+  var extension = options.ext || (scriptExt ? scriptExt + ',json' : 'js,json');
   var execDefined = !!options.exec;
 
   // allows the user to simplify cli usage:
",76,"var extension = options.ext || scriptExt + ',json' || 'js,json';","var extension = options.ext || (scriptExt ? scriptExt + ',json' : 'js,json');"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/1addfea880070ce3ea9077214966e2c4353e9295,1addfea880070ce3ea9077214966e2c4353e9295,fix: update regex to include unicode extensions -- no tests yet cc: @remy,2016-02-25 11:35:13+01:00,exec.js,https://github.com/remy/nodemon/raw/e619021805a7555093666edb900efad78de0fc8b/lib/config/exec.js,https://github.com/remy/nodemon/raw/1addfea880070ce3ea9077214966e2c4353e9295/lib/config/exec.js,"@@ -155,7 +155,7 @@ function exec(nodemonOptions, execMap) {
   // BIG NOTE: user can't do this: nodemon -e *.js
   // because the terminal will automatically expand the glob against
   // the file system :(
-  extension = extension.match(/\w+/g).join(',');
+  extension = extension.match(/[^,.\s]+/g).join(',');
 
   options.ext = extension;
 
",158,"extension = extension.match(/\w+/g).join(',');","extension = extension.match(/[^,.\s]+/g).join(',');"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/bded0ac54970f6ab99ae8b53f5c29f7289df18ce,bded0ac54970f6ab99ae8b53f5c29f7289df18ce,fix(stdin): don't watch for 'rs' when --no-stdin is provided,2016-04-10 00:16:21+02:00,nodemon.js,https://github.com/remy/nodemon/raw/6ccb29864c7a17b578a5a09b9a2dd382bbb41066/lib/nodemon.js,https://github.com/remy/nodemon/raw/bded0ac54970f6ab99ae8b53f5c29f7289df18ce/lib/nodemon.js,"@@ -89,7 +89,7 @@ function nodemon(settings) {
     });
 
     // echo out notices about running state
-    if (config.options.restartable) {
+    if (config.options.stdin && config.options.restartable) {
       // allow nodemon to restart when the use types 'rs\n'
       process.stdin.resume();
       process.stdin.setEncoding('utf8');
",92,if (config.options.restartable) {,if (config.options.stdin && config.options.restartable) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/facc8cb2c708babc8b62f6d569d8cb38a1c243f0,facc8cb2c708babc8b62f6d569d8cb38a1c243f0,"fix: exit with code 1 on crash if --exitcrash (#946)

I'm using nodemon in a docker container with a restart policy configured to restart the container in case it crashes. If the app crashes, nodemon exits with code 0 and docker assumes it was a graceful exit, so it does not restart my container. I don't see the harm in changing the exit code here to reflect an unexpected termination, given that this path is only exercised in the event of a crash.",2017-09-04 20:16:40+01:00,run.js,https://github.com/remy/nodemon/raw/481dc8f8effe90beb6d8c05ff20c9cf7a1c57164/lib/monitor/run.js,https://github.com/remy/nodemon/raw/facc8cb2c708babc8b62f6d569d8cb38a1c243f0/lib/monitor/run.js,"@@ -169,7 +169,7 @@ function run(options) {
       if (options.exitcrash) {
         utils.log.fail('app crashed');
         if (!config.required) {
-          process.exit(0);
+          process.exit(1);
         }
       } else {
         utils.log.fail('app crashed - waiting for file changes before' +
",172,process.exit(0);,process.exit(1);
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/0e4b310c1c27b5783a1d61f373a95110e21d8ee8,0e4b310c1c27b5783a1d61f373a95110e21d8ee8,Fix: nodemon can't read config files encoded with BOM e.g. UTF-8-BOM #1031,2017-09-04 20:26:28+01:00,load.js,https://github.com/remy/nodemon/raw/fb5da380c8d2b72cd3da59fb7b5c174ff071be89/lib/config/load.js,https://github.com/remy/nodemon/raw/0e4b310c1c27b5783a1d61f373a95110e21d8ee8/lib/config/load.js,"@@ -184,7 +184,7 @@ function loadFile(options, config, dir, ready) {
     var settings = {};
 
     try {
-      settings = JSON.parse(data);
+      settings = JSON.parse(data.toString('utf8').replace(/^\uFEFF/, ''));
       config.loaded.push(filename);
     } catch (e) {
       console.error(e);
",187,settings = JSON.parse(data);,"settings = JSON.parse(data.toString('utf8').replace(/^\uFEFF/, ''));"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/fd961d605305805fe3b6df414339a2774a27239a,fd961d605305805fe3b6df414339a2774a27239a,fix: defensive check on accessing cmd.args,2017-12-13 22:17:13+00:00,run.js,https://github.com/remy/nodemon/raw/fa64cdcc8a8542d82117e6bce70f8ae44c2678f3/lib/monitor/run.js,https://github.com/remy/nodemon/raw/fd961d605305805fe3b6df414339a2774a27239a/lib/monitor/run.js,"@@ -86,7 +86,7 @@ function run(options) {
   if (
     // this is a hack to avoid forking if there's a node argument being passed
     // it's a short term fix, and I'm not 100% sure that `fork` is the right way
-    cmd.args[0].indexOf('-') === -1 &&
+    (cmd.args[0] || '').indexOf('-') === -1 &&
     executable === 'node' &&
     utils.version.major > 4
   ) {
",89,cmd.args[0].indexOf('-') === -1 &&,(cmd.args[0] || '').indexOf('-') === -1 &&
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/a282afbbe3f0d5bbcf45c934945d91dc960973a1,a282afbbe3f0d5bbcf45c934945d91dc960973a1,"fix: support nodemon index to expand to index.js

With support for custom extensions (picking only the first).

Fixes #1165",2017-12-15 08:45:49+00:00,parse.test.js,https://github.com/remy/nodemon/raw/fd961d605305805fe3b6df414339a2774a27239a/test/cli/parse.test.js,https://github.com/remy/nodemon/raw/a282afbbe3f0d5bbcf45c934945d91dc960973a1/test/cli/parse.test.js,"@@ -162,7 +162,7 @@ describe('nodemon CLI parser', function () {
 
   it('should support stand alone `nodemon` command', function () {
     var settings = parse(asCLI(''));
-    assert(settings.execOptions.script === pkg.main);
+    assert(settings.execOptions.script === pkg.main + '.js', `${settings.execOptions.script} === ${pkg.main}`);
   });
 
   it('should put --debug in the right place with coffescript', function () {
",165,assert(settings.execOptions.script === pkg.main);,"assert(settings.execOptions.script === pkg.main + '.js', `${settings.execOptions.script} === ${pkg.main}`);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/aa18c806b37715a5b13aa7660e098f1fe7319a1c,aa18c806b37715a5b13aa7660e098f1fe7319a1c,"fix: don't throw when required in the repl

Fixes #1292",2018-03-31 08:40:08+01:00,index.js,https://github.com/remy/nodemon/raw/89d6062c687dce31f7878f3b7f427ed332e5cdd9/lib/utils/index.js,https://github.com/remy/nodemon/raw/aa18c806b37715a5b13aa7660e098f1fe7319a1c/lib/utils/index.js,"@@ -21,7 +21,7 @@ var utils = (module.exports = {
     var p = module.parent;
     while (p) {
       // in electron.js engine it happens
-      if (p.filename === undefined) {
+      if (!p.filename) {
         return true;
       }
       if (p.filename.indexOf('bin' + path.sep + 'nodemon.js') !== -1) {
",24,if (p.filename === undefined) {,if (!p.filename) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/97f8d0a1750003b5bc9a6fe7c676b1d996b13c88,97f8d0a1750003b5bc9a6fe7c676b1d996b13c88,"fix: node_modules watched off relative path (#1328)

* chore: bump chokidar to latest
* test: fix weird output on restart filename
* test: skip old broken test
* fix: node_modules watched off relative path

Fixes #1294
Fixes #1305 (though couldn't confirm - just looks very similar)

I've gone back and forth on this Chokidar option `cwd` and in this fix
I've removed it from the config. I've checked the issues that were
raised that caused me to add the option, and they still appear to pass
in the tests, so I believe it's okay.

However, it _might_ come back in - just a note for Future @remy.",2018-05-05 20:17:21+01:00,index.js,https://github.com/remy/nodemon/raw/9bbc219fd5c92251071e40894e64a43414c3bc7b/lib/config/index.js,https://github.com/remy/nodemon/raw/97f8d0a1750003b5bc9a6fe7c676b1d996b13c88/lib/config/index.js,"@@ -83,7 +83,7 @@ config.load = function (settings, ready) {
     }).catch(e => {
       // this doesn't help testing, but does give exposure on syntax errors
       console.error(e.stack);
-      throw e;
+      setTimeout(() => { throw e; }, 0);
     });
   });
 };
",86,throw e;,"setTimeout(() => { throw e; }, 0);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/5a47a32f791645d4ab1b765c159aad42f2986976,5a47a32f791645d4ab1b765c159aad42f2986976,fix: properly pass options to chokidar,2018-08-29 18:47:51+01:00,watch.js,https://github.com/remy/nodemon/raw/b8ff6b42e4ff2493f8fe921f5f0c0df26a926ab1/lib/monitor/watch.js,https://github.com/remy/nodemon/raw/5a47a32f791645d4ab1b765c159aad42f2986976/lib/monitor/watch.js,"@@ -70,7 +70,7 @@ function watch() {
 
     var watcher = chokidar.watch(
       dirs,
-      Object.assign({}, watchOptions, config.watchOptions || {})
+      Object.assign({}, watchOptions, config.options.watchOptions || {})
     );
 
     watcher.ready = false;
",73,"Object.assign({}, watchOptions, config.watchOptions || {})","Object.assign({}, watchOptions, config.options.watchOptions || {})"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/21e052eddf144b27a7c0eb9c603236707003d75d,21e052eddf144b27a7c0eb9c603236707003d75d,"fix: upgrade pstree to remove vulnerability

Fixes #1463
Fixes #1469
Fixes #1464 

Completely removes the old method of `pstree[.remy]` and drops the event-stream vuln at the same time.",2018-11-27 08:45:11+00:00,run-mac-only.test.js,https://github.com/remy/nodemon/raw/68936d9ad3b63f65d1e3303521644e3389706239/test/fork/run-mac-only.test.js,https://github.com/remy/nodemon/raw/21e052eddf144b27a7c0eb9c603236707003d75d/test/fork/run-mac-only.test.js,"@@ -9,7 +9,7 @@ const filenames = [
   [__dirname + 'some\ \\file', '#!/bin/sh\necho ""OK""'],
 ];
 
-if (!process.env.TRAVIS && process.platform === 'darwin') {
+if (false && !process.env.TRAVIS && process.platform === 'darwin') {
   describe('nodemon fork (mac only)', () => {
     before(() => {
       filenames.map(file => fs.writeFileSync(file[0], file[1], 'utf8'));
",12,if (!process.env.TRAVIS && process.platform === 'darwin') {,if (false && !process.env.TRAVIS && process.platform === 'darwin') {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/2973afbd26e2c9a9f9676fed8ab63999022ea7ca,2973afbd26e2c9a9f9676fed8ab63999022ea7ca,"fix: Quote zero-length strings in arguments (#1551)

If a zero-length string is passed, it does not get properly quoted, and then it is not properly passed to the child process",2019-05-01 08:04:25+01:00,index.js,https://github.com/remy/nodemon/raw/aa41ab2124679306000351bef3e9a4366636f72a/lib/utils/index.js,https://github.com/remy/nodemon/raw/2973afbd26e2c9a9f9676fed8ab63999022ea7ca/lib/utils/index.js,"@@ -69,7 +69,7 @@ var utils = (module.exports = {
       args.map(function (arg) {
         // if an argument contains a space, we want to show it with quotes
         // around it to indicate that it is a single argument
-        if (arg.indexOf(' ') === -1) {
+        if (arg.length > 0 && arg.indexOf(' ') === -1) {
           return arg;
         }
         // this should correctly escape nested quotes
",72,if (arg.indexOf(' ') === -1) {,if (arg.length > 0 && arg.indexOf(' ') === -1) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/13afac22a3959ee61cebae6034b607c886d2f9b1,13afac22a3959ee61cebae6034b607c886d2f9b1,fix: ensure signal is sent to exit event,2019-05-08 15:01:50+01:00,run.js,https://github.com/remy/nodemon/raw/aa41ab2124679306000351bef3e9a4366636f72a/lib/monitor/run.js,https://github.com/remy/nodemon/raw/13afac22a3959ee61cebae6034b607c886d2f9b1/lib/monitor/run.js,"@@ -195,7 +195,7 @@ function run(options) {
     if (signal === config.signal || code === 0) {
       // this was a clean exit, so emit exit, rather than crash
       debug('bus.emit(exit) via ' + config.signal);
-      bus.emit('exit');
+      bus.emit('exit', signal);
 
       // exit the monitor, but do it gracefully
       if (signal === config.signal) {
",198,bus.emit('exit');,"bus.emit('exit', signal);"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/eead311749357d4809c0c8ba353e31376f2ea776,eead311749357d4809c0c8ba353e31376f2ea776,"fix: to avoid confusion like in #1528, always report used extension",2019-09-29 11:01:52+01:00,nodemon.js,https://github.com/remy/nodemon/raw/12b66cd492b4b06ffc91da57eca4794c25f05632/lib/nodemon.js,https://github.com/remy/nodemon/raw/eead311749357d4809c0c8ba353e31376f2ea776/lib/nodemon.js,"@@ -192,7 +192,7 @@ function nodemon(settings) {
       return false;
     }).filter(Boolean).join(' '));
 
-    utils.log.detail('watching extensions: ' + (config.options.execOptions.ext || '(all)'));
+    utils.log.info('watching extensions: ' + (config.options.execOptions.ext || '(all)'));
 
     if (config.options.dump) {
       utils.log._log('log', '--------------');
",195,utils.log.detail('watching extensions: ' + (config.options.execOptions.ext || '(all)'));,utils.log.info('watching extensions: ' + (config.options.execOptions.ext || '(all)'));
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/33ae6dae33ff0b3ec6344966145f3a33476f9491,33ae6dae33ff0b3ec6344966145f3a33476f9491,"test: fix failing test when required

I suspect, though not 100% sure, that this test fails because it was
being required and when so, chokidar is already watching and thus fires
before the config is loaded.",2020-04-08 17:55:50+01:00,index.js,https://github.com/remy/nodemon/raw/a4490e2156bd541e4fb4fd66d906a31319a1aae3/lib/config/index.js,https://github.com/remy/nodemon/raw/33ae6dae33ff0b3ec6344966145f3a33476f9491/lib/config/index.js,"@@ -17,7 +17,7 @@ function reset() {
   rules.reset();
 
   config.dirs = [];
-  config.options = { ignore: [], watch: [] };
+  config.options = { ignore: [], watch: [], monitor: [] };
   config.lastStarted = 0;
   config.loaded = [];
 }
",20,"config.options = { ignore: [], watch: [] };","config.options = { ignore: [], watch: [], monitor: [] };"
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/273d7748222d1d441de0519cce82993221eb2d17,273d7748222d1d441de0519cce82993221eb2d17,"fix: respect env.OPENCOLLECTIVE_HIDE (#1765)

Co-authored-by: Josh Woodcock <josh@spacee.com>",2020-09-17 16:37:47+01:00,postinstall.js,https://github.com/remy/nodemon/raw/6c471af09abd0ae75ce42f38fb14f0810e089652/bin/postinstall.js,https://github.com/remy/nodemon/raw/273d7748222d1d441de0519cce82993221eb2d17/bin/postinstall.js,"@@ -1,7 +1,7 @@
 #!/usr/bin/env node
 
 function main() {
-  if (process.env.SUPPRESS_SUPPORT) {
+  if (process.env.SUPPRESS_SUPPORT || process.env.OPENCOLLECTIVE_HIDE) {
     return;
   }
 
",4,if (process.env.SUPPRESS_SUPPORT) {,if (process.env.SUPPRESS_SUPPORT || process.env.OPENCOLLECTIVE_HIDE) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/2967726673496ae6cf35904cb4e83013c6e2ccd3,2967726673496ae6cf35904cb4e83013c6e2ccd3,"fix: package.main with -- arguments (#1773)

* fix: package.main with -- arguments

Fixes #1758

The combination of using a package.main (which sets the script
position to index zero) and using the -- stop slurp meant that
the arguments had the script appended to the end instead of
prepended to the start. The net result meant that when the script
was forked, it would drop the first user arg.

See diff for details of the fix - a simple check against null.

* fix: protect against missing opts",2020-10-04 16:44:26+01:00,watch.js,https://github.com/remy/nodemon/raw/273d7748222d1d441de0519cce82993221eb2d17/lib/monitor/watch.js,https://github.com/remy/nodemon/raw/2967726673496ae6cf35904cb4e83013c6e2ccd3/lib/monitor/watch.js,"@@ -177,7 +177,7 @@ function filterAndRestart(files) {
 
     // if there's no matches, then test to see if the changed file is the
     // running script, if so, let's allow a restart
-    if (config.options.execOptions.script) {
+    if (config.options.execOptions && config.options.execOptions.script) {
       const script = path.resolve(config.options.execOptions.script);
       if (matched.result.length === 0 && script) {
         const length = script.length;
",180,if (config.options.execOptions.script) {,if (config.options.execOptions && config.options.execOptions.script) {
nodemon,https://github.com/remy/nodemon,https://github.com/remy/nodemon/commit/3d2320fa0a3627f1700be6ae3ab68a0e3a42b783,3d2320fa0a3627f1700be6ae3ab68a0e3a42b783,fix: postinstall hide message in CI,2020-11-24 19:27:23+00:00,postinstall.js,https://github.com/remy/nodemon/raw/f74f4a20772b5d96506386d2e35569bc3e2c1811/bin/postinstall.js,https://github.com/remy/nodemon/raw/3d2320fa0a3627f1700be6ae3ab68a0e3a42b783/bin/postinstall.js,"@@ -1,7 +1,7 @@
 #!/usr/bin/env node
 
 function main() {
-  if (process.env.SUPPRESS_SUPPORT || process.env.OPENCOLLECTIVE_HIDE) {
+  if (process.env.SUPPRESS_SUPPORT || process.env.OPENCOLLECTIVE_HIDE || process.env.CI) {
     return;
   }
 
",4,if (process.env.SUPPRESS_SUPPORT || process.env.OPENCOLLECTIVE_HIDE) {,if (process.env.SUPPRESS_SUPPORT || process.env.OPENCOLLECTIVE_HIDE || process.env.CI) {
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/4e960e343a95e94f14eae60793195909c81c9d3d,4e960e343a95e94f14eae60793195909c81c9d3d,"Fixed EventEmitter#emit()

fail",2011-12-01 08:55:37-08:00,events.js,https://github.com/visionmedia/superagent/raw/593a01df02dce51fab06e6dd18782605f99c1c05/lib/events.js,https://github.com/visionmedia/superagent/raw/4e960e343a95e94f14eae60793195909c81c9d3d/lib/events.js,"@@ -47,7 +47,7 @@ EventEmitter.prototype.emit = function(event){
 
   if (callbacks) {
     for (var i = 0, len = callbacks.length; i < len; ++i) {
-      callbacks[i](args);
+      callbacks[i].apply(this, args);
     }
   }
 
",50,callbacks[i](args);,"callbacks[i].apply(this, args);"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/48f8916c9c834f482b00b6e17609980a87d9a09c,48f8916c9c834f482b00b6e17609980a87d9a09c,Fixed array support. Closes #35 [node],2011-12-22 05:09:14-08:00,index.js,https://github.com/visionmedia/superagent/raw/b735dcb31251a31f411adf119180b83547f3ee32/lib/node/index.js,https://github.com/visionmedia/superagent/raw/48f8916c9c834f482b00b6e17609980a87d9a09c/lib/node/index.js,"@@ -58,7 +58,7 @@ exports.protocols = {
  */
 
 function isObject(obj) {
-  return '[object Object]' == toString.call(obj);
+  return null != obj && 'object' == typeof obj;
 }
 
 /**
",61,return '[object Object]' == toString.call(obj);,return null != obj && 'object' == typeof obj;
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/343ca16ab772a9307735e70e33c51d38bc147432,343ca16ab772a9307735e70e33c51d38bc147432,Fix Content-Length detection for multibyte chars,2012-03-06 14:53:02+01:00,index.js,https://github.com/visionmedia/superagent/raw/7bbe7e57218584df0a0f8c6ede16126fba21b2a9/lib/node/index.js,https://github.com/visionmedia/superagent/raw/343ca16ab772a9307735e70e33c51d38bc147432/lib/node/index.js,"@@ -502,7 +502,7 @@ Request.prototype.end = function(fn){
 
       // content-length
       if (data && !req.getHeader('Content-Length')) {
-        this.set('Content-Length', data.length);
+        this.set('Content-Length', Buffer.byteLength(data));
       }
   }
 
",505,"this.set('Content-Length', data.length);","this.set('Content-Length', Buffer.byteLength(data));"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/0503efd47f37f3d57a1df9edeb427d17d4212192,0503efd47f37f3d57a1df9edeb427d17d4212192,fix unzip support due to weird node internals,2012-07-16 15:18:20-07:00,index.js,https://github.com/visionmedia/superagent/raw/b3240d9aeadcd619d95a710fd8222a6ac7c9cd30/lib/node/index.js,https://github.com/visionmedia/superagent/raw/0503efd47f37f3d57a1df9edeb427d17d4212192/lib/node/index.js,"@@ -533,7 +533,7 @@ Request.prototype.end = function(fn){
 
     // zlib support
     if (/^(deflate|gzip)$/.test(res.headers['content-encoding'])) {
-      utils.unzip(res);
+      utils.unzip(req, res);
     }
 
     // don't buffer multipart
",536,utils.unzip(res);,"utils.unzip(req, res);"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/0c529539503958ebc7939c12903d57bad20e5b5e,0c529539503958ebc7939c12903d57bad20e5b5e,fix typo,2012-07-17 14:11:18-07:00,test.request.js,https://github.com/visionmedia/superagent/raw/64266af7d7cc8b4cb67257b45ac703b923c52d18/test/test.request.js,https://github.com/visionmedia/superagent/raw/0c529539503958ebc7939c12903d57bad20e5b5e/test/test.request.js,"@@ -296,7 +296,7 @@ test('POST multiple .send() strings', function(next){
   .end(function(res){
     assert(res.header['content-type'] == 'application/x-www-form-urlencoded');
     assert(res.text == 'user[name]=tj&user[email]=tj@vision-media.ca')
-    done();
+    next();
   })
 });
 
",299,done();,next();
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/2c1e86dcb644af8b0b08d974c8bfbf042bdb4de2,2c1e86dcb644af8b0b08d974c8bfbf042bdb4de2,fix a few client-side GET request tests,2012-09-18 16:27:09-07:00,superagent.js,https://github.com/visionmedia/superagent/raw/075357cf47a9d52534d0513b9536e71ff42aff4f/lib/superagent.js,https://github.com/visionmedia/superagent/raw/2c1e86dcb644af8b0b08d974c8bfbf042bdb4de2/lib/superagent.js,"@@ -669,7 +669,7 @@
   request.get = function(url, data, fn){
     var req = request('GET', url);
     if (isFunction(data)) fn = data, data = null;
-    if (data) req.send(data);
+    if (data) req.query(data);
     if (fn) req.end(fn);
     return req;
   };
",672,if (data) req.send(data);,if (data) req.query(data);
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/0ffa840528fee3b00be3ba0e86123f2527f1797a,0ffa840528fee3b00be3ba0e86123f2527f1797a,fix a test,2012-09-18 16:35:34-07:00,test.request.js,https://github.com/visionmedia/superagent/raw/738fd8e67165f23c1fecb992c95bfbe709108329/test/test.request.js,https://github.com/visionmedia/superagent/raw/0ffa840528fee3b00be3ba0e86123f2527f1797a/test/test.request.js,"@@ -400,7 +400,7 @@ test('GET querystring multiple objects', function(next){
 
 test('GET querystring object .get(uri, obj)', function(next){
   request
-  .query('/querystring', { search: 'Manny' })
+  .get('/querystring', { search: 'Manny' })
   .end(function(res){
     assert.eql(res.body, { search: 'Manny' });
     next();
",403,".query('/querystring', { search: 'Manny' })",".get('/querystring', { search: 'Manny' })"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/6e601de9c37bd6a70ad7317865dd2f8a2e723328,6e601de9c37bd6a70ad7317865dd2f8a2e723328,fix content-type test in FF,2013-01-02 19:14:59-08:00,test.request.js,https://github.com/visionmedia/superagent/raw/0ee3e453a471b7238c3758e19cffe41ca62a0b3c/test/test.request.js,https://github.com/visionmedia/superagent/raw/6e601de9c37bd6a70ad7317865dd2f8a2e723328/test/test.request.js,"@@ -260,7 +260,7 @@ test('POST json array', function(next){
   .post('/echo')
   .send([1,2,3])
   .end(function(res){
-    assert('application/json' == res.header['content-type']);
+    assert('application/json' == res.header['content-type'].split(';')[0]);
     assert('[1,2,3]' == res.text);
     next();
   });
",263,assert('application/json' == res.header['content-type']);,assert('application/json' == res.header['content-type'].split(';')[0]);
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/46bef96daa57dda5f4658a771723187634525eb0,46bef96daa57dda5f4658a771723187634525eb0,"fix .field() value number support

useful for content-length etc",2013-08-20 10:49:24-07:00,index.js,https://github.com/visionmedia/superagent/raw/31b8662776296a23b9434ecb9bab7b7d6a618dfe/lib/node/index.js,https://github.com/visionmedia/superagent/raw/46bef96daa57dda5f4658a771723187634525eb0/lib/node/index.js,"@@ -546,7 +546,7 @@ Request.prototype.auth = function(user, pass){
  */
 
 Request.prototype.field = function(name, val){
-  this.part().name(name).write(val);
+  this.part().name(name).write(String(val));
   return this;
 };
 
",549,this.part().name(name).write(val);,this.part().name(name).write(String(val));
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/1a2e18a95479f85617e5dd51e3af40db7c5fc55c,1a2e18a95479f85617e5dd51e3af40db7c5fc55c,Fixed: error parsing body of 204 response,2014-02-22 16:32:06+00:00,client.js,https://github.com/visionmedia/superagent/raw/4492bf471e63269c2bbf2ef0930674d98a898ece/lib/client.js,https://github.com/visionmedia/superagent/raw/1a2e18a95479f85617e5dd51e3af40db7c5fc55c/lib/client.js,"@@ -354,7 +354,7 @@ Response.prototype.setHeaderProperties = function(header){
 
 Response.prototype.parseBody = function(str){
   var parse = request.parse[this.type];
-  return parse
+  return parse && str && str.length
     ? parse(str)
     : null;
 };
",357,return parse,return parse && str && str.length
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/9fc85ac93d0ae89dcc9c4b386c4f035c61343eb6,9fc85ac93d0ae89dcc9c4b386c4f035c61343eb6,Fixed image parser. Issue #355,2014-09-17 23:21:07+02:00,image.js,https://github.com/visionmedia/superagent/raw/f41494f20f2b7838cd3dc92be276a286e10f56d1/test/node/image.js,https://github.com/visionmedia/superagent/raw/9fc85ac93d0ae89dcc9c4b386c4f035c61343eb6/test/node/image.js,"@@ -26,7 +26,7 @@ describe('res.body', function(){
       request
       .get('http://localhost:3011/image')
       .end(function(res){
-        res.body.should.eql(img.toString('utf8'));
+        (res.body.length - img.length).should.equal(0);
         done();
       });
     });
",29,res.body.should.eql(img.toString('utf8'));,(res.body.length - img.length).should.equal(0);
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/8c3858a19f70a86cc2ade99070f4c709968e787b,8c3858a19f70a86cc2ade99070f4c709968e787b,"Fix bug: falsy JSON produces response body {}
This commit fixes the bug causing JSON responses with values `null`, `false`, `0`, or `""""` to produce an empty object `{}` response body.",2014-11-15 19:57:55+01:00,response.js,https://github.com/visionmedia/superagent/raw/dd201c9579035ea0edad808fed033dfcac3db642/lib/node/response.js,https://github.com/visionmedia/superagent/raw/8c3858a19f70a86cc2ade99070f4c709968e787b/lib/node/response.js,"@@ -35,7 +35,7 @@ function Response(req, options) {
   this.req = req.req;
   this.links = {};
   this.text = res.text;
-  this.body = res.body || {};
+  this.body = res.body !== undefined ? res.body : {};
   this.files = res.files || {};
   this.buffered = 'string' == typeof this.text;
   this.header = this.headers = res.headers;
",38,this.body = res.body || {};,this.body = res.body !== undefined ? res.body : {};
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/7e771f5a726771870efe7b490931766c5ef985ce,7e771f5a726771870efe7b490931766c5ef985ce,"fix incorrect content-length of data set to a Buffer object

Update basic.js

removed a it.only call from tests

add missing dependency

fix first test to send an actual string",2015-04-21 23:57:13-04:00,index.js,https://github.com/visionmedia/superagent/raw/f7bb769f83214db0b5ba7a4d2a0b566d9f45d3fb/lib/node/index.js,https://github.com/visionmedia/superagent/raw/7e771f5a726771870efe7b490931766c5ef985ce/lib/node/index.js,"@@ -854,7 +854,7 @@ Request.prototype.end = function(fn){
 
     // content-length
     if (data && !req.getHeader('Content-Length')) {
-      this.set('Content-Length', Buffer.byteLength(data));
+      this.set('Content-Length', Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data));
     }
   }
 
",857,"this.set('Content-Length', Buffer.byteLength(data));","this.set('Content-Length', Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data));"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/ebed4067e8bc5455a6550af614099299f438d074,ebed4067e8bc5455a6550af614099299f438d074,"Fix typo in custom parser example

Argument is named `res` but in function body it references `result`.",2015-05-04 01:13:24-07:00,index.js,https://github.com/visionmedia/superagent/raw/308a3d5a37c5e34ba736a9d2d63a5a3763b4ba0c/lib/node/index.js,https://github.com/visionmedia/superagent/raw/ebed4067e8bc5455a6550af614099299f438d074/lib/node/index.js,"@@ -101,7 +101,7 @@ exports.serialize = {
  * Default parsers.
  *
  *     superagent.parse['application/xml'] = function(res, fn){
- *       fn(null, result);
+ *       fn(null, res);
  *     };
  *
  */
",104,"*       fn(null, result);","*       fn(null, res);"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/527876e7ec813c482eb6bfc9e1b3124c465f608e,527876e7ec813c482eb6bfc9e1b3124c465f608e,Fix ie11 sends 'undefined' string if data was undefined. Issue #632,2015-10-07 18:05:45+03:00,client.js,https://github.com/visionmedia/superagent/raw/afb7f34b043a257bc6a17fc55d21c880fe6ca34d/lib/client.js,https://github.com/visionmedia/superagent/raw/527876e7ec813c482eb6bfc9e1b3124c465f608e/lib/client.js,"@@ -992,7 +992,7 @@ Request.prototype.end = function(fn){
 
   // send stuff
   this.emit('request', this);
-  xhr.send(data);
+  xhr.send(typeof data !== 'undefined' ? data : null);
   return this;
 };
 
",995,xhr.send(data);,xhr.send(typeof data !== 'undefined' ? data : null);
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/5aed7e64fda6893fe6d5fdc53b6918ac51a2eaa2,5aed7e64fda6893fe6d5fdc53b6918ac51a2eaa2,"Fix to avoid throwing errors on aborted requests (for exaple, it happends when a chunked json reponse is aborted in the middle of transfer, and the parser tries to parse a partial json string)",2015-10-14 20:32:44-03:00,index.js,https://github.com/visionmedia/superagent/raw/afb7f34b043a257bc6a17fc55d21c880fe6ca34d/lib/node/index.js,https://github.com/visionmedia/superagent/raw/5aed7e64fda6893fe6d5fdc53b6918ac51a2eaa2/lib/node/index.js,"@@ -952,7 +952,7 @@ Request.prototype.end = function(fn){
     if (parse) {
       try {
         parse(res, function(err, obj){
-          if (err) self.callback(err);
+          if (err && !self._aborted) self.callback(err);
           res.body = obj;
         });
       } catch (err) {
",955,if (err) self.callback(err);,if (err && !self._aborted) self.callback(err);
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/6c8b8293381e9dae92d3ac76a94c36213cb3c50c,6c8b8293381e9dae92d3ac76a94c36213cb3c50c,Fixed test,2016-03-16 23:30:33+00:00,serialize.js,https://github.com/visionmedia/superagent/raw/6dca7959b6e7229834a0a878052df4859445dc2b/test/client/serialize.js,https://github.com/visionmedia/superagent/raw/6c8b8293381e9dae92d3ac76a94c36213cb3c50c/test/client/serialize.js,"@@ -37,7 +37,7 @@ describe('request.parseString()', function(){
   it('should parse', function() {
     parse('name=tj', { name: 'tj' });
     parse('name=Manny&species=cat', { name: 'Manny', species: 'cat' });
-    parse('redirect=/&ok', { redirect: '/', ok: undefined });
+    parse('redirect=/&ok', { redirect: '/', ok: '' });
     parse('%26name=tj', { '&name': 'tj' });
     parse('name=tj%26', { name: 'tj&' });
   });
",40,"parse('redirect=/&ok', { redirect: '/', ok: undefined });","parse('redirect=/&ok', { redirect: '/', ok: '' });"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/6bd559711bb1b867cf0414f5217310ecafd88f55,6bd559711bb1b867cf0414f5217310ecafd88f55,"Rename ambiguous .parse to .serialize

Fixes #805",2016-03-16 23:31:23+00:00,client.js,https://github.com/visionmedia/superagent/raw/6c8b8293381e9dae92d3ac76a94c36213cb3c50c/lib/client.js,https://github.com/visionmedia/superagent/raw/6bd559711bb1b867cf0414f5217310ecafd88f55/lib/client.js,"@@ -800,7 +800,7 @@ Request.prototype.end = function(fn){
   if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {
     // serialize stuff
     var contentType = this._header['content-type'];
-    var serialize = this._parser || request.serialize[contentType ? contentType.split(';')[0] : ''];
+    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];
     if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];
     if (serialize) data = serialize(data);
   }
",803,var serialize = this._parser || request.serialize[contentType ? contentType.split(';')[0] : ''];,var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/6bd559711bb1b867cf0414f5217310ecafd88f55,6bd559711bb1b867cf0414f5217310ecafd88f55,"Rename ambiguous .parse to .serialize

Fixes #805",2016-03-16 23:31:23+00:00,request.js,https://github.com/visionmedia/superagent/raw/6c8b8293381e9dae92d3ac76a94c36213cb3c50c/test/client/request.js,https://github.com/visionmedia/superagent/raw/6bd559711bb1b867cf0414f5217310ecafd88f55/test/client/request.js,"@@ -192,7 +192,7 @@ it('Request#parse overrides body parser no matter Content-Type', function(done){
 
   var req = request
   .post('/user')
-  .parse(testParser)
+  .serialize(testParser)
   .type('json')
   .send({ foo: 123 })
   .end(function(err) {
",195,.parse(testParser),.serialize(testParser)
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/7c428129625c25d92c45389f260b177915f5c75f,7c428129625c25d92c45389f260b177915f5c75f,Fixed test,2016-09-02 15:13:45+01:00,inflate.js,https://github.com/visionmedia/superagent/raw/1dfbb695b4b057294eabe6e10bb1215164770294/test/node/inflate.js,https://github.com/visionmedia/superagent/raw/7c428129625c25d92c45389f260b177915f5c75f/test/node/inflate.js,"@@ -26,7 +26,7 @@ app.get('/binary', function(req, res) {
 });
 app.get('/corrupt', function(req, res) {
   res.set('Content-Encoding', 'gzip');
-  res.send(buf);
+  res.send(""blah"");
 });
 
 app.get('/nocontent', function(req, res, next) {
",29,res.send(buf);,"res.send(""blah"");"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/2f7bab0c5449efc7e85b1cf81b6c612aa3d8fc45,2f7bab0c5449efc7e85b1cf81b6c612aa3d8fc45,Test fix,2017-01-25 23:09:27+00:00,basic.js,https://github.com/visionmedia/superagent/raw/ecb3ff657802dcc647113afbf19216e890977018/test/basic.js,https://github.com/visionmedia/superagent/raw/2f7bab0c5449efc7e85b1cf81b6c612aa3d8fc45/test/basic.js,"@@ -398,7 +398,7 @@ describe('request', function(){
             try {
           res.should.be.json();
           if (NODE) {
-            res.buffered.should.be.true;
+            res.buffered.should.be.true();
           }
           res.text.should.equal('{""name"":""tobi"",""age"":1}');
           done();
",401,res.buffered.should.be.true;,res.buffered.should.be.true();
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/2894fcd429b2753fda85bee71612aef78780620c,2894fcd429b2753fda85bee71612aef78780620c,"Fix for error in subsequent require() calls

https://github.com/visionmedia/superagent/issues/1288",2017-10-02 09:22:49+01:00,index.js,https://github.com/visionmedia/superagent/raw/1930bd4ad063cb895064ec8cdaec658c8cd76259/lib/node/index.js,https://github.com/visionmedia/superagent/raw/2894fcd429b2753fda85bee71612aef78780620c/lib/node/index.js,"@@ -70,7 +70,7 @@ exports.Response = Response;
 
 mime.define({
   'application/x-www-form-urlencoded': ['form', 'urlencoded', 'form-data']
-});
+}, true);
 
 /**
  * Protocol map.
",73,});,"}, true);"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/6670a0fb708fef3d8e09538ee8af6c73f682f346,6670a0fb708fef3d8e09538ee8af6c73f682f346,"Reject promise on all errors

Fixes #1370

It has to be .on() not .once(), because multiple things fail",2018-04-29 16:10:50+01:00,index.js,https://github.com/visionmedia/superagent/raw/af0eab7f01d2422a0bcb35ba187682f184b1ba27/lib/node/index.js,https://github.com/visionmedia/superagent/raw/6670a0fb708fef3d8e09538ee8af6c73f682f346/lib/node/index.js,"@@ -666,7 +666,7 @@ Request.prototype.request = function(){
   // expose events
   req.once('drain', () => { this.emit('drain'); });
 
-  req.once('error', err => {
+  req.on('error', err => {
     // flag abortion here for out timeouts
     // because node will emit a faux-error ""socket hang up""
     // when request is aborted before a connection is made
",669,"req.once('error', err => {","req.on('error', err => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/08a850d2d744efb72b678a84bcbc0ce5743055d7,08a850d2d744efb72b678a84bcbc0ce5743055d7,Fix deprecated,2018-09-13 19:18:40+01:00,set-host.js,https://github.com/visionmedia/superagent/raw/070a0a2dd93fb09e0597d8bcf938d7089d70140c/test/node/set-host.js,https://github.com/visionmedia/superagent/raw/08a850d2d744efb72b678a84bcbc0ce5743055d7/test/node/set-host.js,"@@ -22,7 +22,7 @@ describe(""request.get().set()"", () => {
 
   it(""should set host header after get()"", done => {
     app.get(""/"", (req, res) => {
-      req.host.should.equal('example.com');
+      req.hostname.should.equal('example.com');
       res.end();
     });
 
",25,req.host.should.equal('example.com');,req.hostname.should.equal('example.com');
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/70df4625cdfe59371b9c6619d5f1d6ab0043e9ca,70df4625cdfe59371b9c6619d5f1d6ab0043e9ca,docs: fixed docs (closes #1451),2019-03-28 02:52:34-05:00,request-base.js,https://github.com/visionmedia/superagent/raw/1618f8db91246e50420d3e1bbdfb248d347b68dd/src/request-base.js,https://github.com/visionmedia/superagent/raw/70df4625cdfe59371b9c6619d5f1d6ab0043e9ca/src/request-base.js,"@@ -499,7 +499,7 @@ RequestBase.prototype.withCredentials = function(on) {
 };
 
 /**
- * Set the max redirects to `n`. Does noting in browser XHR implementation.
+ * Set the max redirects to `n`. Does nothing in browser XHR implementation.
  *
  * @param {Number} n
  * @return {Request} for chaining
",502,* Set the max redirects to `n`. Does noting in browser XHR implementation.,* Set the max redirects to `n`. Does nothing in browser XHR implementation.
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/7d70a7559d4df3e10ebcece0cf319083184278dc,7d70a7559d4df3e10ebcece0cf319083184278dc,"fix: fixed linting, fixed deprecation warning in tests",2019-12-01 12:44:17-06:00,response-base.js,https://github.com/visionmedia/superagent/raw/8dc8b91a7ef42818f8e3f2ef9bf9a62506fdd8b5/src/response-base.js,https://github.com/visionmedia/superagent/raw/7d70a7559d4df3e10ebcece0cf319083184278dc/src/response-base.js,"@@ -83,7 +83,7 @@ ResponseBase.prototype._setHeaderProperties = function(header) {
     if (header.link) {
       this.links = utils.parseLinks(header.link);
     }
-  } catch (err) {
+  } catch {
     // ignore
   }
 };
",86,} catch (err) {,} catch {
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/7d70a7559d4df3e10ebcece0cf319083184278dc,7d70a7559d4df3e10ebcece0cf319083184278dc,"fix: fixed linting, fixed deprecation warning in tests",2019-12-01 12:44:17-06:00,pipe.js,https://github.com/visionmedia/superagent/raw/8dc8b91a7ef42818f8e3f2ef9bf9a62506fdd8b5/test/node/pipe.js,https://github.com/visionmedia/superagent/raw/7d70a7559d4df3e10ebcece0cf319083184278dc/test/node/pipe.js,"@@ -73,7 +73,7 @@ describe('request pipe', () => {
       try {
         res.pipe(stream);
         return done(new Error('Did not prevent nonsense pipe'));
-      } catch (err2) {
+      } catch (err_) {
         /* expected error */
       }
 
",76,} catch (err2) {,} catch (err_) {
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/44fadf94e0b0a84276faeacc956eca7eb4d40abf,44fadf94e0b0a84276faeacc956eca7eb4d40abf,fix: fixed content-type case-sensitivity (closes #1572),2020-08-08 17:35:30-05:00,client.js,https://github.com/visionmedia/superagent/raw/e88a13fb2fd17e62c41576683e40bbc37210fccf/src/client.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/src/client.js,"@@ -275,7 +275,7 @@ function parseHeader(str) {
 function isJSON(mime) {
   // should match /json or +json
   // but not /json-seq
-  return /[/+]json($|[^-\w])/.test(mime);
+  return /[/+]json($|[^-\w])/i.test(mime);
 }
 
 /**
",278,return /[/+]json($|[^-\w])/.test(mime);,return /[/+]json($|[^-\w])/i.test(mime);
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,image.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/src/node/parsers/image.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/src/node/parsers/image.js,"@@ -1,7 +1,7 @@
 module.exports = (res, fn) => {
   const data = []; // Binary data needs binary storage
 
-  res.on('data', chunk => {
+  res.on('data', (chunk) => {
     data.push(chunk);
   });
   res.on('end', () => {
",4,"res.on('data', chunk => {","res.on('data', (chunk) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,text.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/src/node/parsers/text.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/src/node/parsers/text.js,"@@ -1,7 +1,7 @@
 module.exports = (res, fn) => {
   res.text = '';
   res.setEncoding('utf8');
-  res.on('data', chunk => {
+  res.on('data', (chunk) => {
     res.text += chunk;
   });
   res.on('end', fn);
",4,"res.on('data', chunk => {","res.on('data', (chunk) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,urlencoded.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/src/node/parsers/urlencoded.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/src/node/parsers/urlencoded.js,"@@ -7,7 +7,7 @@ const qs = require('qs');
 module.exports = (res, fn) => {
   res.text = '';
   res.setEncoding('ascii');
-  res.on('data', chunk => {
+  res.on('data', (chunk) => {
     res.text += chunk;
   });
   res.on('end', () => {
",10,"res.on('data', chunk => {","res.on('data', (chunk) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,response-readable-stream.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/test/node/response-readable-stream.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/test/node/response-readable-stream.js,"@@ -25,7 +25,7 @@ before(function listen(done) {
 });
 
 describe('response', () => {
-  it('should act as a readable stream', done => {
+  it('should act as a readable stream', (done) => {
     const req = request.get(base).buffer(false);
 
     req.end((err, res) => {
",28,"it('should act as a readable stream', done => {","it('should act as a readable stream', (done) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,set-host.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/test/node/set-host.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/test/node/set-host.js,"@@ -21,7 +21,7 @@ describe('request.get().set()', () => {
     }
   });
 
-  it('should set host header after get()', done => {
+  it('should set host header after get()', (done) => {
     app.get('/', (req, res) => {
       assert.equal(req.hostname, 'example.com');
       res.end();
",24,"it('should set host header after get()', done => {","it('should set host header after get()', (done) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,toError.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/test/node/toError.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/test/node/toError.js,"@@ -25,7 +25,7 @@ before(function listen(done) {
 });
 
 describe('res.toError()', () => {
-  it('should return an Error', done => {
+  it('should return an Error', (done) => {
     request.get(base).end((err, res) => {
       var err = res.toError();
       assert.equal(err.status, 400);
",28,"it('should return an Error', done => {","it('should return an Error', (done) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/d68907becb262fd3516b323c8936f4b837d1bd6d,d68907becb262fd3516b323c8936f4b837d1bd6d,"fix: bump deps, fixed linting, specific retry approach",2020-08-08 18:45:37-05:00,user-agent.js,https://github.com/visionmedia/superagent/raw/44fadf94e0b0a84276faeacc956eca7eb4d40abf/test/node/user-agent.js,https://github.com/visionmedia/superagent/raw/d68907becb262fd3516b323c8936f4b837d1bd6d/test/node/user-agent.js,"@@ -7,7 +7,7 @@ const base = setup.uri;
 
 describe('req.get()', () => {
   it('should not set a default user-agent', () =>
-    request.get(`${base}/ua`).then(res => {
+    request.get(`${base}/ua`).then((res) => {
       assert(res.headers);
       assert(!res.headers['user-agent']);
     }));
",10,request.get(`${base}/ua`).then(res => {,request.get(`${base}/ua`).then((res) => {
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/048cf185d954028b1dccde0717d2488b2284c297,048cf185d954028b1dccde0717d2488b2284c297,"chore: bump deps, fixed linting",2021-11-30 19:42:15-05:00,http2.js,https://github.com/visionmedia/superagent/raw/6ac6429d626dc6bd3a6200cbaf196be3f2015f52/test/node/http2.js,https://github.com/visionmedia/superagent/raw/048cf185d954028b1dccde0717d2488b2284c297/test/node/http2.js,"@@ -15,7 +15,7 @@ describe('request.get().http2()', () => {
     request
       .get(`${base}/url?a=(b%29`)
       .http2()
-      .end((err, res) => {
+      .end((error, res) => {
         assert.equal('/url?a=(b%29', res.text);
         done();
       });
",18,".end((err, res) => {",".end((error, res) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/07e748f8d663de0d9a69f8f455c5ed3d3ab79020,07e748f8d663de0d9a69f8f455c5ed3d3ab79020,fix: fixed the error of null value of lookup,2022-01-20 13:34:39+08:00,index.js,https://github.com/visionmedia/superagent/raw/77b052af67272090ec28dcce9d559be6d326e46a/src/node/index.js,https://github.com/visionmedia/superagent/raw/07e748f8d663de0d9a69f8f455c5ed3d3ab79020/src/node/index.js,"@@ -167,7 +167,7 @@ function Request(method, url) {
   this.qsRaw = this._query; // Unused, for backwards compatibility only
   this._redirectList = [];
   this._streamRequest = false;
-  this._lookup = null;
+  this._lookup = undefined;
   this.once('end', this.clearTimeout.bind(this));
 }
 
",170,this._lookup = null;,this._lookup = undefined;
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/1fd4f908f9cdce51d0fbb3eb4df17435ab5bed74,1fd4f908f9cdce51d0fbb3eb4df17435ab5bed74,fix: fixed the broken testcases (#1676),2022-01-22 12:40:39-05:00,basic.js,https://github.com/visionmedia/superagent/raw/6a101c27ba18e9e8820c31f083e82e6de2c5fae6/test/basic.js,https://github.com/visionmedia/superagent/raw/1fd4f908f9cdce51d0fbb3eb4df17435ab5bed74/test/basic.js,"@@ -100,7 +100,7 @@ describe('request', function () {
 
       return Promise.all([request_, request_, request_]).then((results) => {
         for (const item of results) {
-          assert.equal(
+          assert.deepEqual(
             item.body,
             results[0].body,
             'It should keep returning the same result after being called once'
",103,assert.equal(,assert.deepEqual(
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/84206c75214e20bbc688d0645880696ecd773c27,84206c75214e20bbc688d0645880696ecd773c27,"fix: fixed the errors of eslint (#1675)

* fix: fixed the errors of eslint

* style: remove unused eslint comment",2022-01-22 12:40:50-05:00,toError.js,https://github.com/visionmedia/superagent/raw/1fd4f908f9cdce51d0fbb3eb4df17435ab5bed74/test/node/toError.js,https://github.com/visionmedia/superagent/raw/84206c75214e20bbc688d0645880696ecd773c27/test/node/toError.js,"@@ -26,7 +26,7 @@ before(function listen(done) {
 
 describe('res.toError()', () => {
   it('should return an Error', (done) => {
-    request.get(base).end((error, res) => {
+    request.get(base).end((err, res) => {
       var error = res.toError();
       assert.equal(error.status, 400);
       assert.equal(error.method, 'GET');
",29,"request.get(base).end((error, res) => {","request.get(base).end((err, res) => {"
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/2c188904f8181ab760496d2849977dddee9900d1,2c188904f8181ab760496d2849977dddee9900d1,chore: fixed linting,2022-04-26 18:22:36-05:00,request.js,https://github.com/visionmedia/superagent/raw/bc25a87d3b75d1f5b1e78ed6d57f80f65f4dffd0/test/client/request.js,https://github.com/visionmedia/superagent/raw/2c188904f8181ab760496d2849977dddee9900d1/test/client/request.js,"@@ -55,7 +55,7 @@ describe('request', function () {
 
     try {
       var file = new File([''], 'image.jpg', { type: 'image/jpeg' });
-    } catch (err) {
+    } catch {
       // Skip if file constructor not supported.
       return next();
     }
",58,} catch (err) {,} catch {
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/2c188904f8181ab760496d2849977dddee9900d1,2c188904f8181ab760496d2849977dddee9900d1,chore: fixed linting,2022-04-26 18:22:36-05:00,toError.js,https://github.com/visionmedia/superagent/raw/bc25a87d3b75d1f5b1e78ed6d57f80f65f4dffd0/test/node/toError.js,https://github.com/visionmedia/superagent/raw/2c188904f8181ab760496d2849977dddee9900d1/test/node/toError.js,"@@ -27,7 +27,7 @@ before(function listen(done) {
 describe('res.toError()', () => {
   it('should return an Error', (done) => {
     request.get(base).end((err, res) => {
-      var error = res.toError();
+      const error = res.toError();
       assert.equal(error.status, 400);
       assert.equal(error.method, 'GET');
       assert.equal(error.path, '/');
",30,var error = res.toError();,const error = res.toError();
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/2c188904f8181ab760496d2849977dddee9900d1,2c188904f8181ab760496d2849977dddee9900d1,chore: fixed linting,2022-04-26 18:22:36-05:00,requestDecorator.js,https://github.com/visionmedia/superagent/raw/bc25a87d3b75d1f5b1e78ed6d57f80f65f4dffd0/test/support/express/requestDecorator.js,https://github.com/visionmedia/superagent/raw/2c188904f8181ab760496d2849977dddee9900d1/test/support/express/requestDecorator.js,"@@ -255,7 +255,7 @@ function setMethods(request) {
 
     // support flattened arguments
     if (!Array.isArray(types)) {
-      array = new Array(arguments.length);
+      array = Array.from({ length: arguments.length });
       for (let i = 0; i < array.length; i++) {
         array[i] = arguments[i];
       }
",258,array = new Array(arguments.length);,array = Array.from({ length: arguments.length });
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/715516d8d32cf742495657efa9c88043d23ead37,715516d8d32cf742495657efa9c88043d23ead37,"feat: dropped IE support (ActiveXObject), fixed XMLHttpRequest in Electron (closes #1731),",2022-06-24 00:48:00-05:00,response-base.js,https://github.com/visionmedia/superagent/raw/26c72d0e36bea6cfd9c62fddf6c27cd3f54c1896/src/response-base.js,https://github.com/visionmedia/superagent/raw/715516d8d32cf742495657efa9c88043d23ead37/src/response-base.js,"@@ -64,7 +64,7 @@ ResponseBase.prototype._setHeaderProperties = function (header) {
     if (header.link) {
       this.links = utils.parseLinks(header.link);
     }
-  } catch {
+  } catch (err) {
     // ignore
   }
 };
",67,} catch {,} catch (err) {
superagent,https://github.com/visionmedia/superagent,https://github.com/visionmedia/superagent/commit/715516d8d32cf742495657efa9c88043d23ead37,715516d8d32cf742495657efa9c88043d23ead37,"feat: dropped IE support (ActiveXObject), fixed XMLHttpRequest in Electron (closes #1731),",2022-06-24 00:48:00-05:00,request.js,https://github.com/visionmedia/superagent/raw/26c72d0e36bea6cfd9c62fddf6c27cd3f54c1896/test/client/request.js,https://github.com/visionmedia/superagent/raw/715516d8d32cf742495657efa9c88043d23ead37/test/client/request.js,"@@ -55,7 +55,7 @@ describe('request', function () {
 
     try {
       var file = new File([''], 'image.jpg', { type: 'image/jpeg' });
-    } catch {
+    } catch (err) {
       // Skip if file constructor not supported.
       return next();
     }
",58,} catch {,} catch (err) {
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/3bfabd37c1528b0242bfdcd2f394143ce2eb0950,3bfabd37c1528b0242bfdcd2f394143ce2eb0950,Fixed a problem with the Object.create shim.,2010-11-22 18:58:30-08:00,q.js,https://github.com/kriskowal/q/raw/e045fb5329fc5ea4eb202e55b98ee741fd25e4ec/lib/q.js,https://github.com/kriskowal/q/raw/3bfabd37c1528b0242bfdcd2f394143ce2eb0950/lib/q.js,"@@ -81,7 +81,7 @@ var freeze = Object.freeze || identity;
 var create = Object.create || function create(prototype) {
     var Type = function () {};
     Type.prototype = prototype;
-    object = new Type();
+    return new Type();
 }
 
 /**
",84,object = new Type();,return new Type();
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/d74f2befaecac02b98305499bafb94d59f636808,d74f2befaecac02b98305499bafb94d59f636808,Fixed problem with promise assimilation.,2011-03-25 15:08:57-07:00,q.js,https://github.com/kriskowal/q/raw/2638ace950306e49653aff8f27e6bc6d4dbd53e6/lib/q.js,https://github.com/kriskowal/q/raw/d74f2befaecac02b98305499bafb94d59f636808/lib/q.js,"@@ -283,7 +283,7 @@ function ref(object) {
             } else {
                 var result = defer();
                 object.then(result.resolve, result.reject);
-                return result;
+                return result.promise;
             }
         });
     }
",286,return result;,return result.promise;
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/f5cff851935079333c1a731014de7afbcc9af88e,f5cff851935079333c1a731014de7afbcc9af88e,Fixing `Q.all` in the case of an empty array. GH-32,2011-12-28 12:53:17-05:00,q.js,https://github.com/kriskowal/q/raw/bc98633e5c287251e807630680f99ea7f4036ea3/q.js,https://github.com/kriskowal/q/raw/f5cff851935079333c1a731014de7afbcc9af88e/q.js,"@@ -729,7 +729,7 @@ function all(promises) {
     return when(promises, function (promises) {
         var countDown = promises.length;
         if (countDown === 0)
-            return ref(values);
+            return ref(promises);
         var deferred = defer();
         reduce.call(promises, function (undefined, promise, index) {
             when(promise, function (value) {
",732,return ref(values);,return ref(promises);
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/7171112107b172da5fd93eb05b0bacc2f04f3b30,7171112107b172da5fd93eb05b0bacc2f04f3b30,Fixed Opera bug #35 @cadorn,2012-01-03 12:52:17-08:00,q.js,https://github.com/kriskowal/q/raw/f098c51d03ead9d586d0801b6d052d53f16548ee/q.js,https://github.com/kriskowal/q/raw/7171112107b172da5fd93eb05b0bacc2f04f3b30/q.js,"@@ -55,7 +55,7 @@ try {
         };
         nextTick = function (task) {
             tail = tail.next = {task: task};
-            channel.port2.postMessage();
+            channel.port2.postMessage(0);
         };
     } else {
         // old browsers
",58,channel.port2.postMessage();,channel.port2.postMessage(0);
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/6be15b97df9d889d5c9474479729423a5c4c7454,6be15b97df9d889d5c9474479729423a5c4c7454,"Fixed missing conversion from reason to error

All reasons are now exceptions.",2012-04-29 17:09:00-07:00,q.js,https://github.com/kriskowal/q/raw/ec1edcdece955467a62c801deb10819dd1dbaf32/q.js,https://github.com/kriskowal/q/raw/6be15b97df9d889d5c9474479729423a5c4c7454/q.js,"@@ -263,7 +263,7 @@ exports.makePromise = makePromise;
 function makePromise(descriptor, fallback, valueOf, rejected) {
     if (fallback === void 0) {
         fallback = function (op) {
-            return reject(""Promise does not support operation: "" + op);
+            return reject(new Error(""Promise does not support operation: "" + op));
         };
     }
 
",266,"return reject(""Promise does not support operation: "" + op);","return reject(new Error(""Promise does not support operation: "" + op));"
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/354a9eb679fd7d3bcee6d343d907741005e98025,354a9eb679fd7d3bcee6d343d907741005e98025,Fix console non-existence bug,2012-05-13 19:37:17-07:00,q.js,https://github.com/kriskowal/q/raw/9dc8001943742da9b6783c98dd4d653f82f30f11/q.js,https://github.com/kriskowal/q/raw/354a9eb679fd7d3bcee6d343d907741005e98025/q.js,"@@ -454,7 +454,7 @@ function isRejected(object) {
 
 var rejections = [];
 var errors = [];
-if (typeof window !== ""undefined"") {
+if (typeof window !== ""undefined"" && typeof window.console === ""function"") {
     // This promise library consumes exceptions thrown in handlers so
     // they can be handled by a subsequent promise.  The rejected
     // promises get added to this array when they are created, and
",457,"if (typeof window !== ""undefined"") {","if (typeof window !== ""undefined"" && typeof window.console === ""function"") {"
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/439a78ac54708ff339aaf1c31922d50458979714,439a78ac54708ff339aaf1c31922d50458979714,Fix console non-existence bug (this time with feeling),2012-05-14 10:37:27-07:00,q.js,https://github.com/kriskowal/q/raw/4caf81ab89e4d0561f328ea8bbe822387f50a4b5/q.js,https://github.com/kriskowal/q/raw/439a78ac54708ff339aaf1c31922d50458979714/q.js,"@@ -454,7 +454,7 @@ function isRejected(object) {
 
 var rejections = [];
 var errors = [];
-if (typeof window !== ""undefined"" && typeof window.console === ""object"") {
+if (typeof window !== ""undefined"" && window.console) {
     // This promise library consumes exceptions thrown in handlers so
     // they can be handled by a subsequent promise.  The rejected
     // promises get added to this array when they are created, and
",457,"if (typeof window !== ""undefined"" && typeof window.console === ""object"") {","if (typeof window !== ""undefined"" && window.console) {"
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/73ee9d30cec517b772fd01e03c56ea2ad560565b,73ee9d30cec517b772fd01e03c56ea2ad560565b,"Don't barf when rejection reasons don't have stacks.

Fixes #73.",2012-05-20 13:59:34-04:00,q.js,https://github.com/kriskowal/q/raw/520f016951865d810d469b6232ac0c19edc1c328/q.js,https://github.com/kriskowal/q/raw/73ee9d30cec517b772fd01e03c56ea2ad560565b/q.js,"@@ -1291,7 +1291,7 @@ function end(promise) {
             // If possible (that is, if in V8), transform the error stack
             // trace by removing Node and Q cruft, then concatenating with
             // the stack trace of the promise we are ``end``ing. See #57.
-            if (Error.captureStackTrace) {
+            if (Error.captureStackTrace && ""stack"" in error) {
                 var errorStackFrames = getStackFrames(error);
                 var promiseStackFrames = getStackFrames(promise);
 
",1294,if (Error.captureStackTrace) {,"if (Error.captureStackTrace && ""stack"" in error) {"
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/06316c6e09b7611ae654139c9b11c365caa94a98,06316c6e09b7611ae654139c9b11c365caa94a98,"Fix unhandled exception when rejection reason is RangeError

RangeErrors have a ""stack"" property, but it is undefined. You can
demonstrate the problem like this:

    var stackBuster = function(){ stackBuster() };
    try {
      stackBuster()
    } catch (err){
      Q.reject(err).end()
    }",2012-07-24 17:07:24-04:00,q.js,https://github.com/kriskowal/q/raw/6a7876c93ade0dc88eba146b1f8c5a7130dd486e/q.js,https://github.com/kriskowal/q/raw/06316c6e09b7611ae654139c9b11c365caa94a98/q.js,"@@ -1308,7 +1308,7 @@ function end(promise) {
             // trace by removing Node and Q cruft, then concatenating with
             // the stack trace of the promise we are ``end``ing. See #57.
             if (Error.captureStackTrace && typeof error === ""object"" &&
-                ""stack"" in error) {
+                error.stack) {
                 var errorStackFrames = getStackFrames(error);
                 var promiseStackFrames = getStackFrames(promise);
 
",1311,"""stack"" in error) {",error.stack) {
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/835e2fd31d6eab58c34c697faacc750d3be1d715,835e2fd31d6eab58c34c697faacc750d3be1d715,Fix errant spec,2012-08-23 10:43:18-07:00,q-spec.js,https://github.com/kriskowal/q/raw/bb3129a6241092099734a4c3eb317d6bd915b794/spec/q-spec.js,https://github.com/kriskowal/q/raw/835e2fd31d6eab58c34c697faacc750d3be1d715/spec/q-spec.js,"@@ -105,7 +105,7 @@ describe(""defer and when"", function () {
         Q.when(deferred.promise, function () {
             threw = true;
             throw new Error(REASON);
-        }).end();
+        });
         var promise = Q.when(deferred.promise, function (value) {
             expect(value).toEqual(10);
         }, function () {
",108,}).end();,});
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/0442ffacfce17552b7f4fec3e9b6a68b7e062e06,0442ffacfce17552b7f4fec3e9b6a68b7e062e06,Fix bug with spread not calling rejected handler (!).,2012-11-04 16:28:13-05:00,q.js,https://github.com/kriskowal/q/raw/f729c2718d5f86091019f1f05744ee0e3a4894d6/q.js,https://github.com/kriskowal/q/raw/0442ffacfce17552b7f4fec3e9b6a68b7e062e06/q.js,"@@ -985,7 +985,7 @@ function spread(promise, fulfilled, rejected) {
     return when(promise, function (valuesOrPromises) {
         return all(valuesOrPromises).then(function (values) {
             return fulfilled.apply(void 0, values);
-        });
+        }, rejected);
     }, rejected);
 }
 
",988,});,"}, rejected);"
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/ba585c9f07c7c0e79ddc9732b6edede950052aa1,ba585c9f07c7c0e79ddc9732b6edede950052aa1,Fix `nodeify` missing on promise prototype.,2012-11-05 21:56:02-05:00,q.js,https://github.com/kriskowal/q/raw/d091048d9d695861e985e544ade0f6d194528975/q.js,https://github.com/kriskowal/q/raw/ba585c9f07c7c0e79ddc9732b6edede950052aa1/q.js,"@@ -626,7 +626,7 @@ array_reduce(
         ""catch"", ""finally"", ""fail"", ""fin"", ""progress"", ""end"", ""done"",
         ""ncall"", ""napply"", ""nbind"",
         ""npost"", ""ninvoke"",
-        ""nend""
+        ""nend"", ""nodeify""
     ],
     function (undefined, name) {
         makePromise.prototype[name] = function () {
",629,"""nend""","""nend"", ""nodeify"""
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/312a5a22593e88e747cbfd918cc588e60517eefd,312a5a22593e88e747cbfd918cc588e60517eefd,Resolve set messages to undefined,2013-01-10 12:01:02-08:00,q-spec.js,https://github.com/kriskowal/q/raw/8512628b2a4f5555328f88c024025f026f2268c8/spec/q-spec.js,https://github.com/kriskowal/q/raw/312a5a22593e88e747cbfd918cc588e60517eefd/spec/q-spec.js,"@@ -510,7 +510,7 @@ describe(""promises for objects"", function () {
             return Q.resolve(object)
             .put('a', 1)
             .then(function (result) {
-                expect(result).toBe(object);
+                expect(result).toBe(undefined);
                 expect(object.a).toBe(1);
             });
         });
",513,expect(result).toBe(object);,expect(result).toBe(undefined);
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/87656ed288e745287dae48910efea8cdf4e2da39,87656ed288e745287dae48910efea8cdf4e2da39,Handle npost with no args. Fixes #207,2013-02-12 16:42:46-08:00,q.js,https://github.com/kriskowal/q/raw/499a1555358a568ed5dfef95ab9794e452c5a40d/q.js,https://github.com/kriskowal/q/raw/87656ed288e745287dae48910efea8cdf4e2da39/q.js,"@@ -1409,7 +1409,7 @@ function nfbind(callback/*, ...args */) {
  */
 Q.npost = npost;
 function npost(object, name, args) {
-    var nodeArgs = array_slice(args);
+    var nodeArgs = array_slice(args || []);
     var deferred = defer();
     nodeArgs.push(deferred.makeNodeResolver());
 
",1412,var nodeArgs = array_slice(args);,var nodeArgs = array_slice(args || []);
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/bba609d0f25f9d046c53c58d75d0ee5125424d7d,bba609d0f25f9d046c53c58d75d0ee5125424d7d,"Fix duplicate promise rejections.

We can just reuse chained dispatched rejected promises.

The test was also broken; it needs to check for emptiness after fail()
runs.

Fixes #238.",2013-05-10 01:36:01-04:00,q.js,https://github.com/kriskowal/q/raw/430a3520748d455506309f01f96168a9980b880a/q.js,https://github.com/kriskowal/q/raw/bba609d0f25f9d046c53c58d75d0ee5125424d7d/q.js,"@@ -791,7 +791,7 @@ function reject(reason) {
             return rejected ? rejected(reason) : this;
         }
     }, function fallback() {
-        return reject(reason);
+        return this;
     }, function valueOf() {
         return this;
     }, reason, true);
",794,return reject(reason);,return this;
q,https://github.com/kriskowal/q,https://github.com/kriskowal/q/commit/70e6950e42a6357a9b5a7f1c2415db4aa8dc2ef5,70e6950e42a6357a9b5a7f1c2415db4aa8dc2ef5,"docs: Fix simple typo, whereever -> wherever

There is a small typo in q.js.

Should read `wherever` rather than `whereever`.",2020-05-19 06:05:31+10:00,q.js,https://github.com/kriskowal/q/raw/8545bd6f6953dfd2a5e7fa4052ed6b39e010a8c5/q.js,https://github.com/kriskowal/q/raw/70e6950e42a6357a9b5a7f1c2415db4aa8dc2ef5/q.js,"@@ -781,7 +781,7 @@ Promise.prototype.race = function () {
  * accepts the operation name, a resolver, and any further arguments that would
  * have been forwarded to the appropriate method above had a method been
  * provided with the proper name.  The API makes no guarantees about the nature
- * of the returned object, apart from that it is usable whereever promises are
+ * of the returned object, apart from that it is usable wherever promises are
  * bought and sold.
  */
 Q.makePromise = Promise;
",784,"* of the returned object, apart from that it is usable whereever promises are","* of the returned object, apart from that it is usable wherever promises are"
gulp,https://github.com/gulpjs/gulp,https://github.com/gulpjs/gulp/commit/3f9847d7be24377aa70aac9cbd55d2227a71ceb1,3f9847d7be24377aa70aac9cbd55d2227a71ceb1,fix shorten path,2013-07-05 20:30:48-07:00,realBase.js,https://github.com/gulpjs/gulp/raw/f27640957ed8102ee7f6fddb5e5d91196e967b02/lib/realBase.js,https://github.com/gulpjs/gulp/raw/3f9847d7be24377aa70aac9cbd55d2227a71ceb1/lib/realBase.js,"@@ -5,5 +5,5 @@ module.exports = function(fileBase, filePath) {
   filePath = path.resolve(filePath);
 
   if (filePath.indexOf(fileBase) !== 0) return filePath;
-  return filePath.slice(fileBase.length, filePath.length);
+  return filePath.slice(fileBase.length+1, filePath.length);
 };
\ No newline at end of file
",8,"return filePath.slice(fileBase.length, filePath.length);","return filePath.slice(fileBase.length+1, filePath.length);"
gulp,https://github.com/gulpjs/gulp,https://github.com/gulpjs/gulp/commit/c5c12411b8c0b2039060dc88c29e943c8f8c06d6,c5c12411b8c0b2039060dc88c29e943c8f8c06d6,Quick fix bug in autocompletion,2014-01-04 17:47:45+06:00,completion.js,https://github.com/gulpjs/gulp/raw/e7e23a4d62bf1c2ec6a8654eae533c39412f90a9/lib/completion.js,https://github.com/gulpjs/gulp/raw/c5c12411b8c0b2039060dc88c29e943c8f8c06d6/lib/completion.js,"@@ -11,7 +11,7 @@ module.exports = function(name) {
         console.log(fs.readFileSync(filepath, 'utf8'));
         process.exit(0);
     } catch (err) {
-        console.log('echo ""Specified gulp shell auto-completion rules for ""'+name+'"" not found');
+        console.log('echo ""Specified gulp shell auto-completion rules for \''+name+'\' not found""');
         process.exit(5);
     }
 };
",14,"console.log('echo ""Specified gulp shell auto-completion rules for ""'+name+'"" not found');","console.log('echo ""Specified gulp shell auto-completion rules for \''+name+'\' not found""');"
gulp,https://github.com/gulpjs/gulp,https://github.com/gulpjs/gulp/commit/24736c02bca578bc8747591c703edbdb62098f16,24736c02bca578bc8747591c703edbdb62098f16,fix --tasks,2014-01-16 01:40:02-07:00,taskTree.js,https://github.com/gulpjs/gulp/raw/b74ba2e5aad48c1a1a39fc65699ff119a1708df8/lib/taskTree.js,https://github.com/gulpjs/gulp/raw/24736c02bca578bc8747591c703edbdb62098f16/lib/taskTree.js,"@@ -6,7 +6,7 @@ module.exports = function(tasks) {
   return Object.keys(tasks).reduce(function(prev, task) {
     prev.nodes.push({
       label: task,
-      nodes: tasks[task].deps
+      nodes: tasks[task].dep
     });
     return prev;
   }, {nodes: []});
",9,nodes: tasks[task].deps,nodes: tasks[task].dep
gulp,https://github.com/gulpjs/gulp,https://github.com/gulpjs/gulp/commit/7651a970ca0895c8f889655dd161ea2b9960f78c,7651a970ca0895c8f889655dd161ea2b9960f78c,"clean watch tests, fix bug with running all tasks",2014-01-21 16:43:34-07:00,gulp.js,https://github.com/gulpjs/gulp/raw/4d629d49b2b6cc5cfd1de2f37ba0b588ff511560/bin/gulp.js,https://github.com/gulpjs/gulp/raw/7651a970ca0895c8f889655dd161ea2b9960f78c/bin/gulp.js,"@@ -54,7 +54,7 @@ if (argv.v || argv.version) {
 }
 
 if (!localGulp) {
-  gutil.log(gutil.colors.red('No local gulp install found in'), getLocalBase(gulpFile));
+  gutil.log(gutil.colors.red('No local gulp install found in'), gutil.colors.magenta(getLocalBase(gulpFile)));
   gutil.log(gutil.colors.red('Try running: npm install gulp'));
   process.exit(1);
 }
",57,"gutil.log(gutil.colors.red('No local gulp install found in'), getLocalBase(gulpFile));","gutil.log(gutil.colors.red('No local gulp install found in'), gutil.colors.magenta(getLocalBase(gulpFile)));"
gulp,https://github.com/gulpjs/gulp,https://github.com/gulpjs/gulp/commit/ed23f18173067316d2fecbdfdc42c8f6d6c547e7,ed23f18173067316d2fecbdfdc42c8f6d6c547e7,"fix(watch): preserve options parameter if no callback

Only if the second parameter is a function will the options object be overwritten to null.

This logic is consistent with glob-watcher, such that options can be passed in cases where
a callback function is not supplied.",2014-03-29 00:00:42-07:00,index.js,https://github.com/gulpjs/gulp/raw/623bb182df024752679c8609fb9a31204d684e13/index.js,https://github.com/gulpjs/gulp/raw/ed23f18173067316d2fecbdfdc42c8f6d6c547e7/index.js,"@@ -25,7 +25,7 @@ Gulp.prototype.run = function() {
 Gulp.prototype.src = vfs.src;
 Gulp.prototype.dest = vfs.dest;
 Gulp.prototype.watch = function(glob, opt, fn) {
-  if (!fn) {
+  if (typeof opt === 'function') {
     fn = opt;
     opt = null;
   }
",28,if (!fn) {,if (typeof opt === 'function') {
gulp,https://github.com/gulpjs/gulp,https://github.com/gulpjs/gulp/commit/2faf45f0cc8c9712c7540ff08af5fa57307e0a04,2faf45f0cc8c9712c7540ff08af5fa57307e0a04,"fix(watch): handle array of tasks when no options

If second parameter is array, assume no options provided.",2014-03-29 13:15:09-07:00,index.js,https://github.com/gulpjs/gulp/raw/9f5f997f63024a212647a76dc841a5a4c4b84538/index.js,https://github.com/gulpjs/gulp/raw/2faf45f0cc8c9712c7540ff08af5fa57307e0a04/index.js,"@@ -25,7 +25,7 @@ Gulp.prototype.run = function() {
 Gulp.prototype.src = vfs.src;
 Gulp.prototype.dest = vfs.dest;
 Gulp.prototype.watch = function(glob, opt, fn) {
-  if (typeof opt === 'function') {
+  if (typeof opt === 'function' || Array.isArray(opt)) {
     fn = opt;
     opt = null;
   }
",28,if (typeof opt === 'function') {,if (typeof opt === 'function' || Array.isArray(opt)) {
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/d956384b8ea22c86c71bb9063fd74f04e8d97360,d956384b8ea22c86c71bb9063fd74f04e8d97360,Fix EofPacket writing,2012-05-07 17:48:55+02:00,EofPacket.js,https://github.com/felixge/node-mysql/raw/1acf0c8db1d868b4751f8594b423f37c2db07d20/lib/protocol/packets/EofPacket.js,https://github.com/felixge/node-mysql/raw/d956384b8ea22c86c71bb9063fd74f04e8d97360/lib/protocol/packets/EofPacket.js,"@@ -16,5 +16,5 @@ EofPacket.prototype.parse = function(parser) {
 EofPacket.prototype.write = function(writer) {
   writer.writeUnsignedNumber(1, 0xfe);
   writer.writeUnsignedNumber(2, this.warningCount);
-  writer.writeUnsignedNumber(1, this.statusFlags);
+  writer.writeUnsignedNumber(2, this.statusFlags);
 };
",19,"writer.writeUnsignedNumber(1, this.statusFlags);","writer.writeUnsignedNumber(2, this.statusFlags);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/beb89e4c23239e1290dfcd777ca00252d71424a7,beb89e4c23239e1290dfcd777ca00252d71424a7,"Fix parseNullTerminatedBuffer off by one error

This fixes password authentication.",2012-05-10 13:29:45+02:00,Parser.js,https://github.com/felixge/node-mysql/raw/8d86e23aba7e0783c3cba372c62afa9802186e78/lib/protocol/Parser.js,https://github.com/felixge/node-mysql/raw/beb89e4c23239e1290dfcd777ca00252d71424a7/lib/protocol/Parser.js,"@@ -131,7 +131,7 @@ Parser.prototype.parseFiller = function(length) {
 
 Parser.prototype.parseNullTerminatedBuffer = function() {
   var end      = this._nullByteOffset();
-  var value    = this._buffer.slice(this._offset, end - 1);
+  var value    = this._buffer.slice(this._offset, end);
   this._offset = end + 1;
 
   return value;
",134,"var value    = this._buffer.slice(this._offset, end - 1);","var value    = this._buffer.slice(this._offset, end);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/962b55ab73c0ba1d8511cc078e4a0dfda51c73a0,962b55ab73c0ba1d8511cc078e4a0dfda51c73a0,Debugging mysql on travis,2012-05-10 15:22:59+02:00,test-select-1.js,https://github.com/felixge/node-mysql/raw/c19f3cf71584fd09d80d900d47d02d17f0e9b5a1/test/integration/test-select-1.js,https://github.com/felixge/node-mysql/raw/962b55ab73c0ba1d8511cc078e4a0dfda51c73a0/test/integration/test-select-1.js,"@@ -1,5 +1,5 @@
 var common     = require('../common');
-var connection = common.createConnection();
+var connection = common.createConnection({debug: true});
 var assert     = require('assert');
 
 connection.connect();
",2,var connection = common.createConnection();,var connection = common.createConnection({debug: true});
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/d551e6c902f99f601cbbd364ac59e5c5fff68198,d551e6c902f99f601cbbd364ac59e5c5fff68198,Debug rows,2012-05-10 15:32:30+02:00,test-select-1.js,https://github.com/felixge/node-mysql/raw/82bf3e25e75459e9b4995a5a881c2b63e693ed41/test/integration/test-select-1.js,https://github.com/felixge/node-mysql/raw/d551e6c902f99f601cbbd364ac59e5c5fff68198/test/integration/test-select-1.js,"@@ -16,7 +16,7 @@ connection.query('SELECT 1', function(err, _rows) {
 connection.end();
 
 process.on('exit', function() {
-	console.log('EXIT');
+  console.log('EXIT', rows);
   assert.deepEqual(rows, [{1: 1}]);
 });
 
",19,console.log('EXIT');,"console.log('EXIT', rows);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/2fa9242d7756ac8f3eb345f8711d41d59fd07b2a,2fa9242d7756ac8f3eb345f8711d41d59fd07b2a,Debug other test now,2012-05-10 15:37:04+02:00,test-bad-credentials.js,https://github.com/felixge/node-mysql/raw/3b69acd9ca0611181cf4845c51804d22aeffac6e/test/integration/test-bad-credentials.js,https://github.com/felixge/node-mysql/raw/2fa9242d7756ac8f3eb345f8711d41d59fd07b2a/test/integration/test-bad-credentials.js,"@@ -1,5 +1,5 @@
 var common     = require('../common');
-var connection = common.createConnection({password: 'INVALID PASSWORD'});
+var connection = common.createConnection({debug: true, password: 'INVALID PASSWORD'});
 var assert     = require('assert');
 
 var err;
",2,var connection = common.createConnection({password: 'INVALID PASSWORD'});,"var connection = common.createConnection({debug: true, password: 'INVALID PASSWORD'});"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/2fa9242d7756ac8f3eb345f8711d41d59fd07b2a,2fa9242d7756ac8f3eb345f8711d41d59fd07b2a,Debug other test now,2012-05-10 15:37:04+02:00,test-select-1.js,https://github.com/felixge/node-mysql/raw/3b69acd9ca0611181cf4845c51804d22aeffac6e/test/integration/test-select-1.js,https://github.com/felixge/node-mysql/raw/2fa9242d7756ac8f3eb345f8711d41d59fd07b2a/test/integration/test-select-1.js,"@@ -1,5 +1,5 @@
 var common     = require('../common');
-var connection = common.createConnection({debug: true});
+var connection = common.createConnection();
 var assert     = require('assert');
 
 connection.connect();
",2,var connection = common.createConnection({debug: true});,var connection = common.createConnection();
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/c0e6f278088649084e8936b485ff4c516b2ce69d,c0e6f278088649084e8936b485ff4c516b2ce69d,"Experimental: Long stack trace support

node-mysql is definitley not the right place to fix this, but support
for this in the node core is long overdue and
tlrobinson/long-stack-traces is very hacky, so I think this is justified
for now, considering how little code is needed to make it work.

But please let me know if you have feedback on this.

Closes #198",2012-05-18 18:32:46+02:00,Handshake.js,https://github.com/felixge/node-mysql/raw/cbedf84d1b1e282ccc96674899de2d2249185710/lib/protocol/sequences/Handshake.js,https://github.com/felixge/node-mysql/raw/c0e6f278088649084e8936b485ff4c516b2ce69d/lib/protocol/sequences/Handshake.js,"@@ -32,7 +32,7 @@ Handshake.prototype['HandshakeInitializationPacket'] = function(packet) {
 };
 
 Handshake.prototype['ErrorPacket'] = function(packet) {
-  var err = Sequence.packetToError(packet, true);
+  var err = this._packetToError(packet, true);
   err.fatal = true;
   this.end(err);
 };
",35,"var err = Sequence.packetToError(packet, true);","var err = this._packetToError(packet, true);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/c0e6f278088649084e8936b485ff4c516b2ce69d,c0e6f278088649084e8936b485ff4c516b2ce69d,"Experimental: Long stack trace support

node-mysql is definitley not the right place to fix this, but support
for this in the node core is long overdue and
tlrobinson/long-stack-traces is very hacky, so I think this is justified
for now, considering how little code is needed to make it work.

But please let me know if you have feedback on this.

Closes #198",2012-05-18 18:32:46+02:00,Query.js,https://github.com/felixge/node-mysql/raw/cbedf84d1b1e282ccc96674899de2d2249185710/lib/protocol/sequences/Query.js,https://github.com/felixge/node-mysql/raw/c0e6f278088649084e8936b485ff4c516b2ce69d/lib/protocol/sequences/Query.js,"@@ -58,7 +58,7 @@ Query.prototype['OkPacket'] = function(packet) {
 };
 
 Query.prototype['ErrorPacket'] = function(packet) {
-  var err = Sequence.packetToError(packet);
+  var err = this._packetToError(packet);
 
   var results = (this._results.length > 0)
     ? this._results
",61,var err = Sequence.packetToError(packet);,var err = this._packetToError(packet);
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/360748d2a50a295d0d03e9152e2fd6e49d062a1a,360748d2a50a295d0d03e9152e2fd6e49d062a1a,"Fix: Passing nestTables to Connection#query

Fixes #221",2012-06-09 13:55:21+02:00,Query.js,https://github.com/felixge/node-mysql/raw/5222237f4cff16ca8c7f23c067e7576e78ab57e8/lib/protocol/sequences/Query.js,https://github.com/felixge/node-mysql/raw/360748d2a50a295d0d03e9152e2fd6e49d062a1a/lib/protocol/sequences/Query.js,"@@ -14,7 +14,7 @@ function Query(options, callback) {
   this.typeCast = (options.typeCast === undefined)
     ? true
     : options.typeCast;
-  this.nestTables = false;
+  this.nestTables = options.nestTables || false;
 
   this._resultSet = null;
   this._results   = [];
",17,this.nestTables = false;,this.nestTables = options.nestTables || false;
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/79f511792d8afc6616a924582c7eb35c86016663,79f511792d8afc6616a924582c7eb35c86016663,"Fix quick pause() / resume() usage

A pause() call directly followed by a resume() call (or any resume() call
inside a parser callback really), would cause the Parser#write method to
be entered recursively, which does not work with the current design.

This patch avoids the recursive call by making the resume() function use
process.nextTick.

Fixes #232",2012-06-25 05:41:48+02:00,Parser.js,https://github.com/felixge/node-mysql/raw/d62e5f64238002190eed3c6ac0305fd3367c8840/lib/protocol/Parser.js,https://github.com/felixge/node-mysql/raw/79f511792d8afc6616a924582c7eb35c86016663/lib/protocol/Parser.js,"@@ -89,7 +89,7 @@ Parser.prototype.pause = function() {
 
 Parser.prototype.resume = function() {
   this._paused = false;
-  this.write();
+  process.nextTick(this.write.bind(this));
 };
 
 Parser.prototype.peak = function() {
",92,this.write();,process.nextTick(this.write.bind(this));
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/ef13c64aa871f383751c863faab63f4ff9925aba,ef13c64aa871f383751c863faab63f4ff9925aba,fix escaping,2012-07-25 00:53:37+02:00,test-SqlString.js,https://github.com/felixge/node-mysql/raw/84d5c8e43b58212a1ba42951fa7a9605fd2c0211/test/unit/protocol/test-SqlString.js,https://github.com/felixge/node-mysql/raw/ef13c64aa871f383751c863faab63f4ff9925aba/test/unit/protocol/test-SqlString.js,"@@ -38,7 +38,7 @@ test('SqlString.escape', {
   },
   
   'nested arrays are turned into grouped lists': function() {
-    assert.equal(SqlString.escape([[1,2,3], [4,5,6], ['a','b','c']]), ""(1, 2, 3), (4, 5, 6), ('a', 'b', 'c')"");
+    assert.equal(SqlString.escape([[1,2,3], [4,5,6], ['a', 'b', {nested: true}]]), ""(1, 2, 3), (4, 5, 6), ('a', 'b', '[object Object]')"");
   },
 
   'nested objects inside arrays are cast to strings': function() {
",41,"assert.equal(SqlString.escape([[1,2,3], [4,5,6], ['a','b','c']]), ""(1, 2, 3), (4, 5, 6), ('a', 'b', 'c')"");","assert.equal(SqlString.escape([[1,2,3], [4,5,6], ['a', 'b', {nested: true}]]), ""(1, 2, 3), (4, 5, 6), ('a', 'b', '[object Object]')"");"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/627df7391ac6161b50c4edaf14cf3daa0b9b61bc,627df7391ac6161b50c4edaf14cf3daa0b9b61bc,"Fix Connection.escape() (fixes #330)

Connection.escape was calling SqlString.escape with wrong parameters",2012-11-12 11:53:09+00:00,Connection.js,https://github.com/felixge/node-mysql/raw/51a5aa7ca0a368c569af21f0b664e5f7e4117818/lib/Connection.js,https://github.com/felixge/node-mysql/raw/627df7391ac6161b50c4edaf14cf3daa0b9b61bc/lib/Connection.js,"@@ -112,7 +112,7 @@ Connection.prototype.resume = function() {
 };
 
 Connection.prototype.escape = function(value) {
-  return SqlString.escape(value, true, this.config.timezone);
+  return SqlString.escape(value, false, this.config.timezone);
 };
 
 Connection.prototype.format = function(sql, values) {
",115,"return SqlString.escape(value, true, this.config.timezone);","return SqlString.escape(value, false, this.config.timezone);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/b40e1149689b10397ff9adf35560ca8fb486176e,b40e1149689b10397ff9adf35560ca8fb486176e,remove un-needed join() in debug array check,2013-03-12 17:53:33+00:00,Protocol.js,https://github.com/felixge/node-mysql/raw/9c58d68d29b0c516c29a4a3fddadc1d151824566/lib/protocol/Protocol.js,https://github.com/felixge/node-mysql/raw/b40e1149689b10397ff9adf35560ca8fb486176e/lib/protocol/Protocol.js,"@@ -291,7 +291,7 @@ Protocol.prototype._debugPacket = function(incoming, packet) {
   headline = headline + packet.constructor.name;
 
   // check for debug packet restriction
-  if (Array.isArray(this._config.debug) && this._config.debug.join().indexOf(packet.constructor.name) === -1) {
+  if (Array.isArray(this._config.debug) && this._config.debug.indexOf(packet.constructor.name) === -1) {
     return;
   }
 
",294,if (Array.isArray(this._config.debug) && this._config.debug.join().indexOf(packet.constructor.name) === -1) {,if (Array.isArray(this._config.debug) && this._config.debug.indexOf(packet.constructor.name) === -1) {
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/a6a46b43f0434c19b1d77f7971e4e4cd425b473e,a6a46b43f0434c19b1d77f7971e4e4cd425b473e,fix for custom charsets on subsequent connections in pool,2013-04-03 01:42:12-07:00,ConnectionConfig.js,https://github.com/felixge/node-mysql/raw/a808ba446bea1f88669b123a756baf003e6df7ed/lib/ConnectionConfig.js,https://github.com/felixge/node-mysql/raw/a6a46b43f0434c19b1d77f7971e4e4cd425b473e/lib/ConnectionConfig.js,"@@ -36,7 +36,7 @@ function ConnectionConfig(options) {
   this.maxPacketSize = 0;
   this.charsetNumber = (options.charset)
     ? ConnectionConfig.getCharsetNumber(options.charset)
-    : Charsets.UTF8_GENERAL_CI;
+    : options.charsetNumber||Charsets.UTF8_GENERAL_CI;
 
   this.clientFlags = ConnectionConfig.mergeFlags(ConnectionConfig.getDefaultFlags(options),
                                                  options.flags || '');
",39,: Charsets.UTF8_GENERAL_CI;,: options.charsetNumber||Charsets.UTF8_GENERAL_CI;
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/cf923503a3d92544379d4279b2306c8045c6392f,cf923503a3d92544379d4279b2306c8045c6392f,fix control flow for second req of pool,2013-05-08 12:28:36-07:00,Pool.js,https://github.com/felixge/node-mysql/raw/6308f59dd645e34549e3e77c3440e1f2be2e7518/lib/Pool.js,https://github.com/felixge/node-mysql/raw/cf923503a3d92544379d4279b2306c8045c6392f/lib/Pool.js,"@@ -25,7 +25,7 @@ Pool.prototype.getConnection = function (cb) {
   if (this._freeConnections.length > 0) {
     connection = this._freeConnections.shift();
 
-    process.nextTick(function(){
+    return process.nextTick(function(){
       return cb(null, connection);
     });
   }
",28,process.nextTick(function(){,return process.nextTick(function(){
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/2553acbb642af1df41db917b44b2d75cdbdc6e5a,2553acbb642af1df41db917b44b2d75cdbdc6e5a,fix writing charsetNumber in ComChangeUserPacket with 2 bytes,2013-05-21 10:13:00+08:00,ComChangeUserPacket.js,https://github.com/felixge/node-mysql/raw/a1f3db0bce23ff6c19678d480bd9a18f0914396d/lib/protocol/packets/ComChangeUserPacket.js,https://github.com/felixge/node-mysql/raw/2553acbb642af1df41db917b44b2d75cdbdc6e5a/lib/protocol/packets/ComChangeUserPacket.js,"@@ -21,5 +21,5 @@ ComChangeUserPacket.prototype.write = function(writer) {
   writer.writeNullTerminatedString(this.user);
   writer.writeLengthCodedBuffer(this.scrambleBuff);
   writer.writeNullTerminatedString(this.database);
-  writer.writeUnsignedNumber(1, this.charsetNumber);
+  writer.writeUnsignedNumber(2, this.charsetNumber);
 };
",24,"writer.writeUnsignedNumber(1, this.charsetNumber);","writer.writeUnsignedNumber(2, this.charsetNumber);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/dd921c3dac1c5dc1afbc2149be6d10665973b9f2,dd921c3dac1c5dc1afbc2149be6d10665973b9f2,"add `stringifyObjects` option

fixes #501",2013-05-29 01:49:00+02:00,Connection.js,https://github.com/felixge/node-mysql/raw/f2a8a50a4afb8a53d0734e3af106ebb43a6c711d/lib/Connection.js,https://github.com/felixge/node-mysql/raw/dd921c3dac1c5dc1afbc2149be6d10665973b9f2/lib/Connection.js,"@@ -150,7 +150,7 @@ Connection.prototype.format = function(sql, values) {
   if (typeof this.config.queryFormat == ""function"") {
     return this.config.queryFormat.call(this, sql, values, this.config.timezone);
   }
-  return SqlString.format(sql, values, this.config.timezone);
+  return SqlString.format(sql, values, this.config.stringifyObjects, this.config.timezone);
 };
 
 Connection.prototype._handleNetworkError = function(err) {
",153,"return SqlString.format(sql, values, this.config.timezone);","return SqlString.format(sql, values, this.config.stringifyObjects, this.config.timezone);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/e6afe97dd8f451c7841a47348b2b17bfeff8248e,e6afe97dd8f451c7841a47348b2b17bfeff8248e,"Date#parse requires a space between the seconds part and the timezone

The current logic results in `dateString` being set to e.g. `2005-02-15 00:00:00UTC` for DATETIME fields if UTC is set as the timezone. This results in an invalid date when passed to the `Date` constructor, or `NaN` when passed to `Date.parse` (the operation is the same internally for both methods).

With the fix, the date is parsed correctly.",2013-06-03 15:39:07-05:00,RowDataPacket.js,https://github.com/felixge/node-mysql/raw/dd04dc10258c7333833582a8d11411bd65e51d37/lib/protocol/packets/RowDataPacket.js,https://github.com/felixge/node-mysql/raw/e6afe97dd8f451c7841a47348b2b17bfeff8248e/lib/protocol/packets/RowDataPacket.js,"@@ -57,7 +57,7 @@ RowDataPacket.prototype._typeCast = function(field, parser, timeZone, supportBig
         if (field.type === Types.DATE) {
           dateString += ' 00:00:00 ' + timeZone;
         } else {
-          dateString += timeZone;
+          dateString += ' ' + timeZone;
         }
       }
 
",60,dateString += timeZone;,dateString += ' ' + timeZone;
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/72db5719332b4b61c74ef5e0c686f64c1c329213,72db5719332b4b61c74ef5e0c686f64c1c329213,Changes SqlString.escape default timezone to 'local' (just like default connection timezone) (fixes #543),2013-07-17 22:28:56+01:00,test-SqlString.js,https://github.com/felixge/node-mysql/raw/2ce987f34d1dd70ba23f1e07c12ff17ee98cd9fd/test/unit/protocol/test-SqlString.js,https://github.com/felixge/node-mysql/raw/72db5719332b4b61c74ef5e0c686f64c1c329213/test/unit/protocol/test-SqlString.js,"@@ -87,7 +87,7 @@ test('SqlString.escape', {
 
   'dates are converted to YYYY-MM-DD HH:II:SS.sss': function() {
     var expected = '2012-05-07 11:42:03.002';
-    var date     = new Date(Date.UTC(2012, 4, 7, 11, 42, 3, 2));
+    var date     = new Date(2012, 4, 7, 11, 42, 3, 2);
     var string   = SqlString.escape(date);
 
     assert.strictEqual(string, ""'"" + expected + ""'"");
",90,"var date     = new Date(Date.UTC(2012, 4, 7, 11, 42, 3, 2));","var date     = new Date(2012, 4, 7, 11, 42, 3, 2);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/7d2e6d65cf087814e90bcbfed3a6bc167e99e0e5,7d2e6d65cf087814e90bcbfed3a6bc167e99e0e5,Fix missing tz in recursive arrayToList call,2013-07-22 12:26:51+09:00,SqlString.js,https://github.com/felixge/node-mysql/raw/8f42c988a127c66590642189928b4cabe3d5fef2/lib/protocol/SqlString.js,https://github.com/felixge/node-mysql/raw/7d2e6d65cf087814e90bcbfed3a6bc167e99e0e5/lib/protocol/SqlString.js,"@@ -53,7 +53,7 @@ SqlString.escape = function(val, stringifyObjects, timeZone) {
 
 SqlString.arrayToList = function(array, timeZone) {
   return array.map(function(v) {
-    if (Array.isArray(v)) return '(' + SqlString.arrayToList(v) + ')';
+    if (Array.isArray(v)) return '(' + SqlString.arrayToList(v, timeZone) + ')';
     return SqlString.escape(v, true, timeZone);
   }).join(', ');
 };
",56,if (Array.isArray(v)) return '(' + SqlString.arrayToList(v) + ')';,"if (Array.isArray(v)) return '(' + SqlString.arrayToList(v, timeZone) + ')';"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/d54be209e4a2cf320561c5fb9d6a2f96352a164d,d54be209e4a2cf320561c5fb9d6a2f96352a164d,"Fixed felixge/node-mysql#622

ReferenceError: Config is not defined when using connection.changeUser
and changing the charset",2013-10-25 09:51:41+01:00,Connection.js,https://github.com/felixge/node-mysql/raw/59fc0d21b63ad9357ea05ad1f58a8fcdf9eb88bb/lib/Connection.js,https://github.com/felixge/node-mysql/raw/d54be209e4a2cf320561c5fb9d6a2f96352a164d/lib/Connection.js,"@@ -83,7 +83,7 @@ Connection.prototype.changeUser = function(options, cb){
   }
 
   var charsetNumber = (options.charset)
-    ? Config.getCharsetNumber(options.charset)
+    ? ConnectionConfig.getCharsetNumber(options.charset)
     : this.config.charsetNumber;
 
   var self = this;
",86,? Config.getCharsetNumber(options.charset),? ConnectionConfig.getCharsetNumber(options.charset)
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/0e6cb107499c739314dfd47b7ee950208b456f9d,0e6cb107499c739314dfd47b7ee950208b456f9d,"Fix change user test

Local mysql responded with ok packet when password was empty - weird.",2013-11-21 09:41:27+01:00,test-change-user-fatal-error.js,https://github.com/felixge/node-mysql/raw/de64fbf9ff21c18ec890410140e5cb03ef8d0f5f/test/integration/connection/test-change-user-fatal-error.js,https://github.com/felixge/node-mysql/raw/0e6cb107499c739314dfd47b7ee950208b456f9d/test/integration/connection/test-change-user-fatal-error.js,"@@ -12,7 +12,7 @@ if (common.isTravis()) {
 }
 
 var err;
-connection.changeUser({user: 'does-not-exist'}, function(_err) {
+connection.changeUser({user: 'does-not-exist', password: 'wrong-password'}, function(_err) {
   err = _err;
   connection.end();
 });
",15,"connection.changeUser({user: 'does-not-exist'}, function(_err) {","connection.changeUser({user: 'does-not-exist', password: 'wrong-password'}, function(_err) {"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/84d512ef577456339561d540a77dc870ba64f7a2,84d512ef577456339561d540a77dc870ba64f7a2,"query.stream()._read without connection is a no-op

Fixes errors when `.stream()` is called on a query without a
connection (e.g. a query created using `createQuery`).",2014-01-15 08:53:20-08:00,Query.js,https://github.com/felixge/node-mysql/raw/680a5f9e5b3e7949a7dfbf3e55a453c57a35b428/lib/protocol/sequences/Query.js,https://github.com/felixge/node-mysql/raw/84d512ef577456339561d540a77dc870ba64f7a2/lib/protocol/sequences/Query.js,"@@ -193,7 +193,7 @@ Query.prototype.stream = function(options) {
   stream = new Readable(options);
 
   stream._read = function() {
-    self._connection.resume();
+    self._connection && self._connection.resume();
   };
 
   this.on('result',function(row,i) {
",196,self._connection.resume();,self._connection && self._connection.resume();
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/f004494d2fabd9f304973665b5d49e27079985d0,f004494d2fabd9f304973665b5d49e27079985d0,"Fix call site when using Pool.prototype.query

This fixes the call site for long stack traces when using the query
method on a pool object. Before the stack trace would only lead up
to inside the getConnection method instead of the library caller.",2014-01-17 09:48:09-05:00,Protocol.js,https://github.com/felixge/node-mysql/raw/a43a95f2b0eac83ed16a55f374925e82e5cab653/lib/protocol/Protocol.js,https://github.com/felixge/node-mysql/raw/f004494d2fabd9f304973665b5d49e27079985d0/lib/protocol/Protocol.js,"@@ -107,7 +107,7 @@ Protocol.prototype._enqueue = function(sequence) {
 
   if (this._config.trace) {
     // Long stack trace support
-    sequence._callSite = new Error;
+    sequence._callSite = sequence._callSite || new Error;
   }
 
   this._queue.push(sequence);
",110,sequence._callSite = new Error;,sequence._callSite = sequence._callSite || new Error;
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/32046858298909c1611ce4edfa36953d6fcee50c,32046858298909c1611ce4edfa36953d6fcee50c,"Fix geometry parser for empty fields

Check buffer length in geometry parser, to avoid

    Uncaught RangeError: Trying to access beyond buffer length

if field value is empty.

closes #742",2014-04-08 18:46:19-04:00,Parser.js,https://github.com/felixge/node-mysql/raw/57f6cb81ba29f3202f3d385b5296233b60174f21/lib/protocol/Parser.js,https://github.com/felixge/node-mysql/raw/32046858298909c1611ce4edfa36953d6fcee50c/lib/protocol/Parser.js,"@@ -256,7 +256,7 @@ Parser.prototype.parseGeometryValue = function() {
   var buffer = this.parseLengthCodedBuffer();
   var offset = 4;
 
-  if (buffer === null) {
+  if (buffer === null || !buffer.length) {
     return null;
   }
 
",259,if (buffer === null) {,if (buffer === null || !buffer.length) {
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/d6f6d2355ed9a2c7866b0de6b99bd4a484ab452c,d6f6d2355ed9a2c7866b0de6b99bd4a484ab452c,"Add connection.threadId to get MySQL connection ID

fixes #602",2014-04-26 19:28:35-04:00,Protocol.js,https://github.com/felixge/node-mysql/raw/7164fd669a30d309d7c07b3308f7c76f84b60e5a/lib/protocol/Protocol.js,https://github.com/felixge/node-mysql/raw/d6f6d2355ed9a2c7866b0de6b99bd4a484ab452c/lib/protocol/Protocol.js,"@@ -229,7 +229,7 @@ Protocol.prototype._determinePacket = function(sequence) {
     case 0x00:
       if (!this._handshaked) {
         this._handshaked = true;
-        this.emit('handshake');
+        this.emit('handshake', this._handshakeInitializationPacket);
       }
       return Packets.OkPacket;
     case 0xfe: return Packets.EofPacket;
",232,this.emit('handshake');,"this.emit('handshake', this._handshakeInitializationPacket);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/5d6333cf624996e42378b4cd1d7603b73f27ca3f,5d6333cf624996e42378b4cd1d7603b73f27ca3f,"Pass query values through to SqlString.format

fixes #590",2014-04-27 18:15:09-04:00,Connection.js,https://github.com/felixge/node-mysql/raw/2ba34742a6f829487182de6c493c188828aed829/lib/Connection.js,https://github.com/felixge/node-mysql/raw/5d6333cf624996e42378b4cd1d7603b73f27ca3f/lib/Connection.js,"@@ -161,7 +161,7 @@ Connection.prototype.query = function(sql, values, cb) {
     query.typeCast = this.config.typeCast;
   }
 
-  query.sql = this.format(query.sql, query.values || []);
+  query.sql = this.format(query.sql, query.values);
 
   return this._protocol._enqueue(query);
 };
",164,"query.sql = this.format(query.sql, query.values || []);","query.sql = this.format(query.sql, query.values);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/5d6333cf624996e42378b4cd1d7603b73f27ca3f,5d6333cf624996e42378b4cd1d7603b73f27ca3f,"Pass query values through to SqlString.format

fixes #590",2014-04-27 18:15:09-04:00,SqlString.js,https://github.com/felixge/node-mysql/raw/2ba34742a6f829487182de6c493c188828aed829/lib/protocol/SqlString.js,https://github.com/felixge/node-mysql/raw/5d6333cf624996e42378b4cd1d7603b73f27ca3f/lib/protocol/SqlString.js,"@@ -65,7 +65,7 @@ SqlString.arrayToList = function(array, timeZone) {
 };
 
 SqlString.format = function(sql, values, stringifyObjects, timeZone) {
-  values = [].concat(values);
+  values = values == null ? [] : [].concat(values);
 
   return sql.replace(/\?\??/g, function(match) {
     if (!values.length) {
",68,values = [].concat(values);,values = values == null ? [] : [].concat(values);
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/ea9a27c32e92427bc2c9e6207e9b2eaeec664733,ea9a27c32e92427bc2c9e6207e9b2eaeec664733,"Clone connection config for new pool connections

fixes #805",2014-05-05 13:00:27-04:00,Pool.js,https://github.com/felixge/node-mysql/raw/5003ce7dcb267353bada42cd1020185023e27683/lib/Pool.js,https://github.com/felixge/node-mysql/raw/ea9a27c32e92427bc2c9e6207e9b2eaeec664733/lib/Pool.js,"@@ -35,7 +35,7 @@ Pool.prototype.getConnection = function (cb) {
   }
 
   if (this.config.connectionLimit === 0 || this._allConnections.length < this.config.connectionLimit) {
-    connection = new PoolConnection(this, { config: this.config.connectionConfig });
+    connection = new PoolConnection(this, { config: this.config.newConnectionConfig() });
 
     this._allConnections.push(connection);
 
",38,"connection = new PoolConnection(this, { config: this.config.connectionConfig });","connection = new PoolConnection(this, { config: this.config.newConnectionConfig() });"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/bd70e05e4346b5dd5b957afd602b20678fd17091,bd70e05e4346b5dd5b957afd602b20678fd17091,"Return last error when PoolCluster exhausts connection retries

fixes #818",2014-05-16 11:14:44-04:00,test-cluster.js,https://github.com/felixge/node-mysql/raw/f03bf567ba64008c09a773858338c01842ed76db/test/integration/pool/test-cluster.js,https://github.com/felixge/node-mysql/raw/bd70e05e4346b5dd5b957afd602b20678fd17091/test/integration/pool/test-cluster.js,"@@ -221,7 +221,7 @@ function createPoolCluster(clusterConfig, poolConfig) {
   cluster.of('*', 'RR').getConnection(function (err, connection) {
     cluster.end();
     
-    assert.ok(err === null);
+    assert.ifError(err);
     assert.equal(connection._clusterId, 'CORRECT');
 
     assert.equal(removedNodeId, 'ERROR');
",224,assert.ok(err === null);,assert.ifError(err);
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/cfd0ce3572d75c3c82103418d1d03cbe67eaf8a1,cfd0ce3572d75c3c82103418d1d03cbe67eaf8a1,"Fix error if falsy error thrown in callback handler

fixes #960",2014-12-16 20:35:05-05:00,Parser.js,https://github.com/felixge/node-mysql/raw/7770ee5bb13260c56a160b91fe480d9165dbeeba/lib/protocol/Parser.js,https://github.com/felixge/node-mysql/raw/cfd0ce3572d75c3c82103418d1d03cbe67eaf8a1/lib/protocol/Parser.js,"@@ -77,7 +77,7 @@ Parser.prototype.write = function(buffer) {
       this._onPacket(this._packetHeader);
       hadException = false;
     } catch (err) {
-      if (typeof err.code !== 'string' || err.code.substr(0, 7) !== 'PARSER_') {
+      if (!err || typeof err.code !== 'string' || err.code.substr(0, 7) !== 'PARSER_') {
         // Rethrow unknown errors
         throw err;
       }
",80,"if (typeof err.code !== 'string' || err.code.substr(0, 7) !== 'PARSER_') {","if (!err || typeof err.code !== 'string' || err.code.substr(0, 7) !== 'PARSER_') {"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/179660f1725e16a09a9a549d53b8a9673401eaf9,179660f1725e16a09a9a549d53b8a9673401eaf9,"Fix connection.destroy() on pool connection creating sequences

fixes #1291",2015-11-27 01:27:28-05:00,PoolConnection.js,https://github.com/felixge/node-mysql/raw/e6b075ebf6197159140e10869dc0f521e2c6d02b/lib/PoolConnection.js,https://github.com/felixge/node-mysql/raw/179660f1725e16a09a9a549d53b8a9673401eaf9/lib/PoolConnection.js,"@@ -43,8 +43,8 @@ PoolConnection.prototype.end = function () {
 };
 
 PoolConnection.prototype.destroy = function () {
+  Connection.prototype.destroy.apply(this, arguments);
   this._removeFromPool(this);
-  return Connection.prototype.destroy.apply(this, arguments);
 };
 
 PoolConnection.prototype._removeFromPool = function _removeFromPool() {
",46,"Connection.prototype.destroy.apply(this, arguments);","return Connection.prototype.destroy.apply(this, arguments);"
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/be37e88eac165f0540c8d9cd1002f8c8fe1d0b45,be37e88eac165f0540c8d9cd1002f8c8fe1d0b45,"Fix type cast for BIGINT columns when number is negative

fixes #1376",2016-05-08 01:09:00-04:00,RowDataPacket.js,https://github.com/felixge/node-mysql/raw/e4d4084714c873c405c18141dd537088781c59ec/lib/protocol/packets/RowDataPacket.js,https://github.com/felixge/node-mysql/raw/be37e88eac165f0540c8d9cd1002f8c8fe1d0b45/lib/protocol/packets/RowDataPacket.js,"@@ -100,7 +100,7 @@ function typeCast(field, parser, timeZone, supportBigNumbers, bigNumberStrings,
       numberString = parser.parseLengthCodedString();
       return (numberString === null || (field.zeroFill && numberString[0] == ""0""))
         ? numberString
-        : ((supportBigNumbers && (bigNumberStrings || (Number(numberString) > IEEE_754_BINARY_64_PRECISION)))
+        : ((supportBigNumbers && (bigNumberStrings || (Number(numberString) >= IEEE_754_BINARY_64_PRECISION) || Number(numberString) <= -IEEE_754_BINARY_64_PRECISION))
           ? numberString
           : Number(numberString));
     case Types.BIT:
",103,: ((supportBigNumbers && (bigNumberStrings || (Number(numberString) > IEEE_754_BINARY_64_PRECISION))),: ((supportBigNumbers && (bigNumberStrings || (Number(numberString) >= IEEE_754_BINARY_64_PRECISION) || Number(numberString) <= -IEEE_754_BINARY_64_PRECISION))
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/2c160306ab063bdfe485a833d3c70d40ca3d881e,2c160306ab063bdfe485a833d3c70d40ca3d881e,"Fix handshake inactivity timeout on Node.js v4.2.0

fixes #1223
fixes #1236
fixes #1239
fixes #1240
fixes #1241
fixes #1252",2016-06-03 13:20:08-04:00,Sequence.js,https://github.com/felixge/node-mysql/raw/bf958d099bc72a0b610757e3e6aa163673f30c2f/lib/protocol/sequences/Sequence.js,https://github.com/felixge/node-mysql/raw/2c160306ab063bdfe485a833d3c70d40ca3d881e/lib/protocol/sequences/Sequence.js,"@@ -29,7 +29,7 @@ function Sequence(options, callback) {
   this._idleNext    = null;
   this._idlePrev    = null;
   this._idleStart   = null;
-  this._idleTimeout = undefined;
+  this._idleTimeout = -1;
   this._repeat      = null;
 }
 
",32,this._idleTimeout = undefined;,this._idleTimeout = -1;
node-mysql,https://github.com/felixge/node-mysql,https://github.com/felixge/node-mysql/commit/36b1927a424c6cf38a3e3b2af3fcef3c0cd94ee8,36b1927a424c6cf38a3e3b2af3fcef3c0cd94ee8,"Fix writing truncated packets starting with large string/buffer

fixes #1438",2016-06-07 21:16:18-04:00,PacketWriter.js,https://github.com/felixge/node-mysql/raw/82614d61768e511e875233bc3ba478ff29ae925e/lib/protocol/PacketWriter.js,https://github.com/felixge/node-mysql/raw/36b1927a424c6cf38a3e3b2af3fcef3c0cd94ee8/lib/protocol/PacketWriter.js,"@@ -188,7 +188,7 @@ PacketWriter.prototype.writeLengthCodedString = function(value) {
 
 PacketWriter.prototype._allocate = function _allocate(bytes) {
   if (!this._buffer) {
-    this._buffer = new Buffer(BUFFER_ALLOC_SIZE);
+    this._buffer = new Buffer(Math.max(BUFFER_ALLOC_SIZE, bytes));
     this._offset = 0;
     return;
   }
",191,this._buffer = new Buffer(BUFFER_ALLOC_SIZE);,"this._buffer = new Buffer(Math.max(BUFFER_ALLOC_SIZE, bytes));"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/4cac33fcd4580edd8316afc0885627146f89d734,4cac33fcd4580edd8316afc0885627146f89d734,added lib/ to bugfix,2011-12-14 02:51:01-08:00,utils.js,https://github.com/cheeriojs/cheerio/raw/29842910f1426640b70b897fdc9a564a2a60f568/lib/api/utils.js,https://github.com/cheeriojs/cheerio/raw/4cac33fcd4580edd8316afc0885627146f89d734/lib/api/utils.js,"@@ -180,7 +180,7 @@
     }
   };
   removeAttr = exports.removeAttr = function(elem, name) {
-    if (elem.type === 'tag' && elem.attribs) {
+    if (isTag(elem.type) && elem.attribs) {
       if (elem.attribs[name]) {
         if (rboolean.test(elem.attribs[name])) {
           return elem.attribs[name] = false;
",183,if (elem.type === 'tag' && elem.attribs) {,if (isTag(elem.type) && elem.attribs) {
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/c15981848f8e852966300e061cf5f177d09a394b,c15981848f8e852966300e061cf5f177d09a394b,"added /lib/api/utils to bugfix, rolled back accidental commit",2011-12-14 02:54:24-08:00,utils.js,https://github.com/cheeriojs/cheerio/raw/29842910f1426640b70b897fdc9a564a2a60f568/lib/api/utils.js,https://github.com/cheeriojs/cheerio/raw/c15981848f8e852966300e061cf5f177d09a394b/lib/api/utils.js,"@@ -180,7 +180,7 @@
     }
   };
   removeAttr = exports.removeAttr = function(elem, name) {
-    if (elem.type === 'tag' && elem.attribs) {
+    if (isTag(elem.type) && elem.attribs) {
       if (elem.attribs[name]) {
         if (rboolean.test(elem.attribs[name])) {
           return elem.attribs[name] = false;
",183,if (elem.type === 'tag' && elem.attribs) {,if (isTag(elem.type) && elem.attribs) {
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/5fee4d77169ad9597f55b3bdcbb8d34a6ee4b716,5fee4d77169ad9597f55b3bdcbb8d34a6ee4b716,fixed regression: error in comments,2012-02-05 00:59:58-08:00,render.js,https://github.com/cheeriojs/cheerio/raw/cecb4dbf46c337ff185148f75700b1763e372dba/lib/render.js,https://github.com/cheeriojs/cheerio/raw/5fee4d77169ad9597f55b3bdcbb8d34a6ee4b716/lib/render.js,"@@ -52,7 +52,7 @@ var render = exports = module.exports = function(dom, output) {
     else if(elem.type === 'directive')
       output.push(renderDirective(elem));
     else if(elem.type === 'comment')
-      output.puhs(renderComment(elem));
+      output.push(renderComment(elem));
     else
       output.push(renderText(elem));
     
",55,output.puhs(renderComment(elem));,output.push(renderComment(elem));
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/bd664ca1fc27e6aa1a1df84767ede9b992f75d10,bd664ca1fc27e6aa1a1df84767ede9b992f75d10,fixed innerhtml,2012-02-06 21:18:15-08:00,utils.js,https://github.com/cheeriojs/cheerio/raw/d7fb96610e8bdba767038eab4d6e3a2af7e4ba8e/lib/api/utils.js,https://github.com/cheeriojs/cheerio/raw/bd664ca1fc27e6aa1a1df84767ede9b992f75d10/lib/api/utils.js,"@@ -263,7 +263,7 @@ var load = exports.load = function(html) {
 };
 
 var html = exports.html = function(dom) {
-  if (dom !== undefined && dom.type) {
+  if (dom !== undefined && dom.length) {
     return render(dom);
   } else if (this.root && this.root.children) {
     return render(this.root.children);
",266,if (dom !== undefined && dom.type) {,if (dom !== undefined && dom.length) {
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/b55f9e466f5aee4109810bfb6e2ad1413ca5ac14,b55f9e466f5aee4109810bfb6e2ad1413ca5ac14,added tests and minor fix,2012-02-06 23:37:06-08:00,utils.js,https://github.com/cheeriojs/cheerio/raw/04ac8698c45dcb6336c5c249680a944f83ac2683/lib/api/utils.js,https://github.com/cheeriojs/cheerio/raw/b55f9e466f5aee4109810bfb6e2ad1413ca5ac14/lib/api/utils.js,"@@ -244,7 +244,7 @@ var load = exports.load = function(html) {
 };
 
 var html = exports.html = function(dom) {
-  if (dom !== undefined && dom.length) {
+  if (dom !== undefined) {
     return render(dom);
   } else if (this.root && this.root.children) {
     return render(this.root.children);
",247,if (dom !== undefined && dom.length) {,if (dom !== undefined) {
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/c88456737c66aa3f84fa5f5162ed1d3d96ccb035,c88456737c66aa3f84fa5f5162ed1d3d96ccb035,fixed options,2012-06-18 19:18:12-07:00,render.js,https://github.com/cheeriojs/cheerio/raw/724c295dc6d21ac31c5658013c3a379ab8b384af/test/render.js,https://github.com/cheeriojs/cheerio/raw/c88456737c66aa3f84fa5f5162ed1d3d96ccb035/test/render.js,"@@ -4,7 +4,7 @@ var expect = require('expect.js'),
     render = cheerio.render;
 
 var html = function(str, options) {
-  if (options === null) options = {};
+  options = options || {};
   var dom = parse(str, options);
   return render(dom);
 };
",7,if (options === null) options = {};,options = options || {};
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/1e2b3240f11b1a7fa3f0bc9009f18a5d7b59bae1,1e2b3240f11b1a7fa3f0bc9009f18a5d7b59bae1,fixed xss vulnerabilities on .attr() and .text(),2012-07-05 18:18:54-07:00,manipulation.js,https://github.com/cheeriojs/cheerio/raw/e9f8e0014475ce5e7c5b8b906413ced0e4c44dad/lib/api/manipulation.js,https://github.com/cheeriojs/cheerio/raw/1e2b3240f11b1a7fa3f0bc9009f18a5d7b59bae1/lib/api/manipulation.js,"@@ -202,7 +202,7 @@ var text = exports.text = function(str) {
   }
 
   var elem = {
-    data : str,
+    data : $.encode(str),
     type : 'text',
     parent : null,
     prev : null,
",205,"data : str,","data : $.encode(str),"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/2b7500d707a7ca8411953aca10556b7f5180658b,2b7500d707a7ca8411953aca10556b7f5180658b,fixed outer html bug,2012-11-18 13:42:48-08:00,static.js,https://github.com/cheeriojs/cheerio/raw/2b77294792cb7651376d505e802c20af391bf750/lib/static.js,https://github.com/cheeriojs/cheerio/raw/2b7500d707a7ca8411953aca10556b7f5180658b/lib/static.js,"@@ -34,7 +34,7 @@ var load = exports.load = function(str, options) {
 
 var html = exports.html = function(dom) {
   if (dom) {
-    dom = (typeof dom === 'string') ? select(selector, this._root) : dom;
+    dom = (typeof dom === 'string') ? select(dom, this._root) : dom;
     return render(dom);
   } else if (this._root && this._root.children) {
     return render(this._root.children);
",37,"dom = (typeof dom === 'string') ? select(selector, this._root) : dom;","dom = (typeof dom === 'string') ? select(dom, this._root) : dom;"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/0464dd8b870e5b2cf04b934d8e79ae5e928a1c6f,0464dd8b870e5b2cf04b934d8e79ae5e928a1c6f,"Fix bug in `filter`

Selectors passed to the `filter` method should only be applied to the
top-level elements in the selection. In other words, descendent elements
should *not* be considered when filtering by a selector string.

From [the jQuery documentation on
`$.fn.filter`](http://api.jquery.com/filter/):

> **Description**: Reduce the set of matched elements to those that
> match the selector or pass the function's test.

This should resolve issue #158.",2013-02-03 12:47:31-05:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/6f0a64a3e39c8ce8a8f53b589197700acb0943a8/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/0464dd8b870e5b2cf04b934d8e79ae5e928a1c6f/lib/api/traversing.js,"@@ -91,7 +91,7 @@ var map = exports.map = function(fn) {
 var filter = exports.filter = function(match) {
   var make = _.bind(this.make, this);
   return make(_.filter(this, _.isString(match) ?
-    function(el) { return select(match, el).length; }
+    function(el) { return select(match, el)[0] === el; }
   : function(el, i) { return match.call(make(el), i, el); }
   ));
 };
",94,"function(el) { return select(match, el).length; }","function(el) { return select(match, el)[0] === el; }"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/629c862a0d3ad58e928542d1008bcbb05510ee9a,629c862a0d3ad58e928542d1008bcbb05510ee9a,"Fix bug in `siblings`

The selection returned by the `siblings` method should not contain *any*
of the elements in the original selection.",2013-09-10 14:24:43-04:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/be66c2d07867b158bc137779929ef3f6cd502732/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/629c862a0d3ad58e928542d1008bcbb05510ee9a/lib/api/traversing.js,"@@ -89,7 +89,7 @@ var prevAll = exports.prevAll = function(selector) {
 var siblings = exports.siblings = function(selector) {
   var elems = _.filter(
     this.parent() ? this.parent().children() : this.siblingsAndMe(),
-    function(elem) { return isTag(elem) && elem !== this[0]; },
+    function(elem) { return isTag(elem) && !this.is(elem); },
     this
   );
   if (selector !== undefined) {
",92,"function(elem) { return isTag(elem) && elem !== this[0]; },","function(elem) { return isTag(elem) && !this.is(elem); },"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/9b90025d55f7b8b8c387624715bd50a90d31fe8b,9b90025d55f7b8b8c387624715bd50a90d31fe8b,fix silly array-like object mistake (sort => splice),2013-12-20 17:43:59+01:00,cheerio.js,https://github.com/cheeriojs/cheerio/raw/0936aaec8ca4e4101351a45f03d90e1fe6536ac7/lib/cheerio.js,https://github.com/cheeriojs/cheerio/raw/9b90025d55f7b8b8c387624715bd50a90d31fe8b/lib/cheerio.js,"@@ -109,7 +109,7 @@ Cheerio.prototype.options = {
  */
 
 Cheerio.prototype.length = 0;
-Cheerio.prototype.sort = [].splice;
+Cheerio.prototype.splice = Array.prototype.splice;
 
 /*
  * Check if string is HTML
",112,Cheerio.prototype.sort = [].splice;,Cheerio.prototype.splice = Array.prototype.splice;
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/035e43091461d96b3ade1134e08e31a0eb632dd1,035e43091461d96b3ade1134e08e31a0eb632dd1,"Fix bug in `siblings`

Do not consider siblings' contents when filtering",2014-02-04 14:14:54-05:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/f9e3ab48f238f43abd2205d32f351a7194f5788d/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/035e43091461d96b3ade1134e08e31a0eb632dd1/lib/api/traversing.js,"@@ -203,7 +203,7 @@ var siblings = exports.siblings = function(selector) {
   );
 
   if (selector !== undefined) {
-    return this._make(select(selector, elems));
+    return filter.call(elems, selector, this);
   } else {
     return this._make(elems);
   }
",206,"return this._make(select(selector, elems));","return filter.call(elems, selector, this);"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/63c1312653eb8d0eee04295ea454883bb06451d0,63c1312653eb8d0eee04295ea454883bb06451d0,"Fix bug in `prevAll`

Do not consider siblings' contents when filtering.",2014-02-04 14:52:37-05:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/035e43091461d96b3ade1134e08e31a0eb632dd1/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/63c1312653eb8d0eee04295ea454883bb06451d0/lib/api/traversing.js,"@@ -161,7 +161,7 @@ var prevAll = exports.prevAll = function(selector) {
     }
   });
 
-  return this._make(selector ? select(selector, elems) : elems);
+  return selector ? filter.call(elems, selector, this) : this._make(elems);
 };
 
 var prevUntil = exports.prevUntil = function(selector, filter) {
",164,"return this._make(selector ? select(selector, elems) : elems);","return selector ? filter.call(elems, selector, this) : this._make(elems);"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/05fd38140c6c79cf29a7bf83c7151ef3bd55702e,05fd38140c6c79cf29a7bf83c7151ef3bd55702e,"Fix bug in `nextAll`

Do not consider siblings' contents when filtering.",2014-02-04 14:52:49-05:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/b0e7c3ff1e5a12dc30f91e0e96d62d827db84f2c/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/05fd38140c6c79cf29a7bf83c7151ef3bd55702e/lib/api/traversing.js,"@@ -101,7 +101,7 @@ var nextAll = exports.nextAll = function(selector) {
     }
   });
 
-  return this._make(selector ? select(selector, elems) : elems);
+  return selector ? filter.call(elems, selector, this) : this._make(elems);
 };
 
 var nextUntil = exports.nextUntil = function(selector, filter) {
",104,"return this._make(selector ? select(selector, elems) : elems);","return selector ? filter.call(elems, selector, this) : this._make(elems);"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/843582a532c5794577164e6767b3e5ffa9098232,843582a532c5794577164e6767b3e5ffa9098232,fix 'content undefined',2014-02-25 17:49:51+02:00,parse.js,https://github.com/cheeriojs/cheerio/raw/f91bee82845c87a437d1ad8e1d1a762c735e1bdd/lib/parse.js,https://github.com/cheeriojs/cheerio/raw/843582a532c5794577164e6767b3e5ffa9098232/lib/parse.js,"@@ -38,7 +38,7 @@ var evaluate = exports.evaluate = function(strOrDom, options) {
     var handler = new htmlparser.DomHandler(options),
         parser = new htmlparser.Parser(handler, options);
 
-    parser.write(content);
+    parser.write(strOrDom);
     parser.done();
 
     dom = handler.dom;
",41,parser.write(content);,parser.write(strOrDom);
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/4664579a5663158ea98c7ecedccb4f68a583c6c7,4664579a5663158ea98c7ecedccb4f68a583c6c7,"Update to latest version of expect.js

In version 0.3, expect.js corrected the order of its `eql` assertion.
This exposed several bugs in Cheerio's unit tests, where `aguments`
objects were being tested for deep equality with Array instances.",2014-02-28 10:09:22-05:00,api.traversing.js,https://github.com/cheeriojs/cheerio/raw/f11de458075e0eb2a0257bc8c3c65123123ddff5/test/api.traversing.js,https://github.com/cheeriojs/cheerio/raw/4664579a5663158ea98c7ecedccb4f68a583c6c7/test/api.traversing.js,"@@ -532,7 +532,7 @@ describe('$(...)', function() {
       var thisVals = [];
 
       $fruits.map(function() {
-        args.push(arguments);
+        args.push(Array.prototype.slice.call(arguments));
         thisVals.push(this);
       });
 
",535,args.push(arguments);,args.push(Array.prototype.slice.call(arguments));
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/826b9f85fe7f2a20ecbaf991258a7a31cb755a89,826b9f85fe7f2a20ecbaf991258a7a31cb755a89,"decode entities in htmlparser2

fixes #248

This changes how text nodes are stored in the DOM: They are now
unescaped by default, which leads to a slight overhead when rendering.",2014-04-08 19:20:40+02:00,manipulation.js,https://github.com/cheeriojs/cheerio/raw/e478de2fecf102f07c4c42e644938f6b5245e2a3/lib/api/manipulation.js,https://github.com/cheeriojs/cheerio/raw/826b9f85fe7f2a20ecbaf991258a7a31cb755a89/lib/api/manipulation.js,"@@ -246,7 +246,7 @@ var text = exports.text = function(str) {
   }
 
   var elem = {
-    data: encode(str),
+    data: str,
     type: 'text',
     parent: null,
     prev: null,
",249,"data: encode(str),","data: str,"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/826b9f85fe7f2a20ecbaf991258a7a31cb755a89,826b9f85fe7f2a20ecbaf991258a7a31cb755a89,"decode entities in htmlparser2

fixes #248

This changes how text nodes are stored in the DOM: They are now
unescaped by default, which leads to a slight overhead when rendering.",2014-04-08 19:20:40+02:00,cheerio.js,https://github.com/cheeriojs/cheerio/raw/e478de2fecf102f07c4c42e644938f6b5245e2a3/lib/cheerio.js,https://github.com/cheeriojs/cheerio/raw/826b9f85fe7f2a20ecbaf991258a7a31cb755a89/lib/cheerio.js,"@@ -111,7 +111,7 @@ Cheerio.prototype.cheerio = '[cheerio object]';
 Cheerio.prototype.options = {
   normalizeWhitespace: false,
   xmlMode: false,
-  decodeEntities: false
+  decodeEntities: true
 };
 
 /*
",114,decodeEntities: false,decodeEntities: true
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/ec26640059e1eb61cb54f4b4d54515f14e3b4c79,ec26640059e1eb61cb54f4b4d54515f14e3b4c79,"Fixed a bug in removing type=""hidden"" attr

If you try to remove the type attribute from inputs when it's set to `hidden` Cheerio incorrectly assumes that it's boolean.

If I understand what `rboolean` is used for then this should fix this bug and prevent future similar ones.

Here's a failed test with the current version of Cheerio:

    var cheerio = require(""cheerio""),
    	$ = cheerio.load('<input type=""hidden"" />');

    $(""input"").removeAttr(""type""); // Type is now set to false instead of being removed

    var out = $.html(); // This will fail since it thinks type is a string",2014-05-16 12:11:51-04:00,attributes.js,https://github.com/cheeriojs/cheerio/raw/766e137a9831ecba49e0fba54c786c2ed2c7cfd7/lib/api/attributes.js,https://github.com/cheeriojs/cheerio/raw/ec26640059e1eb61cb54f4b4d54515f14e3b4c79/lib/api/attributes.js,"@@ -230,7 +230,7 @@ var removeAttribute = function(elem, name) {
   if (!elem.attribs || !hasOwn.call(elem.attribs, name))
     return;
 
-  if (rboolean.test(elem.attribs[name]))
+  if (name == elem.attribs[name] && rboolean.test(elem.attribs[name]))
     elem.attribs[name] = false;
   else
     delete elem.attribs[name];
",233,if (rboolean.test(elem.attribs[name])),if (name == elem.attribs[name] && rboolean.test(elem.attribs[name]))
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/0d54e6da1ba7a48b9e37af9564349fe273f4958e,0d54e6da1ba7a48b9e37af9564349fe273f4958e,Fixed test,2014-05-16 13:30:56-04:00,api.attributes.js,https://github.com/cheeriojs/cheerio/raw/27f68c057f9c29e89b03196bdecc36bec914637c/test/api.attributes.js,https://github.com/cheeriojs/cheerio/raw/0d54e6da1ba7a48b9e37af9564349fe273f4958e/test/api.attributes.js,"@@ -101,7 +101,7 @@ describe('$(...)', function() {
       $apple.attr('data-autofocus', 'autofocus');
       expect($apple.attr('data-autofocus')).to.equal('autofocus');
       $apple.removeAttr('data-autofocus');
-      expect($apple.attr('data-autofocus')).to.not.exist;
+      expect($apple.attr('data-autofocus')).to.be(undefined);
     });
   });
 
",104,expect($apple.attr('data-autofocus')).to.not.exist;,expect($apple.attr('data-autofocus')).to.be(undefined);
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/bbf661b06b91687409e1b63d2e00527f6818fdef,bbf661b06b91687409e1b63d2e00527f6818fdef,"Fix bug in `css` method

When a callback function is provided as the second argument to the `css`
method, it should be invoked with each element's index and the value of
the specified CSS property (not the element itself).

From the jQuery API documentation on `css`:

> # .css( propertyName, function )
>
> **propertyName**
> Type: String
> A CSS property name.
>
> **function**
> Type: Function( Integer index, String value ) => String or Number
> A function returning the value to set. `this` is the current element.
> Receives the index position of the element in the set and the old
> value as arguments.

http://api.jquery.com/css/#css-propertyName-function",2014-10-24 17:12:48-04:00,css.js,https://github.com/cheeriojs/cheerio/raw/c0d01623dd811feed60b48d03c1f0431bda8a86d/lib/api/css.js,https://github.com/cheeriojs/cheerio/raw/bbf661b06b91687409e1b63d2e00527f6818fdef/lib/api/css.js,"@@ -37,7 +37,7 @@ function setCss(el, prop, val, idx) {
   if ('string' == typeof prop) {
     var styles = getCss(el);
     if (typeof val === 'function') {
-      val = val.call(el, idx, el);
+      val = val.call(el, idx, styles[prop]);
     }
 
     if (val === '') {
",40,"val = val.call(el, idx, el);","val = val.call(el, idx, styles[prop]);"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/91da1a68b540a3fef17b359da424fe049130d3ed,91da1a68b540a3fef17b359da424fe049130d3ed,"Rename `useHtmlParser2` option

This flag is used to control parsing behavior internally, but it is not
intended for use by consumers. Prefix the name with an underscore in
order to discourage users from relying on it.",2020-09-09 14:34:44-07:00,parse.js,https://github.com/cheeriojs/cheerio/raw/5ab3eecda612e78eca303a2392eb5278322ffb7d/lib/parse.js,https://github.com/cheeriojs/cheerio/raw/91da1a68b540a3fef17b359da424fe049130d3ed/lib/parse.js,"@@ -37,7 +37,7 @@ exports.evaluate = function(content, options, isDocument) {
     content = content.toString();
 
   if (typeof content === 'string') {
-    var useHtmlParser2 = options.xmlMode || options.useHtmlParser2;
+    var useHtmlParser2 = options.xmlMode || options._useHtmlParser2;
 
     dom = useHtmlParser2 ? htmlparser.parseDOM(content, options) : parseWithParse5(content, isDocument);
   } else {
",40,var useHtmlParser2 = options.xmlMode || options.useHtmlParser2;,var useHtmlParser2 = options.xmlMode || options._useHtmlParser2;
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/91da1a68b540a3fef17b359da424fe049130d3ed,91da1a68b540a3fef17b359da424fe049130d3ed,"Rename `useHtmlParser2` option

This flag is used to control parsing behavior internally, but it is not
intended for use by consumers. Prefix the name with an underscore in
order to discourage users from relying on it.",2020-09-09 14:34:44-07:00,utils.js,https://github.com/cheeriojs/cheerio/raw/5ab3eecda612e78eca303a2392eb5278322ffb7d/lib/utils.js,https://github.com/cheeriojs/cheerio/raw/91da1a68b540a3fef17b359da424fe049130d3ed/lib/utils.js,"@@ -62,7 +62,7 @@ exports.domEach = function(cheerio, fn) {
  * @argument {Object} options - The parsing/rendering options
  */
 exports.cloneDom = function(dom, options) {
-  options = assign({}, options, { useHtmlParser2: true });
+  options = assign({}, options, { _useHtmlParser2: true });
 
   return parse(render(dom, options), options, false).children;
 };
",65,"options = assign({}, options, { useHtmlParser2: true });","options = assign({}, options, { _useHtmlParser2: true });"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/21b54b591dfc829f39d68ede62a69c1937effb47,21b54b591dfc829f39d68ede62a69c1937effb47,"Fix location handling for parse5

and port test case from #1303",2020-09-09 17:15:31-07:00,parse.js,https://github.com/cheeriojs/cheerio/raw/8d90fafdb4ac452f7119ca4ffcc7fc581d6e6e51/lib/parse.js,https://github.com/cheeriojs/cheerio/raw/21b54b591dfc829f39d68ede62a69c1937effb47/lib/parse.js,"@@ -26,7 +26,7 @@ function parseWithParse5(content, options, isDocument) {
   var parse = isDocument ? parse5.parse : parse5.parseFragment;
   var root = parse(content, {
     treeAdapter: htmlparser2Adapter,
-    locationInfo: options.locationInfo
+    sourceCodeLocationInfo: options.sourceCodeLocationInfo
   });
 
   return root.children;
",29,locationInfo: options.locationInfo,sourceCodeLocationInfo: options.sourceCodeLocationInfo
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/35f64ff4e73c0211113c277bd0f5b4221ce34107,35f64ff4e73c0211113c277bd0f5b4221ce34107,Fix jsdom breaking change,2020-09-09 17:24:11-07:00,suite.js,https://github.com/cheeriojs/cheerio/raw/2b75704ed7979fd52a5b2ac95f553a21fb3b4a81/benchmark/suite.js,https://github.com/cheeriojs/cheerio/raw/35f64ff4e73c0211113c277bd0f5b4221ce34107/benchmark/suite.js,"@@ -67,7 +67,7 @@ Suites.prototype._benchJsDom = function (suite, markup, options) {
 
   var dom = new JSDOM(markup, { runScripts: 'outside-only' });
 
-  dom.runVMScript(jQueryScript);
+  jQueryScript.runInContext(dom.getInternalVMContext());
 
   var setupData;
   if (options.setup) {
",70,dom.runVMScript(jQueryScript);,jQueryScript.runInContext(dom.getInternalVMContext());
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/f84d35129e75198c72e43c0c7690730695dc9412,f84d35129e75198c72e43c0c7690730695dc9412,fix(traversing): Allow `find` without an argument,2020-12-08 16:48:42-08:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/96a5be3b351801a04566874981ef3349e966848d/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/f84d35129e75198c72e43c0c7690730695dc9412/lib/api/traversing.js,"@@ -57,7 +57,7 @@ exports.find = function (selectorOrHaystack) {
 
   var options = { __proto__: this.options, context: this.toArray() };
 
-  return this._make(select.selectAll(selectorOrHaystack, elems, options));
+  return this._make(select.selectAll(selectorOrHaystack || '', elems, options));
 };
 
 /**
",60,"return this._make(select.selectAll(selectorOrHaystack, elems, options));","return this._make(select.selectAll(selectorOrHaystack || '', elems, options));"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/4d5b9b03676e4f0cebfe8f2834f2d2b14f64d1dc,4d5b9b03676e4f0cebfe8f2834f2d2b14f64d1dc,"fix(manipulation): Prevent stale data on .prev() after replaceWith() (#1254)

Fixes #1253

Co-authored-by: Felix Böhm <me@feedic.com>",2020-12-11 17:34:57-08:00,manipulation.js,https://github.com/cheeriojs/cheerio/raw/1f33c8b4e6b695f4242e22863a28e43ab65552af/lib/api/manipulation.js,https://github.com/cheeriojs/cheerio/raw/4d5b9b03676e4f0cebfe8f2834f2d2b14f64d1dc/lib/api/manipulation.js,"@@ -79,7 +79,7 @@ var _insert = function (concatenator) {
 var uniqueSplice = function (array, spliceIdx, spliceCount, newElems, parent) {
   var spliceArgs = [spliceIdx, spliceCount].concat(newElems);
   var prev = array[spliceIdx - 1] || null;
-  var next = array[spliceIdx] || null;
+  var next = array[spliceIdx + spliceCount] || null;
   var idx;
   var len;
   var prevIdx;
",82,var next = array[spliceIdx] || null;,var next = array[spliceIdx + spliceCount] || null;
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/9ea8fd64ed3bff326a3e542a0c3b36d551dad73d,9ea8fd64ed3bff326a3e542a0c3b36d551dad73d,"fix(attributes): Fix data attribute retrieving problem (#1139)

Where original markup has an data attribute 'x' and it is overriden
by data('x', 'a'), it is accidentaly reset to the original markup state once
data() is called to get all data attributes.

Co-authored-by: Felix Böhm <me@feedic.com>",2020-12-11 22:06:36-08:00,attributes.js,https://github.com/cheeriojs/cheerio/raw/42b7df2c3a0eba5de50817e4f5d23e04692dcdc5/lib/api/attributes.js,https://github.com/cheeriojs/cheerio/raw/9ea8fd64ed3bff326a3e542a0c3b36d551dad73d/lib/api/attributes.js,"@@ -235,7 +235,7 @@ var readData = function (el, name) {
   for (idx = 0, length = domNames.length; idx < length; ++idx) {
     domName = domNames[idx];
     jsName = jsNames[idx];
-    if (hasOwn.call(el.attribs, domName)) {
+    if (hasOwn.call(el.attribs, domName) && !hasOwn.call(el.data, jsName)) {
       value = el.attribs[domName];
 
       if (hasOwn.call(primitives, value)) {
",238,"if (hasOwn.call(el.attribs, domName)) {","if (hasOwn.call(el.attribs, domName) && !hasOwn.call(el.data, jsName)) {"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/2e75c2a4e38a83d89a32cb5edb74edacd0118042,2e75c2a4e38a83d89a32cb5edb74edacd0118042,"refactor: Use the parser's DOM without modifications (#1559)

BREAKING: This removes the `root` property from root nodes. Instead, the `root` reference is kept in the (previously `null`) `parent` property.

Also bumps `css-select`, as the new version includes a fix for `parent` references that aren't elements.",2020-12-14 10:54:59-08:00,utils.js,https://github.com/cheeriojs/cheerio/raw/cc3cbe32ea6cb634fd8c078701bb0649d35766e8/lib/utils.js,https://github.com/cheeriojs/cheerio/raw/2e75c2a4e38a83d89a32cb5edb74edacd0118042/lib/utils.js,"@@ -67,7 +67,7 @@ exports.cloneDom = function (dom) {
   var parents =
     'length' in dom
       ? Array.prototype.map.call(dom, function (el) {
-          return el.parent;
+          return el.parent && el.parent.type === 'root' ? null : el.parent;
         })
       : [dom.parent];
 
",70,return el.parent;,return el.parent && el.parent.type === 'root' ? null : el.parent;
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/9bbaa746f639585dc805bf025c1d9f8e35d7d944,9bbaa746f639585dc805bf025c1d9f8e35d7d944,"feat: Use `cheerio-select`, to support positional selectors

Adds support for jQuery positional selectors (:eq, :first, :not(:last) etc.).

Fixes #1355
Fixes #129",2020-12-20 09:56:39+01:00,attributes.js,https://github.com/cheeriojs/cheerio/raw/b13688f05bc8a2cfef6611ba2f34ac6956151b17/test/api/attributes.js,https://github.com/cheeriojs/cheerio/raw/9bbaa746f639585dc805bf025c1d9f8e35d7d944/test/api/attributes.js,"@@ -243,7 +243,7 @@ describe('$(...)', function () {
       expect($el.data()).to.eql({
         a: 'a',
         b: 'b-modified',
-        c: 'c'
+        c: 'c',
       });
     });
 
",246,c: 'c',"c: 'c',"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/e720e4a71f14b102345365b472b720d2512a69f3,e720e4a71f14b102345365b472b720d2512a69f3,"fix(xml): Fix `.xml` calls on HTML documents (#1572)

We passed the wrong option to `render` (should have been `xmlMode`, was `xml`).",2020-12-21 20:15:25+01:00,static.js,https://github.com/cheeriojs/cheerio/raw/c3e633a82b97ca0a3f758b27fd6e4f0168cf2b0c/lib/static.js,https://github.com/cheeriojs/cheerio/raw/e720e4a71f14b102345365b472b720d2512a69f3/lib/static.js,"@@ -146,7 +146,7 @@ exports.html = function (dom, options) {
  * @param {string|cheerio|node} [dom] - Element to render.
  */
 exports.xml = function (dom) {
-  var options = Object.assign({}, this._options, { xml: true });
+  var options = Object.assign({}, this._options, { xmlMode: true });
 
   return render(this, dom, options);
 };
",149,"var options = Object.assign({}, this._options, { xml: true });","var options = Object.assign({}, this._options, { xmlMode: true });"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/89f6ce2c798f5897ae235fb594134c8fc5ece00b,89f6ce2c798f5897ae235fb594134c8fc5ece00b,"fix(options): Set `_useHtmlParser2: true` when using `xml`

Passing `xml: { xmlMode: false }` is now going to use `htmlparser2`.",2020-12-21 20:15:55+01:00,static.js,https://github.com/cheeriojs/cheerio/raw/35fc1ac19d10760b05e4bd5a2bacbf279582f4f4/lib/static.js,https://github.com/cheeriojs/cheerio/raw/89f6ce2c798f5897ae235fb594134c8fc5ece00b/lib/static.js,"@@ -35,7 +35,7 @@ exports.load = function (content, options, isDocument) {
 
   var Cheerio = require('./cheerio');
 
-  options = Object.assign({}, defaultOptions, flattenOptions(options || {}));
+  options = Object.assign({}, defaultOptions, flattenOptions(options));
 
   if (isDocument === void 0) isDocument = true;
 
",38,"options = Object.assign({}, defaultOptions, flattenOptions(options || {}));","options = Object.assign({}, defaultOptions, flattenOptions(options));"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/5b997760e09a41d8e4d582b0eced30a256eee308,5b997760e09a41d8e4d582b0eced30a256eee308,fix(tests): Pass `isDocument: false` to load,2020-12-21 20:35:21+01:00,cheerio.js,https://github.com/cheeriojs/cheerio/raw/0a1bd88afe6a2d83940be0d5d9d00aa8e1ec8922/test/cheerio.js,https://github.com/cheeriojs/cheerio/raw/5b997760e09a41d8e4d582b0eced30a256eee308/test/cheerio.js,"@@ -302,7 +302,7 @@ describe('cheerio', function () {
 
     it('should use htmlparser2 if xml option is used', function () {
       var str = '<div></div>';
-      var dom = cheerio.load(str);
+      var dom = cheerio.load(str, null, false);
       // Should use htmlparser2 and not add <html>, <body> etc. tags
       expect(dom.html()).to.be(str);
     });
",305,var dom = cheerio.load(str);,"var dom = cheerio.load(str, null, false);"
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/ff4bbaf0069d125e87995faee205a7447b92b150,ff4bbaf0069d125e87995faee205a7447b92b150,fix(jsdoc): Fix type for JSDoc build,2020-12-25 20:40:12+01:00,forms.js,https://github.com/cheeriojs/cheerio/raw/8273e4c3bd5ff75719e5c502fd2455258b2b08ef/lib/api/forms.js,https://github.com/cheeriojs/cheerio/raw/ff4bbaf0069d125e87995faee205a7447b92b150/lib/api/forms.js,"@@ -35,7 +35,7 @@ exports.serialize = function () {
  *
  * @see {@link http://api.jquery.com/serializeArray/}
  *
- * @returns {{ name: string; value: string }[]} The serialized form.
+ * @returns {Array<object<string,string>>} The serialized form.
  */
 exports.serializeArray = function () {
   // Resolve all form elements from either forms or collections of form elements
",38,* @returns {{ name: string; value: string }[]} The serialized form.,"* @returns {Array<object<string,string>>} The serialized form."
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/15e39cfcb0857fff1a66df478743b9c2909a9998,15e39cfcb0857fff1a66df478743b9c2909a9998,"fix(jsdoc): Fix parameter types (#1615)

And rename unused vars to `_` and remove unused `cloneDom` argument.",2020-12-28 08:07:36+00:00,parse.js,https://github.com/cheeriojs/cheerio/raw/36c4c77df9dd199769db9eaa88caae3809139678/lib/parse.js,https://github.com/cheeriojs/cheerio/raw/15e39cfcb0857fff1a66df478743b9c2909a9998/lib/parse.js,"@@ -42,7 +42,7 @@ exports = module.exports = function parse(content, options, isDocument) {
  * Update the dom structure, for one changed layer.
  *
  * @param {Node[] | Node} arr - The new children.
- * @param {Node} parent - The new parent.
+ * @param {NodeWithChildren} parent - The new parent.
  * @returns {Node} The parent node.
  */
 exports.update = function (arr, parent) {
",45,* @param {Node} parent - The new parent.,* @param {NodeWithChildren} parent - The new parent.
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/15e39cfcb0857fff1a66df478743b9c2909a9998,15e39cfcb0857fff1a66df478743b9c2909a9998,"fix(jsdoc): Fix parameter types (#1615)

And rename unused vars to `_` and remove unused `cloneDom` argument.",2020-12-28 08:07:36+00:00,static.js,https://github.com/cheeriojs/cheerio/raw/36c4c77df9dd199769db9eaa88caae3809139678/lib/static.js,https://github.com/cheeriojs/cheerio/raw/15e39cfcb0857fff1a66df478743b9c2909a9998/lib/static.js,"@@ -139,7 +139,7 @@ exports.xml = function (dom) {
 /**
  * Render the document as text.
  *
- * @param {Cheerio | Node} [elems] - Elements to render.
+ * @param {Cheerio | Node[]} [elems] - Elements to render.
  * @returns {string} The rendered document.
  */
 exports.text = function (elems) {
",142,* @param {Cheerio | Node} [elems] - Elements to render.,* @param {Cheerio | Node[]} [elems] - Elements to render.
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/15e39cfcb0857fff1a66df478743b9c2909a9998,15e39cfcb0857fff1a66df478743b9c2909a9998,"fix(jsdoc): Fix parameter types (#1615)

And rename unused vars to `_` and remove unused `cloneDom` argument.",2020-12-28 08:07:36+00:00,utils.js,https://github.com/cheeriojs/cheerio/raw/36c4c77df9dd199769db9eaa88caae3809139678/lib/utils.js,https://github.com/cheeriojs/cheerio/raw/15e39cfcb0857fff1a66df478743b9c2909a9998/lib/utils.js,"@@ -48,7 +48,7 @@ exports.cssCase = function (str) {
  *
  * @param {Cheerio} cheerio - Cheerio object.
  * @param {Function} fn - Function to call.
- * @returns {void}
+ * @returns {Cheerio} The original instance.
  */
 exports.domEach = function (cheerio, fn) {
   var i = 0;
",51,* @returns {void},* @returns {Cheerio} The original instance.
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/21de2c55d0459db0564de91fed20fd33c9647e19,21de2c55d0459db0564de91fed20fd33c9647e19,"chore(lint): Enable several rules (#1617)

* Add back `--ignore-path .gitignore`

* Disable `allowElseIf` in `no-else-return` rule

* Enable `no-void` rule

* Enable `array-callback-return` rule

* Enable `no-useless-call` rule

* api/traversing.js: replace if statement with a ternary

* Use `Array.isArray`

* Use `new Error` instead of `Error`

* Enable `no-lonely-if` rule

* test/cheerio.js: fix require

* Enable `yoda` rule",2020-12-29 20:35:16+01:00,static.js,https://github.com/cheeriojs/cheerio/raw/bdd6018807b4026047a0b2ab966d0aa5ea76a0b6/lib/static.js,https://github.com/cheeriojs/cheerio/raw/21de2c55d0459db0564de91fed20fd33c9647e19/lib/static.js,"@@ -31,7 +31,7 @@ exports.load = function (content, options, isDocument) {
 
   options = Object.assign({}, defaultOptions, flattenOptions(options));
 
-  if (isDocument === void 0) isDocument = true;
+  if (typeof isDocument === 'undefined') isDocument = true;
 
   var root = parse(content, options, isDocument);
 
",34,if (isDocument === void 0) isDocument = true;,if (typeof isDocument === 'undefined') isDocument = true;
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/21de2c55d0459db0564de91fed20fd33c9647e19,21de2c55d0459db0564de91fed20fd33c9647e19,"chore(lint): Enable several rules (#1617)

* Add back `--ignore-path .gitignore`

* Disable `allowElseIf` in `no-else-return` rule

* Enable `no-void` rule

* Enable `array-callback-return` rule

* Enable `no-useless-call` rule

* api/traversing.js: replace if statement with a ternary

* Use `Array.isArray`

* Use `new Error` instead of `Error`

* Enable `no-lonely-if` rule

* test/cheerio.js: fix require

* Enable `yoda` rule",2020-12-29 20:35:16+01:00,deprecated.js,https://github.com/cheeriojs/cheerio/raw/bdd6018807b4026047a0b2ab966d0aa5ea76a0b6/test/api/deprecated.js,https://github.com/cheeriojs/cheerio/raw/21de2c55d0459db0564de91fed20fd33c9647e19/test/api/deprecated.js,"@@ -51,7 +51,7 @@ describe('deprecated APIs', function () {
       it('(arraylike, arraylike) : should return an array', function () {
         var ret = cheerio.merge(arr1, arr2);
         expect(typeof ret).toBe('object');
-        expect(ret instanceof Array).toBeTruthy();
+        expect(Array.isArray(ret)).toBe(true);
       });
 
       it('(arraylike, arraylike) : should modify the first array', function () {
",54,expect(ret instanceof Array).toBeTruthy();,expect(Array.isArray(ret)).toBe(true);
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/21de2c55d0459db0564de91fed20fd33c9647e19,21de2c55d0459db0564de91fed20fd33c9647e19,"chore(lint): Enable several rules (#1617)

* Add back `--ignore-path .gitignore`

* Disable `allowElseIf` in `no-else-return` rule

* Enable `no-void` rule

* Enable `array-callback-return` rule

* Enable `no-useless-call` rule

* api/traversing.js: replace if statement with a ternary

* Use `Array.isArray`

* Use `new Error` instead of `Error`

* Enable `no-lonely-if` rule

* test/cheerio.js: fix require

* Enable `yoda` rule",2020-12-29 20:35:16+01:00,utils.js,https://github.com/cheeriojs/cheerio/raw/bdd6018807b4026047a0b2ab966d0aa5ea76a0b6/test/api/utils.js,https://github.com/cheeriojs/cheerio/raw/21de2c55d0459db0564de91fed20fd33c9647e19/test/api/utils.js,"@@ -255,7 +255,7 @@ describe('cheerio', function () {
     it('(arraylike, arraylike) : should return an array', function () {
       var ret = $.merge(arr1, arr2);
       expect(typeof ret).toBe('object');
-      expect(ret instanceof Array).toBeTruthy();
+      expect(Array.isArray(ret)).toBe(true);
     });
 
     it('(arraylike, arraylike) : should modify the first array', function () {
",258,expect(ret instanceof Array).toBeTruthy();,expect(Array.isArray(ret)).toBe(true);
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/43592d6fa47f7396216196a524a4bcbef976598c,43592d6fa47f7396216196a524a4bcbef976598c,fix(traversing): parent() may fail in functions (#1637),2021-01-04 05:24:10-08:00,traversing.js,https://github.com/cheeriojs/cheerio/raw/b6d38407df78c203131627c4fc173190a51d400d/lib/api/traversing.js,https://github.com/cheeriojs/cheerio/raw/43592d6fa47f7396216196a524a4bcbef976598c/lib/api/traversing.js,"@@ -86,7 +86,7 @@ exports.parent = function (selector) {
     }
   });
 
-  if (arguments.length) {
+  if (selector) {
     set = exports.filter.call(set, selector, this);
   }
 
",89,if (arguments.length) {,if (selector) {
cheerio,https://github.com/cheeriojs/cheerio,https://github.com/cheeriojs/cheerio/commit/b3010d7ee7585c996c3d2ee176e45d376f9daae9,b3010d7ee7585c996c3d2ee176e45d376f9daae9,fix: Add length instance property to all Cheerio instances (#1681),2021-01-26 12:23:34-08:00,cheerio.js,https://github.com/cheeriojs/cheerio/raw/3cfd691ec730c75c8e54deea0cb8afb7b61480ab/lib/cheerio.js,https://github.com/cheeriojs/cheerio/raw/b3010d7ee7585c996c3d2ee176e45d376f9daae9/lib/cheerio.js,"@@ -40,6 +40,7 @@ var Cheerio = (module.exports = function (selector, context, root, options) {
     return new Cheerio(selector, context, root, options);
   }
 
+  this.length = 0;
   this.options = Object.assign(
     {},
     defaultOptions,
@@ -106,7 +107,6 @@ Cheerio.prototype.cheerio = '[cheerio object]';
 /*
  * Make cheerio an array-like object
  */
-Cheerio.prototype.length = 0;
 Cheerio.prototype.splice = Array.prototype.splice;
 
 /**
",43,this.length = 0;,Cheerio.prototype.length = 0;
